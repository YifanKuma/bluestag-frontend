<html>
<head>
<title>extract.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
extract.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;extract.js&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/extract.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAS;AACT,yDAA0C;AAC1C,sDAAwB;AACxB,uCAAuC;AACvC,uDAA+C;AAE/C,2CAAgD;AAEhD,MAAM,eAAe,GAAG,CAAC,GAAuB,EAAE,EAAE;IAClD,MAAM,CAAC,GAAG,IAAI,sBAAU,CAAC,GAAG,CAAC,CAAA;IAC7B,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAA;IACrB,MAAM,IAAI,GAAG,iBAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA;IAC9B,oDAAoD;IACpD,4DAA4D;IAC5D,MAAM,QAAQ,GAAG,GAAG,CAAC,WAAW,IAAI,EAAE,GAAG,IAAI,GAAG,IAAI,CAAA;IACpD,MAAM,MAAM,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;QAC1C,QAAQ,EAAE,QAAQ;QAClB,IAAI,EAAE,IAAI,CAAC,IAAI;KAChB,CAAC,CAAA;IACF,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;AAChB,CAAC,CAAA;AAED,MAAM,WAAW,GAAG,CAAC,GAAmB,EAAE,CAAY,EAAE,EAAE;IACxD,MAAM,CAAC,GAAG,IAAI,kBAAM,CAAC,GAAG,CAAC,CAAA;IACzB,MAAM,QAAQ,GAAG,GAAG,CAAC,WAAW,IAAI,EAAE,GAAG,IAAI,GAAG,IAAI,CAAA;IAEpD,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAA;IACrB,MAAM,CAAC,GAAG,IAAI,OAAO,CAAO,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QAC9C,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,CAAA;QACrB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;QAEtB,oDAAoD;QACpD,4DAA4D;QAC5D,iBAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE;YACzB,IAAI,EAAE,EAAE,CAAC;gBACP,MAAM,CAAC,EAAE,CAAC,CAAA;YACZ,CAAC;iBAAM,CAAC;gBACN,MAAM,MAAM,GAAG,IAAI,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE;oBACtC,QAAQ,EAAE,QAAQ;oBAClB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC,CAAA;gBACF,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,CAAA;gBAC1B,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;YAChB,CAAC;QACH,CAAC,CAAC,CAAA;IACJ,CAAC,CAAC,CAAA;IACF,OAAO,CAAC,CAAA;AACV,CAAC,CAAA;AAEY,QAAA,OAAO,GAAG,IAAA,6BAAW,EAChC,eAAe,EACf,WAAW,EACX,GAAG,CAAC,EAAE,CAAC,IAAI,sBAAU,CAAC,GAAG,CAAC,EAC1B,GAAG,CAAC,EAAE,CAAC,IAAI,kBAAM,CAAC,GAAG,CAAC,EACtB,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;IACb,IAAI,KAAK,EAAE,MAAM;QAAE,IAAA,qBAAW,EAAC,GAAG,EAAE,KAAK,CAAC,CAAA;AAC5C,CAAC,CACF,CAAA&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// tar -x</span><span class="s3">\n</span><span class="s1">import * as fsm from '@isaacs/fs-minipass'</span><span class="s3">\n</span><span class="s1">import fs from 'node:fs'</span><span class="s3">\n</span><span class="s1">import { filesFilter } from './list.js'</span><span class="s3">\n</span><span class="s1">import { makeCommand } from './make-command.js'</span><span class="s3">\n</span><span class="s1">import { TarOptionsFile, TarOptionsSyncFile } from './options.js'</span><span class="s3">\n</span><span class="s1">import { Unpack, UnpackSync } from './unpack.js'</span><span class="s3">\n\n</span><span class="s1">const extractFileSync = (opt: TarOptionsSyncFile) =&gt; {</span><span class="s3">\n  </span><span class="s1">const u = new UnpackSync(opt)</span><span class="s3">\n  </span><span class="s1">const file = opt.file</span><span class="s3">\n  </span><span class="s1">const stat = fs.statSync(file)</span><span class="s3">\n  </span><span class="s1">// This trades a zero-byte read() syscall for a stat</span><span class="s3">\n  </span><span class="s1">// However, it will usually result in less memory allocation</span><span class="s3">\n  </span><span class="s1">const readSize = opt.maxReadSize || 16 * 1024 * 1024</span><span class="s3">\n  </span><span class="s1">const stream = new fsm.ReadStreamSync(file, {</span><span class="s3">\n    </span><span class="s1">readSize: readSize,</span><span class="s3">\n    </span><span class="s1">size: stat.size,</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">stream.pipe(u)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const extractFile = (opt: TarOptionsFile, _?: string[]) =&gt; {</span><span class="s3">\n  </span><span class="s1">const u = new Unpack(opt)</span><span class="s3">\n  </span><span class="s1">const readSize = opt.maxReadSize || 16 * 1024 * 1024</span><span class="s3">\n\n  </span><span class="s1">const file = opt.file</span><span class="s3">\n  </span><span class="s1">const p = new Promise&lt;void&gt;((resolve, reject) =&gt; {</span><span class="s3">\n    </span><span class="s1">u.on('error', reject)</span><span class="s3">\n    </span><span class="s1">u.on('close', resolve)</span><span class="s3">\n\n    </span><span class="s1">// This trades a zero-byte read() syscall for a stat</span><span class="s3">\n    </span><span class="s1">// However, it will usually result in less memory allocation</span><span class="s3">\n    </span><span class="s1">fs.stat(file, (er, stat) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (er) {</span><span class="s3">\n        </span><span class="s1">reject(er)</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">const stream = new fsm.ReadStream(file, {</span><span class="s3">\n          </span><span class="s1">readSize: readSize,</span><span class="s3">\n          </span><span class="s1">size: stat.size,</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">stream.on('error', reject)</span><span class="s3">\n        </span><span class="s1">stream.pipe(u)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">return p</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export const extract = makeCommand&lt;Unpack, UnpackSync&gt;(</span><span class="s3">\n  </span><span class="s1">extractFileSync,</span><span class="s3">\n  </span><span class="s1">extractFile,</span><span class="s3">\n  </span><span class="s1">opt =&gt; new UnpackSync(opt),</span><span class="s3">\n  </span><span class="s1">opt =&gt; new Unpack(opt),</span><span class="s3">\n  </span><span class="s1">(opt, files) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (files?.length) filesFilter(opt, files)</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">)</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">]}</span></pre>
</body>
</html>