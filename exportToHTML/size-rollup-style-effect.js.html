<html>
<head>
<title>size-rollup-style-effect.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
.s3 { color: #1750eb;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
size-rollup-style-effect.js</font>
</center></td></tr></table>
<pre><span class="s0">const </span><span class="s1">t=[</span><span class="s2">&quot;transformPerspective&quot;</span><span class="s1">,</span><span class="s2">&quot;x&quot;</span><span class="s1">,</span><span class="s2">&quot;y&quot;</span><span class="s1">,</span><span class="s2">&quot;z&quot;</span><span class="s1">,</span><span class="s2">&quot;translateX&quot;</span><span class="s1">,</span><span class="s2">&quot;translateY&quot;</span><span class="s1">,</span><span class="s2">&quot;translateZ&quot;</span><span class="s1">,</span><span class="s2">&quot;scale&quot;</span><span class="s1">,</span><span class="s2">&quot;scaleX&quot;</span><span class="s1">,</span><span class="s2">&quot;scaleY&quot;</span><span class="s1">,</span><span class="s2">&quot;rotate&quot;</span><span class="s1">,</span><span class="s2">&quot;rotateX&quot;</span><span class="s1">,</span><span class="s2">&quot;rotateY&quot;</span><span class="s1">,</span><span class="s2">&quot;rotateZ&quot;</span><span class="s1">,</span><span class="s2">&quot;skew&quot;</span><span class="s1">,</span><span class="s2">&quot;skewX&quot;</span><span class="s1">,</span><span class="s2">&quot;skewY&quot;</span><span class="s1">],e=(()=&gt;</span><span class="s0">new </span><span class="s1">Set(t))();</span><span class="s0">const </span><span class="s1">s={};</span><span class="s0">class </span><span class="s1">n{constructor(){</span><span class="s0">this</span><span class="s1">.subscriptions=[]}add(t){</span><span class="s0">var </span><span class="s1">e,s;</span><span class="s0">return </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.subscriptions,s=t,-</span><span class="s3">1</span><span class="s1">===e.indexOf(s)&amp;&amp;e.push(s),()=&gt;</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">const </span><span class="s1">s=t.indexOf(e);s&gt;-</span><span class="s3">1</span><span class="s1">&amp;&amp;t.splice(s,</span><span class="s3">1</span><span class="s1">)}(</span><span class="s0">this</span><span class="s1">.subscriptions,t)}notify(t,e,s){</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.subscriptions.length;</span><span class="s0">if</span><span class="s1">(n)</span><span class="s0">if</span><span class="s1">(</span><span class="s3">1</span><span class="s1">===n)</span><span class="s0">this</span><span class="s1">.subscriptions[</span><span class="s3">0</span><span class="s1">](t,e,s);</span><span class="s0">else for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">r=</span><span class="s3">0</span><span class="s1">;r&lt;n;r++){</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.subscriptions[r];n&amp;&amp;n(t,e,s)}}getSize(){</span><span class="s0">return this</span><span class="s1">.subscriptions.length}clear(){</span><span class="s0">this</span><span class="s1">.subscriptions.length=</span><span class="s3">0</span><span class="s1">}}</span><span class="s0">const </span><span class="s1">r=[</span><span class="s2">&quot;setup&quot;</span><span class="s1">,</span><span class="s2">&quot;read&quot;</span><span class="s1">,</span><span class="s2">&quot;resolveKeyframes&quot;</span><span class="s1">,</span><span class="s2">&quot;preUpdate&quot;</span><span class="s1">,</span><span class="s2">&quot;update&quot;</span><span class="s1">,</span><span class="s2">&quot;preRender&quot;</span><span class="s1">,</span><span class="s2">&quot;render&quot;</span><span class="s1">,</span><span class="s2">&quot;postRender&quot;</span><span class="s1">],i={value:</span><span class="s0">null</span><span class="s1">,addProjectionMetrics:</span><span class="s0">null</span><span class="s1">};</span><span class="s0">function </span><span class="s1">a(t,e){</span><span class="s0">let </span><span class="s1">n=!</span><span class="s3">1</span><span class="s1">,a=!</span><span class="s3">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">o={delta:</span><span class="s3">0</span><span class="s1">,timestamp:</span><span class="s3">0</span><span class="s1">,isProcessing:!</span><span class="s3">1</span><span class="s1">},c=()=&gt;n=!</span><span class="s3">0</span><span class="s1">,h=r.reduce((t,e)=&gt;(t[e]=</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">let </span><span class="s1">s=</span><span class="s0">new </span><span class="s1">Set,n=</span><span class="s0">new </span><span class="s1">Set,r=!</span><span class="s3">1</span><span class="s1">,a=!</span><span class="s3">1</span><span class="s1">;</span><span class="s0">const </span><span class="s1">o=</span><span class="s0">new </span><span class="s1">WeakSet;</span><span class="s0">let </span><span class="s1">c={delta:</span><span class="s3">0</span><span class="s1">,timestamp:</span><span class="s3">0</span><span class="s1">,isProcessing:!</span><span class="s3">1</span><span class="s1">},h=</span><span class="s3">0</span><span class="s1">;</span><span class="s0">function </span><span class="s1">d(e){o.has(e)&amp;&amp;(p.schedule(e),t()),h++,e(c)}</span><span class="s0">const </span><span class="s1">p={schedule:(t,e=!</span><span class="s3">1</span><span class="s1">,i=!</span><span class="s3">1</span><span class="s1">)=&gt;{</span><span class="s0">const </span><span class="s1">a=i&amp;&amp;r?s:n;</span><span class="s0">return </span><span class="s1">e&amp;&amp;o.add(t),a.has(t)||a.add(t),t},cancel:t=&gt;{n.delete(t),o.delete(t)},process:t=&gt;{c=t,r?a=!</span><span class="s3">0</span><span class="s1">:(r=!</span><span class="s3">0</span><span class="s1">,[s,n]=[n,s],s.forEach(d),e&amp;&amp;i.value&amp;&amp;i.value.frameloop[e].push(h),h=</span><span class="s3">0</span><span class="s1">,s.clear(),r=!</span><span class="s3">1</span><span class="s1">,a&amp;&amp;(a=!</span><span class="s3">1</span><span class="s1">,p.process(t)))}};</span><span class="s0">return </span><span class="s1">p}(c,e),t),{}),{setup:d,read:p,resolveKeyframes:l,preUpdate:u,update:f,preRender:m,render:v,postRender:g}=h,y=()=&gt;{</span><span class="s0">const </span><span class="s1">r=s.useManualTiming?o.timestamp:performance.now();n=!</span><span class="s3">1</span><span class="s1">,s.useManualTiming||(o.delta=a?</span><span class="s3">1e3</span><span class="s1">/</span><span class="s3">60</span><span class="s1">:Math.max(Math.min(r-o.timestamp,</span><span class="s3">40</span><span class="s1">),</span><span class="s3">1</span><span class="s1">)),o.timestamp=r,o.isProcessing=!</span><span class="s3">0</span><span class="s1">,d.process(o),p.process(o),l.process(o),u.process(o),f.process(o),m.process(o),v.process(o),g.process(o),o.isProcessing=!</span><span class="s3">1</span><span class="s1">,n&amp;&amp;e&amp;&amp;(a=!</span><span class="s3">1</span><span class="s1">,t(y))};</span><span class="s0">return</span><span class="s1">{schedule:r.reduce((e,s)=&gt;{</span><span class="s0">const </span><span class="s1">r=h[s];</span><span class="s0">return </span><span class="s1">e[s]=(e,s=!</span><span class="s3">1</span><span class="s1">,i=!</span><span class="s3">1</span><span class="s1">)=&gt;(n||(n=!</span><span class="s3">0</span><span class="s1">,a=!</span><span class="s3">0</span><span class="s1">,o.isProcessing||t(y)),r.schedule(e,s,i)),e},{}),cancel:t=&gt;{</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s3">0</span><span class="s1">;e&lt;r.length;e++)h[r[e]].cancel(t)},state:o,steps:h}}</span><span class="s0">const</span><span class="s1">{schedule:o,cancel:c,state:h,steps:d}=a(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">requestAnimationFrame?requestAnimationFrame:t=&gt;t,!</span><span class="s3">0</span><span class="s1">);</span><span class="s0">let </span><span class="s1">p;</span><span class="s0">function </span><span class="s1">l(){p=</span><span class="s0">void </span><span class="s3">0</span><span class="s1">}</span><span class="s0">const </span><span class="s1">u={now:()=&gt;(</span><span class="s0">void </span><span class="s3">0</span><span class="s1">===p&amp;&amp;u.set(h.isProcessing||s.useManualTiming?h.timestamp:performance.now()),p),set:t=&gt;{p=t,queueMicrotask(l)}};</span><span class="s0">class </span><span class="s1">f{constructor(t,e={}){</span><span class="s0">this</span><span class="s1">.canTrackVelocity=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.events={},</span><span class="s0">this</span><span class="s1">.updateAndNotify=t=&gt;{</span><span class="s0">const </span><span class="s1">e=u.now();</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.updatedAt!==e&amp;&amp;</span><span class="s0">this</span><span class="s1">.setPrevFrameValue(),</span><span class="s0">this</span><span class="s1">.prev=</span><span class="s0">this</span><span class="s1">.current,</span><span class="s0">this</span><span class="s1">.setCurrent(t),</span><span class="s0">this</span><span class="s1">.current!==</span><span class="s0">this</span><span class="s1">.prev&amp;&amp;(</span><span class="s0">this</span><span class="s1">.events.change?.notify(</span><span class="s0">this</span><span class="s1">.current),</span><span class="s0">this</span><span class="s1">.dependents))</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t of </span><span class="s0">this</span><span class="s1">.dependents)t.dirty()},</span><span class="s0">this</span><span class="s1">.hasAnimated=!</span><span class="s3">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.setCurrent(t),</span><span class="s0">this</span><span class="s1">.owner=e.owner}setCurrent(t){</span><span class="s0">var </span><span class="s1">e;</span><span class="s0">this</span><span class="s1">.current=t,</span><span class="s0">this</span><span class="s1">.updatedAt=u.now(),</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.canTrackVelocity&amp;&amp;</span><span class="s0">void </span><span class="s3">0</span><span class="s1">!==t&amp;&amp;(</span><span class="s0">this</span><span class="s1">.canTrackVelocity=(e=</span><span class="s0">this</span><span class="s1">.current,!isNaN(parseFloat(e))))}setPrevFrameValue(t=</span><span class="s0">this</span><span class="s1">.current){</span><span class="s0">this</span><span class="s1">.prevFrameValue=t,</span><span class="s0">this</span><span class="s1">.prevUpdatedAt=</span><span class="s0">this</span><span class="s1">.updatedAt}onChange(t){</span><span class="s0">return this</span><span class="s1">.on(</span><span class="s2">&quot;change&quot;</span><span class="s1">,t)}on(t,e){</span><span class="s0">this</span><span class="s1">.events[t]||(</span><span class="s0">this</span><span class="s1">.events[t]=</span><span class="s0">new </span><span class="s1">n);</span><span class="s0">const </span><span class="s1">s=</span><span class="s0">this</span><span class="s1">.events[t].add(e);</span><span class="s0">return</span><span class="s2">&quot;change&quot;</span><span class="s1">===t?()=&gt;{s(),o.read(()=&gt;{</span><span class="s0">this</span><span class="s1">.events.change.getSize()||</span><span class="s0">this</span><span class="s1">.stop()})}:s}clearListeners(){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in this</span><span class="s1">.events)</span><span class="s0">this</span><span class="s1">.events[t].clear()}attach(t,e){</span><span class="s0">this</span><span class="s1">.passiveEffect=t,</span><span class="s0">this</span><span class="s1">.stopPassiveEffect=e}set(t){</span><span class="s0">this</span><span class="s1">.passiveEffect?</span><span class="s0">this</span><span class="s1">.passiveEffect(t,</span><span class="s0">this</span><span class="s1">.updateAndNotify):</span><span class="s0">this</span><span class="s1">.updateAndNotify(t)}setWithVelocity(t,e,s){</span><span class="s0">this</span><span class="s1">.set(e),</span><span class="s0">this</span><span class="s1">.prev=</span><span class="s0">void </span><span class="s3">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.prevFrameValue=t,</span><span class="s0">this</span><span class="s1">.prevUpdatedAt=</span><span class="s0">this</span><span class="s1">.updatedAt-s}jump(t,e=!</span><span class="s3">0</span><span class="s1">){</span><span class="s0">this</span><span class="s1">.updateAndNotify(t),</span><span class="s0">this</span><span class="s1">.prev=t,</span><span class="s0">this</span><span class="s1">.prevUpdatedAt=</span><span class="s0">this</span><span class="s1">.prevFrameValue=</span><span class="s0">void </span><span class="s3">0</span><span class="s1">,e&amp;&amp;</span><span class="s0">this</span><span class="s1">.stop(),</span><span class="s0">this</span><span class="s1">.stopPassiveEffect&amp;&amp;</span><span class="s0">this</span><span class="s1">.stopPassiveEffect()}dirty(){</span><span class="s0">this</span><span class="s1">.events.change?.notify(</span><span class="s0">this</span><span class="s1">.current)}addDependent(t){</span><span class="s0">this</span><span class="s1">.dependents||(</span><span class="s0">this</span><span class="s1">.dependents=</span><span class="s0">new </span><span class="s1">Set),</span><span class="s0">this</span><span class="s1">.dependents.add(t)}removeDependent(t){</span><span class="s0">this</span><span class="s1">.dependents&amp;&amp;</span><span class="s0">this</span><span class="s1">.dependents.delete(t)}get(){</span><span class="s0">return this</span><span class="s1">.current}getPrevious(){</span><span class="s0">return this</span><span class="s1">.prev}getVelocity(){</span><span class="s0">const </span><span class="s1">t=u.now();</span><span class="s0">if</span><span class="s1">(!</span><span class="s0">this</span><span class="s1">.canTrackVelocity||</span><span class="s0">void </span><span class="s3">0</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.prevFrameValue||t-</span><span class="s0">this</span><span class="s1">.updatedAt&gt;</span><span class="s3">30</span><span class="s1">)</span><span class="s0">return </span><span class="s3">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">e=Math.min(</span><span class="s0">this</span><span class="s1">.updatedAt-</span><span class="s0">this</span><span class="s1">.prevUpdatedAt,</span><span class="s3">30</span><span class="s1">);</span><span class="s0">return </span><span class="s1">s=parseFloat(</span><span class="s0">this</span><span class="s1">.current)-parseFloat(</span><span class="s0">this</span><span class="s1">.prevFrameValue),(n=e)?s*(</span><span class="s3">1e3</span><span class="s1">/n):</span><span class="s3">0</span><span class="s1">;</span><span class="s0">var </span><span class="s1">s,n}start(t){</span><span class="s0">return this</span><span class="s1">.stop(),</span><span class="s0">new </span><span class="s1">Promise(e=&gt;{</span><span class="s0">this</span><span class="s1">.hasAnimated=!</span><span class="s3">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.animation=t(e),</span><span class="s0">this</span><span class="s1">.events.animationStart&amp;&amp;</span><span class="s0">this</span><span class="s1">.events.animationStart.notify()}).then(()=&gt;{</span><span class="s0">this</span><span class="s1">.events.animationComplete&amp;&amp;</span><span class="s0">this</span><span class="s1">.events.animationComplete.notify(),</span><span class="s0">this</span><span class="s1">.clearAnimation()})}stop(){</span><span class="s0">this</span><span class="s1">.animation&amp;&amp;(</span><span class="s0">this</span><span class="s1">.animation.stop(),</span><span class="s0">this</span><span class="s1">.events.animationCancel&amp;&amp;</span><span class="s0">this</span><span class="s1">.events.animationCancel.notify()),</span><span class="s0">this</span><span class="s1">.clearAnimation()}isAnimating(){</span><span class="s0">return</span><span class="s1">!!</span><span class="s0">this</span><span class="s1">.animation}clearAnimation(){</span><span class="s0">delete this</span><span class="s1">.animation}destroy(){</span><span class="s0">this</span><span class="s1">.dependents?.clear(),</span><span class="s0">this</span><span class="s1">.events.destroy?.notify(),</span><span class="s0">this</span><span class="s1">.clearListeners(),</span><span class="s0">this</span><span class="s1">.stop(),</span><span class="s0">this</span><span class="s1">.stopPassiveEffect&amp;&amp;</span><span class="s0">this</span><span class="s1">.stopPassiveEffect()}}</span><span class="s0">function </span><span class="s1">m(t){</span><span class="s0">return</span><span class="s1">(e,s)=&gt;{</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">if</span><span class="s1">(t </span><span class="s0">instanceof </span><span class="s1">EventTarget)</span><span class="s0">return</span><span class="s1">[t];</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t){</span><span class="s0">const </span><span class="s1">e=document.querySelectorAll(t);</span><span class="s0">return </span><span class="s1">e?Array.from(e):[]}</span><span class="s0">return </span><span class="s1">Array.from(t)}(e),r=[];</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">e of n){</span><span class="s0">const </span><span class="s1">n=t(e,s);r.push(n)}</span><span class="s0">return</span><span class="s1">()=&gt;{</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t of r)t()}}}</span><span class="s0">const </span><span class="s1">v={test:t=&gt;</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t,parse:parseFloat,transform:t=&gt;t},g={...v,transform:t=&gt;((t,e,s)=&gt;s&gt;e?e:s&lt;t?t:s)(</span><span class="s3">0</span><span class="s1">,</span><span class="s3">1</span><span class="s1">,t)},y={...v,</span><span class="s0">default</span><span class="s1">:</span><span class="s3">1</span><span class="s1">},w={...v,transform:Math.round},b=t=&gt;({test:e=&gt;</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e&amp;&amp;e.endsWith(t)&amp;&amp;</span><span class="s3">1</span><span class="s1">===e.split(</span><span class="s2">&quot; &quot;</span><span class="s1">).length,parse:parseFloat,transform:e=&gt;</span><span class="s2">`</span><span class="s1">${e}${t}</span><span class="s2">`</span><span class="s1">}),A=b(</span><span class="s2">&quot;deg&quot;</span><span class="s1">),P=b(</span><span class="s2">&quot;%&quot;</span><span class="s1">),R=b(</span><span class="s2">&quot;px&quot;</span><span class="s1">),k=(()=&gt;({...P,parse:t=&gt;P.parse(t)/</span><span class="s3">100</span><span class="s1">,transform:t=&gt;P.transform(</span><span class="s3">100</span><span class="s1">*t)}))(),F={borderWidth:R,borderTopWidth:R,borderRightWidth:R,borderBottomWidth:R,borderLeftWidth:R,borderRadius:R,radius:R,borderTopLeftRadius:R,borderTopRightRadius:R,borderBottomRightRadius:R,borderBottomLeftRadius:R,width:R,maxWidth:R,height:R,maxHeight:R,top:R,right:R,bottom:R,left:R,padding:R,paddingTop:R,paddingRight:R,paddingBottom:R,paddingLeft:R,margin:R,marginTop:R,marginRight:R,marginBottom:R,marginLeft:R,backgroundPositionX:R,backgroundPositionY:R,...{rotate:A,rotateX:A,rotateY:A,rotateZ:A,scale:y,scaleX:y,scaleY:y,scaleZ:y,skew:A,skewX:A,skewY:A,distance:R,translateX:R,translateY:R,translateZ:R,x:R,y:R,z:R,perspective:R,transformPerspective:R,opacity:g,originX:k,originY:k,originZ:R},zIndex:w,fillOpacity:g,strokeOpacity:g,numOctaves:w};</span><span class="s0">class </span><span class="s1">x{constructor(){</span><span class="s0">this</span><span class="s1">.latest={},</span><span class="s0">this</span><span class="s1">.values=</span><span class="s0">new </span><span class="s1">Map}set(t,e,s,n,r=!</span><span class="s3">0</span><span class="s1">){</span><span class="s0">const </span><span class="s1">i=</span><span class="s0">this</span><span class="s1">.values.get(t);i&amp;&amp;i.onRemove();</span><span class="s0">const </span><span class="s1">a=()=&gt;{</span><span class="s0">const </span><span class="s1">n=e.get();</span><span class="s0">this</span><span class="s1">.latest[t]=r?((t,e)=&gt;e&amp;&amp;</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?e.transform(t):t)(n,F[t]):n,s&amp;&amp;o.render(s)};a();</span><span class="s0">const </span><span class="s1">h=e.on(</span><span class="s2">&quot;change&quot;</span><span class="s1">,a);n&amp;&amp;e.addDependent(n);</span><span class="s0">const </span><span class="s1">d=()=&gt;{h(),s&amp;&amp;c(s),</span><span class="s0">this</span><span class="s1">.values.delete(t),n&amp;&amp;e.removeDependent(n)};</span><span class="s0">return this</span><span class="s1">.values.set(t,{value:e,onRemove:d}),d}get(t){</span><span class="s0">return this</span><span class="s1">.values.get(t)?.value}destroy(){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t of </span><span class="s0">this</span><span class="s1">.values.values())t.onRemove()}}</span><span class="s0">function </span><span class="s1">T(t){</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">new </span><span class="s1">WeakMap,s=[];</span><span class="s0">return</span><span class="s1">(n,r)=&gt;{</span><span class="s0">const </span><span class="s1">i=e.get(n)??</span><span class="s0">new </span><span class="s1">x;e.set(n,i);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">e </span><span class="s0">in </span><span class="s1">r){</span><span class="s0">const </span><span class="s1">a=r[e],o=t(n,i,e,a);s.push(o)}</span><span class="s0">return</span><span class="s1">()=&gt;{</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t of s)t()}}}</span><span class="s0">const </span><span class="s1">V={x:</span><span class="s2">&quot;translateX&quot;</span><span class="s1">,y:</span><span class="s2">&quot;translateY&quot;</span><span class="s1">,z:</span><span class="s2">&quot;translateZ&quot;</span><span class="s1">,transformPerspective:</span><span class="s2">&quot;perspective&quot;</span><span class="s1">};</span><span class="s0">const </span><span class="s1">X=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s2">&quot;originX&quot;</span><span class="s1">,</span><span class="s2">&quot;originY&quot;</span><span class="s1">,</span><span class="s2">&quot;originZ&quot;</span><span class="s1">]),Y=(s,n,r,i)=&gt;{</span><span class="s0">let </span><span class="s1">a,o;</span><span class="s0">return </span><span class="s1">e.has(r)?(n.get(</span><span class="s2">&quot;transform&quot;</span><span class="s1">)||(</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">return</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s0">typeof</span><span class="s1">(e=t)&amp;&amp;</span><span class="s0">null</span><span class="s1">!==e&amp;&amp;</span><span class="s2">&quot;offsetHeight&quot;</span><span class="s0">in </span><span class="s1">t;</span><span class="s0">var </span><span class="s1">e}(s)||n.get(</span><span class="s2">&quot;transformBox&quot;</span><span class="s1">)||Y(s,n,</span><span class="s2">&quot;transformBox&quot;</span><span class="s1">,</span><span class="s0">new </span><span class="s1">f(</span><span class="s2">&quot;fill-box&quot;</span><span class="s1">)),n.set(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">new </span><span class="s1">f(</span><span class="s2">&quot;none&quot;</span><span class="s1">),()=&gt;{s.style.transform=</span><span class="s0">function</span><span class="s1">(e){</span><span class="s0">let </span><span class="s1">s=</span><span class="s2">&quot;&quot;</span><span class="s1">,n=!</span><span class="s3">0</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">r=</span><span class="s3">0</span><span class="s1">;r&lt;t.length;r++){</span><span class="s0">const </span><span class="s1">i=t[r],a=e.latest[i];</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s3">0</span><span class="s1">===a)</span><span class="s0">continue</span><span class="s1">;</span><span class="s0">let </span><span class="s1">o=!</span><span class="s3">0</span><span class="s1">;o=</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">a?a===(i.startsWith(</span><span class="s2">&quot;scale&quot;</span><span class="s1">)?</span><span class="s3">1</span><span class="s1">:</span><span class="s3">0</span><span class="s1">):</span><span class="s3">0</span><span class="s1">===parseFloat(a),o||(n=!</span><span class="s3">1</span><span class="s1">,s+=</span><span class="s2">`</span><span class="s1">${V[i]||i}</span><span class="s2">(</span><span class="s1">${e.latest[i]}</span><span class="s2">) `</span><span class="s1">)}</span><span class="s0">return </span><span class="s1">n?</span><span class="s2">&quot;none&quot;</span><span class="s1">:s.trim()}(n)})),o=n.get(</span><span class="s2">&quot;transform&quot;</span><span class="s1">)):X.has(r)?(n.get(</span><span class="s2">&quot;transformOrigin&quot;</span><span class="s1">)||n.set(</span><span class="s2">&quot;transformOrigin&quot;</span><span class="s1">,</span><span class="s0">new </span><span class="s1">f(</span><span class="s2">&quot;&quot;</span><span class="s1">),()=&gt;{</span><span class="s0">const </span><span class="s1">t=n.latest.originX??</span><span class="s2">&quot;50%&quot;</span><span class="s1">,e=n.latest.originY??</span><span class="s2">&quot;50%&quot;</span><span class="s1">,r=n.latest.originZ??</span><span class="s3">0</span><span class="s1">;s.style.transformOrigin=</span><span class="s2">`</span><span class="s1">${t} ${e} ${r}</span><span class="s2">`</span><span class="s1">}),o=n.get(</span><span class="s2">&quot;transformOrigin&quot;</span><span class="s1">)):a=r.startsWith(</span><span class="s2">&quot;--&quot;</span><span class="s1">)?()=&gt;{s.style.setProperty(r,n.latest[r])}:()=&gt;{s.style[r]=n.latest[r]},n.set(r,i,a,o)},W=m(T(Y));</span><span class="s0">export</span><span class="s1">{Y as addStyleValue,W as styleEffect};</span>
</pre>
</body>
</html>