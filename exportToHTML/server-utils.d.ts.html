<html>
<head>
<title>server-utils.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
.s3 { color: #8c8c8c; font-style: italic;}
.s4 { color: #8c8c8c; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
server-utils.d.ts</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">type { Rewrite } from </span><span class="s2">'../lib/load-custom-routes'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { RouteMatchFn } from </span><span class="s2">'../shared/lib/router/utils/route-matcher'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { NextConfig } from </span><span class="s2">'./config'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { BaseNextRequest } from </span><span class="s2">'./base-http'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { ParsedUrlQuery } from </span><span class="s2">'querystring'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { UrlWithParsedQuery } from </span><span class="s2">'url'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">{ getNamedRouteRegex } from </span><span class="s2">'../shared/lib/router/utils/route-regex'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { IncomingHttpHeaders, IncomingMessage } from </span><span class="s2">'http'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { DeepReadonly } from </span><span class="s2">'../shared/lib/deep-readonly'</span><span class="s1">;</span>
<span class="s0">export </span><span class="s1">declare </span><span class="s0">function </span><span class="s1">normalizeCdnUrl(req: BaseNextRequest | IncomingMessage, paramKeys: string[]): string | undefined;</span>
<span class="s0">export </span><span class="s1">declare </span><span class="s0">function </span><span class="s1">interpolateDynamicPath(pathname: string, params: ParsedUrlQuery, defaultRouteRegex?: ReturnType&lt;</span><span class="s0">typeof </span><span class="s1">getNamedRouteRegex&gt; | undefined): string;</span>
<span class="s0">export </span><span class="s1">declare </span><span class="s0">function </span><span class="s1">normalizeDynamicRouteParams(query: ParsedUrlQuery, defaultRouteRegex: ReturnType&lt;</span><span class="s0">typeof </span><span class="s1">getNamedRouteRegex&gt;, defaultRouteMatches: ParsedUrlQuery, ignoreMissingOptional: boolean): {</span>
    <span class="s1">params: ParsedUrlQuery;</span>
    <span class="s1">hasValidParams: boolean;</span>
<span class="s1">};</span>
<span class="s0">export </span><span class="s1">declare </span><span class="s0">function </span><span class="s1">getServerUtils({ page, i18n, basePath, rewrites, pageIsDynamic, trailingSlash, caseSensitive, }: {</span>
    <span class="s1">page: string;</span>
    <span class="s1">i18n?: NextConfig[</span><span class="s2">'i18n'</span><span class="s1">];</span>
    <span class="s1">basePath: string;</span>
    <span class="s1">rewrites: DeepReadonly&lt;{</span>
        <span class="s1">fallback?: ReadonlyArray&lt;Rewrite&gt;;</span>
        <span class="s1">afterFiles?: ReadonlyArray&lt;Rewrite&gt;;</span>
        <span class="s1">beforeFiles?: ReadonlyArray&lt;Rewrite&gt;;</span>
    <span class="s1">}&gt;;</span>
    <span class="s1">pageIsDynamic: boolean;</span>
    <span class="s1">trailingSlash?: boolean;</span>
    <span class="s1">caseSensitive: boolean;</span>
<span class="s1">}): {</span>
    <span class="s1">handleRewrites: (req: BaseNextRequest | IncomingMessage, parsedUrl: UrlWithParsedQuery) =&gt; Record&lt;string, string&gt;;</span>
    <span class="s1">defaultRouteRegex: {</span>
        <span class="s1">namedRegex: string;</span>
        <span class="s1">routeKeys: {</span>
            <span class="s1">[named: string]: string;</span>
        <span class="s1">};</span>
        <span class="s1">groups: {</span>
            <span class="s1">[groupName: string]: </span><span class="s0">import</span><span class="s1">(</span><span class="s2">&quot;../shared/lib/router/utils/route-regex&quot;</span><span class="s1">).Group;</span>
        <span class="s1">};</span>
        <span class="s1">re: RegExp;</span>
    <span class="s1">} | undefined;</span>
    <span class="s1">dynamicRouteMatcher: RouteMatchFn | undefined;</span>
    <span class="s1">defaultRouteMatches: ParsedUrlQuery | undefined;</span>
    <span class="s1">normalizeQueryParams: (query: Record&lt;string, string | string[] | undefined&gt;, routeParamKeys: Set&lt;string&gt;) =&gt; </span><span class="s0">void</span><span class="s1">;</span>
    <span class="s1">getParamsFromRouteMatches: (routeMatchesHeader: string) =&gt; </span><span class="s0">import</span><span class="s1">(</span><span class="s2">&quot;./request/params&quot;</span><span class="s1">).Params | </span><span class="s0">null</span><span class="s1">;</span>
    <span class="s3">/**</span>
     <span class="s3">* Normalize dynamic route params.</span>
     <span class="s3">*</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">query - The query params to normalize.</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">ignoreMissingOptional - Whether to ignore missing optional params.</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">The normalized params and whether they are valid.</span>
     <span class="s3">*/</span>
    <span class="s1">normalizeDynamicRouteParams: (query: ParsedUrlQuery, ignoreMissingOptional: boolean) =&gt; {</span>
        <span class="s1">params: ParsedUrlQuery;</span>
        <span class="s1">hasValidParams: boolean;</span>
    <span class="s1">};</span>
    <span class="s1">normalizeCdnUrl: (req: BaseNextRequest | IncomingMessage, paramKeys: string[]) =&gt; string | undefined;</span>
    <span class="s1">interpolateDynamicPath: (pathname: string, params: Record&lt;string, undefined | string | string[]&gt;) =&gt; string;</span>
    <span class="s1">filterInternalQuery: (query: ParsedUrlQuery, paramKeys: string[]) =&gt; </span><span class="s0">void</span><span class="s1">;</span>
<span class="s1">};</span>
<span class="s0">export </span><span class="s1">declare </span><span class="s0">function </span><span class="s1">getPreviouslyRevalidatedTags(headers: IncomingHttpHeaders, previewModeId: string | undefined): string[];</span>
</pre>
</body>
</html>