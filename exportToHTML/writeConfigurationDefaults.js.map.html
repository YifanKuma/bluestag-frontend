<html>
<head>
<title>writeConfigurationDefaults.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
writeConfigurationDefaults.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/lib/typescript/writeConfigurationDefaults.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { promises as fs } from 'fs'</span><span class="s3">\n</span><span class="s1">import { bold, cyan, white } from '../picocolors'</span><span class="s3">\n</span><span class="s1">import * as CommentJson from 'next/dist/compiled/comment-json'</span><span class="s3">\n</span><span class="s1">import semver from 'next/dist/compiled/semver'</span><span class="s3">\n</span><span class="s1">import os from 'os'</span><span class="s3">\n</span><span class="s1">import type { CompilerOptions } from 'typescript'</span><span class="s3">\n</span><span class="s1">import { getTypeScriptConfiguration } from './getTypeScriptConfiguration'</span><span class="s3">\n</span><span class="s1">import * as Log from '../../build/output/log'</span><span class="s3">\n\n</span><span class="s1">type DesiredCompilerOptionsShape = {</span><span class="s3">\n  </span><span class="s1">[K in keyof CompilerOptions]:</span><span class="s3">\n    </span><span class="s1">| { suggested: any; reason?: string }</span><span class="s3">\n    </span><span class="s1">| {</span><span class="s3">\n        </span><span class="s1">parsedValue?: any</span><span class="s3">\n        </span><span class="s1">parsedValues?: Array&lt;any&gt;</span><span class="s3">\n        </span><span class="s1">value: any</span><span class="s3">\n        </span><span class="s1">reason: string</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function getDesiredCompilerOptions(</span><span class="s3">\n  </span><span class="s1">ts: typeof import('typescript'),</span><span class="s3">\n  </span><span class="s1">tsOptions?: CompilerOptions</span><span class="s3">\n</span><span class="s1">): DesiredCompilerOptionsShape {</span><span class="s3">\n  </span><span class="s1">const o: DesiredCompilerOptionsShape = {</span><span class="s3">\n    </span><span class="s1">target: {</span><span class="s3">\n      </span><span class="s1">suggested: 'ES2017',</span><span class="s3">\n      </span><span class="s1">reason:</span><span class="s3">\n        </span><span class="s1">'For top-level `await`. Note: Next.js only polyfills for the esmodules target.',</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">// These are suggested values and will be set when not present in the</span><span class="s3">\n    </span><span class="s1">// tsconfig.json</span><span class="s3">\n    </span><span class="s1">lib: { suggested: ['dom', 'dom.iterable', 'esnext'] },</span><span class="s3">\n    </span><span class="s1">allowJs: { suggested: true },</span><span class="s3">\n    </span><span class="s1">skipLibCheck: { suggested: true },</span><span class="s3">\n    </span><span class="s1">strict: { suggested: false },</span><span class="s3">\n    </span><span class="s1">...(semver.lt(ts.version, '5.0.0')</span><span class="s3">\n      </span><span class="s1">? { forceConsistentCasingInFileNames: { suggested: true } }</span><span class="s3">\n      </span><span class="s1">: undefined),</span><span class="s3">\n    </span><span class="s1">noEmit: { suggested: true },</span><span class="s3">\n    </span><span class="s1">...(semver.gte(ts.version, '4.4.2')</span><span class="s3">\n      </span><span class="s1">? { incremental: { suggested: true } }</span><span class="s3">\n      </span><span class="s1">: undefined),</span><span class="s3">\n\n    </span><span class="s1">// These values are required and cannot be changed by the user</span><span class="s3">\n    </span><span class="s1">// Keep this in sync with the webpack config</span><span class="s3">\n    </span><span class="s1">// 'parsedValue' matches the output value from ts.parseJsonConfigFileContent()</span><span class="s3">\n    </span><span class="s1">module: {</span><span class="s3">\n      </span><span class="s1">parsedValue: ts.ModuleKind.ESNext,</span><span class="s3">\n      </span><span class="s1">// All of these values work:</span><span class="s3">\n      </span><span class="s1">parsedValues: [</span><span class="s3">\n        </span><span class="s1">semver.gte(ts.version, '5.4.0') &amp;&amp; (ts.ModuleKind as any).Preserve,</span><span class="s3">\n        </span><span class="s1">ts.ModuleKind.ES2020,</span><span class="s3">\n        </span><span class="s1">ts.ModuleKind.ESNext,</span><span class="s3">\n        </span><span class="s1">ts.ModuleKind.CommonJS,</span><span class="s3">\n        </span><span class="s1">ts.ModuleKind.AMD,</span><span class="s3">\n        </span><span class="s1">ts.ModuleKind.NodeNext,</span><span class="s3">\n        </span><span class="s1">ts.ModuleKind.Node16,</span><span class="s3">\n      </span><span class="s1">],</span><span class="s3">\n      </span><span class="s1">value: 'esnext',</span><span class="s3">\n      </span><span class="s1">reason: 'for dynamic import() support',</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">// TODO: Semver check not needed once Next.js repo uses 5.4.</span><span class="s3">\n    </span><span class="s1">...(semver.gte(ts.version, '5.4.0') &amp;&amp;</span><span class="s3">\n    </span><span class="s1">tsOptions?.module === (ts.ModuleKind as any).Preserve</span><span class="s3">\n      </span><span class="s1">? {</span><span class="s3">\n          </span><span class="s1">// TypeScript 5.4 introduced `Preserve`. Using `Preserve` implies</span><span class="s3">\n          </span><span class="s1">// - `moduleResolution` is `Bundler`</span><span class="s3">\n          </span><span class="s1">// - `esModuleInterop` is `true`</span><span class="s3">\n          </span><span class="s1">// - `resolveJsonModule` is `true`</span><span class="s3">\n          </span><span class="s1">// This means that if the user is using Preserve, they don't need these options</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">: {</span><span class="s3">\n          </span><span class="s1">esModuleInterop: {</span><span class="s3">\n            </span><span class="s1">value: true,</span><span class="s3">\n            </span><span class="s1">reason: 'requirement for SWC / babel',</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n          </span><span class="s1">moduleResolution: {</span><span class="s3">\n            </span><span class="s1">// In TypeScript 5.0, `NodeJs` has renamed to `Node10`</span><span class="s3">\n            </span><span class="s1">parsedValue:</span><span class="s3">\n              </span><span class="s1">ts.ModuleResolutionKind.Bundler ??</span><span class="s3">\n              </span><span class="s1">ts.ModuleResolutionKind.NodeNext ??</span><span class="s3">\n              </span><span class="s1">(ts.ModuleResolutionKind as any).Node10 ??</span><span class="s3">\n              </span><span class="s1">ts.ModuleResolutionKind.NodeJs,</span><span class="s3">\n            </span><span class="s1">// All of these values work:</span><span class="s3">\n            </span><span class="s1">parsedValues: [</span><span class="s3">\n              </span><span class="s1">(ts.ModuleResolutionKind as any).Node10 ??</span><span class="s3">\n                </span><span class="s1">ts.ModuleResolutionKind.NodeJs,</span><span class="s3">\n              </span><span class="s1">// only newer TypeScript versions have this field, it</span><span class="s3">\n              </span><span class="s1">// will be filtered for new versions of TypeScript</span><span class="s3">\n              </span><span class="s1">(ts.ModuleResolutionKind as any).Node12,</span><span class="s3">\n              </span><span class="s1">ts.ModuleResolutionKind.Node16,</span><span class="s3">\n              </span><span class="s1">ts.ModuleResolutionKind.NodeNext,</span><span class="s3">\n              </span><span class="s1">ts.ModuleResolutionKind.Bundler,</span><span class="s3">\n            </span><span class="s1">].filter((val) =&gt; typeof val !== 'undefined'),</span><span class="s3">\n            </span><span class="s1">value: 'node',</span><span class="s3">\n            </span><span class="s1">reason: 'to match webpack resolution',</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n          </span><span class="s1">resolveJsonModule: {</span><span class="s3">\n            </span><span class="s1">value: true,</span><span class="s3">\n            </span><span class="s1">reason: 'to match webpack resolution',</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">...(tsOptions?.verbatimModuleSyntax === true</span><span class="s3">\n      </span><span class="s1">? undefined</span><span class="s3">\n      </span><span class="s1">: {</span><span class="s3">\n          </span><span class="s1">isolatedModules: {</span><span class="s3">\n            </span><span class="s1">value: true,</span><span class="s3">\n            </span><span class="s1">reason: 'requirement for SWC / Babel',</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">jsx: {</span><span class="s3">\n      </span><span class="s1">parsedValue: ts.JsxEmit.Preserve,</span><span class="s3">\n      </span><span class="s1">value: 'preserve',</span><span class="s3">\n      </span><span class="s1">reason: 'next.js implements its own optimized jsx transform',</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return o</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getRequiredConfiguration(</span><span class="s3">\n  </span><span class="s1">ts: typeof import('typescript')</span><span class="s3">\n</span><span class="s1">): Partial&lt;import('typescript').CompilerOptions&gt; {</span><span class="s3">\n  </span><span class="s1">const res: Partial&lt;import('typescript').CompilerOptions&gt; = {}</span><span class="s3">\n\n  </span><span class="s1">const desiredCompilerOptions = getDesiredCompilerOptions(ts)</span><span class="s3">\n  </span><span class="s1">for (const optionKey of Object.keys(desiredCompilerOptions)) {</span><span class="s3">\n    </span><span class="s1">const ev = desiredCompilerOptions[optionKey]</span><span class="s3">\n    </span><span class="s1">if (!('value' in ev)) {</span><span class="s3">\n      </span><span class="s1">continue</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">res[optionKey] = ev.parsedValue ?? ev.value</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return res</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const localDevTestFilesExcludeAction =</span><span class="s3">\n  </span><span class="s1">'NEXT_PRIVATE_LOCAL_DEV_TEST_FILES_EXCLUDE'</span><span class="s3">\n\n</span><span class="s1">export async function writeConfigurationDefaults(</span><span class="s3">\n  </span><span class="s1">ts: typeof import('typescript'),</span><span class="s3">\n  </span><span class="s1">tsConfigPath: string,</span><span class="s3">\n  </span><span class="s1">isFirstTimeSetup: boolean,</span><span class="s3">\n  </span><span class="s1">hasAppDir: boolean,</span><span class="s3">\n  </span><span class="s1">distDir: string,</span><span class="s3">\n  </span><span class="s1">hasPagesDir: boolean</span><span class="s3">\n</span><span class="s1">): Promise&lt;void&gt; {</span><span class="s3">\n  </span><span class="s1">if (isFirstTimeSetup) {</span><span class="s3">\n    </span><span class="s1">await fs.writeFile(tsConfigPath, '{}' + os.EOL)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const { options: tsOptions, raw: rawConfig } =</span><span class="s3">\n    </span><span class="s1">await getTypeScriptConfiguration(ts, tsConfigPath, true)</span><span class="s3">\n\n  </span><span class="s1">const userTsConfigContent = await fs.readFile(tsConfigPath, {</span><span class="s3">\n    </span><span class="s1">encoding: 'utf8',</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">const userTsConfig = CommentJson.parse(userTsConfigContent)</span><span class="s3">\n  </span><span class="s1">if (userTsConfig.compilerOptions == null &amp;&amp; !('extends' in rawConfig)) {</span><span class="s3">\n    </span><span class="s1">userTsConfig.compilerOptions = {}</span><span class="s3">\n    </span><span class="s1">isFirstTimeSetup = true</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const desiredCompilerOptions = getDesiredCompilerOptions(ts, tsOptions)</span><span class="s3">\n\n  </span><span class="s1">const suggestedActions: string[] = []</span><span class="s3">\n  </span><span class="s1">const requiredActions: string[] = []</span><span class="s3">\n  </span><span class="s1">for (const optionKey of Object.keys(desiredCompilerOptions)) {</span><span class="s3">\n    </span><span class="s1">const check = desiredCompilerOptions[optionKey]</span><span class="s3">\n    </span><span class="s1">if ('suggested' in check) {</span><span class="s3">\n      </span><span class="s1">if (!(optionKey in tsOptions)) {</span><span class="s3">\n        </span><span class="s1">if (!userTsConfig.compilerOptions) {</span><span class="s3">\n          </span><span class="s1">userTsConfig.compilerOptions = {}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">userTsConfig.compilerOptions[optionKey] = check.suggested</span><span class="s3">\n        </span><span class="s1">suggestedActions.push(</span><span class="s3">\n          </span><span class="s1">cyan(optionKey) +</span><span class="s3">\n            </span><span class="s1">' was set to ' +</span><span class="s3">\n            </span><span class="s1">bold(check.suggested) +</span><span class="s3">\n            </span><span class="s1">(check.reason ? ` (${check.reason})` : '')</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if ('value' in check) {</span><span class="s3">\n      </span><span class="s1">const ev = tsOptions[optionKey]</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\n        </span><span class="s1">!('parsedValues' in check</span><span class="s3">\n          </span><span class="s1">? check.parsedValues?.includes(ev)</span><span class="s3">\n          </span><span class="s1">: 'parsedValue' in check</span><span class="s3">\n            </span><span class="s1">? check.parsedValue === ev</span><span class="s3">\n            </span><span class="s1">: check.value === ev)</span><span class="s3">\n      </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">if (!userTsConfig.compilerOptions) {</span><span class="s3">\n          </span><span class="s1">userTsConfig.compilerOptions = {}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">userTsConfig.compilerOptions[optionKey] = check.value</span><span class="s3">\n        </span><span class="s1">requiredActions.push(</span><span class="s3">\n          </span><span class="s1">cyan(optionKey) +</span><span class="s3">\n            </span><span class="s1">' was set to ' +</span><span class="s3">\n            </span><span class="s1">bold(check.value) +</span><span class="s3">\n            </span><span class="s1">` (${check.reason})`</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span><span class="s3">\n      </span><span class="s1">const _: never = check</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const nextAppTypes = `${distDir}/types/**/*.ts`</span><span class="s3">\n\n  </span><span class="s1">if (!('include' in rawConfig)) {</span><span class="s3">\n    </span><span class="s1">userTsConfig.include = hasAppDir</span><span class="s3">\n      </span><span class="s1">? ['next-env.d.ts', nextAppTypes, '**/*.ts', '**/*.tsx']</span><span class="s3">\n      </span><span class="s1">: ['next-env.d.ts', '**/*.ts', '**/*.tsx']</span><span class="s3">\n    </span><span class="s1">suggestedActions.push(</span><span class="s3">\n      </span><span class="s1">cyan('include') +</span><span class="s3">\n        </span><span class="s1">' was set to ' +</span><span class="s3">\n        </span><span class="s1">bold(</span><span class="s3">\n          </span><span class="s1">hasAppDir</span><span class="s3">\n            </span><span class="s1">? `['next-env.d.ts', '${nextAppTypes}', '**/*.ts', '**/*.tsx']`</span><span class="s3">\n            </span><span class="s1">: `['next-env.d.ts', '**/*.ts', '**/*.tsx']`</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">} else if (hasAppDir &amp;&amp; !rawConfig.include.includes(nextAppTypes)) {</span><span class="s3">\n    </span><span class="s1">if (!Array.isArray(userTsConfig.include)) {</span><span class="s3">\n      </span><span class="s1">userTsConfig.include = []</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// rawConfig will resolve all extends and include paths (ex: tsconfig.json, tsconfig.base.json, etc.)</span><span class="s3">\n    </span><span class="s1">// if it doesn't match userTsConfig then update the userTsConfig to add the</span><span class="s3">\n    </span><span class="s1">// rawConfig's includes in addition to nextAppTypes</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">rawConfig.include.length !== userTsConfig.include.length ||</span><span class="s3">\n      </span><span class="s1">JSON.stringify(rawConfig.include.sort()) !==</span><span class="s3">\n        </span><span class="s1">JSON.stringify(userTsConfig.include.sort())</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">userTsConfig.include.push(...rawConfig.include, nextAppTypes)</span><span class="s3">\n      </span><span class="s1">suggestedActions.push(</span><span class="s3">\n        </span><span class="s1">cyan('include') +</span><span class="s3">\n          </span><span class="s1">' was set to ' +</span><span class="s3">\n          </span><span class="s1">bold(</span><span class="s3">\n            </span><span class="s1">`[${[...rawConfig.include, nextAppTypes]</span><span class="s3">\n              </span><span class="s1">.map((i) =&gt; `'${i}'`)</span><span class="s3">\n              </span><span class="s1">.join(', ')}]`</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">userTsConfig.include.push(nextAppTypes)</span><span class="s3">\n      </span><span class="s1">suggestedActions.push(</span><span class="s3">\n        </span><span class="s1">cyan('include') + ' was updated to add ' + bold(`'${nextAppTypes}'`)</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Enable the Next.js typescript plugin.</span><span class="s3">\n  </span><span class="s1">if (hasAppDir) {</span><span class="s3">\n    </span><span class="s1">// Check if the config or the resolved config has the plugin already.</span><span class="s3">\n    </span><span class="s1">const plugins = [</span><span class="s3">\n      </span><span class="s1">...(Array.isArray(tsOptions.plugins) ? tsOptions.plugins : []),</span><span class="s3">\n      </span><span class="s1">...(userTsConfig.compilerOptions &amp;&amp;</span><span class="s3">\n      </span><span class="s1">Array.isArray(userTsConfig.compilerOptions.plugins)</span><span class="s3">\n        </span><span class="s1">? userTsConfig.compilerOptions.plugins</span><span class="s3">\n        </span><span class="s1">: []),</span><span class="s3">\n    </span><span class="s1">]</span><span class="s3">\n    </span><span class="s1">const hasNextPlugin = plugins.some(</span><span class="s3">\n      </span><span class="s1">({ name }: { name: string }) =&gt; name === 'next'</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">// If the TS config extends on another config, we can't add the `plugin` field</span><span class="s3">\n    </span><span class="s1">// because that will override the parent config's plugins.</span><span class="s3">\n    </span><span class="s1">// Instead we have to show a message to the user to add the plugin manually.</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">!userTsConfig.compilerOptions ||</span><span class="s3">\n      </span><span class="s1">(plugins.length &amp;&amp;</span><span class="s3">\n        </span><span class="s1">!hasNextPlugin &amp;&amp;</span><span class="s3">\n        </span><span class="s1">'extends' in rawConfig &amp;&amp;</span><span class="s3">\n        </span><span class="s1">(!rawConfig.compilerOptions || !rawConfig.compilerOptions.plugins))</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">Log.info(</span><span class="s3">\n        </span><span class="s1">`</span><span class="s3">\\</span><span class="s1">nYour ${bold(</span><span class="s3">\n          </span><span class="s1">'tsconfig.json'</span><span class="s3">\n        </span><span class="s1">)} extends another configuration, which means we cannot add the Next.js TypeScript plugin automatically. To improve your development experience, we recommend adding the Next.js plugin (</span><span class="s3">\\</span><span class="s1">`${cyan(</span><span class="s3">\n          </span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">plugins</span><span class="s3">\&quot;</span><span class="s1">: [{ </span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot; </span><span class="s1">}]'</span><span class="s3">\n        </span><span class="s1">)}</span><span class="s3">\\</span><span class="s1">`) manually to your TypeScript configuration. Learn more: https://nextjs.org/docs/app/api-reference/config/typescript#the-typescript-plugin</span><span class="s3">\\</span><span class="s1">n`</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">} else if (!hasNextPlugin) {</span><span class="s3">\n      </span><span class="s1">if (!('plugins' in userTsConfig.compilerOptions)) {</span><span class="s3">\n        </span><span class="s1">userTsConfig.compilerOptions.plugins = []</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">userTsConfig.compilerOptions.plugins.push({ name: 'next' })</span><span class="s3">\n      </span><span class="s1">suggestedActions.push(</span><span class="s3">\n        </span><span class="s1">cyan('plugins') + ' was updated to add ' + bold(`{ name: 'next' }`)</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// If `strict` is set to `false` and `strictNullChecks` is set to `false`,</span><span class="s3">\n    </span><span class="s1">// then set `strictNullChecks` to `true`.</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">hasPagesDir &amp;&amp;</span><span class="s3">\n      </span><span class="s1">hasAppDir &amp;&amp;</span><span class="s3">\n      </span><span class="s1">!tsOptions.strict &amp;&amp;</span><span class="s3">\n      </span><span class="s1">!('strictNullChecks' in tsOptions)</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">userTsConfig.compilerOptions.strictNullChecks = true</span><span class="s3">\n      </span><span class="s1">suggestedActions.push(</span><span class="s3">\n        </span><span class="s1">cyan('strictNullChecks') + ' was set to ' + bold(`true`)</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (!('exclude' in rawConfig)) {</span><span class="s3">\n    </span><span class="s1">userTsConfig.exclude = ['node_modules']</span><span class="s3">\n    </span><span class="s1">suggestedActions.push(</span><span class="s3">\n      </span><span class="s1">cyan('exclude') + ' was set to ' + bold(`['node_modules']`)</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// During local development inside Next.js repo, exclude the test files coverage by the local tsconfig</span><span class="s3">\n  </span><span class="s1">if (process.env.NEXT_PRIVATE_LOCAL_DEV &amp;&amp; userTsConfig.exclude) {</span><span class="s3">\n    </span><span class="s1">const tsGlob = '**/*.test.ts'</span><span class="s3">\n    </span><span class="s1">const tsxGlob = '**/*.test.tsx'</span><span class="s3">\n    </span><span class="s1">let hasUpdates = false</span><span class="s3">\n    </span><span class="s1">if (!userTsConfig.exclude.includes(tsGlob)) {</span><span class="s3">\n      </span><span class="s1">userTsConfig.exclude.push(tsGlob)</span><span class="s3">\n      </span><span class="s1">hasUpdates = true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!userTsConfig.exclude.includes(tsxGlob)) {</span><span class="s3">\n      </span><span class="s1">userTsConfig.exclude.push(tsxGlob)</span><span class="s3">\n      </span><span class="s1">hasUpdates = true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (hasUpdates) {</span><span class="s3">\n      </span><span class="s1">requiredActions.push(localDevTestFilesExcludeAction)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (suggestedActions.length &lt; 1 &amp;&amp; requiredActions.length &lt; 1) {</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">await fs.writeFile(</span><span class="s3">\n    </span><span class="s1">tsConfigPath,</span><span class="s3">\n    </span><span class="s1">CommentJson.stringify(userTsConfig, null, 2) + os.EOL</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">Log.info('')</span><span class="s3">\n  </span><span class="s1">if (isFirstTimeSetup) {</span><span class="s3">\n    </span><span class="s1">Log.info(</span><span class="s3">\n      </span><span class="s1">`We detected TypeScript in your project and created a ${cyan(</span><span class="s3">\n        </span><span class="s1">'tsconfig.json'</span><span class="s3">\n      </span><span class="s1">)} file for you.`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">Log.info(</span><span class="s3">\n    </span><span class="s1">`We detected TypeScript in your project and reconfigured your ${cyan(</span><span class="s3">\n      </span><span class="s1">'tsconfig.json'</span><span class="s3">\n    </span><span class="s1">)} file for you.${</span><span class="s3">\n      </span><span class="s1">userTsConfig.compilerOptions?.strict</span><span class="s3">\n        </span><span class="s1">? ''</span><span class="s3">\n        </span><span class="s1">: ` Strict-mode is set to ${cyan('false')} by default.`</span><span class="s3">\n    </span><span class="s1">}`</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">if (suggestedActions.length) {</span><span class="s3">\n    </span><span class="s1">Log.info(</span><span class="s3">\n      </span><span class="s1">`The following suggested values were added to your ${cyan(</span><span class="s3">\n        </span><span class="s1">'tsconfig.json'</span><span class="s3">\n      </span><span class="s1">)}. These values ${cyan('can be changed')} to fit your project's needs:</span><span class="s3">\\</span><span class="s1">n`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">suggestedActions.forEach((action) =&gt; Log.info(`</span><span class="s3">\\</span><span class="s1">t- ${action}`))</span><span class="s3">\n\n    </span><span class="s1">Log.info('')</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const requiredActionsToBeLogged = process.env.NEXT_PRIVATE_LOCAL_DEV</span><span class="s3">\n    </span><span class="s1">? requiredActions.filter(</span><span class="s3">\n        </span><span class="s1">(action) =&gt; action !== localDevTestFilesExcludeAction</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">: requiredActions</span><span class="s3">\n\n  </span><span class="s1">if (requiredActionsToBeLogged.length) {</span><span class="s3">\n    </span><span class="s1">Log.info(</span><span class="s3">\n      </span><span class="s1">`The following ${white('mandatory changes')} were made to your ${cyan(</span><span class="s3">\n        </span><span class="s1">'tsconfig.json'</span><span class="s3">\n      </span><span class="s1">)}:</span><span class="s3">\\</span><span class="s1">n`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">requiredActionsToBeLogged.forEach((action) =&gt; Log.info(`</span><span class="s3">\\</span><span class="s1">t- ${action}`))</span><span class="s3">\n\n    </span><span class="s1">Log.info('')</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;getRequiredConfiguration&quot;</span><span class="s0">,</span><span class="s1">&quot;writeConfigurationDefaults&quot;</span><span class="s0">,</span><span class="s1">&quot;getDesiredCompilerOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;ts&quot;</span><span class="s0">,</span><span class="s1">&quot;tsOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;o&quot;</span><span class="s0">,</span><span class="s1">&quot;target&quot;</span><span class="s0">,</span><span class="s1">&quot;suggested&quot;</span><span class="s0">,</span><span class="s1">&quot;reason&quot;</span><span class="s0">,</span><span class="s1">&quot;lib&quot;</span><span class="s0">,</span><span class="s1">&quot;allowJs&quot;</span><span class="s0">,</span><span class="s1">&quot;skipLibCheck&quot;</span><span class="s0">,</span><span class="s1">&quot;strict&quot;</span><span class="s0">,</span><span class="s1">&quot;semver&quot;</span><span class="s0">,</span><span class="s1">&quot;lt&quot;</span><span class="s0">,</span><span class="s1">&quot;version&quot;</span><span class="s0">,</span><span class="s1">&quot;forceConsistentCasingInFileNames&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;noEmit&quot;</span><span class="s0">,</span><span class="s1">&quot;gte&quot;</span><span class="s0">,</span><span class="s1">&quot;incremental&quot;</span><span class="s0">,</span><span class="s1">&quot;module&quot;</span><span class="s0">,</span><span class="s1">&quot;parsedValue&quot;</span><span class="s0">,</span><span class="s1">&quot;ModuleKind&quot;</span><span class="s0">,</span><span class="s1">&quot;ESNext&quot;</span><span class="s0">,</span><span class="s1">&quot;parsedValues&quot;</span><span class="s0">,</span><span class="s1">&quot;Preserve&quot;</span><span class="s0">,</span><span class="s1">&quot;ES2020&quot;</span><span class="s0">,</span><span class="s1">&quot;CommonJS&quot;</span><span class="s0">,</span><span class="s1">&quot;AMD&quot;</span><span class="s0">,</span><span class="s1">&quot;NodeNext&quot;</span><span class="s0">,</span><span class="s1">&quot;Node16&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;esModuleInterop&quot;</span><span class="s0">,</span><span class="s1">&quot;moduleResolution&quot;</span><span class="s0">,</span><span class="s1">&quot;ModuleResolutionKind&quot;</span><span class="s0">,</span><span class="s1">&quot;Bundler&quot;</span><span class="s0">,</span><span class="s1">&quot;Node10&quot;</span><span class="s0">,</span><span class="s1">&quot;NodeJs&quot;</span><span class="s0">,</span><span class="s1">&quot;Node12&quot;</span><span class="s0">,</span><span class="s1">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">&quot;val&quot;</span><span class="s0">,</span><span class="s1">&quot;resolveJsonModule&quot;</span><span class="s0">,</span><span class="s1">&quot;verbatimModuleSyntax&quot;</span><span class="s0">,</span><span class="s1">&quot;isolatedModules&quot;</span><span class="s0">,</span><span class="s1">&quot;jsx&quot;</span><span class="s0">,</span><span class="s1">&quot;JsxEmit&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;desiredCompilerOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;optionKey&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;keys&quot;</span><span class="s0">,</span><span class="s1">&quot;ev&quot;</span><span class="s0">,</span><span class="s1">&quot;localDevTestFilesExcludeAction&quot;</span><span class="s0">,</span><span class="s1">&quot;tsConfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;isFirstTimeSetup&quot;</span><span class="s0">,</span><span class="s1">&quot;hasAppDir&quot;</span><span class="s0">,</span><span class="s1">&quot;distDir&quot;</span><span class="s0">,</span><span class="s1">&quot;hasPagesDir&quot;</span><span class="s0">,</span><span class="s1">&quot;userTsConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;fs&quot;</span><span class="s0">,</span><span class="s1">&quot;writeFile&quot;</span><span class="s0">,</span><span class="s1">&quot;os&quot;</span><span class="s0">,</span><span class="s1">&quot;EOL&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;raw&quot;</span><span class="s0">,</span><span class="s1">&quot;rawConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;getTypeScriptConfiguration&quot;</span><span class="s0">,</span><span class="s1">&quot;userTsConfigContent&quot;</span><span class="s0">,</span><span class="s1">&quot;readFile&quot;</span><span class="s0">,</span><span class="s1">&quot;encoding&quot;</span><span class="s0">,</span><span class="s1">&quot;CommentJson&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;compilerOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;suggestedActions&quot;</span><span class="s0">,</span><span class="s1">&quot;requiredActions&quot;</span><span class="s0">,</span><span class="s1">&quot;check&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;cyan&quot;</span><span class="s0">,</span><span class="s1">&quot;bold&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;_&quot;</span><span class="s0">,</span><span class="s1">&quot;nextAppTypes&quot;</span><span class="s0">,</span><span class="s1">&quot;include&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;sort&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;i&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;plugins&quot;</span><span class="s0">,</span><span class="s1">&quot;hasNextPlugin&quot;</span><span class="s0">,</span><span class="s1">&quot;some&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;Log&quot;</span><span class="s0">,</span><span class="s1">&quot;info&quot;</span><span class="s0">,</span><span class="s1">&quot;strictNullChecks&quot;</span><span class="s0">,</span><span class="s1">&quot;exclude&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;NEXT_PRIVATE_LOCAL_DEV&quot;</span><span class="s0">,</span><span class="s1">&quot;tsGlob&quot;</span><span class="s0">,</span><span class="s1">&quot;tsxGlob&quot;</span><span class="s0">,</span><span class="s1">&quot;hasUpdates&quot;</span><span class="s0">,</span><span class="s1">&quot;forEach&quot;</span><span class="s0">,</span><span class="s1">&quot;action&quot;</span><span class="s0">,</span><span class="s1">&quot;requiredActionsToBeLogged&quot;</span><span class="s0">,</span><span class="s1">&quot;white&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>