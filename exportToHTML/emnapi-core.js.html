<html>
<head>
<title>emnapi-core.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #0033b3;}
.s2 { color: #067d17;}
.s3 { color: #8c8c8c; font-style: italic;}
.s4 { color: #1750eb;}
.s5 { color: #8c8c8c; font-style: italic;}
.s6 { color: #0037a6;}
.s7 { color: #264eff;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
emnapi-core.js</font>
</center></td></tr></table>
<pre><span class="s0">(</span><span class="s1">function </span><span class="s0">(global, factory) {</span>
    <span class="s1">typeof </span><span class="s0">exports === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">module !== </span><span class="s2">'undefined' </span><span class="s0">? factory(exports) :</span>
    <span class="s1">typeof </span><span class="s0">define === </span><span class="s2">'function' </span><span class="s0">&amp;&amp; define.amd ? define([</span><span class="s2">'exports'</span><span class="s0">], factory) :</span>
    <span class="s0">(global = </span><span class="s1">typeof </span><span class="s0">globalThis !== </span><span class="s2">'undefined' </span><span class="s0">? globalThis : global || self, factory(global.emnapiCore = {}));</span>
<span class="s0">})(</span><span class="s1">this</span><span class="s0">, (</span><span class="s1">function </span><span class="s0">(exports) {</span>
    <span class="s3">/* eslint-disable no-undef */</span>
    <span class="s1">var </span><span class="s0">_WebAssembly$1 = </span><span class="s1">typeof </span><span class="s0">WebAssembly !== </span><span class="s2">'undefined'</span>
        <span class="s0">? WebAssembly</span>
        <span class="s0">: </span><span class="s1">typeof </span><span class="s0">WXWebAssembly !== </span><span class="s2">'undefined'</span>
            <span class="s0">? WXWebAssembly</span>
            <span class="s0">: undefined;</span>
    <span class="s1">function </span><span class="s0">validateImports(imports) {</span>
        <span class="s1">if </span><span class="s0">(imports &amp;&amp; </span><span class="s1">typeof </span><span class="s0">imports !== </span><span class="s2">'object'</span><span class="s0">) {</span>
            <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'imports must be an object or undefined'</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">return true</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">load(wasmInput, imports) {</span>
        <span class="s1">if </span><span class="s0">(!wasmInput)</span>
            <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid wasm source'</span><span class="s0">);</span>
        <span class="s0">validateImports(imports);</span>
        <span class="s0">imports = imports !== </span><span class="s1">null </span><span class="s0">&amp;&amp; imports !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? imports : {};</span>
        <span class="s3">// Promise&lt;string | URL | Response | BufferSource | WebAssembly.Module&gt;</span>
        <span class="s1">try </span><span class="s0">{</span>
            <span class="s1">var </span><span class="s0">then = </span><span class="s1">typeof </span><span class="s0">wasmInput === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; wasmInput !== </span><span class="s1">null </span><span class="s0">&amp;&amp; </span><span class="s2">'then' </span><span class="s1">in </span><span class="s0">wasmInput ? wasmInput.then : undefined;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">then === </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s0">then.call(wasmInput, </span><span class="s1">function </span><span class="s0">(input) { </span><span class="s1">return </span><span class="s0">load(input, imports); });</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s1">catch </span><span class="s0">(_) { }</span>
        <span class="s3">// BufferSource</span>
        <span class="s1">if </span><span class="s0">(wasmInput </span><span class="s1">instanceof </span><span class="s0">ArrayBuffer || ArrayBuffer.isView(wasmInput)) {</span>
            <span class="s1">return </span><span class="s0">_WebAssembly$1.instantiate(wasmInput, imports);</span>
        <span class="s0">}</span>
        <span class="s3">// WebAssembly.Module</span>
        <span class="s1">if </span><span class="s0">(wasmInput </span><span class="s1">instanceof </span><span class="s0">_WebAssembly$1.Module) {</span>
            <span class="s1">return </span><span class="s0">_WebAssembly$1.instantiate(wasmInput, imports).then(</span><span class="s1">function </span><span class="s0">(instance) {</span>
                <span class="s1">return </span><span class="s0">{ instance: instance, module: wasmInput };</span>
            <span class="s0">});</span>
        <span class="s0">}</span>
        <span class="s3">// Response</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">Response !== </span><span class="s2">'undefined' </span><span class="s0">&amp;&amp; wasmInput </span><span class="s1">instanceof </span><span class="s0">Response) {</span>
            <span class="s1">return </span><span class="s0">wasmInput.arrayBuffer().then(</span><span class="s1">function </span><span class="s0">(buffer) {</span>
                <span class="s1">return </span><span class="s0">_WebAssembly$1.instantiate(buffer, imports);</span>
            <span class="s0">});</span>
        <span class="s0">}</span>
        <span class="s3">// string | URL</span>
        <span class="s1">var </span><span class="s0">inputIsString = </span><span class="s1">typeof </span><span class="s0">wasmInput === </span><span class="s2">'string'</span><span class="s0">;</span>
        <span class="s1">if </span><span class="s0">(inputIsString || (</span><span class="s1">typeof </span><span class="s0">URL !== </span><span class="s2">'undefined' </span><span class="s0">&amp;&amp; wasmInput </span><span class="s1">instanceof </span><span class="s0">URL)) {</span>
            <span class="s1">if </span><span class="s0">(inputIsString &amp;&amp; </span><span class="s1">typeof </span><span class="s0">wx !== </span><span class="s2">'undefined' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">__wxConfig !== </span><span class="s2">'undefined'</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s0">_WebAssembly$1.instantiate(wasmInput, imports);</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">fetch !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'wasm source can not be a string or URL in this environment'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">_WebAssembly$1.instantiateStreaming === </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">return </span><span class="s0">_WebAssembly$1.instantiateStreaming(fetch(wasmInput), imports).catch(</span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s1">return </span><span class="s0">load(fetch(wasmInput), imports);</span>
                    <span class="s0">});</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(_) {</span>
                    <span class="s1">return </span><span class="s0">load(fetch(wasmInput), imports);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s1">return </span><span class="s0">load(fetch(wasmInput), imports);</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid wasm source'</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">loadSync(wasmInput, imports) {</span>
        <span class="s1">if </span><span class="s0">(!wasmInput)</span>
            <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid wasm source'</span><span class="s0">);</span>
        <span class="s0">validateImports(imports);</span>
        <span class="s0">imports = imports !== </span><span class="s1">null </span><span class="s0">&amp;&amp; imports !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? imports : {};</span>
        <span class="s1">var </span><span class="s0">module;</span>
        <span class="s1">if </span><span class="s0">((wasmInput </span><span class="s1">instanceof </span><span class="s0">ArrayBuffer) || ArrayBuffer.isView(wasmInput)) {</span>
            <span class="s0">module = </span><span class="s1">new </span><span class="s0">_WebAssembly$1.Module(wasmInput);</span>
        <span class="s0">}</span>
        <span class="s1">else if </span><span class="s0">(wasmInput </span><span class="s1">instanceof </span><span class="s0">WebAssembly.Module) {</span>
            <span class="s0">module = wasmInput;</span>
        <span class="s0">}</span>
        <span class="s1">else </span><span class="s0">{</span>
            <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid wasm source'</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s0">instance = </span><span class="s1">new </span><span class="s0">_WebAssembly$1.Instance(module, imports);</span>
        <span class="s1">var </span><span class="s0">source = { instance: instance, module: module };</span>
        <span class="s1">return </span><span class="s0">source;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">_WebAssembly = </span><span class="s1">typeof </span><span class="s0">WebAssembly !== </span><span class="s2">'undefined'</span>
        <span class="s0">? WebAssembly</span>
        <span class="s0">: </span><span class="s1">typeof </span><span class="s0">WXWebAssembly !== </span><span class="s2">'undefined'</span>
            <span class="s0">? WXWebAssembly</span>
            <span class="s0">: undefined;</span>
    <span class="s1">var </span><span class="s0">ENVIRONMENT_IS_NODE = </span><span class="s1">typeof </span><span class="s0">process === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; process !== </span><span class="s1">null </span><span class="s0">&amp;&amp;</span>
        <span class="s1">typeof </span><span class="s0">process.versions === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; process.versions !== </span><span class="s1">null </span><span class="s0">&amp;&amp;</span>
        <span class="s1">typeof </span><span class="s0">process.versions.node === </span><span class="s2">'string'</span><span class="s0">;</span>
    <span class="s1">function </span><span class="s0">getPostMessage(options) {</span>
        <span class="s1">return typeof </span><span class="s0">(options === </span><span class="s1">null </span><span class="s0">|| options === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: options.postMessage) === </span><span class="s2">'function'</span>
            <span class="s0">? options.postMessage</span>
            <span class="s0">: </span><span class="s1">typeof </span><span class="s0">postMessage === </span><span class="s2">'function'</span>
                <span class="s0">? postMessage</span>
                <span class="s0">: undefined;</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">serizeErrorToBuffer(sab, code, error) {</span>
        <span class="s1">var </span><span class="s0">i32array = </span><span class="s1">new </span><span class="s0">Int32Array(sab);</span>
        <span class="s0">Atomics.store(i32array, </span><span class="s4">0</span><span class="s0">, code);</span>
        <span class="s1">if </span><span class="s0">(code &gt; </span><span class="s4">1 </span><span class="s0">&amp;&amp; error) {</span>
            <span class="s1">var </span><span class="s0">name_1 = error.name;</span>
            <span class="s1">var </span><span class="s0">message = error.message;</span>
            <span class="s1">var </span><span class="s0">stack = error.stack;</span>
            <span class="s1">var </span><span class="s0">nameBuffer = </span><span class="s1">new </span><span class="s0">TextEncoder().encode(name_1);</span>
            <span class="s1">var </span><span class="s0">messageBuffer = </span><span class="s1">new </span><span class="s0">TextEncoder().encode(message);</span>
            <span class="s1">var </span><span class="s0">stackBuffer = </span><span class="s1">new </span><span class="s0">TextEncoder().encode(stack);</span>
            <span class="s0">Atomics.store(i32array, </span><span class="s4">1</span><span class="s0">, nameBuffer.length);</span>
            <span class="s0">Atomics.store(i32array, </span><span class="s4">2</span><span class="s0">, messageBuffer.length);</span>
            <span class="s0">Atomics.store(i32array, </span><span class="s4">3</span><span class="s0">, stackBuffer.length);</span>
            <span class="s1">var </span><span class="s0">buffer = </span><span class="s1">new </span><span class="s0">Uint8Array(sab);</span>
            <span class="s0">buffer.set(nameBuffer, </span><span class="s4">16</span><span class="s0">);</span>
            <span class="s0">buffer.set(messageBuffer, </span><span class="s4">16 </span><span class="s0">+ nameBuffer.length);</span>
            <span class="s0">buffer.set(stackBuffer, </span><span class="s4">16 </span><span class="s0">+ nameBuffer.length + messageBuffer.length);</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">deserizeErrorFromBuffer(sab) {</span>
        <span class="s1">var </span><span class="s0">_a, _b;</span>
        <span class="s1">var </span><span class="s0">i32array = </span><span class="s1">new </span><span class="s0">Int32Array(sab);</span>
        <span class="s1">var </span><span class="s0">status = Atomics.load(i32array, </span><span class="s4">0</span><span class="s0">);</span>
        <span class="s1">if </span><span class="s0">(status &lt;= </span><span class="s4">1</span><span class="s0">) {</span>
            <span class="s1">return null</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s0">nameLength = Atomics.load(i32array, </span><span class="s4">1</span><span class="s0">);</span>
        <span class="s1">var </span><span class="s0">messageLength = Atomics.load(i32array, </span><span class="s4">2</span><span class="s0">);</span>
        <span class="s1">var </span><span class="s0">stackLength = Atomics.load(i32array, </span><span class="s4">3</span><span class="s0">);</span>
        <span class="s1">var </span><span class="s0">buffer = </span><span class="s1">new </span><span class="s0">Uint8Array(sab);</span>
        <span class="s1">var </span><span class="s0">nameBuffer = buffer.slice(</span><span class="s4">16</span><span class="s0">, </span><span class="s4">16 </span><span class="s0">+ nameLength);</span>
        <span class="s1">var </span><span class="s0">messageBuffer = buffer.slice(</span><span class="s4">16 </span><span class="s0">+ nameLength, </span><span class="s4">16 </span><span class="s0">+ nameLength + messageLength);</span>
        <span class="s1">var </span><span class="s0">stackBuffer = buffer.slice(</span><span class="s4">16 </span><span class="s0">+ nameLength + messageLength, </span><span class="s4">16 </span><span class="s0">+ nameLength + messageLength + stackLength);</span>
        <span class="s1">var </span><span class="s0">name = </span><span class="s1">new </span><span class="s0">TextDecoder().decode(nameBuffer);</span>
        <span class="s1">var </span><span class="s0">message = </span><span class="s1">new </span><span class="s0">TextDecoder().decode(messageBuffer);</span>
        <span class="s1">var </span><span class="s0">stack = </span><span class="s1">new </span><span class="s0">TextDecoder().decode(stackBuffer);</span>
        <span class="s1">var </span><span class="s0">ErrorConstructor = (_a = globalThis[name]) !== </span><span class="s1">null </span><span class="s0">&amp;&amp; _a !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? _a : (name === </span><span class="s2">'RuntimeError' </span><span class="s0">? ((_b = _WebAssembly.RuntimeError) !== </span><span class="s1">null </span><span class="s0">&amp;&amp; _b !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? _b : Error) : Error);</span>
        <span class="s1">var </span><span class="s0">error = </span><span class="s1">new </span><span class="s0">ErrorConstructor(message);</span>
        <span class="s0">Object.defineProperty(error, </span><span class="s2">'stack'</span><span class="s0">, {</span>
            <span class="s0">value: stack,</span>
            <span class="s0">writable: </span><span class="s1">true</span><span class="s0">,</span>
            <span class="s0">enumerable: </span><span class="s1">false</span><span class="s0">,</span>
            <span class="s0">configurable: </span><span class="s1">true</span>
        <span class="s0">});</span>
        <span class="s1">return </span><span class="s0">error;</span>
    <span class="s0">}</span>
    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">function </span><span class="s0">isSharedArrayBuffer(value) {</span>
        <span class="s1">return </span><span class="s0">((</span><span class="s1">typeof </span><span class="s0">SharedArrayBuffer === </span><span class="s2">'function' </span><span class="s0">&amp;&amp; value </span><span class="s1">instanceof </span><span class="s0">SharedArrayBuffer) ||</span>
            <span class="s0">(Object.prototype.toString.call(value) === </span><span class="s2">'[object SharedArrayBuffer]'</span><span class="s0">));</span>
    <span class="s0">}</span>
    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">function </span><span class="s0">isTrapError(e) {</span>
        <span class="s1">try </span><span class="s0">{</span>
            <span class="s1">return </span><span class="s0">e </span><span class="s1">instanceof </span><span class="s0">_WebAssembly.RuntimeError;</span>
        <span class="s0">}</span>
        <span class="s1">catch </span><span class="s0">(_) {</span>
            <span class="s1">return false</span><span class="s0">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">createMessage(type, payload) {</span>
        <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">__emnapi__: {</span>
                <span class="s0">type: type,</span>
                <span class="s0">payload: payload</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">WASI_THREADS_MAX_TID = </span><span class="s4">0x1FFFFFFF</span><span class="s0">;</span>
    <span class="s1">function </span><span class="s0">checkSharedWasmMemory(wasmMemory) {</span>
        <span class="s1">if </span><span class="s0">(wasmMemory) {</span>
            <span class="s1">if </span><span class="s0">(!isSharedArrayBuffer(wasmMemory.buffer)) {</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'Multithread features require shared wasm memory. ' </span><span class="s0">+</span>
                    <span class="s2">'Try to compile with `-matomics -mbulk-memory` and use `--import-memory --shared-memory` during linking, ' </span><span class="s0">+</span>
                    <span class="s2">'then create WebAssembly.Memory with `shared: true` option'</span><span class="s0">);</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s1">else </span><span class="s0">{</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">SharedArrayBuffer === </span><span class="s2">'undefined'</span><span class="s0">) {</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'Current environment does not support SharedArrayBuffer, threads are not available!'</span><span class="s0">);</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">getReuseWorker(value) {</span>
        <span class="s1">var </span><span class="s0">_a;</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">value === </span><span class="s2">'boolean'</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">value ? { size: </span><span class="s4">0</span><span class="s0">, strict: </span><span class="s1">false </span><span class="s0">} : </span><span class="s1">false</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">value === </span><span class="s2">'number'</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(!(value &gt;= </span><span class="s4">0</span><span class="s0">)) {</span>
                <span class="s1">throw new </span><span class="s0">RangeError(</span><span class="s2">'reuseWorker: size must be a non-negative integer'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">{ size: value, strict: </span><span class="s1">false </span><span class="s0">};</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(!value) {</span>
            <span class="s1">return false</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s0">size = (_a = Number(value.size)) !== </span><span class="s1">null </span><span class="s0">&amp;&amp; _a !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? _a : </span><span class="s4">0</span><span class="s0">;</span>
        <span class="s1">var </span><span class="s0">strict = Boolean(value.strict);</span>
        <span class="s1">if </span><span class="s0">(!(size &gt; </span><span class="s4">0</span><span class="s0">) &amp;&amp; strict) {</span>
            <span class="s1">throw new </span><span class="s0">RangeError(</span><span class="s2">'reuseWorker: size must be set to positive integer if strict is set to true'</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s0">{ size: size, strict: strict };</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s0">nextWorkerID = </span><span class="s4">0</span><span class="s0">;</span>
    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">var </span><span class="s0">ThreadManager = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">(</span><span class="s1">function </span><span class="s0">() {</span>
        <span class="s1">function </span><span class="s0">ThreadManager(options) {</span>
            <span class="s1">var </span><span class="s0">_a;</span>
            <span class="s1">this</span><span class="s0">.unusedWorkers = [];</span>
            <span class="s1">this</span><span class="s0">.runningWorkers = [];</span>
            <span class="s1">this</span><span class="s0">.pthreads = Object.create(</span><span class="s1">null</span><span class="s0">);</span>
            <span class="s1">this</span><span class="s0">.wasmModule = </span><span class="s1">null</span><span class="s0">;</span>
            <span class="s1">this</span><span class="s0">.wasmMemory = </span><span class="s1">null</span><span class="s0">;</span>
            <span class="s1">this</span><span class="s0">.messageEvents = </span><span class="s1">new </span><span class="s0">WeakMap();</span>
            <span class="s1">if </span><span class="s0">(!options) {</span>
                <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'ThreadManager(): options is not provided'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">'childThread' </span><span class="s1">in </span><span class="s0">options) {</span>
                <span class="s1">this</span><span class="s0">._childThread = Boolean(options.childThread);</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">._childThread = </span><span class="s1">false</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">._childThread) {</span>
                <span class="s1">this</span><span class="s0">._onCreateWorker = undefined;</span>
                <span class="s1">this</span><span class="s0">._reuseWorker = </span><span class="s1">false</span><span class="s0">;</span>
                <span class="s1">this</span><span class="s0">._beforeLoad = undefined;</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">._onCreateWorker = options.onCreateWorker;</span>
                <span class="s1">this</span><span class="s0">._reuseWorker = getReuseWorker(options.reuseWorker);</span>
                <span class="s1">this</span><span class="s0">._beforeLoad = options.beforeLoad;</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.printErr = (_a = options.printErr) !== </span><span class="s1">null </span><span class="s0">&amp;&amp; _a !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? _a : console.error.bind(console);</span>
        <span class="s0">}</span>
        <span class="s0">Object.defineProperty(ThreadManager.prototype, </span><span class="s2">&quot;nextWorkerID&quot;</span><span class="s0">, {</span>
            <span class="s0">get: </span><span class="s1">function </span><span class="s0">() { </span><span class="s1">return </span><span class="s0">nextWorkerID; },</span>
            <span class="s0">enumerable: </span><span class="s1">false</span><span class="s0">,</span>
            <span class="s0">configurable: </span><span class="s1">true</span>
        <span class="s0">});</span>
        <span class="s0">ThreadManager.prototype.init = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">._childThread) {</span>
                <span class="s1">this</span><span class="s0">.initMainThread();</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.initMainThread = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">this</span><span class="s0">.preparePool();</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.preparePool = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">._reuseWorker) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">._reuseWorker.size) {</span>
                    <span class="s1">var </span><span class="s0">pthreadPoolSize = </span><span class="s1">this</span><span class="s0">._reuseWorker.size;</span>
                    <span class="s1">while </span><span class="s0">(pthreadPoolSize--) {</span>
                        <span class="s1">var </span><span class="s0">worker = </span><span class="s1">this</span><span class="s0">.allocateUnusedWorker();</span>
                        <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                            <span class="s3">// https://github.com/nodejs/node/issues/53036</span>
                            <span class="s0">worker.once(</span><span class="s2">'message'</span><span class="s0">, </span><span class="s1">function </span><span class="s0">() { });</span>
                            <span class="s0">worker.unref();</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.shouldPreloadWorkers = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">return </span><span class="s0">!</span><span class="s1">this</span><span class="s0">._childThread &amp;&amp; </span><span class="s1">this</span><span class="s0">._reuseWorker &amp;&amp; </span><span class="s1">this</span><span class="s0">._reuseWorker.size &gt; </span><span class="s4">0</span><span class="s0">;</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.loadWasmModuleToAllWorkers = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">_this_1 = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s0">promises = Array(</span><span class="s1">this</span><span class="s0">.unusedWorkers.length);</span>
            <span class="s1">var </span><span class="s0">_loop_1 = </span><span class="s1">function </span><span class="s0">(i) {</span>
                <span class="s1">var </span><span class="s0">worker = this_1.unusedWorkers[i];</span>
                <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE)</span>
                    <span class="s0">worker.ref();</span>
                <span class="s0">promises[i] = this_1.loadWasmModuleToWorker(worker).then(</span><span class="s1">function </span><span class="s0">(w) {</span>
                    <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE)</span>
                        <span class="s0">worker.unref();</span>
                    <span class="s1">return </span><span class="s0">w;</span>
                <span class="s0">}, </span><span class="s1">function </span><span class="s0">(e) {</span>
                    <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE)</span>
                        <span class="s0">worker.unref();</span>
                    <span class="s1">throw </span><span class="s0">e;</span>
                <span class="s0">});</span>
            <span class="s0">};</span>
            <span class="s1">var </span><span class="s0">this_1 = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; </span><span class="s1">this</span><span class="s0">.unusedWorkers.length; ++i) {</span>
                <span class="s0">_loop_1(i);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">Promise.all(promises).catch(</span><span class="s1">function </span><span class="s0">(err) {</span>
                <span class="s0">_this_1.terminateAllThreads();</span>
                <span class="s1">throw </span><span class="s0">err;</span>
            <span class="s0">});</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.preloadWorkers = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.shouldPreloadWorkers()) {</span>
                <span class="s1">return this</span><span class="s0">.loadWasmModuleToAllWorkers();</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">Promise.resolve([]);</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.setup = </span><span class="s1">function </span><span class="s0">(wasmModule, wasmMemory) {</span>
            <span class="s1">this</span><span class="s0">.wasmModule = wasmModule;</span>
            <span class="s1">this</span><span class="s0">.wasmMemory = wasmMemory;</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.markId = </span><span class="s1">function </span><span class="s0">(worker) {</span>
            <span class="s1">if </span><span class="s0">(worker.__emnapi_tid)</span>
                <span class="s1">return </span><span class="s0">worker.__emnapi_tid;</span>
            <span class="s1">var </span><span class="s0">tid = nextWorkerID + </span><span class="s4">43</span><span class="s0">;</span>
            <span class="s0">nextWorkerID = (nextWorkerID + </span><span class="s4">1</span><span class="s0">) % (WASI_THREADS_MAX_TID - </span><span class="s4">42</span><span class="s0">);</span>
            <span class="s1">this</span><span class="s0">.pthreads[tid] = worker;</span>
            <span class="s0">worker.__emnapi_tid = tid;</span>
            <span class="s1">return </span><span class="s0">tid;</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.returnWorkerToPool = </span><span class="s1">function </span><span class="s0">(worker) {</span>
            <span class="s1">var </span><span class="s0">tid = worker.__emnapi_tid;</span>
            <span class="s1">if </span><span class="s0">(tid !== undefined) {</span>
                <span class="s1">delete this</span><span class="s0">.pthreads[tid];</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.unusedWorkers.push(worker);</span>
            <span class="s1">this</span><span class="s0">.runningWorkers.splice(</span><span class="s1">this</span><span class="s0">.runningWorkers.indexOf(worker), </span><span class="s4">1</span><span class="s0">);</span>
            <span class="s1">delete </span><span class="s0">worker.__emnapi_tid;</span>
            <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                <span class="s0">worker.unref();</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.loadWasmModuleToWorker = </span><span class="s1">function </span><span class="s0">(worker, sab) {</span>
            <span class="s1">var </span><span class="s0">_this_1 = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s1">if </span><span class="s0">(worker.whenLoaded)</span>
                <span class="s1">return </span><span class="s0">worker.whenLoaded;</span>
            <span class="s1">var </span><span class="s0">err = </span><span class="s1">this</span><span class="s0">.printErr;</span>
            <span class="s1">var </span><span class="s0">beforeLoad = </span><span class="s1">this</span><span class="s0">._beforeLoad;</span>
            <span class="s3">// eslint-disable-next-line @typescript-eslint/no-this-alias</span>
            <span class="s1">var </span><span class="s0">_this = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s0">worker.whenLoaded = </span><span class="s1">new </span><span class="s0">Promise(</span><span class="s1">function </span><span class="s0">(resolve, reject) {</span>
                <span class="s1">var </span><span class="s0">handleError = </span><span class="s1">function </span><span class="s0">(e) {</span>
                    <span class="s1">var </span><span class="s0">message = </span><span class="s2">'worker sent an error!'</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(worker.__emnapi_tid !== undefined) {</span>
                        <span class="s0">message = </span><span class="s2">'worker (tid = ' </span><span class="s0">+ worker.__emnapi_tid + </span><span class="s2">') sent an error!'</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">'message' </span><span class="s1">in </span><span class="s0">e) {</span>
                        <span class="s0">err(message + </span><span class="s2">' ' </span><span class="s0">+ e.message);</span>
                        <span class="s1">if </span><span class="s0">(e.message.indexOf(</span><span class="s2">'RuntimeError'</span><span class="s0">) !== -</span><span class="s4">1 </span><span class="s0">|| e.message.indexOf(</span><span class="s2">'unreachable'</span><span class="s0">) !== -</span><span class="s4">1</span><span class="s0">) {</span>
                            <span class="s1">try </span><span class="s0">{</span>
                                <span class="s0">_this.terminateAllThreads();</span>
                            <span class="s0">}</span>
                            <span class="s1">catch </span><span class="s0">(_) { }</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">err(message);</span>
                    <span class="s0">}</span>
                    <span class="s0">reject(e);</span>
                    <span class="s1">throw </span><span class="s0">e;</span>
                <span class="s0">};</span>
                <span class="s1">var </span><span class="s0">handleMessage = </span><span class="s1">function </span><span class="s0">(data) {</span>
                    <span class="s1">if </span><span class="s0">(data.__emnapi__) {</span>
                        <span class="s1">var </span><span class="s0">type = data.__emnapi__.type;</span>
                        <span class="s1">var </span><span class="s0">payload = data.__emnapi__.payload;</span>
                        <span class="s1">if </span><span class="s0">(type === </span><span class="s2">'loaded'</span><span class="s0">) {</span>
                            <span class="s0">worker.loaded = </span><span class="s1">true</span><span class="s0">;</span>
                            <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE &amp;&amp; !worker.__emnapi_tid) {</span>
                                <span class="s0">worker.unref();</span>
                            <span class="s0">}</span>
                            <span class="s0">resolve(worker);</span>
                            <span class="s3">// if (payload.err) {</span>
                            <span class="s3">//   err('failed to load in child thread: ' + (payload.err.message || payload.err))</span>
                            <span class="s3">// }</span>
                        <span class="s0">}</span>
                        <span class="s1">else if </span><span class="s0">(type === </span><span class="s2">'cleanup-thread'</span><span class="s0">) {</span>
                            <span class="s1">if </span><span class="s0">(payload.tid </span><span class="s1">in </span><span class="s0">_this_1.pthreads) {</span>
                                <span class="s0">_this_1.cleanThread(worker, payload.tid);</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                <span class="s0">};</span>
                <span class="s0">worker.onmessage = </span><span class="s1">function </span><span class="s0">(e) {</span>
                    <span class="s0">handleMessage(e.data);</span>
                    <span class="s0">_this_1.fireMessageEvent(worker, e);</span>
                <span class="s0">};</span>
                <span class="s0">worker.onerror = handleError;</span>
                <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                    <span class="s0">worker.on(</span><span class="s2">'message'</span><span class="s0">, </span><span class="s1">function </span><span class="s0">(data) {</span>
                        <span class="s1">var </span><span class="s0">_a, _b;</span>
                        <span class="s0">(_b = (_a = worker).onmessage) === </span><span class="s1">null </span><span class="s0">|| _b === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _b.call(_a, {</span>
                            <span class="s0">data: data</span>
                        <span class="s0">});</span>
                    <span class="s0">});</span>
                    <span class="s0">worker.on(</span><span class="s2">'error'</span><span class="s0">, </span><span class="s1">function </span><span class="s0">(e) {</span>
                        <span class="s1">var </span><span class="s0">_a, _b;</span>
                        <span class="s0">(_b = (_a = worker).onerror) === </span><span class="s1">null </span><span class="s0">|| _b === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _b.call(_a, e);</span>
                    <span class="s0">});</span>
                    <span class="s0">worker.on(</span><span class="s2">'detachedExit'</span><span class="s0">, </span><span class="s1">function </span><span class="s0">() { });</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">beforeLoad === </span><span class="s2">'function'</span><span class="s0">) {</span>
                    <span class="s0">beforeLoad(worker);</span>
                <span class="s0">}</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s0">worker.postMessage(createMessage(</span><span class="s2">'load'</span><span class="s0">, {</span>
                        <span class="s0">wasmModule: _this_1.wasmModule,</span>
                        <span class="s0">wasmMemory: _this_1.wasmMemory,</span>
                        <span class="s0">sab: sab</span>
                    <span class="s0">}));</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">checkSharedWasmMemory(_this_1.wasmMemory);</span>
                    <span class="s1">throw </span><span class="s0">err;</span>
                <span class="s0">}</span>
            <span class="s0">});</span>
            <span class="s1">return </span><span class="s0">worker.whenLoaded;</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.allocateUnusedWorker = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">_onCreateWorker = </span><span class="s1">this</span><span class="s0">._onCreateWorker;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">_onCreateWorker !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'`options.onCreateWorker` is not provided'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">worker = _onCreateWorker({ type: </span><span class="s2">'thread'</span><span class="s0">, name: </span><span class="s2">'emnapi-pthread' </span><span class="s0">});</span>
            <span class="s1">this</span><span class="s0">.unusedWorkers.push(worker);</span>
            <span class="s1">return </span><span class="s0">worker;</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.getNewWorker = </span><span class="s1">function </span><span class="s0">(sab) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">._reuseWorker) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.unusedWorkers.length === </span><span class="s4">0</span><span class="s0">) {</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">._reuseWorker.strict) {</span>
                        <span class="s1">if </span><span class="s0">(!ENVIRONMENT_IS_NODE) {</span>
                            <span class="s1">var </span><span class="s0">err = </span><span class="s1">this</span><span class="s0">.printErr;</span>
                            <span class="s0">err(</span><span class="s2">'Tried to spawn a new thread, but the thread pool is exhausted.</span><span class="s6">\n</span><span class="s2">' </span><span class="s0">+</span>
                                <span class="s2">'This might result in a deadlock unless some threads eventually exit or the code explicitly breaks out to the event loop.'</span><span class="s0">);</span>
                            <span class="s1">return</span><span class="s0">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">worker_1 = </span><span class="s1">this</span><span class="s0">.allocateUnusedWorker();</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-floating-promises</span>
                    <span class="s1">this</span><span class="s0">.loadWasmModuleToWorker(worker_1, sab);</span>
                <span class="s0">}</span>
                <span class="s1">return this</span><span class="s0">.unusedWorkers.pop();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">worker = </span><span class="s1">this</span><span class="s0">.allocateUnusedWorker();</span>
            <span class="s3">// eslint-disable-next-line @typescript-eslint/no-floating-promises</span>
            <span class="s1">this</span><span class="s0">.loadWasmModuleToWorker(worker, sab);</span>
            <span class="s1">return this</span><span class="s0">.unusedWorkers.pop();</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.cleanThread = </span><span class="s1">function </span><span class="s0">(worker, tid, force) {</span>
            <span class="s1">if </span><span class="s0">(!force &amp;&amp; </span><span class="s1">this</span><span class="s0">._reuseWorker) {</span>
                <span class="s1">this</span><span class="s0">.returnWorkerToPool(worker);</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s1">delete this</span><span class="s0">.pthreads[tid];</span>
                <span class="s1">var </span><span class="s0">index = </span><span class="s1">this</span><span class="s0">.runningWorkers.indexOf(worker);</span>
                <span class="s1">if </span><span class="s0">(index !== -</span><span class="s4">1</span><span class="s0">) {</span>
                    <span class="s1">this</span><span class="s0">.runningWorkers.splice(index, </span><span class="s4">1</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">this</span><span class="s0">.terminateWorker(worker);</span>
                <span class="s1">delete </span><span class="s0">worker.__emnapi_tid;</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.terminateWorker = </span><span class="s1">function </span><span class="s0">(worker) {</span>
            <span class="s1">var </span><span class="s0">_this_1 = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s0">_a;</span>
            <span class="s1">var </span><span class="s0">tid = worker.__emnapi_tid;</span>
            <span class="s3">// eslint-disable-next-line @typescript-eslint/no-floating-promises</span>
            <span class="s0">worker.terminate();</span>
            <span class="s0">(_a = </span><span class="s1">this</span><span class="s0">.messageEvents.get(worker)) === </span><span class="s1">null </span><span class="s0">|| _a === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _a.clear();</span>
            <span class="s1">this</span><span class="s0">.messageEvents.delete(worker);</span>
            <span class="s0">worker.onmessage = </span><span class="s1">function </span><span class="s0">(e) {</span>
                <span class="s1">if </span><span class="s0">(e.data.__emnapi__) {</span>
                    <span class="s1">var </span><span class="s0">err = _this_1.printErr;</span>
                    <span class="s0">err(</span><span class="s2">'received &quot;' </span><span class="s0">+ e.data.__emnapi__.type + </span><span class="s2">'&quot; command from terminated worker: ' </span><span class="s0">+ tid);</span>
                <span class="s0">}</span>
            <span class="s0">};</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.terminateAllThreads = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; </span><span class="s1">this</span><span class="s0">.runningWorkers.length; ++i) {</span>
                <span class="s1">this</span><span class="s0">.terminateWorker(</span><span class="s1">this</span><span class="s0">.runningWorkers[i]);</span>
            <span class="s0">}</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; </span><span class="s1">this</span><span class="s0">.unusedWorkers.length; ++i) {</span>
                <span class="s1">this</span><span class="s0">.terminateWorker(</span><span class="s1">this</span><span class="s0">.unusedWorkers[i]);</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.unusedWorkers = [];</span>
            <span class="s1">this</span><span class="s0">.runningWorkers = [];</span>
            <span class="s1">this</span><span class="s0">.pthreads = Object.create(</span><span class="s1">null</span><span class="s0">);</span>
            <span class="s1">this</span><span class="s0">.preparePool();</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.addMessageEventListener = </span><span class="s1">function </span><span class="s0">(worker, onMessage) {</span>
            <span class="s1">var </span><span class="s0">listeners = </span><span class="s1">this</span><span class="s0">.messageEvents.get(worker);</span>
            <span class="s1">if </span><span class="s0">(!listeners) {</span>
                <span class="s0">listeners = </span><span class="s1">new </span><span class="s0">Set();</span>
                <span class="s1">this</span><span class="s0">.messageEvents.set(worker, listeners);</span>
            <span class="s0">}</span>
            <span class="s0">listeners.add(onMessage);</span>
            <span class="s1">return function </span><span class="s0">() {</span>
                <span class="s0">listeners === </span><span class="s1">null </span><span class="s0">|| listeners === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: listeners.delete(onMessage);</span>
            <span class="s0">};</span>
        <span class="s0">};</span>
        <span class="s0">ThreadManager.prototype.fireMessageEvent = </span><span class="s1">function </span><span class="s0">(worker, e) {</span>
            <span class="s1">var </span><span class="s0">listeners = </span><span class="s1">this</span><span class="s0">.messageEvents.get(worker);</span>
            <span class="s1">if </span><span class="s0">(!listeners)</span>
                <span class="s1">return</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s0">err = </span><span class="s1">this</span><span class="s0">.printErr;</span>
            <span class="s0">listeners.forEach(</span><span class="s1">function </span><span class="s0">(listener) {</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s0">listener(e);</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(e) {</span>
                    <span class="s0">err(e.stack);</span>
                <span class="s0">}</span>
            <span class="s0">});</span>
        <span class="s0">};</span>
        <span class="s1">return </span><span class="s0">ThreadManager;</span>
    <span class="s0">}());</span>

    <span class="s1">var </span><span class="s0">kIsProxy = Symbol(</span><span class="s2">'kIsProxy'</span><span class="s0">);</span>
    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">function </span><span class="s0">createInstanceProxy(instance, memory) {</span>
        <span class="s1">if </span><span class="s0">(instance[kIsProxy])</span>
            <span class="s1">return </span><span class="s0">instance;</span>
        <span class="s3">// https://github.com/nodejs/help/issues/4102</span>
        <span class="s1">var </span><span class="s0">originalExports = instance.exports;</span>
        <span class="s1">var </span><span class="s0">createHandler = </span><span class="s1">function </span><span class="s0">(target) {</span>
            <span class="s1">var </span><span class="s0">handlers = [</span>
                <span class="s2">'apply'</span><span class="s0">,</span>
                <span class="s2">'construct'</span><span class="s0">,</span>
                <span class="s2">'defineProperty'</span><span class="s0">,</span>
                <span class="s2">'deleteProperty'</span><span class="s0">,</span>
                <span class="s2">'get'</span><span class="s0">,</span>
                <span class="s2">'getOwnPropertyDescriptor'</span><span class="s0">,</span>
                <span class="s2">'getPrototypeOf'</span><span class="s0">,</span>
                <span class="s2">'has'</span><span class="s0">,</span>
                <span class="s2">'isExtensible'</span><span class="s0">,</span>
                <span class="s2">'ownKeys'</span><span class="s0">,</span>
                <span class="s2">'preventExtensions'</span><span class="s0">,</span>
                <span class="s2">'set'</span><span class="s0">,</span>
                <span class="s2">'setPrototypeOf'</span>
            <span class="s0">];</span>
            <span class="s1">var </span><span class="s0">handler = {};</span>
            <span class="s1">var </span><span class="s0">_loop_1 = </span><span class="s1">function </span><span class="s0">(i) {</span>
                <span class="s1">var </span><span class="s0">name_1 = handlers[i];</span>
                <span class="s0">handler[name_1] = </span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s1">var </span><span class="s0">args = Array.prototype.slice.call(arguments, </span><span class="s4">1</span><span class="s0">);</span>
                    <span class="s0">args.unshift(target);</span>
                    <span class="s1">return </span><span class="s0">Reflect[name_1].apply(Reflect, args);</span>
                <span class="s0">};</span>
            <span class="s0">};</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; handlers.length; i++) {</span>
                <span class="s0">_loop_1(i);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">handler;</span>
        <span class="s0">};</span>
        <span class="s1">var </span><span class="s0">handler = createHandler(originalExports);</span>
        <span class="s1">var </span><span class="s0">_initialize = </span><span class="s1">function </span><span class="s0">() { };</span>
        <span class="s1">var </span><span class="s0">_start = </span><span class="s1">function </span><span class="s0">() { </span><span class="s1">return </span><span class="s4">0</span><span class="s0">; };</span>
        <span class="s0">handler.get = </span><span class="s1">function </span><span class="s0">(_target, p, receiver) {</span>
            <span class="s1">var </span><span class="s0">_a;</span>
            <span class="s1">if </span><span class="s0">(p === </span><span class="s2">'memory'</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s0">(_a = (</span><span class="s1">typeof </span><span class="s0">memory === </span><span class="s2">'function' </span><span class="s0">? memory() : memory)) !== </span><span class="s1">null </span><span class="s0">&amp;&amp; _a !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? _a : Reflect.get(originalExports, p, receiver);</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(p === </span><span class="s2">'_initialize'</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s0">p </span><span class="s1">in </span><span class="s0">originalExports ? _initialize : undefined;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(p === </span><span class="s2">'_start'</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s0">p </span><span class="s1">in </span><span class="s0">originalExports ? _start : undefined;</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">Reflect.get(originalExports, p, receiver);</span>
        <span class="s0">};</span>
        <span class="s0">handler.has = </span><span class="s1">function </span><span class="s0">(_target, p) {</span>
            <span class="s1">if </span><span class="s0">(p === </span><span class="s2">'memory'</span><span class="s0">)</span>
                <span class="s1">return true</span><span class="s0">;</span>
            <span class="s1">return </span><span class="s0">Reflect.has(originalExports, p);</span>
        <span class="s0">};</span>
        <span class="s1">var </span><span class="s0">exportsProxy = </span><span class="s1">new </span><span class="s0">Proxy(Object.create(</span><span class="s1">null</span><span class="s0">), handler);</span>
        <span class="s1">return new </span><span class="s0">Proxy(instance, {</span>
            <span class="s0">get: </span><span class="s1">function </span><span class="s0">(target, p, receiver) {</span>
                <span class="s1">if </span><span class="s0">(p === </span><span class="s2">'exports'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">exportsProxy;</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(p === kIsProxy) {</span>
                    <span class="s1">return true</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">Reflect.get(target, p, receiver);</span>
            <span class="s0">}</span>
        <span class="s0">});</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">patchedWasiInstances = </span><span class="s1">new </span><span class="s0">WeakMap();</span>
    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">var </span><span class="s0">WASIThreads = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">(</span><span class="s1">function </span><span class="s0">() {</span>
        <span class="s1">function </span><span class="s0">WASIThreads(options) {</span>
            <span class="s1">var </span><span class="s0">_this_1 = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s1">if </span><span class="s0">(!options) {</span>
                <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'WASIThreads(): options is not provided'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(!options.wasi) {</span>
                <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'WASIThreads(): options.wasi is not provided'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s0">patchedWasiInstances.set(</span><span class="s1">this</span><span class="s0">, </span><span class="s1">new </span><span class="s0">WeakSet());</span>
            <span class="s1">var </span><span class="s0">wasi = options.wasi;</span>
            <span class="s0">patchWasiInstance(</span><span class="s1">this</span><span class="s0">, wasi);</span>
            <span class="s1">this</span><span class="s0">.wasi = wasi;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">'childThread' </span><span class="s1">in </span><span class="s0">options) {</span>
                <span class="s1">this</span><span class="s0">.childThread = Boolean(options.childThread);</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">.childThread = </span><span class="s1">false</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.PThread = undefined;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">'threadManager' </span><span class="s1">in </span><span class="s0">options) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options.threadManager === </span><span class="s2">'function'</span><span class="s0">) {</span>
                    <span class="s1">this</span><span class="s0">.PThread = options.threadManager();</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">this</span><span class="s0">.PThread = options.threadManager;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.childThread) {</span>
                    <span class="s1">this</span><span class="s0">.PThread = </span><span class="s1">new </span><span class="s0">ThreadManager(options);</span>
                    <span class="s1">this</span><span class="s0">.PThread.init();</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">waitThreadStart = </span><span class="s1">false</span><span class="s0">;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">'waitThreadStart' </span><span class="s1">in </span><span class="s0">options) {</span>
                <span class="s0">waitThreadStart = </span><span class="s1">typeof </span><span class="s0">options.waitThreadStart === </span><span class="s2">'number' </span><span class="s0">? options.waitThreadStart : Boolean(options.waitThreadStart);</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">postMessage = getPostMessage(options);</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.childThread &amp;&amp; </span><span class="s1">typeof </span><span class="s0">postMessage !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'options.postMessage is not a function'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.postMessage = postMessage;</span>
            <span class="s1">var </span><span class="s0">wasm64 = Boolean(options.wasm64);</span>
            <span class="s1">var </span><span class="s0">onMessage = </span><span class="s1">function </span><span class="s0">(e) {</span>
                <span class="s1">if </span><span class="s0">(e.data.__emnapi__) {</span>
                    <span class="s1">var </span><span class="s0">type = e.data.__emnapi__.type;</span>
                    <span class="s1">var </span><span class="s0">payload = e.data.__emnapi__.payload;</span>
                    <span class="s1">if </span><span class="s0">(type === </span><span class="s2">'spawn-thread'</span><span class="s0">) {</span>
                        <span class="s0">threadSpawn(payload.startArg, payload.errorOrTid);</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(type === </span><span class="s2">'terminate-all-threads'</span><span class="s0">) {</span>
                        <span class="s0">_this_1.terminateAllThreads();</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">};</span>
            <span class="s1">var </span><span class="s0">threadSpawn = </span><span class="s1">function </span><span class="s0">(startArg, errorOrTid) {</span>
                <span class="s1">var </span><span class="s0">_a;</span>
                <span class="s1">var </span><span class="s0">EAGAIN = </span><span class="s4">6</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">isNewABI = errorOrTid !== undefined;</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s0">checkSharedWasmMemory(_this_1.wasmMemory);</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">(_a = _this_1.PThread) === </span><span class="s1">null </span><span class="s0">|| _a === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _a.printErr(err.stack);</span>
                    <span class="s1">if </span><span class="s0">(isNewABI) {</span>
                        <span class="s1">var </span><span class="s0">struct_1 = </span><span class="s1">new </span><span class="s0">Int32Array(_this_1.wasmMemory.buffer, errorOrTid, </span><span class="s4">2</span><span class="s0">);</span>
                        <span class="s0">Atomics.store(struct_1, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s0">Atomics.store(struct_1, </span><span class="s4">1</span><span class="s0">, EAGAIN);</span>
                        <span class="s0">Atomics.notify(struct_1, </span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s1">return </span><span class="s4">1</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">return </span><span class="s0">-EAGAIN;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(!isNewABI) {</span>
                    <span class="s1">var </span><span class="s0">malloc = _this_1.wasmInstance.exports.malloc;</span>
                    <span class="s0">errorOrTid = wasm64 ? Number(malloc(BigInt(</span><span class="s4">8</span><span class="s0">))) : malloc(</span><span class="s4">8</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!errorOrTid) {</span>
                        <span class="s1">return </span><span class="s0">-</span><span class="s4">48</span><span class="s0">; </span><span class="s3">/* ENOMEM */</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">_free = _this_1.wasmInstance.exports.free;</span>
                <span class="s1">var </span><span class="s0">free = wasm64 ? </span><span class="s1">function </span><span class="s0">(ptr) { _free(BigInt(ptr)); } : _free;</span>
                <span class="s1">var </span><span class="s0">struct = </span><span class="s1">new </span><span class="s0">Int32Array(_this_1.wasmMemory.buffer, errorOrTid, </span><span class="s4">2</span><span class="s0">);</span>
                <span class="s0">Atomics.store(struct, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">);</span>
                <span class="s0">Atomics.store(struct, </span><span class="s4">1</span><span class="s0">, </span><span class="s4">0</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(_this_1.childThread) {</span>
                    <span class="s0">postMessage(createMessage(</span><span class="s2">'spawn-thread'</span><span class="s0">, {</span>
                        <span class="s0">startArg: startArg,</span>
                        <span class="s0">errorOrTid: errorOrTid</span>
                    <span class="s0">}));</span>
                    <span class="s0">Atomics.wait(struct, </span><span class="s4">1</span><span class="s0">, </span><span class="s4">0</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">isError = Atomics.load(struct, </span><span class="s4">0</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">result = Atomics.load(struct, </span><span class="s4">1</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(isNewABI) {</span>
                        <span class="s1">return </span><span class="s0">isError;</span>
                    <span class="s0">}</span>
                    <span class="s0">free(errorOrTid);</span>
                    <span class="s1">return </span><span class="s0">isError ? -result : result;</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">shouldWait = waitThreadStart || (waitThreadStart === </span><span class="s4">0</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">sab;</span>
                <span class="s1">if </span><span class="s0">(shouldWait) {</span>
                    <span class="s0">sab = </span><span class="s1">new </span><span class="s0">Int32Array(</span><span class="s1">new </span><span class="s0">SharedArrayBuffer(</span><span class="s4">16 </span><span class="s0">+ </span><span class="s4">8192</span><span class="s0">));</span>
                    <span class="s0">Atomics.store(sab, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">worker;</span>
                <span class="s1">var </span><span class="s0">tid;</span>
                <span class="s1">var </span><span class="s0">PThread = _this_1.PThread;</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s0">worker = PThread.getNewWorker(sab);</span>
                    <span class="s1">if </span><span class="s0">(!worker) {</span>
                        <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'failed to get new worker'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">PThread.addMessageEventListener(worker, onMessage);</span>
                    <span class="s0">tid = PThread.markId(worker);</span>
                    <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                        <span class="s0">worker.ref();</span>
                    <span class="s0">}</span>
                    <span class="s0">worker.postMessage(createMessage(</span><span class="s2">'start'</span><span class="s0">, {</span>
                        <span class="s0">tid: tid,</span>
                        <span class="s0">arg: startArg,</span>
                        <span class="s0">sab: sab</span>
                    <span class="s0">}));</span>
                    <span class="s1">if </span><span class="s0">(shouldWait) {</span>
                        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">waitThreadStart === </span><span class="s2">'number'</span><span class="s0">) {</span>
                            <span class="s1">var </span><span class="s0">waitResult = Atomics.wait(sab, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, waitThreadStart);</span>
                            <span class="s1">if </span><span class="s0">(waitResult === </span><span class="s2">'timed-out'</span><span class="s0">) {</span>
                                <span class="s1">try </span><span class="s0">{</span>
                                    <span class="s0">PThread.cleanThread(worker, tid, </span><span class="s1">true</span><span class="s0">);</span>
                                <span class="s0">}</span>
                                <span class="s1">catch </span><span class="s0">(_) { }</span>
                                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'Spawning thread timed out. Please check if the worker is created successfully and if message is handled properly in the worker.'</span><span class="s0">);</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">Atomics.wait(sab, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">var </span><span class="s0">r = Atomics.load(sab, </span><span class="s4">0</span><span class="s0">);</span>
                        <span class="s1">if </span><span class="s0">(r &gt; </span><span class="s4">1</span><span class="s0">) {</span>
                            <span class="s1">try </span><span class="s0">{</span>
                                <span class="s0">PThread.cleanThread(worker, tid, </span><span class="s1">true</span><span class="s0">);</span>
                            <span class="s0">}</span>
                            <span class="s1">catch </span><span class="s0">(_) { }</span>
                            <span class="s1">throw </span><span class="s0">deserizeErrorFromBuffer(sab.buffer);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(e) {</span>
                    <span class="s0">Atomics.store(struct, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>
                    <span class="s0">Atomics.store(struct, </span><span class="s4">1</span><span class="s0">, EAGAIN);</span>
                    <span class="s0">Atomics.notify(struct, </span><span class="s4">1</span><span class="s0">);</span>
                    <span class="s0">PThread === </span><span class="s1">null </span><span class="s0">|| PThread === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: PThread.printErr(e.stack);</span>
                    <span class="s1">if </span><span class="s0">(isNewABI) {</span>
                        <span class="s1">return </span><span class="s4">1</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s0">free(errorOrTid);</span>
                    <span class="s1">return </span><span class="s0">-EAGAIN;</span>
                <span class="s0">}</span>
                <span class="s0">Atomics.store(struct, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">);</span>
                <span class="s0">Atomics.store(struct, </span><span class="s4">1</span><span class="s0">, tid);</span>
                <span class="s0">Atomics.notify(struct, </span><span class="s4">1</span><span class="s0">);</span>
                <span class="s0">PThread.runningWorkers.push(worker);</span>
                <span class="s1">if </span><span class="s0">(!shouldWait) {</span>
                    <span class="s0">worker.whenLoaded.catch(</span><span class="s1">function </span><span class="s0">(err) {</span>
                        <span class="s1">delete </span><span class="s0">worker.whenLoaded;</span>
                        <span class="s0">PThread.cleanThread(worker, tid, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">throw </span><span class="s0">err;</span>
                    <span class="s0">});</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(isNewABI) {</span>
                    <span class="s1">return </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s0">free(errorOrTid);</span>
                <span class="s1">return </span><span class="s0">tid;</span>
            <span class="s0">};</span>
            <span class="s1">this</span><span class="s0">.threadSpawn = threadSpawn;</span>
        <span class="s0">}</span>
        <span class="s0">WASIThreads.prototype.getImportObject = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">wasi: {</span>
                    <span class="s2">'thread-spawn'</span><span class="s0">: </span><span class="s1">this</span><span class="s0">.threadSpawn</span>
                <span class="s0">}</span>
            <span class="s0">};</span>
        <span class="s0">};</span>
        <span class="s0">WASIThreads.prototype.setup = </span><span class="s1">function </span><span class="s0">(wasmInstance, wasmModule, wasmMemory) {</span>
            <span class="s0">wasmMemory !== </span><span class="s1">null </span><span class="s0">&amp;&amp; wasmMemory !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? wasmMemory : (wasmMemory = wasmInstance.exports.memory);</span>
            <span class="s1">this</span><span class="s0">.wasmInstance = wasmInstance;</span>
            <span class="s1">this</span><span class="s0">.wasmMemory = wasmMemory;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.PThread) {</span>
                <span class="s1">this</span><span class="s0">.PThread.setup(wasmModule, wasmMemory);</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s0">WASIThreads.prototype.preloadWorkers = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.PThread) {</span>
                <span class="s1">return this</span><span class="s0">.PThread.preloadWorkers();</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">Promise.resolve([]);</span>
        <span class="s0">};</span>
        <span class="s3">/**</span>
         <span class="s3">* It's ok to call this method to a WASI command module.</span>
         <span class="s3">*</span>
         <span class="s3">* in child thread, must call this method instead of {</span><span class="s5">@link </span><span class="s3">WASIThreads.start} even if it's a WASI command module</span>
         <span class="s3">*</span>
         <span class="s3">* </span><span class="s5">@returns </span><span class="s3">A proxied WebAssembly instance if in child thread, other wise the original instance</span>
         <span class="s3">*/</span>
        <span class="s0">WASIThreads.prototype.initialize = </span><span class="s1">function </span><span class="s0">(instance, module, memory) {</span>
            <span class="s1">var </span><span class="s0">exports = instance.exports;</span>
            <span class="s0">memory !== </span><span class="s1">null </span><span class="s0">&amp;&amp; memory !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? memory : (memory = exports.memory);</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.childThread) {</span>
                <span class="s0">instance = createInstanceProxy(instance, memory);</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.setup(instance, module, memory);</span>
            <span class="s1">var </span><span class="s0">wasi = </span><span class="s1">this</span><span class="s0">.wasi;</span>
            <span class="s1">if </span><span class="s0">((</span><span class="s2">'_start' </span><span class="s1">in </span><span class="s0">exports) &amp;&amp; (</span><span class="s1">typeof </span><span class="s0">exports._start === </span><span class="s2">'function'</span><span class="s0">)) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.childThread) {</span>
                    <span class="s0">wasi.start(instance);</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s1">var </span><span class="s0">kStarted = getWasiSymbol(wasi, </span><span class="s2">'kStarted'</span><span class="s0">);</span>
                        <span class="s0">wasi[kStarted] = </span><span class="s1">false</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) { }</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">setupInstance(wasi, instance);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s0">wasi.initialize(instance);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">instance;</span>
        <span class="s0">};</span>
        <span class="s3">/**</span>
         <span class="s3">* Equivalent to calling {</span><span class="s5">@link </span><span class="s3">WASIThreads.initialize} and then calling {</span><span class="s5">@link </span><span class="s3">WASIInstance.start}</span>
         <span class="s3">* ```js</span>
         <span class="s3">* this.initialize(instance, module, memory)</span>
         <span class="s3">* this.wasi.start(instance)</span>
         <span class="s3">* ```</span>
         <span class="s3">*/</span>
        <span class="s0">WASIThreads.prototype.start = </span><span class="s1">function </span><span class="s0">(instance, module, memory) {</span>
            <span class="s1">var </span><span class="s0">exports = instance.exports;</span>
            <span class="s0">memory !== </span><span class="s1">null </span><span class="s0">&amp;&amp; memory !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? memory : (memory = exports.memory);</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.childThread) {</span>
                <span class="s0">instance = createInstanceProxy(instance, memory);</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.setup(instance, module, memory);</span>
            <span class="s1">var </span><span class="s0">exitCode = </span><span class="s1">this</span><span class="s0">.wasi.start(instance);</span>
            <span class="s1">return </span><span class="s0">{ exitCode: exitCode, instance: instance };</span>
        <span class="s0">};</span>
        <span class="s0">WASIThreads.prototype.terminateAllThreads = </span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">_a;</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s1">this</span><span class="s0">.childThread) {</span>
                <span class="s0">(_a = </span><span class="s1">this</span><span class="s0">.PThread) === </span><span class="s1">null </span><span class="s0">|| _a === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _a.terminateAllThreads();</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">.postMessage(createMessage(</span><span class="s2">'terminate-all-threads'</span><span class="s0">, {}));</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s1">return </span><span class="s0">WASIThreads;</span>
    <span class="s0">}());</span>
    <span class="s1">function </span><span class="s0">patchWasiInstance(wasiThreads, wasi) {</span>
        <span class="s1">var </span><span class="s0">patched = patchedWasiInstances.get(wasiThreads);</span>
        <span class="s1">if </span><span class="s0">(patched.has(wasi)) {</span>
            <span class="s1">return</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s0">_this = wasiThreads;</span>
        <span class="s1">var </span><span class="s0">wasiImport = wasi.wasiImport;</span>
        <span class="s1">if </span><span class="s0">(wasiImport) {</span>
            <span class="s1">var </span><span class="s0">proc_exit_1 = wasiImport.proc_exit;</span>
            <span class="s0">wasiImport.proc_exit = </span><span class="s1">function </span><span class="s0">(code) {</span>
                <span class="s0">_this.terminateAllThreads();</span>
                <span class="s1">return </span><span class="s0">proc_exit_1.call(</span><span class="s1">this</span><span class="s0">, code);</span>
            <span class="s0">};</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(!_this.childThread) {</span>
            <span class="s1">var </span><span class="s0">start_1 = wasi.start;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">start_1 === </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s0">wasi.start = </span><span class="s1">function </span><span class="s0">(instance) {</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s1">return </span><span class="s0">start_1.call(</span><span class="s1">this</span><span class="s0">, instance);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(err) {</span>
                        <span class="s1">if </span><span class="s0">(isTrapError(err)) {</span>
                            <span class="s0">_this.terminateAllThreads();</span>
                        <span class="s0">}</span>
                        <span class="s1">throw </span><span class="s0">err;</span>
                    <span class="s0">}</span>
                <span class="s0">};</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s0">patched.add(wasi);</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">getWasiSymbol(wasi, description) {</span>
        <span class="s1">var </span><span class="s0">symbols = Object.getOwnPropertySymbols(wasi);</span>
        <span class="s1">var </span><span class="s0">selectDescription = </span><span class="s1">function </span><span class="s0">(description) { </span><span class="s1">return function </span><span class="s0">(s) {</span>
            <span class="s1">if </span><span class="s0">(s.description) {</span>
                <span class="s1">return </span><span class="s0">s.description === description;</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">s.toString() === </span><span class="s2">&quot;Symbol(&quot;</span><span class="s0">.concat(description, </span><span class="s2">&quot;)&quot;</span><span class="s0">);</span>
        <span class="s0">}; };</span>
        <span class="s1">if </span><span class="s0">(Array.isArray(description)) {</span>
            <span class="s1">return </span><span class="s0">description.map(</span><span class="s1">function </span><span class="s0">(d) { </span><span class="s1">return </span><span class="s0">symbols.filter(selectDescription(d))[</span><span class="s4">0</span><span class="s0">]; });</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s0">symbols.filter(selectDescription(description))[</span><span class="s4">0</span><span class="s0">];</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">setupInstance(wasi, instance) {</span>
        <span class="s1">var </span><span class="s0">_a = getWasiSymbol(wasi, [</span><span class="s2">'kInstance'</span><span class="s0">, </span><span class="s2">'kSetMemory'</span><span class="s0">]), kInstance = _a[</span><span class="s4">0</span><span class="s0">], kSetMemory = _a[</span><span class="s4">1</span><span class="s0">];</span>
        <span class="s0">wasi[kInstance] = instance;</span>
        <span class="s0">wasi[kSetMemory](instance.exports.memory);</span>
    <span class="s0">}</span>

    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">var </span><span class="s0">ThreadMessageHandler = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">(</span><span class="s1">function </span><span class="s0">() {</span>
        <span class="s1">function </span><span class="s0">ThreadMessageHandler(options) {</span>
            <span class="s1">var </span><span class="s0">postMsg = getPostMessage(options);</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">postMsg !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'options.postMessage is not a function'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.postMessage = postMsg;</span>
            <span class="s1">this</span><span class="s0">.onLoad = options === </span><span class="s1">null </span><span class="s0">|| options === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: options.onLoad;</span>
            <span class="s1">this</span><span class="s0">.onError = </span><span class="s1">typeof </span><span class="s0">(options === </span><span class="s1">null </span><span class="s0">|| options === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: options.onError) === </span><span class="s2">'function' </span><span class="s0">? options.onError : </span><span class="s1">function </span><span class="s0">(_type, err) { </span><span class="s1">throw </span><span class="s0">err; };</span>
            <span class="s1">this</span><span class="s0">.instance = undefined;</span>
            <span class="s3">// this.module = undefined</span>
            <span class="s1">this</span><span class="s0">.messagesBeforeLoad = [];</span>
        <span class="s0">}</span>
        <span class="s3">/** </span><span class="s5">@virtual </span><span class="s3">*/</span>
        <span class="s0">ThreadMessageHandler.prototype.instantiate = </span><span class="s1">function </span><span class="s0">(data) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof this</span><span class="s0">.onLoad === </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s1">return this</span><span class="s0">.onLoad(data);</span>
            <span class="s0">}</span>
            <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'ThreadMessageHandler.prototype.instantiate is not implemented'</span><span class="s0">);</span>
        <span class="s0">};</span>
        <span class="s3">/** </span><span class="s5">@virtual </span><span class="s3">*/</span>
        <span class="s0">ThreadMessageHandler.prototype.handle = </span><span class="s1">function </span><span class="s0">(e) {</span>
            <span class="s1">var </span><span class="s0">_this = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s0">_a;</span>
            <span class="s1">if </span><span class="s0">((_a = e === </span><span class="s1">null </span><span class="s0">|| e === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: e.data) === </span><span class="s1">null </span><span class="s0">|| _a === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _a.__emnapi__) {</span>
                <span class="s1">var </span><span class="s0">type = e.data.__emnapi__.type;</span>
                <span class="s1">var </span><span class="s0">payload_1 = e.data.__emnapi__.payload;</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(type === </span><span class="s2">'load'</span><span class="s0">) {</span>
                        <span class="s1">this</span><span class="s0">._load(payload_1);</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(type === </span><span class="s2">'start'</span><span class="s0">) {</span>
                        <span class="s1">this</span><span class="s0">.handleAfterLoad(e, </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s0">_this._start(payload_1);</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s1">this</span><span class="s0">.onError(err, type);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s0">ThreadMessageHandler.prototype._load = </span><span class="s1">function </span><span class="s0">(payload) {</span>
            <span class="s1">var </span><span class="s0">_this = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.instance !== undefined)</span>
                <span class="s1">return</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s0">source;</span>
            <span class="s1">try </span><span class="s0">{</span>
                <span class="s0">source = </span><span class="s1">this</span><span class="s0">.instantiate(payload);</span>
            <span class="s0">}</span>
            <span class="s1">catch </span><span class="s0">(err) {</span>
                <span class="s1">this</span><span class="s0">._loaded(err, </span><span class="s1">null</span><span class="s0">, payload);</span>
                <span class="s1">return</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">then = source &amp;&amp; </span><span class="s2">'then' </span><span class="s1">in </span><span class="s0">source ? source.then : undefined;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">then === </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-floating-promises</span>
                <span class="s0">then.call(source, </span><span class="s1">function </span><span class="s0">(source) { _this._loaded(</span><span class="s1">null</span><span class="s0">, source, payload); }, </span><span class="s1">function </span><span class="s0">(err) { _this._loaded(err, </span><span class="s1">null</span><span class="s0">, payload); });</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">._loaded(</span><span class="s1">null</span><span class="s0">, source, payload);</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s0">ThreadMessageHandler.prototype._start = </span><span class="s1">function </span><span class="s0">(payload) {</span>
            <span class="s1">var </span><span class="s0">wasi_thread_start = </span><span class="s1">this</span><span class="s0">.instance.exports.wasi_thread_start;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">wasi_thread_start !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s1">var </span><span class="s0">err = </span><span class="s1">new </span><span class="s0">TypeError(</span><span class="s2">'wasi_thread_start is not exported'</span><span class="s0">);</span>
                <span class="s0">notifyPthreadCreateResult(payload.sab, </span><span class="s4">2</span><span class="s0">, err);</span>
                <span class="s1">throw </span><span class="s0">err;</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">postMessage = </span><span class="s1">this</span><span class="s0">.postMessage;</span>
            <span class="s1">var </span><span class="s0">tid = payload.tid;</span>
            <span class="s1">var </span><span class="s0">startArg = payload.arg;</span>
            <span class="s0">notifyPthreadCreateResult(payload.sab, </span><span class="s4">1</span><span class="s0">);</span>
            <span class="s1">try </span><span class="s0">{</span>
                <span class="s0">wasi_thread_start(tid, startArg);</span>
            <span class="s0">}</span>
            <span class="s1">catch </span><span class="s0">(err) {</span>
                <span class="s1">if </span><span class="s0">(err !== </span><span class="s2">'unwind'</span><span class="s0">) {</span>
                    <span class="s1">throw </span><span class="s0">err;</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">return</span><span class="s0">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s0">postMessage(createMessage(</span><span class="s2">'cleanup-thread'</span><span class="s0">, { tid: tid }));</span>
        <span class="s0">};</span>
        <span class="s0">ThreadMessageHandler.prototype._loaded = </span><span class="s1">function </span><span class="s0">(err, source, payload) {</span>
            <span class="s1">if </span><span class="s0">(err) {</span>
                <span class="s0">notifyPthreadCreateResult(payload.sab, </span><span class="s4">2</span><span class="s0">, err);</span>
                <span class="s1">throw </span><span class="s0">err;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(source == </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s1">var </span><span class="s0">err_1 = </span><span class="s1">new </span><span class="s0">TypeError(</span><span class="s2">'onLoad should return an object'</span><span class="s0">);</span>
                <span class="s0">notifyPthreadCreateResult(payload.sab, </span><span class="s4">2</span><span class="s0">, err_1);</span>
                <span class="s1">throw </span><span class="s0">err_1;</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">instance = source.instance;</span>
            <span class="s1">if </span><span class="s0">(!instance) {</span>
                <span class="s1">var </span><span class="s0">err_2 = </span><span class="s1">new </span><span class="s0">TypeError(</span><span class="s2">'onLoad should return an object which includes &quot;instance&quot;'</span><span class="s0">);</span>
                <span class="s0">notifyPthreadCreateResult(payload.sab, </span><span class="s4">2</span><span class="s0">, err_2);</span>
                <span class="s1">throw </span><span class="s0">err_2;</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.instance = instance;</span>
            <span class="s1">var </span><span class="s0">postMessage = </span><span class="s1">this</span><span class="s0">.postMessage;</span>
            <span class="s0">postMessage(createMessage(</span><span class="s2">'loaded'</span><span class="s0">, {}));</span>
            <span class="s1">var </span><span class="s0">messages = </span><span class="s1">this</span><span class="s0">.messagesBeforeLoad;</span>
            <span class="s1">this</span><span class="s0">.messagesBeforeLoad = [];</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; messages.length; i++) {</span>
                <span class="s1">var </span><span class="s0">data = messages[i];</span>
                <span class="s1">this</span><span class="s0">.handle({ data: data });</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s0">ThreadMessageHandler.prototype.handleAfterLoad = </span><span class="s1">function </span><span class="s0">(e, f) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">this</span><span class="s0">.instance !== undefined) {</span>
                <span class="s0">f.call(</span><span class="s1">this</span><span class="s0">, e);</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s1">this</span><span class="s0">.messagesBeforeLoad.push(e.data);</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s1">return </span><span class="s0">ThreadMessageHandler;</span>
    <span class="s0">}());</span>
    <span class="s1">function </span><span class="s0">notifyPthreadCreateResult(sab, result, error) {</span>
        <span class="s1">if </span><span class="s0">(sab) {</span>
            <span class="s0">serizeErrorToBuffer(sab.buffer, result, error);</span>
            <span class="s0">Atomics.notify(sab, </span><span class="s4">0</span><span class="s0">);</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">createNapiModule(options) {</span>
        <span class="s1">var </span><span class="s0">napiModule = (</span><span class="s1">function </span><span class="s0">() {</span>
            <span class="s1">var </span><span class="s0">ENVIRONMENT_IS_NODE = </span><span class="s1">typeof </span><span class="s0">process === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; process !== </span><span class="s1">null </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">process.versions === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; process.versions !== </span><span class="s1">null </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">process.versions.node === </span><span class="s2">'string'</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s0">ENVIRONMENT_IS_PTHREAD = Boolean(options.childThread);</span>
            <span class="s1">var </span><span class="s0">waitThreadStart = </span><span class="s1">typeof </span><span class="s0">options.waitThreadStart === </span><span class="s2">'number' </span><span class="s0">? options.waitThreadStart : Boolean(options.waitThreadStart);</span>
            <span class="s1">var </span><span class="s0">wasmInstance;</span>
            <span class="s1">var </span><span class="s0">wasmMemory;</span>
            <span class="s1">var </span><span class="s0">wasmTable;</span>
            <span class="s1">var </span><span class="s0">_malloc;</span>
            <span class="s1">var </span><span class="s0">_free;</span>
            <span class="s1">function </span><span class="s0">abort(msg) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">_WebAssembly$1.RuntimeError === </span><span class="s2">'function'</span><span class="s0">) {</span>
                    <span class="s1">throw new </span><span class="s0">_WebAssembly$1.RuntimeError(msg);</span>
                <span class="s0">}</span>
                <span class="s1">throw </span><span class="s0">Error(msg);</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">napiModule = {</span>
                <span class="s0">imports: {</span>
                    <span class="s0">env: {},</span>
                    <span class="s0">napi: {},</span>
                    <span class="s0">emnapi: {}</span>
                <span class="s0">},</span>
                <span class="s0">exports: {},</span>
                <span class="s0">emnapi: {},</span>
                <span class="s0">loaded: </span><span class="s1">false</span><span class="s0">,</span>
                <span class="s0">filename: </span><span class="s2">''</span><span class="s0">,</span>
                <span class="s0">childThread: ENVIRONMENT_IS_PTHREAD,</span>
                <span class="s0">initWorker: undefined,</span>
                <span class="s0">executeAsyncWork: undefined,</span>
                <span class="s0">waitThreadStart: waitThreadStart,</span>
                <span class="s0">PThread: undefined,</span>
                <span class="s0">init: </span><span class="s1">function </span><span class="s0">(options) {</span>
                    <span class="s1">if </span><span class="s0">(napiModule.loaded)</span>
                        <span class="s1">return </span><span class="s0">napiModule.exports;</span>
                    <span class="s1">if </span><span class="s0">(!options)</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid napi init options'</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">instance = options.instance;</span>
                    <span class="s1">if </span><span class="s0">(!(instance === </span><span class="s1">null </span><span class="s0">|| instance === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: instance.exports))</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid wasm instance'</span><span class="s0">);</span>
                    <span class="s0">wasmInstance = instance;</span>
                    <span class="s1">var </span><span class="s0">exports = instance.exports;</span>
                    <span class="s1">var </span><span class="s0">module = options.module;</span>
                    <span class="s1">var </span><span class="s0">memory = options.memory || exports.memory;</span>
                    <span class="s1">var </span><span class="s0">table = options.table || exports.__indirect_function_table;</span>
                    <span class="s1">if </span><span class="s0">(!(module </span><span class="s1">instanceof </span><span class="s0">_WebAssembly$1.Module))</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid wasm module'</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!(memory </span><span class="s1">instanceof </span><span class="s0">_WebAssembly$1.Memory))</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid wasm memory'</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!(table </span><span class="s1">instanceof </span><span class="s0">_WebAssembly$1.Table))</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid wasm table'</span><span class="s0">);</span>
                    <span class="s0">wasmMemory = memory;</span>
                    <span class="s0">wasmTable = table;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">exports.malloc !== </span><span class="s2">'function'</span><span class="s0">)</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'malloc is not exported'</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">exports.free !== </span><span class="s2">'function'</span><span class="s0">)</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'free is not exported'</span><span class="s0">);</span>
                    <span class="s0">_malloc = exports.malloc;</span>
                    <span class="s0">_free = exports.free;</span>
                    <span class="s1">if </span><span class="s0">(!napiModule.childThread) {</span>
                        <span class="s3">// main thread only</span>
                        <span class="s1">var </span><span class="s0">moduleApiVersion = </span><span class="s4">8 </span><span class="s3">/* Version.NODE_API_DEFAULT_MODULE_API_VERSION */</span><span class="s0">;</span>
                        <span class="s1">var </span><span class="s0">node_api_module_get_api_version_v1 = instance.exports.node_api_module_get_api_version_v1;</span>
                        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">node_api_module_get_api_version_v1 === </span><span class="s2">'function'</span><span class="s0">) {</span>
                            <span class="s0">moduleApiVersion = node_api_module_get_api_version_v1();</span>
                        <span class="s0">}</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing</span>
                        <span class="s1">var </span><span class="s0">envObject = napiModule.envObject || (napiModule.envObject = emnapiCtx.createEnv(napiModule.filename, moduleApiVersion, </span><span class="s1">function </span><span class="s0">(cb) { </span><span class="s1">return </span><span class="s0">(wasmTable.get(cb)); }, </span><span class="s1">function </span><span class="s0">(cb) { </span><span class="s1">return </span><span class="s0">(wasmTable.get(cb)); }, abort, emnapiNodeBinding));</span>
                        <span class="s1">var </span><span class="s0">scope_1 = emnapiCtx.openScope(envObject);</span>
                        <span class="s1">try </span><span class="s0">{</span>
                            <span class="s0">envObject.callIntoModule(</span><span class="s1">function </span><span class="s0">(_envObject) {</span>
                                <span class="s1">var </span><span class="s0">exports = napiModule.exports;</span>
                                <span class="s1">var </span><span class="s0">exportsHandle = scope_1.add(exports);</span>
                                <span class="s1">var </span><span class="s0">napi_register_wasm_v1 = instance.exports.napi_register_wasm_v1;</span>
                                <span class="s1">var </span><span class="s0">napiValue = napi_register_wasm_v1(_envObject.id, exportsHandle.id);</span>
                                <span class="s0">napiModule.exports = (!napiValue) ? exports : emnapiCtx.handleStore.get(napiValue).value;</span>
                            <span class="s0">});</span>
                        <span class="s0">}</span>
                        <span class="s1">catch </span><span class="s0">(e) {</span>
                            <span class="s1">if </span><span class="s0">(e !== </span><span class="s2">'unwind'</span><span class="s0">) {</span>
                                <span class="s1">throw </span><span class="s0">e;</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s1">finally </span><span class="s0">{</span>
                            <span class="s0">emnapiCtx.closeScope(envObject, scope_1);</span>
                        <span class="s0">}</span>
                        <span class="s0">napiModule.loaded = </span><span class="s1">true</span><span class="s0">;</span>
                        <span class="s1">delete </span><span class="s0">napiModule.envObject;</span>
                        <span class="s1">return </span><span class="s0">napiModule.exports;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">};</span>
            <span class="s1">var </span><span class="s0">emnapiCtx;</span>
            <span class="s1">var </span><span class="s0">emnapiNodeBinding;</span>
            <span class="s1">var </span><span class="s0">onCreateWorker = undefined;</span>
            <span class="s1">var </span><span class="s0">err;</span>
            <span class="s1">if </span><span class="s0">(!ENVIRONMENT_IS_PTHREAD) {</span>
                <span class="s1">var </span><span class="s0">context = options.context;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">context !== </span><span class="s2">'object' </span><span class="s0">|| context === </span><span class="s1">null</span><span class="s0">) {</span>
                    <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">&quot;Invalid `options.context`. Use `import { getDefaultContext } from '@emnapi/runtime'`&quot;</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s0">emnapiCtx = context;</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s0">emnapiCtx = options === </span><span class="s1">null </span><span class="s0">|| options === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: options.context;</span>
                <span class="s1">var </span><span class="s0">postMsg = </span><span class="s1">typeof </span><span class="s0">options.postMessage === </span><span class="s2">'function'</span>
                    <span class="s0">? options.postMessage</span>
                    <span class="s0">: </span><span class="s1">typeof </span><span class="s0">postMessage === </span><span class="s2">'function'</span>
                        <span class="s0">? postMessage</span>
                        <span class="s0">: undefined;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">postMsg !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                    <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'No postMessage found'</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s0">napiModule.postMessage = postMsg;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options.filename === </span><span class="s2">'string'</span><span class="s0">) {</span>
                <span class="s0">napiModule.filename = options.filename;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options.onCreateWorker === </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s0">onCreateWorker = options.onCreateWorker;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options.print === </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s0">options.print;</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s0">console.log.bind(console);</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options.printErr === </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s0">err = options.printErr;</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s0">err = console.warn.bind(console);</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">'nodeBinding' </span><span class="s1">in </span><span class="s0">options) {</span>
                <span class="s1">var </span><span class="s0">nodeBinding = options.nodeBinding;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">nodeBinding !== </span><span class="s2">'object' </span><span class="s0">|| nodeBinding === </span><span class="s1">null</span><span class="s0">) {</span>
                    <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid `options.nodeBinding`. Use @emnapi/node-binding package'</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s0">emnapiNodeBinding = nodeBinding;</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">emnapiAsyncWorkPoolSize = </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">'asyncWorkPoolSize' </span><span class="s1">in </span><span class="s0">options) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options.asyncWorkPoolSize !== </span><span class="s2">'number'</span><span class="s0">) {</span>
                    <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'options.asyncWorkPoolSize must be a integer'</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s0">emnapiAsyncWorkPoolSize = options.asyncWorkPoolSize &gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">if </span><span class="s0">(emnapiAsyncWorkPoolSize &gt; </span><span class="s4">1024</span><span class="s0">) {</span>
                    <span class="s0">emnapiAsyncWorkPoolSize = </span><span class="s4">1024</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(emnapiAsyncWorkPoolSize &lt; -</span><span class="s4">1024</span><span class="s0">) {</span>
                    <span class="s0">emnapiAsyncWorkPoolSize = -</span><span class="s4">1024</span><span class="s0">;</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">singleThreadAsyncWork = ENVIRONMENT_IS_PTHREAD ? </span><span class="s1">false </span><span class="s0">: (emnapiAsyncWorkPoolSize &lt;= </span><span class="s4">0</span><span class="s0">);</span>
            <span class="s1">function </span><span class="s0">_emnapi_async_work_pool_size() {</span>
                <span class="s1">return </span><span class="s0">Math.abs(emnapiAsyncWorkPoolSize);</span>
            <span class="s0">}</span>
            <span class="s0">napiModule.imports.env._emnapi_async_work_pool_size = _emnapi_async_work_pool_size;</span>
            <span class="s3">// ------------------------------ pthread -------------------------------</span>
            <span class="s1">function </span><span class="s0">emnapiAddSendListener(worker) {</span>
                <span class="s1">if </span><span class="s0">(!worker)</span>
                    <span class="s1">return false</span><span class="s0">;</span>
                <span class="s1">if </span><span class="s0">(worker._emnapiSendListener)</span>
                    <span class="s1">return true</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">handler = </span><span class="s1">function </span><span class="s0">(e) {</span>
                    <span class="s1">var </span><span class="s0">data = ENVIRONMENT_IS_NODE ? e : e.data;</span>
                    <span class="s1">var </span><span class="s0">__emnapi__ = data.__emnapi__;</span>
                    <span class="s1">if </span><span class="s0">(__emnapi__ &amp;&amp; __emnapi__.type === </span><span class="s2">'async-send'</span><span class="s0">) {</span>
                        <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_PTHREAD) {</span>
                            <span class="s1">var </span><span class="s0">postMessage_1 = napiModule.postMessage;</span>
                            <span class="s0">postMessage_1({ __emnapi__: __emnapi__ });</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                            <span class="s1">var </span><span class="s0">callback = __emnapi__.payload.callback;</span>
                            <span class="s0">(wasmTable.get(callback))(__emnapi__.payload.data);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                <span class="s0">};</span>
                <span class="s1">var </span><span class="s0">dispose = </span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                        <span class="s0">worker.off(</span><span class="s2">'message'</span><span class="s0">, handler);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">worker.removeEventListener(</span><span class="s2">'message'</span><span class="s0">, handler, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">delete </span><span class="s0">worker._emnapiSendListener;</span>
                <span class="s0">};</span>
                <span class="s0">worker._emnapiSendListener = { handler: handler, dispose: dispose };</span>
                <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                    <span class="s0">worker.on(</span><span class="s2">'message'</span><span class="s0">, handler);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">worker.addEventListener(</span><span class="s2">'message'</span><span class="s0">, handler, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return true</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s0">napiModule.emnapi.addSendListener = emnapiAddSendListener;</span>
            <span class="s1">var </span><span class="s0">PThread = </span><span class="s1">new </span><span class="s0">ThreadManager(ENVIRONMENT_IS_PTHREAD</span>
                <span class="s0">? {</span>
                    <span class="s0">printErr: err,</span>
                    <span class="s0">childThread: </span><span class="s1">true</span>
                <span class="s0">}</span>
                <span class="s0">: {</span>
                    <span class="s0">printErr: err,</span>
                    <span class="s0">beforeLoad: </span><span class="s1">function </span><span class="s0">(worker) {</span>
                        <span class="s0">emnapiAddSendListener(worker);</span>
                    <span class="s0">},</span>
                    <span class="s0">reuseWorker: options.reuseWorker,</span>
                    <span class="s0">onCreateWorker: onCreateWorker</span>
                <span class="s0">});</span>
            <span class="s0">napiModule.PThread = PThread;</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipiip</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_set_last_error(env, error_code, engine_error_code, engine_reserved) {</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">return </span><span class="s0">envObject.setLastError(error_code, engine_error_code, engine_reserved);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ip</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_clear_last_error(env) {</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig vppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_get_node_version(major, minor, patch) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">versions = (</span><span class="s1">typeof </span><span class="s0">process === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; process !== </span><span class="s1">null </span><span class="s0">&amp;&amp;</span>
                    <span class="s1">typeof </span><span class="s0">process.versions === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; process.versions !== </span><span class="s1">null </span><span class="s0">&amp;&amp;</span>
                    <span class="s1">typeof </span><span class="s0">process.versions.node === </span><span class="s2">'string'</span><span class="s0">)</span>
                    <span class="s0">? process.versions.node.split(</span><span class="s2">'.'</span><span class="s0">).map(</span><span class="s1">function </span><span class="s0">(n) { </span><span class="s1">return </span><span class="s0">Number(n); })</span>
                    <span class="s0">: [</span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">];</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(major, versions[</span><span class="s4">0</span><span class="s0">], </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(minor, versions[</span><span class="s4">1</span><span class="s0">], </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(patch, versions[</span><span class="s4">2</span><span class="s0">], </span><span class="s1">true</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig v</span>
             <span class="s3">* @__deps $runtimeKeepalivePush</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_runtime_keepalive_push() {</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig v</span>
             <span class="s3">* @__deps $runtimeKeepalivePop</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_runtime_keepalive_pop() {</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig vpp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_set_immediate(callback, data) {</span>
                <span class="s0">emnapiCtx.feature.setImmediate(</span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s0">(wasmTable.get(callback))(data);</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig vpp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_next_tick(callback, data) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-floating-promises</span>
                <span class="s0">Promise.resolve().then(</span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s0">(wasmTable.get(callback))(data);</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig vipppi</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_callback_into_module(forceUncaught, env, callback, data, close_scope_if_throw) {</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">var </span><span class="s0">scope = emnapiCtx.openScope(envObject);</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s0">envObject.callbackIntoModule(Boolean(forceUncaught), </span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s0">(wasmTable.get(callback))(env, data);</span>
                    <span class="s0">});</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">emnapiCtx.closeScope(envObject, scope);</span>
                    <span class="s1">if </span><span class="s0">(close_scope_if_throw) {</span>
                        <span class="s0">emnapiCtx.closeScope(envObject);</span>
                    <span class="s0">}</span>
                    <span class="s1">throw </span><span class="s0">err;</span>
                <span class="s0">}</span>
                <span class="s0">emnapiCtx.closeScope(envObject, scope);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig vipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_call_finalizer(forceUncaught, env, callback, data, hint) {</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.callFinalizerInternal(forceUncaught, callback, data, hint);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig v</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_ctx_increase_waiting_request_counter() {</span>
                <span class="s0">emnapiCtx.increaseWaitingRequestCounter();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig v</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_ctx_decrease_waiting_request_counter() {</span>
                <span class="s0">emnapiCtx.decreaseWaitingRequestCounter();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig i</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_is_main_runtime_thread() {</span>
                <span class="s1">return </span><span class="s0">ENVIRONMENT_IS_PTHREAD ? </span><span class="s4">0 </span><span class="s0">: </span><span class="s4">1</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig i</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_is_main_browser_thread() {</span>
                <span class="s1">return </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">window !== </span><span class="s2">'undefined' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">document !== </span><span class="s2">'undefined' </span><span class="s0">&amp;&amp; !ENVIRONMENT_IS_NODE) ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig v</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_unwind() {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-throw-literal</span>
                <span class="s1">throw </span><span class="s2">'unwind'</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig d</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_get_now() {</span>
                <span class="s1">return </span><span class="s0">performance.timeOrigin + performance.now();</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s0">$emnapiSetValueI64(result, numberValue) {</span>
                <span class="s1">var </span><span class="s0">tempDouble;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">tempI64 = [</span>
                    <span class="s0">numberValue &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">,</span>
                    <span class="s0">(tempDouble = numberValue, +Math.abs(tempDouble) &gt;= </span><span class="s4">1 </span><span class="s0">? tempDouble &gt; </span><span class="s4">0 </span><span class="s0">? (Math.min(+Math.floor(tempDouble / </span><span class="s4">4294967296</span><span class="s0">), </span><span class="s4">4294967295</span><span class="s0">) | </span><span class="s4">0</span><span class="s0">) &gt;&gt;&gt; </span><span class="s4">0 </span><span class="s0">: ~~+Math.ceil((tempDouble - +(~~tempDouble &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">)) / </span><span class="s4">4294967296</span><span class="s0">) &gt;&gt;&gt; </span><span class="s4">0 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">)</span>
                <span class="s0">];</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt32(result, tempI64[</span><span class="s4">0</span><span class="s0">], </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt32(result + </span><span class="s4">4</span><span class="s0">, tempI64[</span><span class="s4">1</span><span class="s0">], </span><span class="s1">true</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__deps $emnapiCtx</span>
             <span class="s3">* @__sig p</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_open_handle_scope() {</span>
                <span class="s1">return </span><span class="s0">emnapiCtx.openScope().id;</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__deps $emnapiCtx</span>
             <span class="s3">* @__sig vp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">_emnapi_close_handle_scope(_scope) {</span>
                <span class="s1">return </span><span class="s0">emnapiCtx.closeScope();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">utilMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">$emnapiSetValueI64: $emnapiSetValueI64,</span>
                <span class="s0">_emnapi_call_finalizer: _emnapi_call_finalizer,</span>
                <span class="s0">_emnapi_callback_into_module: _emnapi_callback_into_module,</span>
                <span class="s0">_emnapi_close_handle_scope: _emnapi_close_handle_scope,</span>
                <span class="s0">_emnapi_ctx_decrease_waiting_request_counter: _emnapi_ctx_decrease_waiting_request_counter,</span>
                <span class="s0">_emnapi_ctx_increase_waiting_request_counter: _emnapi_ctx_increase_waiting_request_counter,</span>
                <span class="s0">_emnapi_get_node_version: _emnapi_get_node_version,</span>
                <span class="s0">_emnapi_get_now: _emnapi_get_now,</span>
                <span class="s0">_emnapi_is_main_browser_thread: _emnapi_is_main_browser_thread,</span>
                <span class="s0">_emnapi_is_main_runtime_thread: _emnapi_is_main_runtime_thread,</span>
                <span class="s0">_emnapi_next_tick: _emnapi_next_tick,</span>
                <span class="s0">_emnapi_open_handle_scope: _emnapi_open_handle_scope,</span>
                <span class="s0">_emnapi_runtime_keepalive_pop: _emnapi_runtime_keepalive_pop,</span>
                <span class="s0">_emnapi_runtime_keepalive_push: _emnapi_runtime_keepalive_push,</span>
                <span class="s0">_emnapi_set_immediate: _emnapi_set_immediate,</span>
                <span class="s0">_emnapi_unwind: _emnapi_unwind,</span>
                <span class="s0">napi_clear_last_error: napi_clear_last_error,</span>
                <span class="s0">napi_set_last_error: napi_set_last_error</span>
            <span class="s0">});</span>
            <span class="s1">function </span><span class="s0">emnapiGetWorkerByPthreadPtr(pthreadPtr) {</span>
                <span class="s1">var </span><span class="s0">view = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s3">/**</span>
                 <span class="s3">* wasi-sdk-20.0+threads</span>
                 <span class="s3">*</span>
                 <span class="s3">* struct pthread {</span>
                 <span class="s3">*   struct pthread *self;        // 0</span>
                 <span class="s3">*   struct pthread *prev, *next; // 4, 8</span>
                 <span class="s3">*   uintptr_t sysinfo;           // 12</span>
                 <span class="s3">*   uintptr_t canary;            // 16</span>
                 <span class="s3">*   int tid;                     // 20</span>
                 <span class="s3">*   // ...</span>
                 <span class="s3">* }</span>
                 <span class="s3">*/</span>
                <span class="s1">var </span><span class="s0">tidOffset = </span><span class="s4">20</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">tid = view.getInt32(pthreadPtr + tidOffset, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">worker = PThread.pthreads[tid];</span>
                <span class="s1">return </span><span class="s0">worker;</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig vp */</span>
            <span class="s1">function </span><span class="s0">_emnapi_worker_unref(pthreadPtr) {</span>
                <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_PTHREAD)</span>
                    <span class="s1">return</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">worker = emnapiGetWorkerByPthreadPtr(pthreadPtr);</span>
                <span class="s1">if </span><span class="s0">(worker &amp;&amp; </span><span class="s1">typeof </span><span class="s0">worker.unref === </span><span class="s2">'function'</span><span class="s0">) {</span>
                    <span class="s0">worker.unref();</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig vipp */</span>
            <span class="s1">function </span><span class="s0">_emnapi_async_send_js(type, callback, data) {</span>
                <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_PTHREAD) {</span>
                    <span class="s1">var </span><span class="s0">postMessage_1 = napiModule.postMessage;</span>
                    <span class="s0">postMessage_1({</span>
                        <span class="s0">__emnapi__: {</span>
                            <span class="s0">type: </span><span class="s2">'async-send'</span><span class="s0">,</span>
                            <span class="s0">payload: {</span>
                                <span class="s0">callback: callback,</span>
                                <span class="s0">data: data</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">});</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">switch </span><span class="s0">(type) {</span>
                        <span class="s1">case </span><span class="s4">0</span><span class="s0">:</span>
                            <span class="s0">_emnapi_set_immediate(callback, data);</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">1</span><span class="s0">:</span>
                            <span class="s0">_emnapi_next_tick(callback, data);</span>
                            <span class="s1">break</span><span class="s0">;</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">// function ptrToString (ptr: number): string {</span>
            <span class="s3">//   return '0x' + ('00000000' + ptr.toString(16)).slice(-8)</span>
            <span class="s3">// }</span>
            <span class="s1">var </span><span class="s0">uvThreadpoolReadyResolve;</span>
            <span class="s1">var </span><span class="s0">uvThreadpoolReady = </span><span class="s1">new </span><span class="s0">Promise(</span><span class="s1">function </span><span class="s0">(resolve) {</span>
                <span class="s0">uvThreadpoolReadyResolve = </span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s0">uvThreadpoolReady.ready = </span><span class="s1">true</span><span class="s0">;</span>
                    <span class="s0">resolve();</span>
                <span class="s0">};</span>
            <span class="s0">});</span>
            <span class="s0">uvThreadpoolReady.ready = </span><span class="s1">false</span><span class="s0">;</span>
            <span class="s3">/** @__sig vppi */</span>
            <span class="s1">function </span><span class="s0">_emnapi_after_uvthreadpool_ready(callback, q, type) {</span>
                <span class="s1">if </span><span class="s0">(uvThreadpoolReady.ready) {</span>
                    <span class="s0">(wasmTable.get(callback))(q, type);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">uvThreadpoolReady.then(</span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s0">(wasmTable.get(callback))(q, type);</span>
                    <span class="s0">});</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig vpi */</span>
            <span class="s1">function </span><span class="s0">_emnapi_tell_js_uvthreadpool(threads, size) {</span>
                <span class="s1">var </span><span class="s0">p = [];</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">var </span><span class="s0">_loop_1 = </span><span class="s1">function </span><span class="s0">(i) {</span>
                    <span class="s1">var </span><span class="s0">pthreadPtr = HEAP_DATA_VIEW.getUint32(threads + i * </span><span class="s4">4</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">worker = emnapiGetWorkerByPthreadPtr(pthreadPtr);</span>
                    <span class="s0">p.push(</span><span class="s1">new </span><span class="s0">Promise(</span><span class="s1">function </span><span class="s0">(resolve) {</span>
                        <span class="s1">var </span><span class="s0">handler = </span><span class="s1">function </span><span class="s0">(e) {</span>
                            <span class="s1">var </span><span class="s0">data = ENVIRONMENT_IS_NODE ? e : e.data;</span>
                            <span class="s1">var </span><span class="s0">__emnapi__ = data.__emnapi__;</span>
                            <span class="s1">if </span><span class="s0">(__emnapi__ &amp;&amp; __emnapi__.type === </span><span class="s2">'async-thread-ready'</span><span class="s0">) {</span>
                                <span class="s0">resolve();</span>
                                <span class="s1">if </span><span class="s0">(worker &amp;&amp; </span><span class="s1">typeof </span><span class="s0">worker.unref === </span><span class="s2">'function'</span><span class="s0">) {</span>
                                    <span class="s0">worker.unref();</span>
                                <span class="s0">}</span>
                                <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                                    <span class="s0">worker.off(</span><span class="s2">'message'</span><span class="s0">, handler);</span>
                                <span class="s0">}</span>
                                <span class="s1">else </span><span class="s0">{</span>
                                    <span class="s0">worker.removeEventListener(</span><span class="s2">'message'</span><span class="s0">, handler);</span>
                                <span class="s0">}</span>
                            <span class="s0">}</span>
                        <span class="s0">};</span>
                        <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                            <span class="s0">worker.on(</span><span class="s2">'message'</span><span class="s0">, handler);</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">worker.addEventListener(</span><span class="s2">'message'</span><span class="s0">, handler);</span>
                        <span class="s0">}</span>
                    <span class="s0">}));</span>
                <span class="s0">};</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; size; i++) {</span>
                    <span class="s0">_loop_1(i);</span>
                <span class="s0">}</span>
                <span class="s0">Promise.all(p).then(uvThreadpoolReadyResolve);</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig v */</span>
            <span class="s1">function </span><span class="s0">_emnapi_emit_async_thread_ready() {</span>
                <span class="s1">if </span><span class="s0">(!ENVIRONMENT_IS_PTHREAD)</span>
                    <span class="s1">return</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">postMessage = napiModule.postMessage;</span>
                <span class="s0">postMessage({</span>
                    <span class="s0">__emnapi__: {</span>
                        <span class="s0">type: </span><span class="s2">'async-thread-ready'</span><span class="s0">,</span>
                        <span class="s0">payload: {}</span>
                    <span class="s0">}</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">asyncMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">_emnapi_after_uvthreadpool_ready: _emnapi_after_uvthreadpool_ready,</span>
                <span class="s0">_emnapi_async_send_js: _emnapi_async_send_js,</span>
                <span class="s0">_emnapi_emit_async_thread_ready: _emnapi_emit_async_thread_ready,</span>
                <span class="s0">_emnapi_tell_js_uvthreadpool: _emnapi_tell_js_uvthreadpool,</span>
                <span class="s0">_emnapi_worker_unref: _emnapi_worker_unref</span>
            <span class="s0">});</span>
            <span class="s3">/* eslint-disable @typescript-eslint/indent */</span>
            <span class="s3">/** @__sig ipjp */</span>
            <span class="s1">function </span><span class="s0">napi_adjust_external_memory(env, change_in_bytes, adjusted_value) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">if </span><span class="s0">(!adjusted_value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">change_in_bytes_number = Number(change_in_bytes);</span>
                <span class="s1">if </span><span class="s0">(change_in_bytes_number &lt; </span><span class="s4">0</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">old_size = wasmMemory.buffer.byteLength;</span>
                <span class="s1">var </span><span class="s0">new_size = old_size + change_in_bytes_number;</span>
                <span class="s0">new_size = new_size + ((</span><span class="s4">65536 </span><span class="s0">- new_size % </span><span class="s4">65536</span><span class="s0">) % </span><span class="s4">65536</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(wasmMemory.grow((new_size - old_size + </span><span class="s4">65535</span><span class="s0">) &gt;&gt; </span><span class="s4">16</span><span class="s0">) === -</span><span class="s4">1</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(emnapiCtx.feature.supportBigInt) {</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setBigInt64(adjusted_value, BigInt(wasmMemory.buffer.byteLength), </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">$emnapiSetValueI64(adjusted_value, wasmMemory.buffer.byteLength);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">memoryMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_adjust_external_memory: napi_adjust_external_memory</span>
            <span class="s0">});</span>
            <span class="s3">/**</span>
             <span class="s3">* @__postset</span>
             <span class="s3">* ```</span>
             <span class="s3">* emnapiAWST.init();</span>
             <span class="s3">* ```</span>
             <span class="s3">*/</span>
            <span class="s1">var </span><span class="s0">emnapiAWST = {</span>
                <span class="s0">idGen: {},</span>
                <span class="s0">values: [undefined],</span>
                <span class="s0">queued: </span><span class="s1">new </span><span class="s0">Set(),</span>
                <span class="s0">pending: [],</span>
                <span class="s0">init: </span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s1">var </span><span class="s0">idGen = {</span>
                        <span class="s0">nextId: </span><span class="s4">1</span><span class="s0">,</span>
                        <span class="s0">list: [],</span>
                        <span class="s0">generate: </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s1">var </span><span class="s0">id;</span>
                            <span class="s1">if </span><span class="s0">(idGen.list.length) {</span>
                                <span class="s0">id = idGen.list.shift();</span>
                            <span class="s0">}</span>
                            <span class="s1">else </span><span class="s0">{</span>
                                <span class="s0">id = idGen.nextId;</span>
                                <span class="s0">idGen.nextId++;</span>
                            <span class="s0">}</span>
                            <span class="s1">return </span><span class="s0">id;</span>
                        <span class="s0">},</span>
                        <span class="s0">reuse: </span><span class="s1">function </span><span class="s0">(id) {</span>
                            <span class="s0">idGen.list.push(id);</span>
                        <span class="s0">}</span>
                    <span class="s0">};</span>
                    <span class="s0">emnapiAWST.idGen = idGen;</span>
                    <span class="s0">emnapiAWST.values = [undefined];</span>
                    <span class="s0">emnapiAWST.queued = </span><span class="s1">new </span><span class="s0">Set();</span>
                    <span class="s0">emnapiAWST.pending = [];</span>
                <span class="s0">},</span>
                <span class="s0">create: </span><span class="s1">function </span><span class="s0">(env, resource, resourceName, execute, complete, data) {</span>
                    <span class="s1">var </span><span class="s0">asyncId = </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">triggerAsyncId = </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(emnapiNodeBinding) {</span>
                        <span class="s1">var </span><span class="s0">asyncContext = emnapiNodeBinding.node.emitAsyncInit(resource, resourceName, -</span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s0">asyncId = asyncContext.asyncId;</span>
                        <span class="s0">triggerAsyncId = asyncContext.triggerAsyncId;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">id = emnapiAWST.idGen.generate();</span>
                    <span class="s0">emnapiAWST.values[id] = {</span>
                        <span class="s0">env: env,</span>
                        <span class="s0">id: id,</span>
                        <span class="s0">resource: resource,</span>
                        <span class="s0">asyncId: asyncId,</span>
                        <span class="s0">triggerAsyncId: triggerAsyncId,</span>
                        <span class="s0">status: </span><span class="s4">0</span><span class="s0">,</span>
                        <span class="s0">execute: execute,</span>
                        <span class="s0">complete: complete,</span>
                        <span class="s0">data: data</span>
                    <span class="s0">};</span>
                    <span class="s1">return </span><span class="s0">id;</span>
                <span class="s0">},</span>
                <span class="s0">callComplete: </span><span class="s1">function </span><span class="s0">(work, status) {</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">complete = work.complete;</span>
                    <span class="s1">var </span><span class="s0">env = work.env;</span>
                    <span class="s1">var </span><span class="s0">data = work.data;</span>
                    <span class="s1">var </span><span class="s0">callback = </span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s1">if </span><span class="s0">(!complete)</span>
                            <span class="s1">return</span><span class="s0">;</span>
                        <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                        <span class="s1">var </span><span class="s0">scope = emnapiCtx.openScope(envObject);</span>
                        <span class="s1">try </span><span class="s0">{</span>
                            <span class="s0">envObject.callbackIntoModule(</span><span class="s1">true</span><span class="s0">, </span><span class="s1">function </span><span class="s0">() {</span>
                                <span class="s0">(wasmTable.get(complete))(env, status, data);</span>
                            <span class="s0">});</span>
                        <span class="s0">}</span>
                        <span class="s1">finally </span><span class="s0">{</span>
                            <span class="s0">emnapiCtx.closeScope(envObject, scope);</span>
                        <span class="s0">}</span>
                    <span class="s0">};</span>
                    <span class="s1">if </span><span class="s0">(emnapiNodeBinding) {</span>
                        <span class="s0">emnapiNodeBinding.node.makeCallback(work.resource, callback, [], {</span>
                            <span class="s0">asyncId: work.asyncId,</span>
                            <span class="s0">triggerAsyncId: work.triggerAsyncId</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">callback();</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">queue: </span><span class="s1">function </span><span class="s0">(id) {</span>
                    <span class="s1">var </span><span class="s0">work = emnapiAWST.values[id];</span>
                    <span class="s1">if </span><span class="s0">(!work)</span>
                        <span class="s1">return</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(work.status === </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s0">work.status = </span><span class="s4">1</span><span class="s0">;</span>
                        <span class="s1">if </span><span class="s0">(emnapiAWST.queued.size &gt;= (Math.abs(emnapiAsyncWorkPoolSize) || </span><span class="s4">4</span><span class="s0">)) {</span>
                            <span class="s0">emnapiAWST.pending.push(id);</span>
                            <span class="s1">return</span><span class="s0">;</span>
                        <span class="s0">}</span>
                        <span class="s0">emnapiAWST.queued.add(id);</span>
                        <span class="s1">var </span><span class="s0">env_1 = work.env;</span>
                        <span class="s1">var </span><span class="s0">data_1 = work.data;</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s1">var </span><span class="s0">execute = work.execute;</span>
                        <span class="s0">work.status = </span><span class="s4">2</span><span class="s0">;</span>
                        <span class="s0">emnapiCtx.feature.setImmediate(</span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s0">(wasmTable.get(execute))(env_1, data_1);</span>
                            <span class="s0">emnapiAWST.queued.delete(id);</span>
                            <span class="s0">work.status = </span><span class="s4">3</span><span class="s0">;</span>
                            <span class="s0">emnapiCtx.feature.setImmediate(</span><span class="s1">function </span><span class="s0">() {</span>
                                <span class="s0">emnapiAWST.callComplete(work, </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">);</span>
                            <span class="s0">});</span>
                            <span class="s1">if </span><span class="s0">(emnapiAWST.pending.length &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                                <span class="s1">var </span><span class="s0">nextWorkId = emnapiAWST.pending.shift();</span>
                                <span class="s0">emnapiAWST.values[nextWorkId].status = </span><span class="s4">0</span><span class="s0">;</span>
                                <span class="s0">emnapiAWST.queue(nextWorkId);</span>
                            <span class="s0">}</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">cancel: </span><span class="s1">function </span><span class="s0">(id) {</span>
                    <span class="s1">var </span><span class="s0">index = emnapiAWST.pending.indexOf(id);</span>
                    <span class="s1">if </span><span class="s0">(index !== -</span><span class="s4">1</span><span class="s0">) {</span>
                        <span class="s1">var </span><span class="s0">work_1 = emnapiAWST.values[id];</span>
                        <span class="s1">if </span><span class="s0">(work_1 &amp;&amp; (work_1.status === </span><span class="s4">1</span><span class="s0">)) {</span>
                            <span class="s0">work_1.status = </span><span class="s4">4</span><span class="s0">;</span>
                            <span class="s0">emnapiAWST.pending.splice(index, </span><span class="s4">1</span><span class="s0">);</span>
                            <span class="s0">emnapiCtx.feature.setImmediate(</span><span class="s1">function </span><span class="s0">() {</span>
                                <span class="s0">emnapiAWST.callComplete(work_1, </span><span class="s4">11 </span><span class="s3">/* napi_status.napi_cancelled */</span><span class="s0">);</span>
                            <span class="s0">});</span>
                            <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s1">return </span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">;</span>
                <span class="s0">},</span>
                <span class="s0">remove: </span><span class="s1">function </span><span class="s0">(id) {</span>
                    <span class="s1">var </span><span class="s0">work = emnapiAWST.values[id];</span>
                    <span class="s1">if </span><span class="s0">(!work)</span>
                        <span class="s1">return</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(emnapiNodeBinding) {</span>
                        <span class="s0">emnapiNodeBinding.node.emitAsyncDestroy({</span>
                            <span class="s0">asyncId: work.asyncId,</span>
                            <span class="s0">triggerAsyncId: work.triggerAsyncId</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                    <span class="s0">emnapiAWST.values[id] = undefined;</span>
                    <span class="s0">emnapiAWST.idGen.reuse(id);</span>
                <span class="s0">}</span>
            <span class="s0">};</span>
            <span class="s3">/** @__sig vppdp */</span>
            <span class="s1">function </span><span class="s0">_emnapi_node_emit_async_init(async_resource, async_resource_name, trigger_async_id, result) {</span>
                <span class="s1">if </span><span class="s0">(!emnapiNodeBinding)</span>
                    <span class="s1">return</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">resource = emnapiCtx.handleStore.get(async_resource).value;</span>
                <span class="s1">var </span><span class="s0">resource_name = emnapiCtx.handleStore.get(async_resource_name).value;</span>
                <span class="s1">var </span><span class="s0">asyncContext = emnapiNodeBinding.node.emitAsyncInit(resource, resource_name, trigger_async_id);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">asyncId = asyncContext.asyncId;</span>
                <span class="s1">var </span><span class="s0">triggerAsyncId = asyncContext.triggerAsyncId;</span>
                <span class="s1">if </span><span class="s0">(result) {</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setFloat64(result, asyncId, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setFloat64(result + </span><span class="s4">8</span><span class="s0">, triggerAsyncId, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig vdd */</span>
            <span class="s1">function </span><span class="s0">_emnapi_node_emit_async_destroy(async_id, trigger_async_id) {</span>
                <span class="s1">if </span><span class="s0">(!emnapiNodeBinding)</span>
                    <span class="s1">return</span><span class="s0">;</span>
                <span class="s0">emnapiNodeBinding.node.emitAsyncDestroy({</span>
                    <span class="s0">asyncId: async_id,</span>
                    <span class="s0">triggerAsyncId: trigger_async_id</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s3">/* vpddp export function _emnapi_node_open_callback_scope (async_resource: napi_value, async_id: double, trigger_async_id: double, result: Pointer&lt;int64_t&gt;): void { 
              if (!emnapiNodeBinding || !result) return 
              const resource = emnapiCtx.handleStore.get(async_resource)!.value 
              // eslint-disable-next-line @typescript-eslint/no-unused-vars 
              const nativeCallbackScopePointer = emnapiNodeBinding.node.openCallbackScope(resource, { 
                asyncId: async_id, 
                triggerAsyncId: trigger_async_id 
              }) 
         
              from64('result') 
              $_TODO_makeSetValue('result', 0, 'nativeCallbackScopePointer', 'i64') 
            } 
         
            vp 
            export function _emnapi_node_close_callback_scope (scope: Pointer&lt;int64_t&gt;): void { 
              if (!emnapiNodeBinding || !scope) return 
              from64('scope') 
              const nativeCallbackScopePointer = $_TODO_makeGetValue('scope', 0, 'i64') 
              emnapiNodeBinding.node.closeCallbackScope(BigInt(nativeCallbackScopePointer)) 
            } */</span>
            <span class="s3">/** @__sig ipppppddp */</span>
            <span class="s1">function </span><span class="s0">_emnapi_node_make_callback(env, async_resource, cb, argv, size, async_id, trigger_async_id, result) {</span>
                <span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v;</span>
                <span class="s1">if </span><span class="s0">(!emnapiNodeBinding)</span>
                    <span class="s1">return</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">resource = emnapiCtx.handleStore.get(async_resource).value;</span>
                <span class="s1">var </span><span class="s0">callback = emnapiCtx.handleStore.get(cb).value;</span>
                <span class="s0">size = size &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">arr = Array(size);</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">for </span><span class="s0">(; i &lt; size; i++) {</span>
                    <span class="s1">var </span><span class="s0">argVal = HEAP_DATA_VIEW.getUint32(argv + i * </span><span class="s4">4</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">arr[i] = emnapiCtx.handleStore.get(argVal).value;</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">ret = emnapiNodeBinding.node.makeCallback(resource, callback, arr, {</span>
                    <span class="s0">asyncId: async_id,</span>
                    <span class="s0">triggerAsyncId: trigger_async_id</span>
                <span class="s0">});</span>
                <span class="s1">if </span><span class="s0">(result) {</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">v = envObject.ensureHandleId(ret);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">_emnapi_async_init_js(async_resource, async_resource_name, result) {</span>
                <span class="s1">if </span><span class="s0">(!emnapiNodeBinding) {</span>
                    <span class="s1">return </span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">resource;</span>
                <span class="s1">if </span><span class="s0">(async_resource) {</span>
                    <span class="s0">resource = Object(emnapiCtx.handleStore.get(async_resource).value);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">name = emnapiCtx.handleStore.get(async_resource_name).value;</span>
                <span class="s1">var </span><span class="s0">ret = emnapiNodeBinding.napi.asyncInit(resource, name);</span>
                <span class="s1">if </span><span class="s0">(ret.status !== </span><span class="s4">0</span><span class="s0">)</span>
                    <span class="s1">return </span><span class="s0">ret.status;</span>
                <span class="s1">var </span><span class="s0">numberValue = ret.value;</span>
                <span class="s1">if </span><span class="s0">(!((numberValue &gt;= (BigInt(-</span><span class="s4">1</span><span class="s0">) * (BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">63</span><span class="s0">)))) &amp;&amp; (numberValue &lt; (BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">63</span><span class="s0">))))) {</span>
                    <span class="s0">numberValue = numberValue &amp; ((BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">64</span><span class="s0">)) - BigInt(</span><span class="s4">1</span><span class="s0">));</span>
                    <span class="s1">if </span><span class="s0">(numberValue &gt;= (BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">63</span><span class="s0">))) {</span>
                        <span class="s0">numberValue = numberValue - (BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">64</span><span class="s0">));</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">low = Number(numberValue &amp; BigInt(</span><span class="s4">0xffffffff</span><span class="s0">));</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">high = Number(numberValue &gt;&gt; BigInt(</span><span class="s4">32</span><span class="s0">));</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt32(result, low, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt32(result + </span><span class="s4">4</span><span class="s0">, high, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ip */</span>
            <span class="s1">function </span><span class="s0">_emnapi_async_destroy_js(async_context) {</span>
                <span class="s1">if </span><span class="s0">(!emnapiNodeBinding) {</span>
                    <span class="s1">return </span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">var </span><span class="s0">low = HEAP_DATA_VIEW.getInt32(async_context, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">high = HEAP_DATA_VIEW.getInt32(async_context + </span><span class="s4">4</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">pointer = BigInt(low &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">) | (BigInt(high) &lt;&lt; BigInt(</span><span class="s4">32</span><span class="s0">));</span>
                <span class="s1">var </span><span class="s0">ret = emnapiNodeBinding.napi.asyncDestroy(pointer);</span>
                <span class="s1">if </span><span class="s0">(ret.status !== </span><span class="s4">0</span><span class="s0">)</span>
                    <span class="s1">return </span><span class="s0">ret.status;</span>
                <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">// https://github.com/nodejs/node-addon-api/pull/1283</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_open_callback_scope(env, ignored, async_context_handle, result) {</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'napi_open_callback_scope has not been implemented yet'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_close_callback_scope(env, scope) {</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'napi_close_callback_scope has not been implemented yet'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippppppp */</span>
            <span class="s1">function </span><span class="s0">napi_make_callback(env, async_context, recv, func, argc, argv, result) {</span>
                <span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!emnapiNodeBinding) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!recv)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(argc &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">if </span><span class="s0">(!argv)</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">v8recv = Object(emnapiCtx.handleStore.get(recv).value);</span>
                    <span class="s1">var </span><span class="s0">v8func = emnapiCtx.handleStore.get(func).value;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">v8func !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">var </span><span class="s0">low = HEAP_DATA_VIEW.getInt32(async_context, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">high = HEAP_DATA_VIEW.getInt32(async_context + </span><span class="s4">4</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">ctx = BigInt(low &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">) | (BigInt(high) &lt;&lt; BigInt(</span><span class="s4">32</span><span class="s0">));</span>
                    <span class="s0">argc = argc &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">arr = Array(argc);</span>
                    <span class="s1">for </span><span class="s0">(; i &lt; argc; i++) {</span>
                        <span class="s1">var </span><span class="s0">argVal = HEAP_DATA_VIEW.getUint32(argv + i * </span><span class="s4">4</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">arr[i] = emnapiCtx.handleStore.get(argVal).value;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">ret = emnapiNodeBinding.napi.makeCallback(ctx, v8recv, v8func, arr);</span>
                    <span class="s1">if </span><span class="s0">(ret.error) {</span>
                        <span class="s1">throw </span><span class="s0">ret.error;</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(ret.status !== </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(ret.status);</span>
                    <span class="s1">if </span><span class="s0">(result) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s0">v = envObject.ensureHandleId(ret.value);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig vp */</span>
            <span class="s1">function </span><span class="s0">_emnapi_env_check_gc_access(env) {</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">nodeMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">_emnapi_async_destroy_js: _emnapi_async_destroy_js,</span>
                <span class="s0">_emnapi_async_init_js: _emnapi_async_init_js,</span>
                <span class="s0">_emnapi_env_check_gc_access: _emnapi_env_check_gc_access,</span>
                <span class="s0">_emnapi_node_emit_async_destroy: _emnapi_node_emit_async_destroy,</span>
                <span class="s0">_emnapi_node_emit_async_init: _emnapi_node_emit_async_init,</span>
                <span class="s0">_emnapi_node_make_callback: _emnapi_node_make_callback,</span>
                <span class="s0">napi_close_callback_scope: napi_close_callback_scope,</span>
                <span class="s0">napi_make_callback: napi_make_callback,</span>
                <span class="s0">napi_open_callback_scope: napi_open_callback_scope</span>
            <span class="s0">});</span>
            <span class="s3">/**</span>
             <span class="s3">* @__deps malloc</span>
             <span class="s3">* @__deps free</span>
             <span class="s3">* @__postset</span>
             <span class="s3">* ```</span>
             <span class="s3">* emnapiTSFN.init();</span>
             <span class="s3">* ```</span>
             <span class="s3">*/</span>
            <span class="s1">var </span><span class="s0">emnapiTSFN = {</span>
                <span class="s0">offset: {</span>
                    <span class="s3">/* napi_ref */ </span><span class="s0">resource: </span><span class="s4">0</span><span class="s0">,</span>
                    <span class="s3">/* double */ </span><span class="s0">async_id: </span><span class="s4">8</span><span class="s0">,</span>
                    <span class="s3">/* double */ </span><span class="s0">trigger_async_id: </span><span class="s4">16</span><span class="s0">,</span>
                    <span class="s3">/* size_t */ </span><span class="s0">queue_size: </span><span class="s4">24</span><span class="s0">,</span>
                    <span class="s3">/* void* */ </span><span class="s0">queue: </span><span class="s4">1 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">24</span><span class="s0">,</span>
                    <span class="s3">/* size_t */ </span><span class="s0">thread_count: </span><span class="s4">2 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">24</span><span class="s0">,</span>
                    <span class="s3">/* bool */ </span><span class="s0">is_closing: </span><span class="s4">3 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">24</span><span class="s0">,</span>
                    <span class="s3">/* atomic_uchar */ </span><span class="s0">dispatch_state: </span><span class="s4">3 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">28</span><span class="s0">,</span>
                    <span class="s3">/* void* */ </span><span class="s0">context: </span><span class="s4">3 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">32</span><span class="s0">,</span>
                    <span class="s3">/* size_t */ </span><span class="s0">max_queue_size: </span><span class="s4">4 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">32</span><span class="s0">,</span>
                    <span class="s3">/* napi_ref */ </span><span class="s0">ref: </span><span class="s4">5 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">32</span><span class="s0">,</span>
                    <span class="s3">/* napi_env */ </span><span class="s0">env: </span><span class="s4">6 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">32</span><span class="s0">,</span>
                    <span class="s3">/* void* */ </span><span class="s0">finalize_data: </span><span class="s4">7 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">32</span><span class="s0">,</span>
                    <span class="s3">/* napi_finalize */ </span><span class="s0">finalize_cb: </span><span class="s4">8 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">32</span><span class="s0">,</span>
                    <span class="s3">/* napi_threadsafe_function_call_js */ </span><span class="s0">call_js_cb: </span><span class="s4">9 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">32</span><span class="s0">,</span>
                    <span class="s3">/* bool */ </span><span class="s0">handles_closing: </span><span class="s4">10 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">32</span><span class="s0">,</span>
                    <span class="s3">/* bool */ </span><span class="s0">async_ref: </span><span class="s4">10 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">36</span><span class="s0">,</span>
                    <span class="s3">/* int32_t */ </span><span class="s0">mutex: </span><span class="s4">10 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">40</span><span class="s0">,</span>
                    <span class="s3">/* int32_t */ </span><span class="s0">cond: </span><span class="s4">10 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">44</span><span class="s0">,</span>
                    <span class="s0">end: </span><span class="s4">10 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">48</span>
                <span class="s0">},</span>
                <span class="s0">init: </span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">PThread !== </span><span class="s2">'undefined'</span><span class="s0">) {</span>
                        <span class="s0">PThread.unusedWorkers.forEach(emnapiTSFN.addListener);</span>
                        <span class="s0">PThread.runningWorkers.forEach(emnapiTSFN.addListener);</span>
                        <span class="s1">var </span><span class="s0">__original_getNewWorker_1 = PThread.getNewWorker;</span>
                        <span class="s0">PThread.getNewWorker = </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s1">var </span><span class="s0">r = __original_getNewWorker_1.apply(</span><span class="s1">this</span><span class="s0">, arguments);</span>
                            <span class="s0">emnapiTSFN.addListener(r);</span>
                            <span class="s1">return </span><span class="s0">r;</span>
                        <span class="s0">};</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">addListener: </span><span class="s1">function </span><span class="s0">(worker) {</span>
                    <span class="s1">if </span><span class="s0">(!worker)</span>
                        <span class="s1">return false</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(worker._emnapiTSFNListener)</span>
                        <span class="s1">return true</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">handler = </span><span class="s1">function </span><span class="s0">(e) {</span>
                        <span class="s1">var </span><span class="s0">data = ENVIRONMENT_IS_NODE ? e : e.data;</span>
                        <span class="s1">var </span><span class="s0">__emnapi__ = data.__emnapi__;</span>
                        <span class="s1">if </span><span class="s0">(__emnapi__) {</span>
                            <span class="s1">var </span><span class="s0">type = __emnapi__.type;</span>
                            <span class="s1">var </span><span class="s0">payload = __emnapi__.payload;</span>
                            <span class="s1">if </span><span class="s0">(type === </span><span class="s2">'tsfn-send'</span><span class="s0">) {</span>
                                <span class="s0">emnapiTSFN.dispatch(payload.tsfn);</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">};</span>
                    <span class="s1">var </span><span class="s0">dispose = </span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                            <span class="s0">worker.off(</span><span class="s2">'message'</span><span class="s0">, handler);</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">worker.removeEventListener(</span><span class="s2">'message'</span><span class="s0">, handler, </span><span class="s1">false</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">delete </span><span class="s0">worker._emnapiTSFNListener;</span>
                    <span class="s0">};</span>
                    <span class="s0">worker._emnapiTSFNListener = { handler: handler, dispose: dispose };</span>
                    <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                        <span class="s0">worker.on(</span><span class="s2">'message'</span><span class="s0">, handler);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">worker.addEventListener(</span><span class="s2">'message'</span><span class="s0">, handler, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return true</span><span class="s0">;</span>
                <span class="s0">},</span>
                <span class="s0">initQueue: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">size = </span><span class="s4">2 </span><span class="s0">* </span><span class="s4">4</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">queue = _malloc(size);</span>
                    <span class="s1">if </span><span class="s0">(!queue)</span>
                        <span class="s1">return false</span><span class="s0">;</span>
                    <span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer, queue, size).fill(</span><span class="s4">0</span><span class="s0">);</span>
                    <span class="s0">emnapiTSFN.storeSizeTypeValue(func + emnapiTSFN.offset.queue, queue, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s1">return true</span><span class="s0">;</span>
                <span class="s0">},</span>
                <span class="s0">destroyQueue: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">queue = emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.queue, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(queue) {</span>
                        <span class="s0">_free(queue);</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">pushQueue: </span><span class="s1">function </span><span class="s0">(func, data) {</span>
                    <span class="s1">var </span><span class="s0">queue = emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.queue, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">head = emnapiTSFN.loadSizeTypeValue(queue, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">tail = emnapiTSFN.loadSizeTypeValue(queue + </span><span class="s4">4</span><span class="s0">, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">size = </span><span class="s4">2 </span><span class="s0">* </span><span class="s4">4</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">node = _malloc(size);</span>
                    <span class="s1">if </span><span class="s0">(!node)</span>
                        <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'OOM'</span><span class="s0">);</span>
                    <span class="s0">emnapiTSFN.storeSizeTypeValue(node, data, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s0">emnapiTSFN.storeSizeTypeValue(node + </span><span class="s4">4</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(head === </span><span class="s4">0 </span><span class="s0">&amp;&amp; tail === </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s0">emnapiTSFN.storeSizeTypeValue(queue, node, </span><span class="s1">false</span><span class="s0">);</span>
                        <span class="s0">emnapiTSFN.storeSizeTypeValue(queue + </span><span class="s4">4</span><span class="s0">, node, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">emnapiTSFN.storeSizeTypeValue(tail + </span><span class="s4">4</span><span class="s0">, node, </span><span class="s1">false</span><span class="s0">);</span>
                        <span class="s0">emnapiTSFN.storeSizeTypeValue(queue + </span><span class="s4">4</span><span class="s0">, node, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">emnapiTSFN.addQueueSize(func);</span>
                <span class="s0">},</span>
                <span class="s0">shiftQueue: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">queue = emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.queue, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">head = emnapiTSFN.loadSizeTypeValue(queue, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(head === </span><span class="s4">0</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">node = head;</span>
                    <span class="s1">var </span><span class="s0">next = emnapiTSFN.loadSizeTypeValue(head + </span><span class="s4">4</span><span class="s0">, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s0">emnapiTSFN.storeSizeTypeValue(queue, next, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(next === </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s0">emnapiTSFN.storeSizeTypeValue(queue + </span><span class="s4">4</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">emnapiTSFN.storeSizeTypeValue(node + </span><span class="s4">4</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">value = emnapiTSFN.loadSizeTypeValue(node, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s0">_free(node);</span>
                    <span class="s0">emnapiTSFN.subQueueSize(func);</span>
                    <span class="s1">return </span><span class="s0">value;</span>
                <span class="s0">},</span>
                <span class="s0">push: </span><span class="s1">function </span><span class="s0">(func, data, mode) {</span>
                    <span class="s1">var </span><span class="s0">mutex = emnapiTSFN.getMutex(func);</span>
                    <span class="s1">var </span><span class="s0">cond = emnapiTSFN.getCond(func);</span>
                    <span class="s1">var </span><span class="s0">waitCondition = </span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s1">var </span><span class="s0">queueSize = emnapiTSFN.getQueueSize(func);</span>
                        <span class="s1">var </span><span class="s0">maxSize = emnapiTSFN.getMaxQueueSize(func);</span>
                        <span class="s1">var </span><span class="s0">isClosing = emnapiTSFN.getIsClosing(func);</span>
                        <span class="s1">return </span><span class="s0">queueSize &gt;= maxSize &amp;&amp; maxSize &gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; !isClosing;</span>
                    <span class="s0">};</span>
                    <span class="s1">var </span><span class="s0">isBrowserMain = </span><span class="s1">typeof </span><span class="s0">window !== </span><span class="s2">'undefined' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">document !== </span><span class="s2">'undefined' </span><span class="s0">&amp;&amp; !ENVIRONMENT_IS_NODE;</span>
                    <span class="s1">return </span><span class="s0">mutex.execute(</span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s1">while </span><span class="s0">(waitCondition()) {</span>
                            <span class="s1">if </span><span class="s0">(mode === </span><span class="s4">0 </span><span class="s3">/* napi_threadsafe_function_call_mode.napi_tsfn_nonblocking */</span><span class="s0">) {</span>
                                <span class="s1">return </span><span class="s4">15 </span><span class="s3">/* napi_status.napi_queue_full */</span><span class="s0">;</span>
                            <span class="s0">}</span>
                            <span class="s3">/**</span>
                             <span class="s3">* Browser JS main thread can not use `Atomics.wait`</span>
                             <span class="s3">*</span>
                             <span class="s3">* Related:</span>
                             <span class="s3">* https://github.com/nodejs/node/pull/32689</span>
                             <span class="s3">* https://github.com/nodejs/node/pull/33453</span>
                             <span class="s3">*/</span>
                            <span class="s1">if </span><span class="s0">(isBrowserMain) {</span>
                                <span class="s1">return </span><span class="s4">21 </span><span class="s3">/* napi_status.napi_would_deadlock */</span><span class="s0">;</span>
                            <span class="s0">}</span>
                            <span class="s0">cond.wait();</span>
                        <span class="s0">}</span>
                        <span class="s1">if </span><span class="s0">(emnapiTSFN.getIsClosing(func)) {</span>
                            <span class="s1">if </span><span class="s0">(emnapiTSFN.getThreadCount(func) === </span><span class="s4">0</span><span class="s0">) {</span>
                                <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                            <span class="s0">}</span>
                            <span class="s1">else </span><span class="s0">{</span>
                                <span class="s0">emnapiTSFN.subThreadCount(func);</span>
                                <span class="s1">return </span><span class="s4">16 </span><span class="s3">/* napi_status.napi_closing */</span><span class="s0">;</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">emnapiTSFN.pushQueue(func, data);</span>
                            <span class="s0">emnapiTSFN.send(func);</span>
                            <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
                        <span class="s0">}</span>
                    <span class="s0">});</span>
                <span class="s0">},</span>
                <span class="s0">getMutex: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">index = func + emnapiTSFN.offset.mutex;</span>
                    <span class="s1">var </span><span class="s0">mutex = {</span>
                        <span class="s0">lock: </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s1">var </span><span class="s0">isBrowserMain = </span><span class="s1">typeof </span><span class="s0">window !== </span><span class="s2">'undefined' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">document !== </span><span class="s2">'undefined' </span><span class="s0">&amp;&amp; !ENVIRONMENT_IS_NODE;</span>
                            <span class="s1">var </span><span class="s0">i32a = </span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer, index, </span><span class="s4">1</span><span class="s0">);</span>
                            <span class="s1">if </span><span class="s0">(isBrowserMain) {</span>
                                <span class="s1">while </span><span class="s0">(</span><span class="s1">true</span><span class="s0">) {</span>
                                    <span class="s1">var </span><span class="s0">oldValue = Atomics.compareExchange(i32a, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>
                                    <span class="s1">if </span><span class="s0">(oldValue === </span><span class="s4">0</span><span class="s0">) {</span>
                                        <span class="s1">return</span><span class="s0">;</span>
                                    <span class="s0">}</span>
                                <span class="s0">}</span>
                            <span class="s0">}</span>
                            <span class="s1">else </span><span class="s0">{</span>
                                <span class="s1">while </span><span class="s0">(</span><span class="s1">true</span><span class="s0">) {</span>
                                    <span class="s1">var </span><span class="s0">oldValue = Atomics.compareExchange(i32a, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>
                                    <span class="s1">if </span><span class="s0">(oldValue === </span><span class="s4">0</span><span class="s0">) {</span>
                                        <span class="s1">return</span><span class="s0">;</span>
                                    <span class="s0">}</span>
                                    <span class="s0">Atomics.wait(i32a, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>
                                <span class="s0">}</span>
                            <span class="s0">}</span>
                        <span class="s0">},</span>
                        <span class="s3">/* lockAsync () { 
                          return new Promise&lt;void&gt;(resolve =&gt; { 
                            const again = (): void =&gt; { fn() } 
                            const fn = (): void =&gt; { 
                              const i32a = new Int32Array(wasmMemory.buffer, index, 1) 
                              const oldValue = Atomics.compareExchange(i32a, 0, 0, 1) 
                              if (oldValue === 0) { 
                                resolve() 
                                return 
                              } 
                              (Atomics as any).waitAsync(i32a, 0, 1).value.then(again) 
                            } 
                            fn() 
                          }) 
                        }, */</span>
                        <span class="s0">unlock: </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s1">var </span><span class="s0">i32a = </span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer, index, </span><span class="s4">1</span><span class="s0">);</span>
                            <span class="s1">var </span><span class="s0">oldValue = Atomics.compareExchange(i32a, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">, </span><span class="s4">0</span><span class="s0">);</span>
                            <span class="s1">if </span><span class="s0">(oldValue !== </span><span class="s4">1</span><span class="s0">) {</span>
                                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'Tried to unlock while not holding the mutex'</span><span class="s0">);</span>
                            <span class="s0">}</span>
                            <span class="s0">Atomics.notify(i32a, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s0">},</span>
                        <span class="s0">execute: </span><span class="s1">function </span><span class="s0">(fn) {</span>
                            <span class="s0">mutex.lock();</span>
                            <span class="s1">try </span><span class="s0">{</span>
                                <span class="s1">return </span><span class="s0">fn();</span>
                            <span class="s0">}</span>
                            <span class="s1">finally </span><span class="s0">{</span>
                                <span class="s0">mutex.unlock();</span>
                            <span class="s0">}</span>
                        <span class="s0">} </span><span class="s3">/* , 
                        executeAsync&lt;T&gt; (fn: () =&gt; Promise&lt;T&gt;): Promise&lt;T&gt; { 
                          return mutex.lockAsync().then(() =&gt; { 
                            const r = fn() 
                            mutex.unlock() 
                            return r 
                          }, (err) =&gt; { 
                            mutex.unlock() 
                            throw err 
                          }) 
                        } */</span>
                    <span class="s0">};</span>
                    <span class="s1">return </span><span class="s0">mutex;</span>
                <span class="s0">},</span>
                <span class="s0">getCond: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">index = func + emnapiTSFN.offset.cond;</span>
                    <span class="s1">var </span><span class="s0">mutex = emnapiTSFN.getMutex(func);</span>
                    <span class="s1">var </span><span class="s0">cond = {</span>
                        <span class="s0">wait: </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s1">var </span><span class="s0">i32a = </span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer, index, </span><span class="s4">1</span><span class="s0">);</span>
                            <span class="s1">var </span><span class="s0">value = Atomics.load(i32a, </span><span class="s4">0</span><span class="s0">);</span>
                            <span class="s0">mutex.unlock();</span>
                            <span class="s0">Atomics.wait(i32a, </span><span class="s4">0</span><span class="s0">, value);</span>
                            <span class="s0">mutex.lock();</span>
                        <span class="s0">},</span>
                        <span class="s3">/* waitAsync () { 
                          const i32a = new Int32Array(wasmMemory.buffer, index, 1) 
                          const value = Atomics.load(i32a, 0) 
                          mutex.unlock() 
                          const lock = (): Promise&lt;void&gt; =&gt; mutex.lockAsync() 
                          try { 
                            return (Atomics as any).waitAsync(i32a, 0, value).value.then(lock, lock) 
                          } catch (err) { 
                            return lock() 
                          } 
                        }, */</span>
                        <span class="s0">signal: </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s1">var </span><span class="s0">i32a = </span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer, index, </span><span class="s4">1</span><span class="s0">);</span>
                            <span class="s0">Atomics.add(i32a, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>
                            <span class="s0">Atomics.notify(i32a, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s0">}</span>
                    <span class="s0">};</span>
                    <span class="s1">return </span><span class="s0">cond;</span>
                <span class="s0">},</span>
                <span class="s0">getQueueSize: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.queue_size, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">addQueueSize: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">offset = emnapiTSFN.offset.queue_size;</span>
                    <span class="s1">var </span><span class="s0">arr, index;</span>
                    <span class="s0">arr = </span><span class="s1">new </span><span class="s0">Uint32Array(wasmMemory.buffer);</span>
                    <span class="s0">index = (func + offset) &gt;&gt; </span><span class="s4">2</span><span class="s0">;</span>
                    <span class="s0">Atomics.add(arr, index, </span><span class="s4">1</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">subQueueSize: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">offset = emnapiTSFN.offset.queue_size;</span>
                    <span class="s1">var </span><span class="s0">arr, index;</span>
                    <span class="s0">arr = </span><span class="s1">new </span><span class="s0">Uint32Array(wasmMemory.buffer);</span>
                    <span class="s0">index = (func + offset) &gt;&gt; </span><span class="s4">2</span><span class="s0">;</span>
                    <span class="s0">Atomics.sub(arr, index, </span><span class="s4">1</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getThreadCount: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.thread_count, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">addThreadCount: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">offset = emnapiTSFN.offset.thread_count;</span>
                    <span class="s1">var </span><span class="s0">arr, index;</span>
                    <span class="s0">arr = </span><span class="s1">new </span><span class="s0">Uint32Array(wasmMemory.buffer);</span>
                    <span class="s0">index = (func + offset) &gt;&gt; </span><span class="s4">2</span><span class="s0">;</span>
                    <span class="s0">Atomics.add(arr, index, </span><span class="s4">1</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">subThreadCount: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">offset = emnapiTSFN.offset.thread_count;</span>
                    <span class="s1">var </span><span class="s0">arr, index;</span>
                    <span class="s0">arr = </span><span class="s1">new </span><span class="s0">Uint32Array(wasmMemory.buffer);</span>
                    <span class="s0">index = (func + offset) &gt;&gt; </span><span class="s4">2</span><span class="s0">;</span>
                    <span class="s0">Atomics.sub(arr, index, </span><span class="s4">1</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getIsClosing: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">Atomics.load(</span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer), (func + emnapiTSFN.offset.is_closing) &gt;&gt; </span><span class="s4">2</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">setIsClosing: </span><span class="s1">function </span><span class="s0">(func, value) {</span>
                    <span class="s0">Atomics.store(</span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer), (func + emnapiTSFN.offset.is_closing) &gt;&gt; </span><span class="s4">2</span><span class="s0">, value);</span>
                <span class="s0">},</span>
                <span class="s0">getHandlesClosing: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">Atomics.load(</span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer), (func + emnapiTSFN.offset.handles_closing) &gt;&gt; </span><span class="s4">2</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">setHandlesClosing: </span><span class="s1">function </span><span class="s0">(func, value) {</span>
                    <span class="s0">Atomics.store(</span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer), (func + emnapiTSFN.offset.handles_closing) &gt;&gt; </span><span class="s4">2</span><span class="s0">, value);</span>
                <span class="s0">},</span>
                <span class="s0">getDispatchState: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">Atomics.load(</span><span class="s1">new </span><span class="s0">Uint32Array(wasmMemory.buffer), (func + emnapiTSFN.offset.dispatch_state) &gt;&gt; </span><span class="s4">2</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getContext: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.context, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getMaxQueueSize: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.max_queue_size, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getEnv: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.env, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getCallJSCb: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.call_js_cb, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getRef: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.ref, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getResource: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.resource, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getFinalizeCb: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.finalize_cb, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getFinalizeData: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(func + emnapiTSFN.offset.finalize_data, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">loadSizeTypeValue: </span><span class="s1">function </span><span class="s0">(offset, unsigned) {</span>
                    <span class="s1">var </span><span class="s0">ret;</span>
                    <span class="s1">var </span><span class="s0">arr;</span>
                    <span class="s1">if </span><span class="s0">(unsigned) {</span>
                        <span class="s0">arr = </span><span class="s1">new </span><span class="s0">Uint32Array(wasmMemory.buffer);</span>
                        <span class="s0">ret = Atomics.load(arr, offset &gt;&gt; </span><span class="s4">2</span><span class="s0">);</span>
                        <span class="s1">return </span><span class="s0">ret;</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">arr = </span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer);</span>
                        <span class="s0">ret = Atomics.load(arr, offset &gt;&gt; </span><span class="s4">2</span><span class="s0">);</span>
                        <span class="s1">return </span><span class="s0">ret;</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">storeSizeTypeValue: </span><span class="s1">function </span><span class="s0">(offset, value, unsigned) {</span>
                    <span class="s1">var </span><span class="s0">arr;</span>
                    <span class="s1">if </span><span class="s0">(unsigned) {</span>
                        <span class="s0">arr = </span><span class="s1">new </span><span class="s0">Uint32Array(wasmMemory.buffer);</span>
                        <span class="s0">Atomics.store(arr, offset &gt;&gt; </span><span class="s4">2</span><span class="s0">, value);</span>
                        <span class="s1">return </span><span class="s0">undefined;</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">arr = </span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer);</span>
                        <span class="s0">Atomics.store(arr, offset &gt;&gt; </span><span class="s4">2</span><span class="s0">, value &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">);</span>
                        <span class="s1">return </span><span class="s0">undefined;</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">destroy: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s0">emnapiTSFN.destroyQueue(func);</span>
                    <span class="s1">var </span><span class="s0">env = emnapiTSFN.getEnv(func);</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s1">var </span><span class="s0">ref = emnapiTSFN.getRef(func);</span>
                    <span class="s1">if </span><span class="s0">(ref) {</span>
                        <span class="s0">emnapiCtx.refStore.get(ref).dispose();</span>
                    <span class="s0">}</span>
                    <span class="s0">emnapiCtx.removeCleanupHook(envObject, emnapiTSFN.cleanup, func);</span>
                    <span class="s0">envObject.unref();</span>
                    <span class="s1">var </span><span class="s0">asyncRefOffset = (func + emnapiTSFN.offset.async_ref) &gt;&gt; </span><span class="s4">2</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">arr = </span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer);</span>
                    <span class="s1">if </span><span class="s0">(Atomics.load(arr, asyncRefOffset)) {</span>
                        <span class="s0">Atomics.store(arr, asyncRefOffset, </span><span class="s4">0</span><span class="s0">);</span>
                        <span class="s0">emnapiCtx.decreaseWaitingRequestCounter();</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">resource = emnapiTSFN.getResource(func);</span>
                    <span class="s0">emnapiCtx.refStore.get(resource).dispose();</span>
                    <span class="s1">if </span><span class="s0">(emnapiNodeBinding) {</span>
                        <span class="s1">var </span><span class="s0">view = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                        <span class="s1">var </span><span class="s0">asyncId = view.getFloat64(func + emnapiTSFN.offset.async_id, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">triggerAsyncId = view.getFloat64(func + emnapiTSFN.offset.trigger_async_id, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">_emnapi_node_emit_async_destroy(asyncId, triggerAsyncId);</span>
                    <span class="s0">}</span>
                    <span class="s0">_free(func);</span>
                <span class="s0">},</span>
                <span class="s0">emptyQueueAndDelete: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">callJsCb = emnapiTSFN.getCallJSCb(func);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">context = emnapiTSFN.getContext(func);</span>
                    <span class="s1">var </span><span class="s0">data;</span>
                    <span class="s1">while </span><span class="s0">(emnapiTSFN.getQueueSize(func) &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s0">data = emnapiTSFN.shiftQueue(func);</span>
                        <span class="s1">if </span><span class="s0">(callJsCb) {</span>
                            <span class="s0">(wasmTable.get(callJsCb))(</span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, context, data);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s0">emnapiTSFN.destroy(func);</span>
                <span class="s0">},</span>
                <span class="s0">finalize: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">env = emnapiTSFN.getEnv(func);</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s0">emnapiCtx.openScope(envObject);</span>
                    <span class="s1">var </span><span class="s0">finalize = emnapiTSFN.getFinalizeCb(func);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">data = emnapiTSFN.getFinalizeData(func);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">context = emnapiTSFN.getContext(func);</span>
                    <span class="s1">var </span><span class="s0">f = </span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s0">envObject.callFinalizerInternal(</span><span class="s4">0</span><span class="s0">, finalize, data, context);</span>
                    <span class="s0">};</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s1">if </span><span class="s0">(finalize) {</span>
                            <span class="s1">if </span><span class="s0">(emnapiNodeBinding) {</span>
                                <span class="s1">var </span><span class="s0">resource = emnapiTSFN.getResource(func);</span>
                                <span class="s1">var </span><span class="s0">resource_value = emnapiCtx.refStore.get(resource).get();</span>
                                <span class="s1">var </span><span class="s0">resourceObject = emnapiCtx.handleStore.get(resource_value).value;</span>
                                <span class="s1">var </span><span class="s0">view = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                                <span class="s1">var </span><span class="s0">asyncId = view.getFloat64(func + emnapiTSFN.offset.async_id, </span><span class="s1">true</span><span class="s0">);</span>
                                <span class="s1">var </span><span class="s0">triggerAsyncId = view.getFloat64(func + emnapiTSFN.offset.trigger_async_id, </span><span class="s1">true</span><span class="s0">);</span>
                                <span class="s0">emnapiNodeBinding.node.makeCallback(resourceObject, f, [], {</span>
                                    <span class="s0">asyncId: asyncId,</span>
                                    <span class="s0">triggerAsyncId: triggerAsyncId</span>
                                <span class="s0">});</span>
                            <span class="s0">}</span>
                            <span class="s1">else </span><span class="s0">{</span>
                                <span class="s0">f();</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s0">emnapiTSFN.emptyQueueAndDelete(func);</span>
                    <span class="s0">}</span>
                    <span class="s1">finally </span><span class="s0">{</span>
                        <span class="s0">emnapiCtx.closeScope(envObject);</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">cleanup: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s0">emnapiTSFN.closeHandlesAndMaybeDelete(func, </span><span class="s4">1</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">closeHandlesAndMaybeDelete: </span><span class="s1">function </span><span class="s0">(func, set_closing) {</span>
                    <span class="s1">var </span><span class="s0">env = emnapiTSFN.getEnv(func);</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s0">emnapiCtx.openScope(envObject);</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s1">if </span><span class="s0">(set_closing) {</span>
                            <span class="s0">emnapiTSFN.getMutex(func).execute(</span><span class="s1">function </span><span class="s0">() {</span>
                                <span class="s0">emnapiTSFN.setIsClosing(func, </span><span class="s4">1</span><span class="s0">);</span>
                                <span class="s1">if </span><span class="s0">(emnapiTSFN.getMaxQueueSize(func) &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                                    <span class="s0">emnapiTSFN.getCond(func).signal();</span>
                                <span class="s0">}</span>
                            <span class="s0">});</span>
                        <span class="s0">}</span>
                        <span class="s1">if </span><span class="s0">(emnapiTSFN.getHandlesClosing(func)) {</span>
                            <span class="s1">return</span><span class="s0">;</span>
                        <span class="s0">}</span>
                        <span class="s0">emnapiTSFN.setHandlesClosing(func, </span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s0">emnapiCtx.feature.setImmediate(</span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s0">emnapiTSFN.finalize(func);</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                    <span class="s1">finally </span><span class="s0">{</span>
                        <span class="s0">emnapiCtx.closeScope(envObject);</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">dispatchOne: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">data = </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">popped_value = </span><span class="s1">false</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">has_more = </span><span class="s1">false</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">mutex = emnapiTSFN.getMutex(func);</span>
                    <span class="s1">var </span><span class="s0">cond = emnapiTSFN.getCond(func);</span>
                    <span class="s0">mutex.execute(</span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s1">if </span><span class="s0">(emnapiTSFN.getIsClosing(func)) {</span>
                            <span class="s0">emnapiTSFN.closeHandlesAndMaybeDelete(func, </span><span class="s4">0</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s1">var </span><span class="s0">size = emnapiTSFN.getQueueSize(func);</span>
                            <span class="s1">if </span><span class="s0">(size &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                                <span class="s0">data = emnapiTSFN.shiftQueue(func);</span>
                                <span class="s0">popped_value = </span><span class="s1">true</span><span class="s0">;</span>
                                <span class="s1">var </span><span class="s0">maxQueueSize = emnapiTSFN.getMaxQueueSize(func);</span>
                                <span class="s1">if </span><span class="s0">(size === maxQueueSize &amp;&amp; maxQueueSize &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                                    <span class="s0">cond.signal();</span>
                                <span class="s0">}</span>
                                <span class="s0">size--;</span>
                            <span class="s0">}</span>
                            <span class="s1">if </span><span class="s0">(size === </span><span class="s4">0</span><span class="s0">) {</span>
                                <span class="s1">if </span><span class="s0">(emnapiTSFN.getThreadCount(func) === </span><span class="s4">0</span><span class="s0">) {</span>
                                    <span class="s0">emnapiTSFN.setIsClosing(func, </span><span class="s4">1</span><span class="s0">);</span>
                                    <span class="s1">if </span><span class="s0">(emnapiTSFN.getMaxQueueSize(func) &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                                        <span class="s0">cond.signal();</span>
                                    <span class="s0">}</span>
                                    <span class="s0">emnapiTSFN.closeHandlesAndMaybeDelete(func, </span><span class="s4">0</span><span class="s0">);</span>
                                <span class="s0">}</span>
                            <span class="s0">}</span>
                            <span class="s1">else </span><span class="s0">{</span>
                                <span class="s0">has_more = </span><span class="s1">true</span><span class="s0">;</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">});</span>
                    <span class="s1">if </span><span class="s0">(popped_value) {</span>
                        <span class="s1">var </span><span class="s0">env = emnapiTSFN.getEnv(func);</span>
                        <span class="s1">var </span><span class="s0">envObject_1 = emnapiCtx.envStore.get(env);</span>
                        <span class="s0">emnapiCtx.openScope(envObject_1);</span>
                        <span class="s1">var </span><span class="s0">f = </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s0">envObject_1.callbackIntoModule(</span><span class="s1">false</span><span class="s0">, </span><span class="s1">function </span><span class="s0">() {</span>
                                <span class="s1">var </span><span class="s0">callJsCb = emnapiTSFN.getCallJSCb(func);</span>
                                <span class="s1">var </span><span class="s0">ref = emnapiTSFN.getRef(func);</span>
                                <span class="s1">var </span><span class="s0">js_callback = ref ? emnapiCtx.refStore.get(ref).get() : </span><span class="s4">0</span><span class="s0">;</span>
                                <span class="s1">if </span><span class="s0">(callJsCb) {</span>
                                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                                    <span class="s1">var </span><span class="s0">context = emnapiTSFN.getContext(func);</span>
                                    <span class="s0">(wasmTable.get(callJsCb))(env, js_callback, context, data);</span>
                                <span class="s0">}</span>
                                <span class="s1">else </span><span class="s0">{</span>
                                    <span class="s1">var </span><span class="s0">jsCallback = js_callback ? emnapiCtx.handleStore.get(js_callback).value : </span><span class="s1">null</span><span class="s0">;</span>
                                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">jsCallback === </span><span class="s2">'function'</span><span class="s0">) {</span>
                                        <span class="s0">jsCallback();</span>
                                    <span class="s0">}</span>
                                <span class="s0">}</span>
                            <span class="s0">});</span>
                        <span class="s0">};</span>
                        <span class="s1">try </span><span class="s0">{</span>
                            <span class="s1">if </span><span class="s0">(emnapiNodeBinding) {</span>
                                <span class="s1">var </span><span class="s0">resource = emnapiTSFN.getResource(func);</span>
                                <span class="s1">var </span><span class="s0">resource_value = emnapiCtx.refStore.get(resource).get();</span>
                                <span class="s1">var </span><span class="s0">resourceObject = emnapiCtx.handleStore.get(resource_value).value;</span>
                                <span class="s1">var </span><span class="s0">view = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                                <span class="s0">emnapiNodeBinding.node.makeCallback(resourceObject, f, [], {</span>
                                    <span class="s0">asyncId: view.getFloat64(func + emnapiTSFN.offset.async_id, </span><span class="s1">true</span><span class="s0">),</span>
                                    <span class="s0">triggerAsyncId: view.getFloat64(func + emnapiTSFN.offset.trigger_async_id, </span><span class="s1">true</span><span class="s0">)</span>
                                <span class="s0">});</span>
                            <span class="s0">}</span>
                            <span class="s1">else </span><span class="s0">{</span>
                                <span class="s0">f();</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s1">finally </span><span class="s0">{</span>
                            <span class="s0">emnapiCtx.closeScope(envObject_1);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">has_more;</span>
                <span class="s0">},</span>
                <span class="s0">dispatch: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">has_more = </span><span class="s1">true</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">iterations_left = </span><span class="s4">1000</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">ui32a = </span><span class="s1">new </span><span class="s0">Uint32Array(wasmMemory.buffer);</span>
                    <span class="s1">var </span><span class="s0">index = (func + emnapiTSFN.offset.dispatch_state) &gt;&gt; </span><span class="s4">2</span><span class="s0">;</span>
                    <span class="s1">while </span><span class="s0">(has_more &amp;&amp; --iterations_left !== </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s0">Atomics.store(ui32a, index, </span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s0">has_more = emnapiTSFN.dispatchOne(func);</span>
                        <span class="s1">if </span><span class="s0">(Atomics.exchange(ui32a, index, </span><span class="s4">0</span><span class="s0">) !== </span><span class="s4">1</span><span class="s0">) {</span>
                            <span class="s0">has_more = </span><span class="s1">true</span><span class="s0">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(has_more) {</span>
                        <span class="s0">emnapiTSFN.send(func);</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">send: </span><span class="s1">function </span><span class="s0">(func) {</span>
                    <span class="s1">var </span><span class="s0">current_state = Atomics.or(</span><span class="s1">new </span><span class="s0">Uint32Array(wasmMemory.buffer), (func + emnapiTSFN.offset.dispatch_state) &gt;&gt; </span><span class="s4">2</span><span class="s0">, </span><span class="s4">1 </span><span class="s0">&lt;&lt; </span><span class="s4">1</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">((current_state &amp; </span><span class="s4">1</span><span class="s0">) === </span><span class="s4">1</span><span class="s0">) {</span>
                        <span class="s1">return</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">((</span><span class="s1">typeof </span><span class="s0">ENVIRONMENT_IS_PTHREAD !== </span><span class="s2">'undefined'</span><span class="s0">) &amp;&amp; ENVIRONMENT_IS_PTHREAD) {</span>
                        <span class="s0">postMessage({</span>
                            <span class="s0">__emnapi__: {</span>
                                <span class="s0">type: </span><span class="s2">'tsfn-send'</span><span class="s0">,</span>
                                <span class="s0">payload: {</span>
                                    <span class="s0">tsfn: func</span>
                                <span class="s0">}</span>
                            <span class="s0">}</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">emnapiCtx.feature.setImmediate(</span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s0">emnapiTSFN.dispatch(func);</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">};</span>
            <span class="s3">/** @__sig ippppppppppp */</span>
            <span class="s1">function </span><span class="s0">napi_create_threadsafe_function(env, func, async_resource, async_resource_name, max_queue_size, initial_thread_count, thread_finalize_data, thread_finalize_cb, context, call_js_cb, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!async_resource_name)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">max_queue_size = max_queue_size &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s0">initial_thread_count = initial_thread_count &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">if </span><span class="s0">(initial_thread_count === </span><span class="s4">0</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">ref = </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">if </span><span class="s0">(!func) {</span>
                    <span class="s1">if </span><span class="s0">(!call_js_cb)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">var </span><span class="s0">funcValue = emnapiCtx.handleStore.get(func).value;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">funcValue !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">ref = emnapiCtx.createReference(envObject, func, </span><span class="s4">1</span><span class="s0">, </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">).id;</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">asyncResourceObject;</span>
                <span class="s1">if </span><span class="s0">(async_resource) {</span>
                    <span class="s0">asyncResourceObject = emnapiCtx.handleStore.get(async_resource).value;</span>
                    <span class="s1">if </span><span class="s0">(asyncResourceObject == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">asyncResourceObject = Object(asyncResourceObject);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">asyncResourceObject = {};</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">resource = envObject.ensureHandleId(asyncResourceObject);</span>
                <span class="s1">var </span><span class="s0">asyncResourceName = emnapiCtx.handleStore.get(async_resource_name).value;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">asyncResourceName === </span><span class="s2">'symbol'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s0">asyncResourceName = String(asyncResourceName);</span>
                <span class="s1">var </span><span class="s0">resource_name = envObject.ensureHandleId(asyncResourceName);</span>
                <span class="s3">// tsfn create</span>
                <span class="s1">var </span><span class="s0">sizeofTSFN = emnapiTSFN.offset.end;</span>
                <span class="s1">var </span><span class="s0">tsfn = _malloc(sizeofTSFN);</span>
                <span class="s1">if </span><span class="s0">(!tsfn)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer).subarray(tsfn, tsfn + sizeofTSFN).fill(</span><span class="s4">0</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">resourceRef = emnapiCtx.createReference(envObject, resource, </span><span class="s4">1</span><span class="s0">, </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">resource_ = resourceRef.id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(tsfn, resource_, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!emnapiTSFN.initQueue(tsfn)) {</span>
                    <span class="s0">_free(tsfn);</span>
                    <span class="s0">resourceRef.dispose();</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s0">_emnapi_node_emit_async_init(resource, resource_name, -</span><span class="s4">1</span><span class="s0">, tsfn + emnapiTSFN.offset.async_id);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(tsfn + emnapiTSFN.offset.thread_count, initial_thread_count, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(tsfn + emnapiTSFN.offset.context, context, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(tsfn + emnapiTSFN.offset.max_queue_size, max_queue_size, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(tsfn + emnapiTSFN.offset.ref, ref, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(tsfn + emnapiTSFN.offset.env, env, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(tsfn + emnapiTSFN.offset.finalize_data, thread_finalize_data, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(tsfn + emnapiTSFN.offset.finalize_cb, thread_finalize_cb, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(tsfn + emnapiTSFN.offset.call_js_cb, call_js_cb, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">emnapiCtx.addCleanupHook(envObject, emnapiTSFN.cleanup, tsfn);</span>
                <span class="s0">envObject.ref();</span>
                <span class="s0">emnapiCtx.increaseWaitingRequestCounter();</span>
                <span class="s0">HEAP_DATA_VIEW.setInt32(tsfn + emnapiTSFN.offset.async_ref, </span><span class="s4">1</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, tsfn, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_get_threadsafe_function_context(func, result) {</span>
                <span class="s1">if </span><span class="s0">(!func || !result) {</span>
                    <span class="s0">abort();</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">context = emnapiTSFN.getContext(func);</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, context, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippi */</span>
            <span class="s1">function </span><span class="s0">napi_call_threadsafe_function(func, data, mode) {</span>
                <span class="s1">if </span><span class="s0">(!func) {</span>
                    <span class="s0">abort();</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">emnapiTSFN.push(func, data, mode);</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ip */</span>
            <span class="s1">function </span><span class="s0">napi_acquire_threadsafe_function(func) {</span>
                <span class="s1">if </span><span class="s0">(!func) {</span>
                    <span class="s0">abort();</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">mutex = emnapiTSFN.getMutex(func);</span>
                <span class="s1">return </span><span class="s0">mutex.execute(</span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s1">if </span><span class="s0">(emnapiTSFN.getIsClosing(func)) {</span>
                        <span class="s1">return </span><span class="s4">16 </span><span class="s3">/* napi_status.napi_closing */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s0">emnapiTSFN.addThreadCount(func);</span>
                    <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipi */</span>
            <span class="s1">function </span><span class="s0">napi_release_threadsafe_function(func, mode) {</span>
                <span class="s1">if </span><span class="s0">(!func) {</span>
                    <span class="s0">abort();</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">mutex = emnapiTSFN.getMutex(func);</span>
                <span class="s1">var </span><span class="s0">cond = emnapiTSFN.getCond(func);</span>
                <span class="s1">return </span><span class="s0">mutex.execute(</span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s1">if </span><span class="s0">(emnapiTSFN.getThreadCount(func) === </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s0">emnapiTSFN.subThreadCount(func);</span>
                    <span class="s1">if </span><span class="s0">(emnapiTSFN.getThreadCount(func) === </span><span class="s4">0 </span><span class="s0">|| mode === </span><span class="s4">1 </span><span class="s3">/* napi_threadsafe_function_release_mode.napi_tsfn_abort */</span><span class="s0">) {</span>
                        <span class="s1">var </span><span class="s0">isClosing = emnapiTSFN.getIsClosing(func);</span>
                        <span class="s1">if </span><span class="s0">(!isClosing) {</span>
                            <span class="s1">var </span><span class="s0">isClosingValue = (mode === </span><span class="s4">1 </span><span class="s3">/* napi_threadsafe_function_release_mode.napi_tsfn_abort */</span><span class="s0">) ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                            <span class="s0">emnapiTSFN.setIsClosing(func, isClosingValue);</span>
                            <span class="s1">if </span><span class="s0">(isClosingValue &amp;&amp; emnapiTSFN.getMaxQueueSize(func) &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                                <span class="s0">cond.signal();</span>
                            <span class="s0">}</span>
                            <span class="s0">emnapiTSFN.send(func);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_unref_threadsafe_function(env, func) {</span>
                <span class="s1">if </span><span class="s0">(!func) {</span>
                    <span class="s0">abort();</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">asyncRefOffset = (func + emnapiTSFN.offset.async_ref) &gt;&gt; </span><span class="s4">2</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">arr = </span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(Atomics.load(arr, asyncRefOffset)) {</span>
                    <span class="s0">Atomics.store(arr, asyncRefOffset, </span><span class="s4">0</span><span class="s0">);</span>
                    <span class="s0">emnapiCtx.decreaseWaitingRequestCounter();</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_ref_threadsafe_function(env, func) {</span>
                <span class="s1">if </span><span class="s0">(!func) {</span>
                    <span class="s0">abort();</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">asyncRefOffset = (func + emnapiTSFN.offset.async_ref) &gt;&gt; </span><span class="s4">2</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">arr = </span><span class="s1">new </span><span class="s0">Int32Array(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(!Atomics.load(arr, asyncRefOffset)) {</span>
                    <span class="s0">Atomics.store(arr, asyncRefOffset, </span><span class="s4">1</span><span class="s0">);</span>
                    <span class="s0">emnapiCtx.increaseWaitingRequestCounter();</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">emnapiAWMT = {</span>
                <span class="s0">unusedWorkers: [],</span>
                <span class="s0">runningWorkers: [],</span>
                <span class="s0">workQueue: [],</span>
                <span class="s0">workerReady: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">offset: {</span>
                    <span class="s3">/* napi_ref */ </span><span class="s0">resource: </span><span class="s4">0</span><span class="s0">,</span>
                    <span class="s3">/* double */ </span><span class="s0">async_id: </span><span class="s4">8</span><span class="s0">,</span>
                    <span class="s3">/* double */ </span><span class="s0">trigger_async_id: </span><span class="s4">16</span><span class="s0">,</span>
                    <span class="s3">/* napi_env */ </span><span class="s0">env: </span><span class="s4">24</span><span class="s0">,</span>
                    <span class="s3">/* void* */ </span><span class="s0">data: </span><span class="s4">1 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">24</span><span class="s0">,</span>
                    <span class="s3">/* napi_async_execute_callback */ </span><span class="s0">execute: </span><span class="s4">2 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">24</span><span class="s0">,</span>
                    <span class="s3">/* napi_async_complete_callback */ </span><span class="s0">complete: </span><span class="s4">3 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">24</span><span class="s0">,</span>
                    <span class="s0">end: </span><span class="s4">4 </span><span class="s0">* </span><span class="s4">4 </span><span class="s0">+ </span><span class="s4">24</span>
                <span class="s0">},</span>
                <span class="s0">init: </span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s0">emnapiAWMT.unusedWorkers = [];</span>
                    <span class="s0">emnapiAWMT.runningWorkers = [];</span>
                    <span class="s0">emnapiAWMT.workQueue = [];</span>
                    <span class="s0">emnapiAWMT.workerReady = </span><span class="s1">null</span><span class="s0">;</span>
                <span class="s0">},</span>
                <span class="s0">addListener: </span><span class="s1">function </span><span class="s0">(worker) {</span>
                    <span class="s1">if </span><span class="s0">(!worker)</span>
                        <span class="s1">return false</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(worker._emnapiAWMTListener)</span>
                        <span class="s1">return true</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">handler = </span><span class="s1">function </span><span class="s0">(e) {</span>
                        <span class="s1">var </span><span class="s0">data = ENVIRONMENT_IS_NODE ? e : e.data;</span>
                        <span class="s1">var </span><span class="s0">__emnapi__ = data.__emnapi__;</span>
                        <span class="s1">if </span><span class="s0">(__emnapi__) {</span>
                            <span class="s1">var </span><span class="s0">type = __emnapi__.type;</span>
                            <span class="s1">var </span><span class="s0">payload = __emnapi__.payload;</span>
                            <span class="s1">if </span><span class="s0">(type === </span><span class="s2">'async-work-complete'</span><span class="s0">) {</span>
                                <span class="s0">emnapiCtx.decreaseWaitingRequestCounter();</span>
                                <span class="s0">emnapiAWMT.runningWorkers.splice(emnapiAWMT.runningWorkers.indexOf(worker), </span><span class="s4">1</span><span class="s0">);</span>
                                <span class="s0">emnapiAWMT.unusedWorkers.push(worker);</span>
                                <span class="s0">emnapiAWMT.checkIdleWorker();</span>
                                <span class="s0">emnapiAWMT.callComplete(payload.work, </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">);</span>
                            <span class="s0">}</span>
                            <span class="s1">else if </span><span class="s0">(type === </span><span class="s2">'async-work-queue'</span><span class="s0">) {</span>
                                <span class="s0">emnapiAWMT.scheduleWork(payload.work);</span>
                            <span class="s0">}</span>
                            <span class="s1">else if </span><span class="s0">(type === </span><span class="s2">'async-work-cancel'</span><span class="s0">) {</span>
                                <span class="s0">emnapiAWMT.cancelWork(payload.work);</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">};</span>
                    <span class="s1">var </span><span class="s0">dispose = </span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                            <span class="s0">worker.off(</span><span class="s2">'message'</span><span class="s0">, handler);</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">worker.removeEventListener(</span><span class="s2">'message'</span><span class="s0">, handler, </span><span class="s1">false</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">delete </span><span class="s0">worker._emnapiAWMTListener;</span>
                    <span class="s0">};</span>
                    <span class="s0">worker._emnapiAWMTListener = { handler: handler, dispose: dispose };</span>
                    <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_NODE) {</span>
                        <span class="s0">worker.on(</span><span class="s2">'message'</span><span class="s0">, handler);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">worker.addEventListener(</span><span class="s2">'message'</span><span class="s0">, handler, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return true</span><span class="s0">;</span>
                <span class="s0">},</span>
                <span class="s0">initWorkers: </span><span class="s1">function </span><span class="s0">(n) {</span>
                    <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_PTHREAD) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing</span>
                        <span class="s1">return </span><span class="s0">emnapiAWMT.workerReady || (emnapiAWMT.workerReady = Promise.resolve());</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(emnapiAWMT.workerReady)</span>
                        <span class="s1">return </span><span class="s0">emnapiAWMT.workerReady;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">onCreateWorker !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'`options.onCreateWorker` is not a function'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">promises = [];</span>
                    <span class="s1">var </span><span class="s0">args = [];</span>
                    <span class="s1">if </span><span class="s0">(!(</span><span class="s2">'emnapi_async_worker_create' </span><span class="s1">in </span><span class="s0">wasmInstance.exports)) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'`emnapi_async_worker_create` is not exported, please try to add `--export=emnapi_async_worker_create` to linker flags'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; n; ++i) {</span>
                        <span class="s0">args.push(wasmInstance.exports.emnapi_async_worker_create());</span>
                    <span class="s0">}</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s1">var </span><span class="s0">_loop_1 = </span><span class="s1">function </span><span class="s0">(i) {</span>
                            <span class="s1">var </span><span class="s0">worker = onCreateWorker({ type: </span><span class="s2">'async-work'</span><span class="s0">, name: </span><span class="s2">'emnapi-async-worker' </span><span class="s0">});</span>
                            <span class="s1">var </span><span class="s0">p = PThread.loadWasmModuleToWorker(worker);</span>
                            <span class="s0">emnapiAWMT.addListener(worker);</span>
                            <span class="s0">promises.push(p.then(</span><span class="s1">function </span><span class="s0">() {</span>
                                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">worker.unref === </span><span class="s2">'function'</span><span class="s0">) {</span>
                                    <span class="s0">worker.unref();</span>
                                <span class="s0">}</span>
                            <span class="s0">}));</span>
                            <span class="s0">emnapiAWMT.unusedWorkers.push(worker);</span>
                            <span class="s1">var </span><span class="s0">arg = args[i];</span>
                            <span class="s0">worker.threadBlockBase = arg;</span>
                            <span class="s0">worker.postMessage({</span>
                                <span class="s0">__emnapi__: {</span>
                                    <span class="s0">type: </span><span class="s2">'async-worker-init'</span><span class="s0">,</span>
                                    <span class="s0">payload: { arg: arg }</span>
                                <span class="s0">}</span>
                            <span class="s0">});</span>
                        <span class="s0">};</span>
                        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; n; ++i) {</span>
                            <span class="s0">_loop_1(i);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(err) {</span>
                        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; n; ++i) {</span>
                            <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                            <span class="s1">var </span><span class="s0">arg = args[i];</span>
                            <span class="s0">_free(arg);</span>
                        <span class="s0">}</span>
                        <span class="s1">throw </span><span class="s0">err;</span>
                    <span class="s0">}</span>
                    <span class="s0">emnapiAWMT.workerReady = Promise.all(promises);</span>
                    <span class="s1">return </span><span class="s0">emnapiAWMT.workerReady;</span>
                <span class="s0">},</span>
                <span class="s0">checkIdleWorker: </span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s1">if </span><span class="s0">(emnapiAWMT.unusedWorkers.length &gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; emnapiAWMT.workQueue.length &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">var </span><span class="s0">worker = emnapiAWMT.unusedWorkers.shift();</span>
                        <span class="s1">var </span><span class="s0">work = emnapiAWMT.workQueue.shift();</span>
                        <span class="s0">emnapiAWMT.runningWorkers.push(worker);</span>
                        <span class="s0">worker.postMessage({</span>
                            <span class="s0">__emnapi__: {</span>
                                <span class="s0">type: </span><span class="s2">'async-work-execute'</span><span class="s0">,</span>
                                <span class="s0">payload: { work: work }</span>
                            <span class="s0">}</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">getResource: </span><span class="s1">function </span><span class="s0">(work) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(work + emnapiAWMT.offset.resource, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getExecute: </span><span class="s1">function </span><span class="s0">(work) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(work + emnapiAWMT.offset.execute, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getComplete: </span><span class="s1">function </span><span class="s0">(work) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(work + emnapiAWMT.offset.complete, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getEnv: </span><span class="s1">function </span><span class="s0">(work) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(work + emnapiAWMT.offset.env, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">getData: </span><span class="s1">function </span><span class="s0">(work) {</span>
                    <span class="s1">return </span><span class="s0">emnapiTSFN.loadSizeTypeValue(work + emnapiAWMT.offset.data, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">},</span>
                <span class="s0">scheduleWork: </span><span class="s1">function </span><span class="s0">(work) {</span>
                    <span class="s1">var </span><span class="s0">_a;</span>
                    <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_PTHREAD) {</span>
                        <span class="s1">var </span><span class="s0">postMessage_1 = napiModule.postMessage;</span>
                        <span class="s0">postMessage_1({</span>
                            <span class="s0">__emnapi__: {</span>
                                <span class="s0">type: </span><span class="s2">'async-work-queue'</span><span class="s0">,</span>
                                <span class="s0">payload: { work: work }</span>
                            <span class="s0">}</span>
                        <span class="s0">});</span>
                        <span class="s1">return</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s0">emnapiCtx.increaseWaitingRequestCounter();</span>
                    <span class="s0">emnapiAWMT.workQueue.push(work);</span>
                    <span class="s1">if </span><span class="s0">((_a = emnapiAWMT.workerReady) === </span><span class="s1">null </span><span class="s0">|| _a === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _a.ready) {</span>
                        <span class="s0">emnapiAWMT.checkIdleWorker();</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">var </span><span class="s0">fail = </span><span class="s1">function </span><span class="s0">(err) {</span>
                            <span class="s0">emnapiCtx.decreaseWaitingRequestCounter();</span>
                            <span class="s1">throw </span><span class="s0">err;</span>
                        <span class="s0">};</span>
                        <span class="s1">try </span><span class="s0">{</span>
                            <span class="s0">emnapiAWMT.initWorkers(_emnapi_async_work_pool_size()).then(</span><span class="s1">function </span><span class="s0">() {</span>
                                <span class="s0">emnapiAWMT.workerReady.ready = </span><span class="s1">true</span><span class="s0">;</span>
                                <span class="s0">emnapiAWMT.checkIdleWorker();</span>
                            <span class="s0">}, fail);</span>
                        <span class="s0">}</span>
                        <span class="s1">catch </span><span class="s0">(err) {</span>
                            <span class="s0">fail(err);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                <span class="s0">},</span>
                <span class="s0">cancelWork: </span><span class="s1">function </span><span class="s0">(work) {</span>
                    <span class="s1">if </span><span class="s0">(ENVIRONMENT_IS_PTHREAD) {</span>
                        <span class="s1">var </span><span class="s0">postMessage_2 = napiModule.postMessage;</span>
                        <span class="s0">postMessage_2({</span>
                            <span class="s0">__emnapi__: {</span>
                                <span class="s0">type: </span><span class="s2">'async-work-cancel'</span><span class="s0">,</span>
                                <span class="s0">payload: { work: work }</span>
                            <span class="s0">}</span>
                        <span class="s0">});</span>
                        <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">index = emnapiAWMT.workQueue.indexOf(work);</span>
                    <span class="s1">if </span><span class="s0">(index !== -</span><span class="s4">1</span><span class="s0">) {</span>
                        <span class="s0">emnapiAWMT.workQueue.splice(index, </span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s0">emnapiCtx.feature.setImmediate(</span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s0">emnapiCtx.decreaseWaitingRequestCounter();</span>
                            <span class="s0">emnapiAWMT.checkIdleWorker();</span>
                            <span class="s0">emnapiAWMT.callComplete(work, </span><span class="s4">11 </span><span class="s3">/* napi_status.napi_cancelled */</span><span class="s0">);</span>
                        <span class="s0">});</span>
                        <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">;</span>
                <span class="s0">},</span>
                <span class="s0">callComplete: </span><span class="s1">function </span><span class="s0">(work, status) {</span>
                    <span class="s1">var </span><span class="s0">complete = emnapiAWMT.getComplete(work);</span>
                    <span class="s1">var </span><span class="s0">env = emnapiAWMT.getEnv(work);</span>
                    <span class="s1">var </span><span class="s0">data = emnapiAWMT.getData(work);</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s1">var </span><span class="s0">scope = emnapiCtx.openScope(envObject);</span>
                    <span class="s1">var </span><span class="s0">callback = </span><span class="s1">function </span><span class="s0">() {</span>
                        <span class="s1">if </span><span class="s0">(!complete)</span>
                            <span class="s1">return</span><span class="s0">;</span>
                        <span class="s0">envObject.callbackIntoModule(</span><span class="s1">true</span><span class="s0">, </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s0">(wasmTable.get(complete))(env, status, data);</span>
                        <span class="s0">});</span>
                    <span class="s0">};</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s1">if </span><span class="s0">(emnapiNodeBinding) {</span>
                            <span class="s1">var </span><span class="s0">resource = emnapiAWMT.getResource(work);</span>
                            <span class="s1">var </span><span class="s0">resource_value = emnapiCtx.refStore.get(resource).get();</span>
                            <span class="s1">var </span><span class="s0">resourceObject = emnapiCtx.handleStore.get(resource_value).value;</span>
                            <span class="s1">var </span><span class="s0">view = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                            <span class="s1">var </span><span class="s0">asyncId = view.getFloat64(work + emnapiAWMT.offset.async_id, </span><span class="s1">true</span><span class="s0">);</span>
                            <span class="s1">var </span><span class="s0">triggerAsyncId = view.getFloat64(work + emnapiAWMT.offset.trigger_async_id, </span><span class="s1">true</span><span class="s0">);</span>
                            <span class="s0">emnapiNodeBinding.node.makeCallback(resourceObject, callback, [], {</span>
                                <span class="s0">asyncId: asyncId,</span>
                                <span class="s0">triggerAsyncId: triggerAsyncId</span>
                            <span class="s0">});</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">callback();</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">finally </span><span class="s0">{</span>
                        <span class="s0">emnapiCtx.closeScope(envObject, scope);</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">};</span>
            <span class="s3">/** @__sig ippppppp */</span>
            <span class="s1">var </span><span class="s0">napi_create_async_work = singleThreadAsyncWork</span>
                <span class="s0">? </span><span class="s1">function </span><span class="s0">(env, resource, resource_name, execute, complete, data, result) {</span>
                    <span class="s1">if </span><span class="s0">(!env)</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s3">// @ts-expect-error</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s0">envObject.checkGCAccess();</span>
                    <span class="s1">if </span><span class="s0">(!execute)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">resourceObject;</span>
                    <span class="s1">if </span><span class="s0">(resource) {</span>
                        <span class="s0">resourceObject = Object(emnapiCtx.handleStore.get(resource).value);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">resourceObject = {};</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!resource_name)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">resourceName = String(emnapiCtx.handleStore.get(resource_name).value);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">id = emnapiAWST.create(env, resourceObject, resourceName, execute, complete, data);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, id, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s0">: </span><span class="s1">function </span><span class="s0">(env, resource, resource_name, execute, complete, data, result) {</span>
                    <span class="s1">if </span><span class="s0">(!env)</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s3">// @ts-expect-error</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s0">envObject.checkGCAccess();</span>
                    <span class="s1">if </span><span class="s0">(!execute)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">resourceObject;</span>
                    <span class="s1">if </span><span class="s0">(resource) {</span>
                        <span class="s0">resourceObject = Object(emnapiCtx.handleStore.get(resource).value);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">resourceObject = {};</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!resource_name)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">sizeofAW = emnapiAWMT.offset.end;</span>
                    <span class="s1">var </span><span class="s0">aw = _malloc(sizeofAW);</span>
                    <span class="s1">if </span><span class="s0">(!aw)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                    <span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer).subarray(aw, aw + sizeofAW).fill(</span><span class="s4">0</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">s = envObject.ensureHandleId(resourceObject);</span>
                    <span class="s1">var </span><span class="s0">resourceRef = emnapiCtx.createReference(envObject, s, </span><span class="s4">1</span><span class="s0">, </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">resource_ = resourceRef.id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(aw, resource_, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">_emnapi_node_emit_async_init(s, resource_name, -</span><span class="s4">1</span><span class="s0">, aw + emnapiAWMT.offset.async_id);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(aw + emnapiAWMT.offset.env, env, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(aw + emnapiAWMT.offset.execute, execute, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(aw + emnapiAWMT.offset.complete, complete, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(aw + emnapiAWMT.offset.data, data, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, aw, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">};</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">var </span><span class="s0">napi_delete_async_work = singleThreadAsyncWork</span>
                <span class="s0">? </span><span class="s1">function </span><span class="s0">(env, work) {</span>
                    <span class="s1">if </span><span class="s0">(!env)</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s3">// @ts-expect-error</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s0">envObject.checkGCAccess();</span>
                    <span class="s1">if </span><span class="s0">(!work)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">emnapiAWST.remove(work);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s0">: </span><span class="s1">function </span><span class="s0">(env, work) {</span>
                    <span class="s1">if </span><span class="s0">(!env)</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s3">// @ts-expect-error</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s0">envObject.checkGCAccess();</span>
                    <span class="s1">if </span><span class="s0">(!work)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">resource = emnapiAWMT.getResource(work);</span>
                    <span class="s0">emnapiCtx.refStore.get(resource).dispose();</span>
                    <span class="s1">if </span><span class="s0">(emnapiNodeBinding) {</span>
                        <span class="s1">var </span><span class="s0">view = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                        <span class="s1">var </span><span class="s0">asyncId = view.getFloat64(work + emnapiAWMT.offset.async_id, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">triggerAsyncId = view.getFloat64(work + emnapiAWMT.offset.trigger_async_id, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">_emnapi_node_emit_async_destroy(asyncId, triggerAsyncId);</span>
                    <span class="s0">}</span>
                    <span class="s0">_free(work);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">};</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">var </span><span class="s0">napi_queue_async_work = singleThreadAsyncWork</span>
                <span class="s0">? </span><span class="s1">function </span><span class="s0">(env, work) {</span>
                    <span class="s1">if </span><span class="s0">(!env)</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s1">if </span><span class="s0">(!work)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">emnapiAWST.queue(work);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s0">: </span><span class="s1">function </span><span class="s0">(env, work) {</span>
                    <span class="s1">if </span><span class="s0">(!env)</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s1">if </span><span class="s0">(!work)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">emnapiAWMT.scheduleWork(work);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">};</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">var </span><span class="s0">napi_cancel_async_work = singleThreadAsyncWork</span>
                <span class="s0">? </span><span class="s1">function </span><span class="s0">(env, work) {</span>
                    <span class="s1">if </span><span class="s0">(!env)</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s1">if </span><span class="s0">(!work)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">status = emnapiAWST.cancel(work);</span>
                    <span class="s1">if </span><span class="s0">(status === </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(status);</span>
                <span class="s0">}</span>
                <span class="s0">: </span><span class="s1">function </span><span class="s0">(env, work) {</span>
                    <span class="s1">if </span><span class="s0">(!env)</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s1">if </span><span class="s0">(!work)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">status = emnapiAWMT.cancelWork(work);</span>
                    <span class="s1">if </span><span class="s0">(status === </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(status);</span>
                <span class="s0">};</span>
            <span class="s1">function </span><span class="s0">initWorker(startArg) {</span>
                <span class="s1">if </span><span class="s0">(napiModule.childThread) {</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">wasmInstance.exports.emnapi_async_worker_init !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'`emnapi_async_worker_init` is not exported, please try to add `--export=emnapi_async_worker_init` to linker flags'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">wasmInstance.exports.emnapi_async_worker_init(startArg);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'startThread is only available in child threads'</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s0">executeAsyncWork(work) {</span>
                <span class="s1">if </span><span class="s0">(!ENVIRONMENT_IS_PTHREAD)</span>
                    <span class="s1">return</span><span class="s0">;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">execute = emnapiAWMT.getExecute(work);</span>
                <span class="s1">var </span><span class="s0">env = emnapiAWMT.getEnv(work);</span>
                <span class="s1">var </span><span class="s0">data = emnapiAWMT.getData(work);</span>
                <span class="s0">(wasmTable.get(execute))(env, data);</span>
                <span class="s1">var </span><span class="s0">postMessage = napiModule.postMessage;</span>
                <span class="s0">postMessage({</span>
                    <span class="s0">__emnapi__: {</span>
                        <span class="s0">type: </span><span class="s2">'async-work-complete'</span><span class="s0">,</span>
                        <span class="s0">payload: { work: work }</span>
                    <span class="s0">}</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s0">napiModule.initWorker = initWorker;</span>
            <span class="s0">napiModule.executeAsyncWork = executeAsyncWork;</span>
            <span class="s1">var </span><span class="s0">asyncWorkMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_cancel_async_work: napi_cancel_async_work,</span>
                <span class="s0">napi_create_async_work: napi_create_async_work,</span>
                <span class="s0">napi_delete_async_work: napi_delete_async_work,</span>
                <span class="s0">napi_queue_async_work: napi_queue_async_work</span>
            <span class="s0">});</span>
            <span class="s3">/**</span>
             <span class="s3">* @__deps malloc</span>
             <span class="s3">* @__deps free</span>
             <span class="s3">* @__postset</span>
             <span class="s3">* ```</span>
             <span class="s3">* emnapiExternalMemory.init();</span>
             <span class="s3">* ```</span>
             <span class="s3">*/</span>
            <span class="s1">var </span><span class="s0">emnapiExternalMemory = {</span>
                <span class="s0">registry: </span><span class="s1">typeof </span><span class="s0">FinalizationRegistry === </span><span class="s2">'function' </span><span class="s0">? </span><span class="s1">new </span><span class="s0">FinalizationRegistry(</span><span class="s1">function </span><span class="s0">(_pointer) { _free(_pointer); }) : undefined,</span>
                <span class="s0">table: </span><span class="s1">new </span><span class="s0">WeakMap(),</span>
                <span class="s0">wasmMemoryViewTable: </span><span class="s1">new </span><span class="s0">WeakMap(),</span>
                <span class="s0">init: </span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s0">emnapiExternalMemory.registry = </span><span class="s1">typeof </span><span class="s0">FinalizationRegistry === </span><span class="s2">'function' </span><span class="s0">? </span><span class="s1">new </span><span class="s0">FinalizationRegistry(</span><span class="s1">function </span><span class="s0">(_pointer) { _free(_pointer); }) : undefined;</span>
                    <span class="s0">emnapiExternalMemory.table = </span><span class="s1">new </span><span class="s0">WeakMap();</span>
                    <span class="s0">emnapiExternalMemory.wasmMemoryViewTable = </span><span class="s1">new </span><span class="s0">WeakMap();</span>
                <span class="s0">},</span>
                <span class="s0">isDetachedArrayBuffer: </span><span class="s1">function </span><span class="s0">(arrayBuffer) {</span>
                    <span class="s1">if </span><span class="s0">(arrayBuffer.byteLength === </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">try </span><span class="s0">{</span>
                            <span class="s3">// eslint-disable-next-line no-new</span>
                            <span class="s1">new </span><span class="s0">Uint8Array(arrayBuffer);</span>
                        <span class="s0">}</span>
                        <span class="s1">catch </span><span class="s0">(_) {</span>
                            <span class="s1">return true</span><span class="s0">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">return false</span><span class="s0">;</span>
                <span class="s0">},</span>
                <span class="s0">getArrayBufferPointer: </span><span class="s1">function </span><span class="s0">(arrayBuffer, shouldCopy) {</span>
                    <span class="s1">var </span><span class="s0">_a;</span>
                    <span class="s1">var </span><span class="s0">info = {</span>
                        <span class="s0">address: </span><span class="s4">0</span><span class="s0">,</span>
                        <span class="s0">ownership: </span><span class="s4">0 </span><span class="s3">/* ReferenceOwnership.kRuntime */</span><span class="s0">,</span>
                        <span class="s0">runtimeAllocated: </span><span class="s4">0</span>
                    <span class="s0">};</span>
                    <span class="s1">if </span><span class="s0">(arrayBuffer === wasmMemory.buffer) {</span>
                        <span class="s1">return </span><span class="s0">info;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">isDetached = emnapiExternalMemory.isDetachedArrayBuffer(arrayBuffer);</span>
                    <span class="s1">if </span><span class="s0">(emnapiExternalMemory.table.has(arrayBuffer)) {</span>
                        <span class="s1">var </span><span class="s0">cachedInfo = emnapiExternalMemory.table.get(arrayBuffer);</span>
                        <span class="s1">if </span><span class="s0">(isDetached) {</span>
                            <span class="s0">cachedInfo.address = </span><span class="s4">0</span><span class="s0">;</span>
                            <span class="s1">return </span><span class="s0">cachedInfo;</span>
                        <span class="s0">}</span>
                        <span class="s1">if </span><span class="s0">(shouldCopy &amp;&amp; cachedInfo.ownership === </span><span class="s4">0 </span><span class="s3">/* ReferenceOwnership.kRuntime */ </span><span class="s0">&amp;&amp; cachedInfo.runtimeAllocated === </span><span class="s4">1</span><span class="s0">) {</span>
                            <span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer).set(</span><span class="s1">new </span><span class="s0">Uint8Array(arrayBuffer), cachedInfo.address);</span>
                        <span class="s0">}</span>
                        <span class="s1">return </span><span class="s0">cachedInfo;</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(isDetached || (arrayBuffer.byteLength === </span><span class="s4">0</span><span class="s0">)) {</span>
                        <span class="s1">return </span><span class="s0">info;</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!shouldCopy) {</span>
                        <span class="s1">return </span><span class="s0">info;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">pointer = _malloc(arrayBuffer.byteLength);</span>
                    <span class="s1">if </span><span class="s0">(!pointer)</span>
                        <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'Out of memory'</span><span class="s0">);</span>
                    <span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer).set(</span><span class="s1">new </span><span class="s0">Uint8Array(arrayBuffer), pointer);</span>
                    <span class="s0">info.address = pointer;</span>
                    <span class="s0">info.ownership = emnapiExternalMemory.registry ? </span><span class="s4">0 </span><span class="s3">/* ReferenceOwnership.kRuntime */ </span><span class="s0">: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">;</span>
                    <span class="s0">info.runtimeAllocated = </span><span class="s4">1</span><span class="s0">;</span>
                    <span class="s0">emnapiExternalMemory.table.set(arrayBuffer, info);</span>
                    <span class="s0">(_a = emnapiExternalMemory.registry) === </span><span class="s1">null </span><span class="s0">|| _a === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _a.register(arrayBuffer, pointer);</span>
                    <span class="s1">return </span><span class="s0">info;</span>
                <span class="s0">},</span>
                <span class="s0">getOrUpdateMemoryView: </span><span class="s1">function </span><span class="s0">(view) {</span>
                    <span class="s1">if </span><span class="s0">(view.buffer === wasmMemory.buffer) {</span>
                        <span class="s1">if </span><span class="s0">(!emnapiExternalMemory.wasmMemoryViewTable.has(view)) {</span>
                            <span class="s0">emnapiExternalMemory.wasmMemoryViewTable.set(view, {</span>
                                <span class="s0">Ctor: view.constructor,</span>
                                <span class="s0">address: view.byteOffset,</span>
                                <span class="s0">length: view </span><span class="s1">instanceof </span><span class="s0">DataView ? view.byteLength : view.length,</span>
                                <span class="s0">ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">,</span>
                                <span class="s0">runtimeAllocated: </span><span class="s4">0</span>
                            <span class="s0">});</span>
                        <span class="s0">}</span>
                        <span class="s1">return </span><span class="s0">view;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">maybeOldWasmMemory = emnapiExternalMemory.isDetachedArrayBuffer(view.buffer) ||</span>
                        <span class="s0">((</span><span class="s1">typeof </span><span class="s0">SharedArrayBuffer === </span><span class="s2">'function'</span><span class="s0">) &amp;&amp; (view.buffer </span><span class="s1">instanceof </span><span class="s0">SharedArrayBuffer));</span>
                    <span class="s1">if </span><span class="s0">(maybeOldWasmMemory &amp;&amp; emnapiExternalMemory.wasmMemoryViewTable.has(view)) {</span>
                        <span class="s1">var </span><span class="s0">info = emnapiExternalMemory.wasmMemoryViewTable.get(view);</span>
                        <span class="s1">var </span><span class="s0">Ctor = info.Ctor;</span>
                        <span class="s1">var </span><span class="s0">newView = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                        <span class="s1">var </span><span class="s0">Buffer_1 = emnapiCtx.feature.Buffer;</span>
                        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">Buffer_1 === </span><span class="s2">'function' </span><span class="s0">&amp;&amp; Ctor === Buffer_1) {</span>
                            <span class="s0">newView = Buffer_1.from(wasmMemory.buffer, info.address, info.length);</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">newView = </span><span class="s1">new </span><span class="s0">Ctor(wasmMemory.buffer, info.address, info.length);</span>
                        <span class="s0">}</span>
                        <span class="s0">emnapiExternalMemory.wasmMemoryViewTable.set(newView, info);</span>
                        <span class="s1">return </span><span class="s0">newView;</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">view;</span>
                <span class="s0">},</span>
                <span class="s0">getViewPointer: </span><span class="s1">function </span><span class="s0">(view, shouldCopy) {</span>
                    <span class="s0">view = emnapiExternalMemory.getOrUpdateMemoryView(view);</span>
                    <span class="s1">if </span><span class="s0">(view.buffer === wasmMemory.buffer) {</span>
                        <span class="s1">if </span><span class="s0">(emnapiExternalMemory.wasmMemoryViewTable.has(view)) {</span>
                            <span class="s1">var </span><span class="s0">_a = emnapiExternalMemory.wasmMemoryViewTable.get(view), address_1 = _a.address, ownership_1 = _a.ownership, runtimeAllocated_1 = _a.runtimeAllocated;</span>
                            <span class="s1">return </span><span class="s0">{ address: address_1, ownership: ownership_1, runtimeAllocated: runtimeAllocated_1, view: view };</span>
                        <span class="s0">}</span>
                        <span class="s1">return </span><span class="s0">{ address: view.byteOffset, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0</span><span class="s0">, view: view };</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">_b = emnapiExternalMemory.getArrayBufferPointer(view.buffer, shouldCopy), address = _b.address, ownership = _b.ownership, runtimeAllocated = _b.runtimeAllocated;</span>
                    <span class="s1">return </span><span class="s0">{ address: address === </span><span class="s4">0 </span><span class="s0">? </span><span class="s4">0 </span><span class="s0">: (address + view.byteOffset), ownership: ownership, runtimeAllocated: runtimeAllocated, view: view };</span>
                <span class="s0">}</span>
            <span class="s0">};</span>
            <span class="s3">/* eslint-disable @typescript-eslint/indent */</span>
            <span class="s3">/**</span>
             <span class="s3">* @__postset</span>
             <span class="s3">* ```</span>
             <span class="s3">* emnapiString.init();</span>
             <span class="s3">* ```</span>
             <span class="s3">*/</span>
            <span class="s1">var </span><span class="s0">emnapiString = {</span>
                <span class="s0">utf8Decoder: undefined,</span>
                <span class="s0">utf16Decoder: undefined,</span>
                <span class="s0">init: </span><span class="s1">function </span><span class="s0">() {</span>
                    <span class="s1">var </span><span class="s0">fallbackDecoder = {</span>
                        <span class="s0">decode: </span><span class="s1">function </span><span class="s0">(bytes) {</span>
                            <span class="s1">var </span><span class="s0">inputIndex = </span><span class="s4">0</span><span class="s0">;</span>
                            <span class="s1">var </span><span class="s0">pendingSize = Math.min(</span><span class="s4">0x1000</span><span class="s0">, bytes.length + </span><span class="s4">1</span><span class="s0">);</span>
                            <span class="s1">var </span><span class="s0">pending = </span><span class="s1">new </span><span class="s0">Uint16Array(pendingSize);</span>
                            <span class="s1">var </span><span class="s0">chunks = [];</span>
                            <span class="s1">var </span><span class="s0">pendingIndex = </span><span class="s4">0</span><span class="s0">;</span>
                            <span class="s1">for </span><span class="s0">(;;) {</span>
                                <span class="s1">var </span><span class="s0">more = inputIndex &lt; bytes.length;</span>
                                <span class="s1">if </span><span class="s0">(!more || (pendingIndex &gt;= pendingSize - </span><span class="s4">1</span><span class="s0">)) {</span>
                                    <span class="s1">var </span><span class="s0">subarray = pending.subarray(</span><span class="s4">0</span><span class="s0">, pendingIndex);</span>
                                    <span class="s1">var </span><span class="s0">arraylike = subarray;</span>
                                    <span class="s0">chunks.push(String.fromCharCode.apply(</span><span class="s1">null</span><span class="s0">, arraylike));</span>
                                    <span class="s1">if </span><span class="s0">(!more) {</span>
                                        <span class="s1">return </span><span class="s0">chunks.join(</span><span class="s2">''</span><span class="s0">);</span>
                                    <span class="s0">}</span>
                                    <span class="s0">bytes = bytes.subarray(inputIndex);</span>
                                    <span class="s0">inputIndex = </span><span class="s4">0</span><span class="s0">;</span>
                                    <span class="s0">pendingIndex = </span><span class="s4">0</span><span class="s0">;</span>
                                <span class="s0">}</span>
                                <span class="s1">var </span><span class="s0">byte1 = bytes[inputIndex++];</span>
                                <span class="s1">if </span><span class="s0">((byte1 &amp; </span><span class="s4">0x80</span><span class="s0">) === </span><span class="s4">0</span><span class="s0">) {</span>
                                    <span class="s0">pending[pendingIndex++] = byte1;</span>
                                <span class="s0">}</span>
                                <span class="s1">else if </span><span class="s0">((byte1 &amp; </span><span class="s4">0xe0</span><span class="s0">) === </span><span class="s4">0xc0</span><span class="s0">) {</span>
                                    <span class="s1">var </span><span class="s0">byte2 = bytes[inputIndex++] &amp; </span><span class="s4">0x3f</span><span class="s0">;</span>
                                    <span class="s0">pending[pendingIndex++] = ((byte1 &amp; </span><span class="s4">0x1f</span><span class="s0">) &lt;&lt; </span><span class="s4">6</span><span class="s0">) | byte2;</span>
                                <span class="s0">}</span>
                                <span class="s1">else if </span><span class="s0">((byte1 &amp; </span><span class="s4">0xf0</span><span class="s0">) === </span><span class="s4">0xe0</span><span class="s0">) {</span>
                                    <span class="s1">var </span><span class="s0">byte2 = bytes[inputIndex++] &amp; </span><span class="s4">0x3f</span><span class="s0">;</span>
                                    <span class="s1">var </span><span class="s0">byte3 = bytes[inputIndex++] &amp; </span><span class="s4">0x3f</span><span class="s0">;</span>
                                    <span class="s0">pending[pendingIndex++] = ((byte1 &amp; </span><span class="s4">0x1f</span><span class="s0">) &lt;&lt; </span><span class="s4">12</span><span class="s0">) | (byte2 &lt;&lt; </span><span class="s4">6</span><span class="s0">) | byte3;</span>
                                <span class="s0">}</span>
                                <span class="s1">else if </span><span class="s0">((byte1 &amp; </span><span class="s4">0xf8</span><span class="s0">) === </span><span class="s4">0xf0</span><span class="s0">) {</span>
                                    <span class="s1">var </span><span class="s0">byte2 = bytes[inputIndex++] &amp; </span><span class="s4">0x3f</span><span class="s0">;</span>
                                    <span class="s1">var </span><span class="s0">byte3 = bytes[inputIndex++] &amp; </span><span class="s4">0x3f</span><span class="s0">;</span>
                                    <span class="s1">var </span><span class="s0">byte4 = bytes[inputIndex++] &amp; </span><span class="s4">0x3f</span><span class="s0">;</span>
                                    <span class="s1">var </span><span class="s0">codepoint = ((byte1 &amp; </span><span class="s4">0x07</span><span class="s0">) &lt;&lt; </span><span class="s4">0x12</span><span class="s0">) | (byte2 &lt;&lt; </span><span class="s4">0x0c</span><span class="s0">) | (byte3 &lt;&lt; </span><span class="s4">0x06</span><span class="s0">) | byte4;</span>
                                    <span class="s1">if </span><span class="s0">(codepoint &gt; </span><span class="s4">0xffff</span><span class="s0">) {</span>
                                        <span class="s0">codepoint -= </span><span class="s4">0x10000</span><span class="s0">;</span>
                                        <span class="s0">pending[pendingIndex++] = (codepoint &gt;&gt;&gt; </span><span class="s4">10</span><span class="s0">) &amp; </span><span class="s4">0x3ff </span><span class="s0">| </span><span class="s4">0xd800</span><span class="s0">;</span>
                                        <span class="s0">codepoint = </span><span class="s4">0xdc00 </span><span class="s0">| codepoint &amp; </span><span class="s4">0x3ff</span><span class="s0">;</span>
                                    <span class="s0">}</span>
                                    <span class="s0">pending[pendingIndex++] = codepoint;</span>
                                <span class="s0">}</span>
                                <span class="s1">else </span><span class="s0">;</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">};</span>
                    <span class="s1">var </span><span class="s0">utf8Decoder;</span>
                    <span class="s0">utf8Decoder = </span><span class="s1">typeof </span><span class="s0">TextDecoder === </span><span class="s2">'function' </span><span class="s0">? </span><span class="s1">new </span><span class="s0">TextDecoder() : fallbackDecoder;</span>
                    <span class="s0">emnapiString.utf8Decoder = utf8Decoder;</span>
                    <span class="s1">var </span><span class="s0">fallbackDecoder2 = {</span>
                        <span class="s0">decode: </span><span class="s1">function </span><span class="s0">(input) {</span>
                            <span class="s1">var </span><span class="s0">bytes = </span><span class="s1">new </span><span class="s0">Uint16Array(input.buffer, input.byteOffset, input.byteLength / </span><span class="s4">2</span><span class="s0">);</span>
                            <span class="s1">if </span><span class="s0">(bytes.length &lt;= </span><span class="s4">0x1000</span><span class="s0">) {</span>
                                <span class="s1">return </span><span class="s0">String.fromCharCode.apply(</span><span class="s1">null</span><span class="s0">, bytes);</span>
                            <span class="s0">}</span>
                            <span class="s1">var </span><span class="s0">chunks = [];</span>
                            <span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">;</span>
                            <span class="s1">var </span><span class="s0">len = </span><span class="s4">0</span><span class="s0">;</span>
                            <span class="s1">for </span><span class="s0">(; i &lt; bytes.length; i += len) {</span>
                                <span class="s0">len = Math.min(</span><span class="s4">0x1000</span><span class="s0">, bytes.length - i);</span>
                                <span class="s0">chunks.push(String.fromCharCode.apply(</span><span class="s1">null</span><span class="s0">, bytes.subarray(i, i + len)));</span>
                            <span class="s0">}</span>
                            <span class="s1">return </span><span class="s0">chunks.join(</span><span class="s2">''</span><span class="s0">);</span>
                        <span class="s0">}</span>
                    <span class="s0">};</span>
                    <span class="s1">var </span><span class="s0">utf16Decoder;</span>
                    <span class="s0">utf16Decoder = </span><span class="s1">typeof </span><span class="s0">TextDecoder === </span><span class="s2">'function' </span><span class="s0">? </span><span class="s1">new </span><span class="s0">TextDecoder(</span><span class="s2">'utf-16le'</span><span class="s0">) : fallbackDecoder2;</span>
                    <span class="s0">emnapiString.utf16Decoder = utf16Decoder;</span>
                <span class="s0">},</span>
                <span class="s0">lengthBytesUTF8: </span><span class="s1">function </span><span class="s0">(str) {</span>
                    <span class="s1">var </span><span class="s0">c;</span>
                    <span class="s1">var </span><span class="s0">len = </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; str.length; ++i) {</span>
                        <span class="s0">c = str.charCodeAt(i);</span>
                        <span class="s1">if </span><span class="s0">(c &lt;= </span><span class="s4">0x7F</span><span class="s0">) {</span>
                            <span class="s0">len++;</span>
                        <span class="s0">}</span>
                        <span class="s1">else if </span><span class="s0">(c &lt;= </span><span class="s4">0x7FF</span><span class="s0">) {</span>
                            <span class="s0">len += </span><span class="s4">2</span><span class="s0">;</span>
                        <span class="s0">}</span>
                        <span class="s1">else if </span><span class="s0">(c &gt;= </span><span class="s4">0xD800 </span><span class="s0">&amp;&amp; c &lt;= </span><span class="s4">0xDFFF</span><span class="s0">) {</span>
                            <span class="s0">len += </span><span class="s4">4</span><span class="s0">;</span>
                            <span class="s0">++i;</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">len += </span><span class="s4">3</span><span class="s0">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">len;</span>
                <span class="s0">},</span>
                <span class="s0">UTF8ToString: </span><span class="s1">function </span><span class="s0">(ptr, length) {</span>
                    <span class="s1">if </span><span class="s0">(!ptr || !length)</span>
                        <span class="s1">return </span><span class="s2">''</span><span class="s0">;</span>
                    <span class="s0">ptr &gt;&gt;&gt;= </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAPU8 = </span><span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer);</span>
                    <span class="s1">var </span><span class="s0">end = ptr;</span>
                    <span class="s1">if </span><span class="s0">(length === -</span><span class="s4">1</span><span class="s0">) {</span>
                        <span class="s1">for </span><span class="s0">(; HEAPU8[end];)</span>
                            <span class="s0">++end;</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">end = ptr + (length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">length = end - ptr;</span>
                    <span class="s1">if </span><span class="s0">(length &lt;= </span><span class="s4">16</span><span class="s0">) {</span>
                        <span class="s1">var </span><span class="s0">idx = ptr;</span>
                        <span class="s1">var </span><span class="s0">str = </span><span class="s2">''</span><span class="s0">;</span>
                        <span class="s1">while </span><span class="s0">(idx &lt; end) {</span>
                            <span class="s1">var </span><span class="s0">u0 = HEAPU8[idx++];</span>
                            <span class="s1">if </span><span class="s0">(!(u0 &amp; </span><span class="s4">0x80</span><span class="s0">)) {</span>
                                <span class="s0">str += String.fromCharCode(u0);</span>
                                <span class="s1">continue</span><span class="s0">;</span>
                            <span class="s0">}</span>
                            <span class="s1">var </span><span class="s0">u1 = HEAPU8[idx++] &amp; </span><span class="s4">63</span><span class="s0">;</span>
                            <span class="s1">if </span><span class="s0">((u0 &amp; </span><span class="s4">0xE0</span><span class="s0">) === </span><span class="s4">0xC0</span><span class="s0">) {</span>
                                <span class="s0">str += String.fromCharCode(((u0 &amp; </span><span class="s4">31</span><span class="s0">) &lt;&lt; </span><span class="s4">6</span><span class="s0">) | u1);</span>
                                <span class="s1">continue</span><span class="s0">;</span>
                            <span class="s0">}</span>
                            <span class="s1">var </span><span class="s0">u2 = HEAPU8[idx++] &amp; </span><span class="s4">63</span><span class="s0">;</span>
                            <span class="s1">if </span><span class="s0">((u0 &amp; </span><span class="s4">0xF0</span><span class="s0">) === </span><span class="s4">0xE0</span><span class="s0">) {</span>
                                <span class="s0">u0 = ((u0 &amp; </span><span class="s4">15</span><span class="s0">) &lt;&lt; </span><span class="s4">12</span><span class="s0">) | (u1 &lt;&lt; </span><span class="s4">6</span><span class="s0">) | u2;</span>
                            <span class="s0">}</span>
                            <span class="s1">else </span><span class="s0">{</span>
                                <span class="s0">u0 = ((u0 &amp; </span><span class="s4">7</span><span class="s0">) &lt;&lt; </span><span class="s4">18</span><span class="s0">) | (u1 &lt;&lt; </span><span class="s4">12</span><span class="s0">) | (u2 &lt;&lt; </span><span class="s4">6</span><span class="s0">) | (HEAPU8[idx++] &amp; </span><span class="s4">63</span><span class="s0">);</span>
                            <span class="s0">}</span>
                            <span class="s1">if </span><span class="s0">(u0 &lt; </span><span class="s4">0x10000</span><span class="s0">) {</span>
                                <span class="s0">str += String.fromCharCode(u0);</span>
                            <span class="s0">}</span>
                            <span class="s1">else </span><span class="s0">{</span>
                                <span class="s1">var </span><span class="s0">ch = u0 - </span><span class="s4">0x10000</span><span class="s0">;</span>
                                <span class="s0">str += String.fromCharCode(</span><span class="s4">0xD800 </span><span class="s0">| (ch &gt;&gt; </span><span class="s4">10</span><span class="s0">), </span><span class="s4">0xDC00 </span><span class="s0">| (ch &amp; </span><span class="s4">0x3FF</span><span class="s0">));</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s1">return </span><span class="s0">str;</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">emnapiString.utf8Decoder.decode(((</span><span class="s1">typeof </span><span class="s0">SharedArrayBuffer === </span><span class="s2">&quot;function&quot; </span><span class="s0">&amp;&amp; HEAPU8.buffer </span><span class="s1">instanceof </span><span class="s0">SharedArrayBuffer) || (Object.prototype.toString.call(HEAPU8.buffer) === </span><span class="s2">&quot;[object SharedArrayBuffer]&quot;</span><span class="s0">)) ? HEAPU8.slice(ptr, end) : HEAPU8.subarray(ptr, end));</span>
                <span class="s0">},</span>
                <span class="s0">stringToUTF8: </span><span class="s1">function </span><span class="s0">(str, outPtr, maxBytesToWrite) {</span>
                    <span class="s1">var </span><span class="s0">HEAPU8 = </span><span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer);</span>
                    <span class="s1">var </span><span class="s0">outIdx = outPtr;</span>
                    <span class="s0">outIdx &gt;&gt;&gt;= </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(!(maxBytesToWrite &gt; </span><span class="s4">0</span><span class="s0">)) {</span>
                        <span class="s1">return </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">startIdx = outIdx;</span>
                    <span class="s1">var </span><span class="s0">endIdx = outIdx + maxBytesToWrite - </span><span class="s4">1</span><span class="s0">;</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; str.length; ++i) {</span>
                        <span class="s1">var </span><span class="s0">u = str.charCodeAt(i);</span>
                        <span class="s1">if </span><span class="s0">(u &gt;= </span><span class="s4">0xD800 </span><span class="s0">&amp;&amp; u &lt;= </span><span class="s4">0xDFFF</span><span class="s0">) {</span>
                            <span class="s1">var </span><span class="s0">u1 = str.charCodeAt(++i);</span>
                            <span class="s0">u = </span><span class="s4">0x10000 </span><span class="s0">+ ((u &amp; </span><span class="s4">0x3FF</span><span class="s0">) &lt;&lt; </span><span class="s4">10</span><span class="s0">) | (u1 &amp; </span><span class="s4">0x3FF</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">if </span><span class="s0">(u &lt;= </span><span class="s4">0x7F</span><span class="s0">) {</span>
                            <span class="s1">if </span><span class="s0">(outIdx &gt;= endIdx)</span>
                                <span class="s1">break</span><span class="s0">;</span>
                            <span class="s0">HEAPU8[outIdx++] = u;</span>
                        <span class="s0">}</span>
                        <span class="s1">else if </span><span class="s0">(u &lt;= </span><span class="s4">0x7FF</span><span class="s0">) {</span>
                            <span class="s1">if </span><span class="s0">(outIdx + </span><span class="s4">1 </span><span class="s0">&gt;= endIdx)</span>
                                <span class="s1">break</span><span class="s0">;</span>
                            <span class="s0">HEAPU8[outIdx++] = </span><span class="s4">0xC0 </span><span class="s0">| (u &gt;&gt; </span><span class="s4">6</span><span class="s0">);</span>
                            <span class="s0">HEAPU8[outIdx++] = </span><span class="s4">0x80 </span><span class="s0">| (u &amp; </span><span class="s4">63</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">else if </span><span class="s0">(u &lt;= </span><span class="s4">0xFFFF</span><span class="s0">) {</span>
                            <span class="s1">if </span><span class="s0">(outIdx + </span><span class="s4">2 </span><span class="s0">&gt;= endIdx)</span>
                                <span class="s1">break</span><span class="s0">;</span>
                            <span class="s0">HEAPU8[outIdx++] = </span><span class="s4">0xE0 </span><span class="s0">| (u &gt;&gt; </span><span class="s4">12</span><span class="s0">);</span>
                            <span class="s0">HEAPU8[outIdx++] = </span><span class="s4">0x80 </span><span class="s0">| ((u &gt;&gt; </span><span class="s4">6</span><span class="s0">) &amp; </span><span class="s4">63</span><span class="s0">);</span>
                            <span class="s0">HEAPU8[outIdx++] = </span><span class="s4">0x80 </span><span class="s0">| (u &amp; </span><span class="s4">63</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s1">if </span><span class="s0">(outIdx + </span><span class="s4">3 </span><span class="s0">&gt;= endIdx)</span>
                                <span class="s1">break</span><span class="s0">;</span>
                            <span class="s0">HEAPU8[outIdx++] = </span><span class="s4">0xF0 </span><span class="s0">| (u &gt;&gt; </span><span class="s4">18</span><span class="s0">);</span>
                            <span class="s0">HEAPU8[outIdx++] = </span><span class="s4">0x80 </span><span class="s0">| ((u &gt;&gt; </span><span class="s4">12</span><span class="s0">) &amp; </span><span class="s4">63</span><span class="s0">);</span>
                            <span class="s0">HEAPU8[outIdx++] = </span><span class="s4">0x80 </span><span class="s0">| ((u &gt;&gt; </span><span class="s4">6</span><span class="s0">) &amp; </span><span class="s4">63</span><span class="s0">);</span>
                            <span class="s0">HEAPU8[outIdx++] = </span><span class="s4">0x80 </span><span class="s0">| (u &amp; </span><span class="s4">63</span><span class="s0">);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s0">HEAPU8[outIdx] = </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">return </span><span class="s0">outIdx - startIdx;</span>
                <span class="s0">},</span>
                <span class="s0">UTF16ToString: </span><span class="s1">function </span><span class="s0">(ptr, length) {</span>
                    <span class="s1">if </span><span class="s0">(!ptr || !length)</span>
                        <span class="s1">return </span><span class="s2">''</span><span class="s0">;</span>
                    <span class="s0">ptr &gt;&gt;&gt;= </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">end = ptr;</span>
                    <span class="s1">if </span><span class="s0">(length === -</span><span class="s4">1</span><span class="s0">) {</span>
                        <span class="s1">var </span><span class="s0">idx = end &gt;&gt; </span><span class="s4">1</span><span class="s0">;</span>
                        <span class="s1">var </span><span class="s0">HEAPU16 = </span><span class="s1">new </span><span class="s0">Uint16Array(wasmMemory.buffer);</span>
                        <span class="s1">while </span><span class="s0">(HEAPU16[idx])</span>
                            <span class="s0">++idx;</span>
                        <span class="s0">end = idx &lt;&lt; </span><span class="s4">1</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">end = ptr + (length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">) * </span><span class="s4">2</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s0">length = end - ptr;</span>
                    <span class="s1">if </span><span class="s0">(length &lt;= </span><span class="s4">32</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">String.fromCharCode.apply(</span><span class="s1">null</span><span class="s0">, </span><span class="s1">new </span><span class="s0">Uint16Array(wasmMemory.buffer, ptr, length / </span><span class="s4">2</span><span class="s0">));</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">HEAPU8 = </span><span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer);</span>
                    <span class="s1">return </span><span class="s0">emnapiString.utf16Decoder.decode(((</span><span class="s1">typeof </span><span class="s0">SharedArrayBuffer === </span><span class="s2">&quot;function&quot; </span><span class="s0">&amp;&amp; HEAPU8.buffer </span><span class="s1">instanceof </span><span class="s0">SharedArrayBuffer) || (Object.prototype.toString.call(HEAPU8.buffer) === </span><span class="s2">&quot;[object SharedArrayBuffer]&quot;</span><span class="s0">)) ? HEAPU8.slice(ptr, end) : HEAPU8.subarray(ptr, end));</span>
                <span class="s0">},</span>
                <span class="s0">stringToUTF16: </span><span class="s1">function </span><span class="s0">(str, outPtr, maxBytesToWrite) {</span>
                    <span class="s1">if </span><span class="s0">(maxBytesToWrite === undefined) {</span>
                        <span class="s0">maxBytesToWrite = </span><span class="s4">0x7FFFFFFF</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(maxBytesToWrite &lt; </span><span class="s4">2</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s0">maxBytesToWrite -= </span><span class="s4">2</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">startPtr = outPtr;</span>
                    <span class="s1">var </span><span class="s0">numCharsToWrite = (maxBytesToWrite &lt; str.length * </span><span class="s4">2</span><span class="s0">) ? (maxBytesToWrite / </span><span class="s4">2</span><span class="s0">) : str.length;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; numCharsToWrite; ++i) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s1">var </span><span class="s0">codeUnit = str.charCodeAt(i);</span>
                        <span class="s0">HEAP_DATA_VIEW.setInt16(outPtr, codeUnit, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">outPtr += </span><span class="s4">2</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt16(outPtr, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">outPtr - startPtr;</span>
                <span class="s0">},</span>
                <span class="s0">newString: </span><span class="s1">function </span><span class="s0">(env, str, length, result, stringMaker) {</span>
                    <span class="s1">if </span><span class="s0">(!env)</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s3">// @ts-expect-error</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s0">envObject.checkGCAccess();</span>
                    <span class="s1">var </span><span class="s0">autoLength = length === -</span><span class="s4">1</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">sizelength = length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(length !== </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">if </span><span class="s0">(!str)</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!(autoLength || (sizelength &lt;= </span><span class="s4">2147483647</span><span class="s0">)))</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">strValue = stringMaker(str, autoLength, sizelength);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">value = emnapiCtx.addToCurrentScope(strValue).id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">},</span>
                <span class="s0">newExternalString: </span><span class="s1">function </span><span class="s0">(env, str, length, finalize_callback, finalize_hint, result, copied, createApi, stringMaker) {</span>
                    <span class="s1">if </span><span class="s0">(!env)</span>
                        <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                    <span class="s3">// @ts-expect-error</span>
                    <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                    <span class="s0">envObject.checkGCAccess();</span>
                    <span class="s1">var </span><span class="s0">autoLength = length === -</span><span class="s4">1</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">sizelength = length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(length !== </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">if </span><span class="s0">(!str)</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!(autoLength || (sizelength &lt;= </span><span class="s4">2147483647</span><span class="s0">)))</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">status = createApi(env, str, length, result);</span>
                    <span class="s1">if </span><span class="s0">(status === </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">) {</span>
                        <span class="s1">if </span><span class="s0">(copied) {</span>
                            <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                            <span class="s0">HEAP_DATA_VIEW.setInt8(copied, </span><span class="s4">1</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">if </span><span class="s0">(finalize_callback) {</span>
                            <span class="s0">envObject.callFinalizer(finalize_callback, str, finalize_hint);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">status;</span>
                <span class="s0">}</span>
            <span class="s0">};</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_array_length(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!value)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                    <span class="s1">if </span><span class="s0">(!handle.isArray()) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">8 </span><span class="s3">/* napi_status.napi_array_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">v = handle.value.length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_arraybuffer_info(env, arraybuffer, data, byte_length) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!arraybuffer)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(arraybuffer);</span>
                <span class="s1">if </span><span class="s0">(!handle.isArrayBuffer()) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(data) {</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">p = emnapiExternalMemory.getArrayBufferPointer(handle.value, </span><span class="s1">true</span><span class="s0">).address;</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(data, p, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(byte_length) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(byte_length, handle.value.byteLength, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_prototype(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!value)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                    <span class="s1">if </span><span class="s0">(handle.value == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert undefined or null to object'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">v = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">v = handle.isObject() || handle.isFunction() ? handle.value : Object(handle.value);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">p = envObject.ensureHandleId(Object.getPrototypeOf(v));</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, p, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_typedarray_info(env, typedarray, type, length, data, arraybuffer, byte_offset) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!typedarray)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(typedarray);</span>
                <span class="s1">if </span><span class="s0">(!handle.isTypedArray()) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">v = handle.value;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(type) {</span>
                    <span class="s1">var </span><span class="s0">t = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">Int8Array) {</span>
                        <span class="s0">t = </span><span class="s4">0 </span><span class="s3">/* napi_typedarray_type.napi_int8_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">Uint8Array) {</span>
                        <span class="s0">t = </span><span class="s4">1 </span><span class="s3">/* napi_typedarray_type.napi_uint8_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">Uint8ClampedArray) {</span>
                        <span class="s0">t = </span><span class="s4">2 </span><span class="s3">/* napi_typedarray_type.napi_uint8_clamped_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">Int16Array) {</span>
                        <span class="s0">t = </span><span class="s4">3 </span><span class="s3">/* napi_typedarray_type.napi_int16_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">Uint16Array) {</span>
                        <span class="s0">t = </span><span class="s4">4 </span><span class="s3">/* napi_typedarray_type.napi_uint16_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">Int32Array) {</span>
                        <span class="s0">t = </span><span class="s4">5 </span><span class="s3">/* napi_typedarray_type.napi_int32_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">Uint32Array) {</span>
                        <span class="s0">t = </span><span class="s4">6 </span><span class="s3">/* napi_typedarray_type.napi_uint32_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">Float32Array) {</span>
                        <span class="s0">t = </span><span class="s4">7 </span><span class="s3">/* napi_typedarray_type.napi_float32_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">Float64Array) {</span>
                        <span class="s0">t = </span><span class="s4">8 </span><span class="s3">/* napi_typedarray_type.napi_float64_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">BigInt64Array) {</span>
                        <span class="s0">t = </span><span class="s4">9 </span><span class="s3">/* napi_typedarray_type.napi_bigint64_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(v </span><span class="s1">instanceof </span><span class="s0">BigUint64Array) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s0">t = </span><span class="s4">10 </span><span class="s3">/* napi_typedarray_type.napi_biguint64_array */</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt32(type, t, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(length) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(length, v.length, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">buffer;</span>
                <span class="s1">if </span><span class="s0">(data || arraybuffer) {</span>
                    <span class="s0">buffer = v.buffer;</span>
                    <span class="s1">if </span><span class="s0">(data) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s1">var </span><span class="s0">p = emnapiExternalMemory.getViewPointer(v, </span><span class="s1">true</span><span class="s0">).address;</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(data, p, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(arraybuffer) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s1">var </span><span class="s0">ab = envObject.ensureHandleId(buffer);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(arraybuffer, ab, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(byte_offset) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(byte_offset, v.byteOffset, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_buffer_info(env, buffer, data, length) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!buffer)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(buffer);</span>
                <span class="s1">if </span><span class="s0">(!handle.isBuffer(emnapiCtx.feature.Buffer))</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(handle.isDataView()) {</span>
                    <span class="s1">return </span><span class="s0">napi_get_dataview_info(env, buffer, length, data, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">napi_get_typedarray_info(env, buffer, </span><span class="s4">0</span><span class="s0">, length, data, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_dataview_info(env, dataview, byte_length, data, arraybuffer, byte_offset) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!dataview)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(dataview);</span>
                <span class="s1">if </span><span class="s0">(!handle.isDataView()) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">v = handle.value;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(byte_length) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(byte_length, v.byteLength, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">buffer;</span>
                <span class="s1">if </span><span class="s0">(data || arraybuffer) {</span>
                    <span class="s0">buffer = v.buffer;</span>
                    <span class="s1">if </span><span class="s0">(data) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s1">var </span><span class="s0">p = emnapiExternalMemory.getViewPointer(v, </span><span class="s1">true</span><span class="s0">).address;</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(data, p, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(arraybuffer) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s1">var </span><span class="s0">ab = envObject.ensureHandleId(buffer);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(arraybuffer, ab, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(byte_offset) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(byte_offset, v.byteOffset, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_date_value(env, value, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!value)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                    <span class="s1">if </span><span class="s0">(!handle.isDate()) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">v = handle.value.valueOf();</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setFloat64(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_bool(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">handle.value !== </span><span class="s2">'boolean'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">7 </span><span class="s3">/* napi_status.napi_boolean_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = handle.value ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_double(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">handle.value !== </span><span class="s2">'number'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">6 </span><span class="s3">/* napi_status.napi_number_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = handle.value;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setFloat64(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_bigint_int64(env, value, result, lossless) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportBigInt) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!lossless)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">var </span><span class="s0">numberValue = handle.value;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">numberValue !== </span><span class="s2">'bigint'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">6 </span><span class="s3">/* napi_status.napi_number_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">((numberValue &gt;= (BigInt(-</span><span class="s4">1</span><span class="s0">) * (BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">63</span><span class="s0">)))) &amp;&amp; (numberValue &lt; (BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">63</span><span class="s0">)))) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(lossless, </span><span class="s4">1</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(lossless, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">numberValue = numberValue &amp; ((BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">64</span><span class="s0">)) - BigInt(</span><span class="s4">1</span><span class="s0">));</span>
                    <span class="s1">if </span><span class="s0">(numberValue &gt;= (BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">63</span><span class="s0">))) {</span>
                        <span class="s0">numberValue = numberValue - (BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">64</span><span class="s0">));</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">low = Number(numberValue &amp; BigInt(</span><span class="s4">0xffffffff</span><span class="s0">));</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">high = Number(numberValue &gt;&gt; BigInt(</span><span class="s4">32</span><span class="s0">));</span>
                <span class="s0">HEAP_DATA_VIEW.setInt32(result, low, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt32(result + </span><span class="s4">4</span><span class="s0">, high, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_bigint_uint64(env, value, result, lossless) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportBigInt) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!lossless)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">var </span><span class="s0">numberValue = handle.value;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">numberValue !== </span><span class="s2">'bigint'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">6 </span><span class="s3">/* napi_status.napi_number_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">((numberValue &gt;= BigInt(</span><span class="s4">0</span><span class="s0">)) &amp;&amp; (numberValue &lt; (BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">64</span><span class="s0">)))) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(lossless, </span><span class="s4">1</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(lossless, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">numberValue = numberValue &amp; ((BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">64</span><span class="s0">)) - BigInt(</span><span class="s4">1</span><span class="s0">));</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">low = Number(numberValue &amp; BigInt(</span><span class="s4">0xffffffff</span><span class="s0">));</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">high = Number(numberValue &gt;&gt; BigInt(</span><span class="s4">32</span><span class="s0">));</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, low, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result + </span><span class="s4">4</span><span class="s0">, high, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_bigint_words(env, value, sign_bit, word_count, words) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportBigInt) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!word_count)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(!handle.isBigInt()) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">17 </span><span class="s3">/* napi_status.napi_bigint_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">isMinus = handle.value &lt; BigInt(</span><span class="s4">0</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">var </span><span class="s0">word_count_int = HEAP_DATA_VIEW.getUint32(word_count, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">wordCount = </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">bigintValue = isMinus ? (handle.value * BigInt(-</span><span class="s4">1</span><span class="s0">)) : handle.value;</span>
                <span class="s1">while </span><span class="s0">(bigintValue !== BigInt(</span><span class="s4">0</span><span class="s0">)) {</span>
                    <span class="s0">wordCount++;</span>
                    <span class="s0">bigintValue = bigintValue &gt;&gt; BigInt(</span><span class="s4">64</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s0">bigintValue = isMinus ? (handle.value * BigInt(-</span><span class="s4">1</span><span class="s0">)) : handle.value;</span>
                <span class="s1">if </span><span class="s0">(!sign_bit &amp;&amp; !words) {</span>
                    <span class="s0">word_count_int = wordCount;</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(word_count, word_count_int, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!sign_bit)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!words)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">wordsArr = [];</span>
                    <span class="s1">while </span><span class="s0">(bigintValue !== BigInt(</span><span class="s4">0</span><span class="s0">)) {</span>
                        <span class="s1">var </span><span class="s0">uint64 = bigintValue &amp; ((BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">64</span><span class="s0">)) - BigInt(</span><span class="s4">1</span><span class="s0">));</span>
                        <span class="s0">wordsArr.push(uint64);</span>
                        <span class="s0">bigintValue = bigintValue &gt;&gt; BigInt(</span><span class="s4">64</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">len = Math.min(word_count_int, wordsArr.length);</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; len; i++) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s1">var </span><span class="s0">low = Number(wordsArr[i] &amp; BigInt(</span><span class="s4">0xffffffff</span><span class="s0">));</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s1">var </span><span class="s0">high = Number(wordsArr[i] &gt;&gt; BigInt(</span><span class="s4">32</span><span class="s0">));</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(words + i * </span><span class="s4">8</span><span class="s0">, low, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(words + (i * </span><span class="s4">8 </span><span class="s0">+ </span><span class="s4">4</span><span class="s0">), high, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt32(sign_bit, isMinus ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(word_count, len, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_external(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(!handle.isExternal()) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">p = handle.data();</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, p, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_int32(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">handle.value !== </span><span class="s2">'number'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">6 </span><span class="s3">/* napi_status.napi_number_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v = </span><span class="s1">new </span><span class="s0">Int32Array([handle.value])[</span><span class="s4">0</span><span class="s0">];</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_int64(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">handle.value !== </span><span class="s2">'number'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">6 </span><span class="s3">/* napi_status.napi_number_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">numberValue = handle.value;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(numberValue === Number.POSITIVE_INFINITY || numberValue === Number.NEGATIVE_INFINITY || isNaN(numberValue)) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt32(result, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt32(result + </span><span class="s4">4</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(numberValue &lt; </span><span class="s3">/* INT64_RANGE_NEGATIVE */ </span><span class="s0">-</span><span class="s4">9223372036854776e3</span><span class="s0">) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt32(result, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt32(result + </span><span class="s4">4</span><span class="s0">, </span><span class="s4">2147483648</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(numberValue &gt;= </span><span class="s3">/* INT64_RANGE_POSITIVE */ </span><span class="s4">9223372036854776000</span><span class="s0">) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, </span><span class="s4">4294967295</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result + </span><span class="s4">4</span><span class="s0">, </span><span class="s4">2147483647</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">$emnapiSetValueI64(result, Math.trunc(numberValue));</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_string_latin1(env, value, buf, buf_size, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">buf_size = buf_size &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">handle.value !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(!buf) {</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, handle.value.length, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(buf_size !== </span><span class="s4">0</span><span class="s0">) {</span>
                    <span class="s1">var </span><span class="s0">copied = </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">v = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; buf_size - </span><span class="s4">1</span><span class="s0">; ++i) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s0">v = handle.value.charCodeAt(i) &amp; </span><span class="s4">0xff</span><span class="s0">;</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint8(buf + i, v, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s0">copied++;</span>
                    <span class="s0">}</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint8(buf + copied, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(result) {</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, copied, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(result) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_string_utf8(env, value, buf, buf_size, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">buf_size = buf_size &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">handle.value !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(!buf) {</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">strLength = emnapiString.lengthBytesUTF8(handle.value);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, strLength, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(buf_size !== </span><span class="s4">0</span><span class="s0">) {</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">copied = emnapiString.stringToUTF8(handle.value, buf, buf_size);</span>
                    <span class="s1">if </span><span class="s0">(result) {</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, copied, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(result) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_string_utf16(env, value, buf, buf_size, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">buf_size = buf_size &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">handle.value !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(!buf) {</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, handle.value.length, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(buf_size !== </span><span class="s4">0</span><span class="s0">) {</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">copied = emnapiString.stringToUTF16(handle.value, buf, buf_size * </span><span class="s4">2</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(result) {</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, copied / </span><span class="s4">2</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(result) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_get_value_uint32(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">handle.value !== </span><span class="s2">'number'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">6 </span><span class="s3">/* napi_status.napi_number_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v = </span><span class="s1">new </span><span class="s0">Uint32Array([handle.value])[</span><span class="s4">0</span><span class="s0">];</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">convert2cMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_get_array_length: napi_get_array_length,</span>
                <span class="s0">napi_get_arraybuffer_info: napi_get_arraybuffer_info,</span>
                <span class="s0">napi_get_buffer_info: napi_get_buffer_info,</span>
                <span class="s0">napi_get_dataview_info: napi_get_dataview_info,</span>
                <span class="s0">napi_get_date_value: napi_get_date_value,</span>
                <span class="s0">napi_get_prototype: napi_get_prototype,</span>
                <span class="s0">napi_get_typedarray_info: napi_get_typedarray_info,</span>
                <span class="s0">napi_get_value_bigint_int64: napi_get_value_bigint_int64,</span>
                <span class="s0">napi_get_value_bigint_uint64: napi_get_value_bigint_uint64,</span>
                <span class="s0">napi_get_value_bigint_words: napi_get_value_bigint_words,</span>
                <span class="s0">napi_get_value_bool: napi_get_value_bool,</span>
                <span class="s0">napi_get_value_double: napi_get_value_double,</span>
                <span class="s0">napi_get_value_external: napi_get_value_external,</span>
                <span class="s0">napi_get_value_int32: napi_get_value_int32,</span>
                <span class="s0">napi_get_value_int64: napi_get_value_int64,</span>
                <span class="s0">napi_get_value_string_latin1: napi_get_value_string_latin1,</span>
                <span class="s0">napi_get_value_string_utf16: napi_get_value_string_utf16,</span>
                <span class="s0">napi_get_value_string_utf8: napi_get_value_string_utf8,</span>
                <span class="s0">napi_get_value_uint32: napi_get_value_uint32</span>
            <span class="s0">});</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipip</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_int32(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v = emnapiCtx.addToCurrentScope(value).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipip</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_uint32(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v = emnapiCtx.addToCurrentScope(value &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipjp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_int64(env, low, high, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!high)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">value = Number(low);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v1 = emnapiCtx.addToCurrentScope(value).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(high, v1, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipdp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_double(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v = emnapiCtx.addToCurrentScope(value).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_string_latin1(env, str, length, result) {</span>
                <span class="s1">return </span><span class="s0">emnapiString.newString(env, str, length, result, </span><span class="s1">function </span><span class="s0">(str, autoLength, sizeLength) {</span>
                    <span class="s1">var </span><span class="s0">latin1String = </span><span class="s2">''</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">len = </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">if </span><span class="s0">(autoLength) {</span>
                        <span class="s1">while </span><span class="s0">(</span><span class="s1">true</span><span class="s0">) {</span>
                            <span class="s1">var </span><span class="s0">ch = HEAP_DATA_VIEW.getUint8(str, </span><span class="s1">true</span><span class="s0">);</span>
                            <span class="s1">if </span><span class="s0">(!ch)</span>
                                <span class="s1">break</span><span class="s0">;</span>
                            <span class="s0">latin1String += String.fromCharCode(ch);</span>
                            <span class="s0">str++;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">while </span><span class="s0">(len &lt; sizeLength) {</span>
                            <span class="s1">var </span><span class="s0">ch = HEAP_DATA_VIEW.getUint8(str, </span><span class="s1">true</span><span class="s0">);</span>
                            <span class="s1">if </span><span class="s0">(!ch)</span>
                                <span class="s1">break</span><span class="s0">;</span>
                            <span class="s0">latin1String += String.fromCharCode(ch);</span>
                            <span class="s0">len++;</span>
                            <span class="s0">str++;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">latin1String;</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_string_utf16(env, str, length, result) {</span>
                <span class="s1">return </span><span class="s0">emnapiString.newString(env, str, length, result, </span><span class="s1">function </span><span class="s0">(str) {</span>
                    <span class="s1">return </span><span class="s0">emnapiString.UTF16ToString(str, length);</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_string_utf8(env, str, length, result) {</span>
                <span class="s1">return </span><span class="s0">emnapiString.newString(env, str, length, result, </span><span class="s1">function </span><span class="s0">(str) {</span>
                    <span class="s1">return </span><span class="s0">emnapiString.UTF8ToString(str, length);</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">node_api_create_external_string_latin1(env, str, length, finalize_callback, finalize_hint, result, copied) {</span>
                <span class="s1">return </span><span class="s0">emnapiString.newExternalString(env, str, length, finalize_callback, finalize_hint, result, copied, napi_create_string_latin1, undefined);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">node_api_create_external_string_utf16(env, str, length, finalize_callback, finalize_hint, result, copied) {</span>
                <span class="s1">return </span><span class="s0">emnapiString.newExternalString(env, str, length, finalize_callback, finalize_hint, result, copied, napi_create_string_utf16, undefined);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">node_api_create_property_key_latin1(env, str, length, result) {</span>
                <span class="s1">return </span><span class="s0">napi_create_string_latin1(env, str, length, result);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">node_api_create_property_key_utf8(env, str, length, result) {</span>
                <span class="s1">return </span><span class="s0">napi_create_string_utf8(env, str, length, result);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">node_api_create_property_key_utf16(env, str, length, result) {</span>
                <span class="s1">return </span><span class="s0">napi_create_string_utf16(env, str, length, result);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipjp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_bigint_int64(env, low, high, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportBigInt) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!high)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">value = low;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v1 = emnapiCtx.addToCurrentScope(value).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(high, v1, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipjp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_bigint_uint64(env, low, high, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportBigInt) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!high)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">value = low &amp; ((BigInt(</span><span class="s4">1</span><span class="s0">) &lt;&lt; BigInt(</span><span class="s4">64</span><span class="s0">)) - BigInt(</span><span class="s4">1</span><span class="s0">));</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v1 = emnapiCtx.addToCurrentScope(value).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(high, v1, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_bigint_words(env, sign_bit, word_count, words, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v, i;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportBigInt) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">word_count = word_count &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(word_count &gt; </span><span class="s4">2147483647</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(word_count &gt; (</span><span class="s4">1024 </span><span class="s0">* </span><span class="s4">1024 </span><span class="s0">/ (</span><span class="s4">4 </span><span class="s0">* </span><span class="s4">8</span><span class="s0">) / </span><span class="s4">2</span><span class="s0">)) {</span>
                        <span class="s1">throw new </span><span class="s0">RangeError(</span><span class="s2">'Maximum BigInt size exceeded'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">value = BigInt(</span><span class="s4">0</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">for </span><span class="s0">(i = </span><span class="s4">0</span><span class="s0">; i &lt; word_count; i++) {</span>
                        <span class="s1">var </span><span class="s0">low = HEAP_DATA_VIEW.getUint32(words + i * </span><span class="s4">8</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">high = HEAP_DATA_VIEW.getUint32(words + (i * </span><span class="s4">8 </span><span class="s0">+ </span><span class="s4">4</span><span class="s0">), </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">wordi = BigInt(low) | (BigInt(high) &lt;&lt; BigInt(</span><span class="s4">32</span><span class="s0">));</span>
                        <span class="s0">value += wordi &lt;&lt; BigInt(</span><span class="s4">64 </span><span class="s0">* i);</span>
                    <span class="s0">}</span>
                    <span class="s0">value *= ((BigInt(sign_bit) % BigInt(</span><span class="s4">2</span><span class="s0">) === BigInt(</span><span class="s4">0</span><span class="s0">)) ? BigInt(</span><span class="s4">1</span><span class="s0">) : BigInt(-</span><span class="s4">1</span><span class="s0">));</span>
                    <span class="s0">v = emnapiCtx.addToCurrentScope(value).id;</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">convert2napiMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_create_bigint_int64: napi_create_bigint_int64,</span>
                <span class="s0">napi_create_bigint_uint64: napi_create_bigint_uint64,</span>
                <span class="s0">napi_create_bigint_words: napi_create_bigint_words,</span>
                <span class="s0">napi_create_double: napi_create_double,</span>
                <span class="s0">napi_create_int32: napi_create_int32,</span>
                <span class="s0">napi_create_int64: napi_create_int64,</span>
                <span class="s0">napi_create_string_latin1: napi_create_string_latin1,</span>
                <span class="s0">napi_create_string_utf16: napi_create_string_utf16,</span>
                <span class="s0">napi_create_string_utf8: napi_create_string_utf8,</span>
                <span class="s0">napi_create_uint32: napi_create_uint32,</span>
                <span class="s0">node_api_create_external_string_latin1: node_api_create_external_string_latin1,</span>
                <span class="s0">node_api_create_external_string_utf16: node_api_create_external_string_utf16,</span>
                <span class="s0">node_api_create_property_key_latin1: node_api_create_property_key_latin1,</span>
                <span class="s0">node_api_create_property_key_utf16: node_api_create_property_key_utf16,</span>
                <span class="s0">node_api_create_property_key_utf8: node_api_create_property_key_utf8</span>
            <span class="s0">});</span>
            <span class="s1">function </span><span class="s0">emnapiCreateFunction(envObject, utf8name, length, cb, data) {</span>
                <span class="s1">var </span><span class="s0">functionName = (!utf8name || !length) ? </span><span class="s2">'' </span><span class="s0">: (emnapiString.UTF8ToString(utf8name, length));</span>
                <span class="s1">var </span><span class="s0">f;</span>
                <span class="s1">var </span><span class="s0">napiCallback = (wasmTable.get(cb));</span>
                <span class="s1">var </span><span class="s0">callback = </span><span class="s1">function </span><span class="s0">(envObject) {</span>
                    <span class="s1">return </span><span class="s0">napiCallback(envObject.id, envObject.ctx.scopeStore.currentScope.id);</span>
                <span class="s0">};</span>
                <span class="s1">var </span><span class="s0">makeFunction = </span><span class="s1">function </span><span class="s0">(envObject, callback) {</span>
                    <span class="s1">return function </span><span class="s0">() {</span>
                        <span class="s1">var </span><span class="s0">scope = envObject.ctx.openScope(envObject);</span>
                        <span class="s1">var </span><span class="s0">callbackInfo = scope.callbackInfo;</span>
                        <span class="s0">callbackInfo.data = data;</span>
                        <span class="s0">callbackInfo.args = arguments;</span>
                        <span class="s0">callbackInfo.thiz = </span><span class="s1">this</span><span class="s0">;</span>
                        <span class="s0">callbackInfo.fn = f;</span>
                        <span class="s1">try </span><span class="s0">{</span>
                            <span class="s1">var </span><span class="s0">napiValue = envObject.callIntoModule(callback);</span>
                            <span class="s1">return </span><span class="s0">(!napiValue) ? undefined : envObject.ctx.handleStore.get(napiValue).value;</span>
                        <span class="s0">}</span>
                        <span class="s1">finally </span><span class="s0">{</span>
                            <span class="s0">callbackInfo.data = </span><span class="s4">0</span><span class="s0">;</span>
                            <span class="s0">callbackInfo.args = undefined;</span>
                            <span class="s0">callbackInfo.thiz = undefined;</span>
                            <span class="s0">callbackInfo.fn = undefined;</span>
                            <span class="s0">envObject.ctx.closeScope(envObject, scope);</span>
                        <span class="s0">}</span>
                    <span class="s0">};</span>
                <span class="s0">};</span>
                <span class="s1">if </span><span class="s0">(functionName === </span><span class="s2">''</span><span class="s0">) {</span>
                    <span class="s0">f = makeFunction(envObject, callback);</span>
                    <span class="s1">return </span><span class="s0">{ status: </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">, f: f };</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(!(</span><span class="s7">/^[_$a-zA-Z][_$a-zA-Z0-9]*$/</span><span class="s0">.test(functionName))) {</span>
                    <span class="s1">return </span><span class="s0">{ status: </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">, f: undefined };</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(emnapiCtx.feature.supportNewFunction) {</span>
                    <span class="s1">var </span><span class="s0">_ = makeFunction(envObject, callback);</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">f = (</span><span class="s1">new </span><span class="s0">Function(</span><span class="s2">'_'</span><span class="s0">, </span><span class="s2">'return function ' </span><span class="s0">+ functionName + </span><span class="s2">'(){' </span><span class="s0">+</span>
                            <span class="s2">'&quot;use strict&quot;;' </span><span class="s0">+</span>
                            <span class="s2">'return _.apply(this,arguments);' </span><span class="s0">+</span>
                            <span class="s2">'};'</span><span class="s0">))(_);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_err) {</span>
                        <span class="s0">f = makeFunction(envObject, callback);</span>
                        <span class="s1">if </span><span class="s0">(emnapiCtx.feature.canSetFunctionName)</span>
                            <span class="s0">Object.defineProperty(f, </span><span class="s2">'name'</span><span class="s0">, { value: functionName });</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">f = makeFunction(envObject, callback);</span>
                    <span class="s1">if </span><span class="s0">(emnapiCtx.feature.canSetFunctionName)</span>
                        <span class="s0">Object.defineProperty(f, </span><span class="s2">'name'</span><span class="s0">, { value: functionName });</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">{ status: </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">, f: f };</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s0">emnapiDefineProperty(envObject, obj, propertyName, method, getter, setter, value, attributes, data) {</span>
                <span class="s1">if </span><span class="s0">(getter || setter) {</span>
                    <span class="s1">var </span><span class="s0">localGetter = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">localSetter = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(getter) {</span>
                        <span class="s0">localGetter = emnapiCreateFunction(envObject, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, getter, data).f;</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(setter) {</span>
                        <span class="s0">localSetter = emnapiCreateFunction(envObject, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, setter, data).f;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">desc = {</span>
                        <span class="s0">configurable: (attributes &amp; </span><span class="s4">4 </span><span class="s3">/* napi_property_attributes.napi_configurable */</span><span class="s0">) !== </span><span class="s4">0</span><span class="s0">,</span>
                        <span class="s0">enumerable: (attributes &amp; </span><span class="s4">2 </span><span class="s3">/* napi_property_attributes.napi_enumerable */</span><span class="s0">) !== </span><span class="s4">0</span><span class="s0">,</span>
                        <span class="s0">get: localGetter,</span>
                        <span class="s0">set: localSetter</span>
                    <span class="s0">};</span>
                    <span class="s0">Object.defineProperty(obj, propertyName, desc);</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(method) {</span>
                    <span class="s1">var </span><span class="s0">localMethod = emnapiCreateFunction(envObject, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, method, data).f;</span>
                    <span class="s1">var </span><span class="s0">desc = {</span>
                        <span class="s0">configurable: (attributes &amp; </span><span class="s4">4 </span><span class="s3">/* napi_property_attributes.napi_configurable */</span><span class="s0">) !== </span><span class="s4">0</span><span class="s0">,</span>
                        <span class="s0">enumerable: (attributes &amp; </span><span class="s4">2 </span><span class="s3">/* napi_property_attributes.napi_enumerable */</span><span class="s0">) !== </span><span class="s4">0</span><span class="s0">,</span>
                        <span class="s0">writable: (attributes &amp; </span><span class="s4">1 </span><span class="s3">/* napi_property_attributes.napi_writable */</span><span class="s0">) !== </span><span class="s4">0</span><span class="s0">,</span>
                        <span class="s0">value: localMethod</span>
                    <span class="s0">};</span>
                    <span class="s0">Object.defineProperty(obj, propertyName, desc);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">var </span><span class="s0">desc = {</span>
                        <span class="s0">configurable: (attributes &amp; </span><span class="s4">4 </span><span class="s3">/* napi_property_attributes.napi_configurable */</span><span class="s0">) !== </span><span class="s4">0</span><span class="s0">,</span>
                        <span class="s0">enumerable: (attributes &amp; </span><span class="s4">2 </span><span class="s3">/* napi_property_attributes.napi_enumerable */</span><span class="s0">) !== </span><span class="s4">0</span><span class="s0">,</span>
                        <span class="s0">writable: (attributes &amp; </span><span class="s4">1 </span><span class="s3">/* napi_property_attributes.napi_writable */</span><span class="s0">) !== </span><span class="s4">0</span><span class="s0">,</span>
                        <span class="s0">value: emnapiCtx.handleStore.get(value).value</span>
                    <span class="s0">};</span>
                    <span class="s0">Object.defineProperty(obj, propertyName, desc);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s0">emnapiGetHandle(js_object) {</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(js_object);</span>
                <span class="s1">if </span><span class="s0">(!(handle.isObject() || handle.isFunction())) {</span>
                    <span class="s1">return </span><span class="s0">{ status: </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */ </span><span class="s0">};</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">emnapiExternalMemory !== </span><span class="s2">'undefined' </span><span class="s0">&amp;&amp; ArrayBuffer.isView(handle.value)) {</span>
                    <span class="s1">if </span><span class="s0">(emnapiExternalMemory.wasmMemoryViewTable.has(handle.value)) {</span>
                        <span class="s0">handle = emnapiCtx.addToCurrentScope(emnapiExternalMemory.wasmMemoryViewTable.get(handle.value));</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">{ status: </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">, handle: handle };</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s0">emnapiWrap(env, js_object, native_object, finalize_cb, finalize_hint, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">referenceId;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportFinalizer) {</span>
                        <span class="s1">if </span><span class="s0">(finalize_cb) {</span>
                            <span class="s1">throw </span><span class="s0">emnapiCtx.createNotSupportWeakRefError(</span><span class="s2">'napi_wrap'</span><span class="s0">, </span><span class="s2">'Parameter &quot;finalize_cb&quot; must be 0(NULL)'</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">if </span><span class="s0">(result) {</span>
                            <span class="s1">throw </span><span class="s0">emnapiCtx.createNotSupportWeakRefError(</span><span class="s2">'napi_wrap'</span><span class="s0">, </span><span class="s2">'Parameter &quot;result&quot; must be 0(NULL)'</span><span class="s0">);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!js_object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">handleResult = emnapiGetHandle(js_object);</span>
                    <span class="s1">if </span><span class="s0">(handleResult.status !== </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(handleResult.status);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">handle = handleResult.handle;</span>
                    <span class="s1">if </span><span class="s0">(envObject.getObjectBinding(handle.value).wrapped !== </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">reference = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(result) {</span>
                        <span class="s1">if </span><span class="s0">(!finalize_cb)</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                        <span class="s0">reference = emnapiCtx.createReferenceWithFinalizer(envObject, handle.id, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, finalize_cb, native_object, finalize_hint);</span>
                        <span class="s0">referenceId = reference.id;</span>
                        <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, referenceId, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">if </span><span class="s0">(finalize_cb) {</span>
                            <span class="s0">reference = emnapiCtx.createReferenceWithFinalizer(envObject, handle.id, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0 </span><span class="s3">/* ReferenceOwnership.kRuntime */</span><span class="s0">, finalize_cb, native_object, finalize_hint);</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">reference = emnapiCtx.createReferenceWithData(envObject, handle.id, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0 </span><span class="s3">/* ReferenceOwnership.kRuntime */</span><span class="s0">, native_object);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s0">envObject.getObjectBinding(handle.value).wrapped = reference.id;</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s0">emnapiUnwrap(env, js_object, result, action) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">data;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!js_object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(action === </span><span class="s4">0 </span><span class="s3">/* UnwrapAction.KeepWrap */</span><span class="s0">) {</span>
                        <span class="s1">if </span><span class="s0">(!result)</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">value = emnapiCtx.handleStore.get(js_object);</span>
                    <span class="s1">if </span><span class="s0">(!(value.isObject() || value.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">binding = envObject.getObjectBinding(value.value);</span>
                    <span class="s1">var </span><span class="s0">referenceId = binding.wrapped;</span>
                    <span class="s1">var </span><span class="s0">ref = emnapiCtx.refStore.get(referenceId);</span>
                    <span class="s1">if </span><span class="s0">(!ref)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(result) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s0">data = ref.data();</span>
                        <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, data, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(action === </span><span class="s4">1 </span><span class="s3">/* UnwrapAction.RemoveWrap */</span><span class="s0">) {</span>
                        <span class="s0">binding.wrapped = </span><span class="s4">0</span><span class="s0">;</span>
                        <span class="s1">if </span><span class="s0">(ref.ownership() === </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">) {</span>
                            <span class="s3">// When the wrap is been removed, the finalizer should be reset.</span>
                            <span class="s0">ref.resetFinalizer();</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s0">ref.dispose();</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppppppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_define_class(env, utf8name, length, constructor, callback_data, property_count, properties, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">propPtr, valueHandleId, attributes;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!constructor)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">property_count = property_count &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(property_count &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">if </span><span class="s0">(!properties)</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">((length &lt; -</span><span class="s4">1</span><span class="s0">) || (length &gt; </span><span class="s4">2147483647</span><span class="s0">) || (!utf8name)) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">fresult = emnapiCreateFunction(envObject, utf8name, length, constructor, callback_data);</span>
                    <span class="s1">if </span><span class="s0">(fresult.status !== </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(fresult.status);</span>
                    <span class="s1">var </span><span class="s0">F = fresult.f;</span>
                    <span class="s1">var </span><span class="s0">propertyName = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; property_count; i++) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s0">propPtr = properties + (i * (</span><span class="s4">4 </span><span class="s0">* </span><span class="s4">8</span><span class="s0">));</span>
                        <span class="s1">var </span><span class="s0">utf8Name = HEAP_DATA_VIEW.getUint32(propPtr, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">name_1 = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">4</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">method = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">8</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">getter = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">12</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">setter = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">16</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">value = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">20</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">attributes = HEAP_DATA_VIEW.getInt32(propPtr + </span><span class="s4">24</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">data = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">28</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">if </span><span class="s0">(utf8Name) {</span>
                            <span class="s0">propertyName = emnapiString.UTF8ToString(utf8Name, -</span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s1">if </span><span class="s0">(!name_1) {</span>
                                <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">4 </span><span class="s3">/* napi_status.napi_name_expected */</span><span class="s0">);</span>
                            <span class="s0">}</span>
                            <span class="s0">propertyName = emnapiCtx.handleStore.get(name_1).value;</span>
                            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">propertyName !== </span><span class="s2">'string' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">propertyName !== </span><span class="s2">'symbol'</span><span class="s0">) {</span>
                                <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">4 </span><span class="s3">/* napi_status.napi_name_expected */</span><span class="s0">);</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s1">if </span><span class="s0">((attributes &amp; </span><span class="s4">1024 </span><span class="s3">/* napi_property_attributes.napi_static */</span><span class="s0">) !== </span><span class="s4">0</span><span class="s0">) {</span>
                            <span class="s0">emnapiDefineProperty(envObject, F, propertyName, method, getter, setter, value, attributes, data);</span>
                            <span class="s1">continue</span><span class="s0">;</span>
                        <span class="s0">}</span>
                        <span class="s0">emnapiDefineProperty(envObject, F.prototype, propertyName, method, getter, setter, value, attributes, data);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">valueHandle = emnapiCtx.addToCurrentScope(F);</span>
                    <span class="s0">valueHandleId = valueHandle.id;</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, valueHandleId, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_wrap(env, js_object, native_object, finalize_cb, finalize_hint, result) {</span>
                <span class="s1">return </span><span class="s0">emnapiWrap(env, js_object, native_object, finalize_cb, finalize_hint, result);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_unwrap(env, js_object, result) {</span>
                <span class="s1">return </span><span class="s0">emnapiUnwrap(env, js_object, result, </span><span class="s4">0 </span><span class="s3">/* UnwrapAction.KeepWrap */</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_remove_wrap(env, js_object, result) {</span>
                <span class="s1">return </span><span class="s0">emnapiUnwrap(env, js_object, result, </span><span class="s4">1 </span><span class="s3">/* UnwrapAction.RemoveWrap */</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_type_tag_object(env, object, type_tag) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!object) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.tryCatch.hasCaught() ? </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */ </span><span class="s0">: </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">value = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(!(value.isObject() || value.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.tryCatch.hasCaught() ? </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */ </span><span class="s0">: </span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!type_tag) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.tryCatch.hasCaught() ? </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */ </span><span class="s0">: </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">binding = envObject.getObjectBinding(value.value);</span>
                    <span class="s1">if </span><span class="s0">(binding.tag !== </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.tryCatch.hasCaught() ? </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */ </span><span class="s0">: </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">tag = </span><span class="s1">new </span><span class="s0">Uint8Array(</span><span class="s4">16</span><span class="s0">);</span>
                    <span class="s0">tag.set(</span><span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer, type_tag, </span><span class="s4">16</span><span class="s0">));</span>
                    <span class="s0">binding.tag = </span><span class="s1">new </span><span class="s0">Uint32Array(tag.buffer);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_check_object_type_tag(env, object, type_tag, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars, one-var</span>
                <span class="s1">var </span><span class="s0">ret = </span><span class="s1">true</span><span class="s0">;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!object) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.tryCatch.hasCaught() ? </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */ </span><span class="s0">: </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">value = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(!(value.isObject() || value.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.tryCatch.hasCaught() ? </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */ </span><span class="s0">: </span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!type_tag) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.tryCatch.hasCaught() ? </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */ </span><span class="s0">: </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!result) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.tryCatch.hasCaught() ? </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */ </span><span class="s0">: </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">binding = envObject.getObjectBinding(value.value);</span>
                    <span class="s1">if </span><span class="s0">(binding.tag !== </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">var </span><span class="s0">tag = binding.tag;</span>
                        <span class="s1">var </span><span class="s0">typeTag = </span><span class="s1">new </span><span class="s0">Uint32Array(wasmMemory.buffer, type_tag, </span><span class="s4">4</span><span class="s0">);</span>
                        <span class="s0">ret = (tag[</span><span class="s4">0</span><span class="s0">] === typeTag[</span><span class="s4">0</span><span class="s0">] &amp;&amp;</span>
                            <span class="s0">tag[</span><span class="s4">1</span><span class="s0">] === typeTag[</span><span class="s4">1</span><span class="s0">] &amp;&amp;</span>
                            <span class="s0">tag[</span><span class="s4">2</span><span class="s0">] === typeTag[</span><span class="s4">2</span><span class="s0">] &amp;&amp;</span>
                            <span class="s0">tag[</span><span class="s4">3</span><span class="s0">] === typeTag[</span><span class="s4">3</span><span class="s0">]);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">ret = </span><span class="s1">false</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(result, ret ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_add_finalizer(env, js_object, finalize_data, finalize_cb, finalize_hint, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportFinalizer) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(!js_object)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!finalize_cb)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handleResult = emnapiGetHandle(js_object);</span>
                <span class="s1">if </span><span class="s0">(handleResult.status !== </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(handleResult.status);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">handle = handleResult.handle;</span>
                <span class="s1">var </span><span class="s0">ownership = !result ? </span><span class="s4">0 </span><span class="s3">/* ReferenceOwnership.kRuntime */ </span><span class="s0">: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">reference = emnapiCtx.createReferenceWithFinalizer(envObject, handle.id, </span><span class="s4">0</span><span class="s0">, ownership, finalize_cb, finalize_data, finalize_hint);</span>
                <span class="s1">if </span><span class="s0">(result) {</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">referenceId = reference.id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, referenceId, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">node_api_post_finalizer(env, finalize_cb, finalize_data, finalize_hint) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.enqueueFinalizer(emnapiCtx.createTrackedFinalizer(envObject, finalize_cb, finalize_data, finalize_hint));</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">wrapMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_add_finalizer: napi_add_finalizer,</span>
                <span class="s0">napi_check_object_type_tag: napi_check_object_type_tag,</span>
                <span class="s0">napi_define_class: napi_define_class,</span>
                <span class="s0">napi_remove_wrap: napi_remove_wrap,</span>
                <span class="s0">napi_type_tag_object: napi_type_tag_object,</span>
                <span class="s0">napi_unwrap: napi_unwrap,</span>
                <span class="s0">napi_wrap: napi_wrap,</span>
                <span class="s0">node_api_post_finalizer: node_api_post_finalizer</span>
            <span class="s0">});</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipippppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">emnapi_create_memory_view(env, typedarray_type, external_data, byte_length, finalize_cb, finalize_hint, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">byte_length = byte_length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(!external_data) {</span>
                        <span class="s0">byte_length = </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(byte_length &gt; </span><span class="s4">2147483647</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">RangeError(</span><span class="s2">'Cannot create a memory view larger than 2147483647 bytes'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">((external_data + byte_length) &gt; wasmMemory.buffer.byteLength) {</span>
                        <span class="s1">throw new </span><span class="s0">RangeError(</span><span class="s2">'Memory out of range'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportFinalizer &amp;&amp; finalize_cb) {</span>
                        <span class="s1">throw </span><span class="s0">emnapiCtx.createNotSupportWeakRefError(</span><span class="s2">'emnapi_create_memory_view'</span><span class="s0">, </span><span class="s2">'Parameter &quot;finalize_cb&quot; must be 0(NULL)'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">viewDescriptor = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">switch </span><span class="s0">(typedarray_type) {</span>
                        <span class="s1">case </span><span class="s4">0 </span><span class="s3">/* emnapi_memory_view_type.emnapi_int8_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: Int8Array, address: external_data, length: byte_length, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">1 </span><span class="s3">/* emnapi_memory_view_type.emnapi_uint8_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: Uint8Array, address: external_data, length: byte_length, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">2 </span><span class="s3">/* emnapi_memory_view_type.emnapi_uint8_clamped_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: Uint8ClampedArray, address: external_data, length: byte_length, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">3 </span><span class="s3">/* emnapi_memory_view_type.emnapi_int16_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: Int16Array, address: external_data, length: byte_length &gt;&gt; </span><span class="s4">1</span><span class="s0">, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">4 </span><span class="s3">/* emnapi_memory_view_type.emnapi_uint16_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: Uint16Array, address: external_data, length: byte_length &gt;&gt; </span><span class="s4">1</span><span class="s0">, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">5 </span><span class="s3">/* emnapi_memory_view_type.emnapi_int32_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: Int32Array, address: external_data, length: byte_length &gt;&gt; </span><span class="s4">2</span><span class="s0">, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">6 </span><span class="s3">/* emnapi_memory_view_type.emnapi_uint32_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: Uint32Array, address: external_data, length: byte_length &gt;&gt; </span><span class="s4">2</span><span class="s0">, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">7 </span><span class="s3">/* emnapi_memory_view_type.emnapi_float32_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: Float32Array, address: external_data, length: byte_length &gt;&gt; </span><span class="s4">2</span><span class="s0">, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">8 </span><span class="s3">/* emnapi_memory_view_type.emnapi_float64_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: Float64Array, address: external_data, length: byte_length &gt;&gt; </span><span class="s4">3</span><span class="s0">, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">9 </span><span class="s3">/* emnapi_memory_view_type.emnapi_bigint64_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: BigInt64Array, address: external_data, length: byte_length &gt;&gt; </span><span class="s4">3</span><span class="s0">, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s4">10 </span><span class="s3">/* emnapi_memory_view_type.emnapi_biguint64_array */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: BigUint64Array, address: external_data, length: byte_length &gt;&gt; </span><span class="s4">3</span><span class="s0">, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s0">-</span><span class="s4">1 </span><span class="s3">/* emnapi_memory_view_type.emnapi_data_view */</span><span class="s0">:</span>
                            <span class="s0">viewDescriptor = { Ctor: DataView, address: external_data, length: byte_length, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s1">case </span><span class="s0">-</span><span class="s4">2 </span><span class="s3">/* emnapi_memory_view_type.emnapi_buffer */</span><span class="s0">: {</span>
                            <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.Buffer) {</span>
                                <span class="s1">throw </span><span class="s0">emnapiCtx.createNotSupportBufferError(</span><span class="s2">'emnapi_create_memory_view'</span><span class="s0">, </span><span class="s2">''</span><span class="s0">);</span>
                            <span class="s0">}</span>
                            <span class="s0">viewDescriptor = { Ctor: emnapiCtx.feature.Buffer, address: external_data, length: byte_length, ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">, runtimeAllocated: </span><span class="s4">0 </span><span class="s0">};</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s0">}</span>
                        <span class="s1">default</span><span class="s0">: </span><span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">Ctor = viewDescriptor.Ctor;</span>
                    <span class="s1">var </span><span class="s0">typedArray = typedarray_type === -</span><span class="s4">2 </span><span class="s3">/* emnapi_memory_view_type.emnapi_buffer */</span>
                        <span class="s0">? emnapiCtx.feature.Buffer.from(wasmMemory.buffer, viewDescriptor.address, viewDescriptor.length)</span>
                        <span class="s0">: </span><span class="s1">new </span><span class="s0">Ctor(wasmMemory.buffer, viewDescriptor.address, viewDescriptor.length);</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.addToCurrentScope(typedArray);</span>
                    <span class="s0">emnapiExternalMemory.wasmMemoryViewTable.set(typedArray, viewDescriptor);</span>
                    <span class="s1">if </span><span class="s0">(finalize_cb) {</span>
                        <span class="s1">var </span><span class="s0">status_1 = napi_add_finalizer(env, handle.id, external_data, finalize_cb, finalize_hint, </span><span class="s3">/* NULL */ </span><span class="s4">0</span><span class="s0">);</span>
                        <span class="s1">if </span><span class="s0">(status_1 === </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">) {</span>
                            <span class="s1">var </span><span class="s0">err = envObject.tryCatch.extractException();</span>
                            <span class="s0">envObject.clearLastError();</span>
                            <span class="s1">throw </span><span class="s0">err;</span>
                        <span class="s0">}</span>
                        <span class="s1">else if </span><span class="s0">(status_1 !== </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">) {</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(status_1);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s0">value = handle.id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig i</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">emnapi_is_support_weakref() {</span>
                <span class="s1">return </span><span class="s0">emnapiCtx.feature.supportFinalizer ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig i</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">emnapi_is_support_bigint() {</span>
                <span class="s1">return </span><span class="s0">emnapiCtx.feature.supportBigInt ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig i</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">emnapi_is_node_binding_available() {</span>
                <span class="s1">return </span><span class="s0">emnapiNodeBinding ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s0">$emnapiSyncMemory(js_to_wasm, arrayBufferOrView, offset, len) {</span>
                <span class="s0">offset = offset !== </span><span class="s1">null </span><span class="s0">&amp;&amp; offset !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? offset : </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s0">offset = offset &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">view;</span>
                <span class="s1">if </span><span class="s0">(arrayBufferOrView </span><span class="s1">instanceof </span><span class="s0">ArrayBuffer) {</span>
                    <span class="s1">var </span><span class="s0">pointer = emnapiExternalMemory.getArrayBufferPointer(arrayBufferOrView, </span><span class="s1">false</span><span class="s0">).address;</span>
                    <span class="s1">if </span><span class="s0">(!pointer)</span>
                        <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'Unknown ArrayBuffer address'</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">len !== </span><span class="s2">'number' </span><span class="s0">|| len === -</span><span class="s4">1</span><span class="s0">) {</span>
                        <span class="s0">len = arrayBufferOrView.byteLength - offset;</span>
                    <span class="s0">}</span>
                    <span class="s0">len = len &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(len === </span><span class="s4">0</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s0">arrayBufferOrView;</span>
                    <span class="s0">view = </span><span class="s1">new </span><span class="s0">Uint8Array(arrayBufferOrView, offset, len);</span>
                    <span class="s1">var </span><span class="s0">wasmMemoryU8 = </span><span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer);</span>
                    <span class="s1">if </span><span class="s0">(!js_to_wasm) {</span>
                        <span class="s0">view.set(wasmMemoryU8.subarray(pointer, pointer + len));</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">wasmMemoryU8.set(view, pointer);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">arrayBufferOrView;</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(ArrayBuffer.isView(arrayBufferOrView)) {</span>
                    <span class="s1">var </span><span class="s0">viewPointerInfo = emnapiExternalMemory.getViewPointer(arrayBufferOrView, </span><span class="s1">false</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">latestView = viewPointerInfo.view;</span>
                    <span class="s1">var </span><span class="s0">pointer = viewPointerInfo.address;</span>
                    <span class="s1">if </span><span class="s0">(!pointer)</span>
                        <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'Unknown ArrayBuffer address'</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">len !== </span><span class="s2">'number' </span><span class="s0">|| len === -</span><span class="s4">1</span><span class="s0">) {</span>
                        <span class="s0">len = latestView.byteLength - offset;</span>
                    <span class="s0">}</span>
                    <span class="s0">len = len &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(len === </span><span class="s4">0</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s0">latestView;</span>
                    <span class="s0">view = </span><span class="s1">new </span><span class="s0">Uint8Array(latestView.buffer, latestView.byteOffset + offset, len);</span>
                    <span class="s1">var </span><span class="s0">wasmMemoryU8 = </span><span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer);</span>
                    <span class="s1">if </span><span class="s0">(!js_to_wasm) {</span>
                        <span class="s0">view.set(wasmMemoryU8.subarray(pointer, pointer + len));</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">wasmMemoryU8.set(view, pointer);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">latestView;</span>
                <span class="s0">}</span>
                <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'emnapiSyncMemory expect ArrayBuffer or ArrayBufferView as first parameter'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">emnapi_sync_memory(env, js_to_wasm, arraybuffer_or_view, offset, len) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!arraybuffer_or_view)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">var </span><span class="s0">handleId = HEAP_DATA_VIEW.getUint32(arraybuffer_or_view, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">handle = envObject.ctx.handleStore.get(handleId);</span>
                    <span class="s1">if </span><span class="s0">(!handle.isArrayBuffer() &amp;&amp; !handle.isTypedArray() &amp;&amp; !handle.isDataView()) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">ret = $emnapiSyncMemory(Boolean(js_to_wasm), handle.value, offset, len);</span>
                    <span class="s1">if </span><span class="s0">(handle.value !== ret) {</span>
                        <span class="s0">v = envObject.ensureHandleId(ret);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(arraybuffer_or_view, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s0">$emnapiGetMemoryAddress(arrayBufferOrView) {</span>
                <span class="s1">var </span><span class="s0">isArrayBuffer = arrayBufferOrView </span><span class="s1">instanceof </span><span class="s0">ArrayBuffer;</span>
                <span class="s1">var </span><span class="s0">isDataView = arrayBufferOrView </span><span class="s1">instanceof </span><span class="s0">DataView;</span>
                <span class="s1">var </span><span class="s0">isTypedArray = ArrayBuffer.isView(arrayBufferOrView) &amp;&amp; !isDataView;</span>
                <span class="s1">if </span><span class="s0">(!isArrayBuffer &amp;&amp; !isTypedArray &amp;&amp; !isDataView) {</span>
                    <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'emnapiGetMemoryAddress expect ArrayBuffer or ArrayBufferView as first parameter'</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">info;</span>
                <span class="s1">if </span><span class="s0">(isArrayBuffer) {</span>
                    <span class="s0">info = emnapiExternalMemory.getArrayBufferPointer(arrayBufferOrView, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">info = emnapiExternalMemory.getViewPointer(arrayBufferOrView, </span><span class="s1">false</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">{</span>
                    <span class="s0">address: info.address,</span>
                    <span class="s0">ownership: info.ownership,</span>
                    <span class="s0">runtimeAllocated: info.runtimeAllocated</span>
                <span class="s0">};</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">emnapi_get_memory_address(env, arraybuffer_or_view, address, ownership, runtime_allocated) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">p, runtimeAllocated, ownershipOut;</span>
                <span class="s1">var </span><span class="s0">info;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!arraybuffer_or_view)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!address &amp;&amp; !ownership &amp;&amp; !runtime_allocated) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">handle = envObject.ctx.handleStore.get(arraybuffer_or_view);</span>
                    <span class="s0">info = $emnapiGetMemoryAddress(handle.value);</span>
                    <span class="s0">p = info.address;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">if </span><span class="s0">(address) {</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(address, p, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(ownership) {</span>
                        <span class="s0">ownershipOut = info.ownership;</span>
                        <span class="s0">HEAP_DATA_VIEW.setInt32(ownership, ownershipOut, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(runtime_allocated) {</span>
                        <span class="s0">runtimeAllocated = info.runtimeAllocated;</span>
                        <span class="s0">HEAP_DATA_VIEW.setInt8(runtime_allocated, runtimeAllocated, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">emnapi_get_runtime_version(env, version) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">if </span><span class="s0">(!version)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">runtimeVersion;</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s0">runtimeVersion = emnapiCtx.getRuntimeVersions().version;</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(_) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">versions = runtimeVersion.split(</span><span class="s2">'.'</span><span class="s0">)</span>
                    <span class="s0">.map(</span><span class="s1">function </span><span class="s0">(n) { </span><span class="s1">return </span><span class="s0">Number(n); });</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(version, versions[</span><span class="s4">0</span><span class="s0">], </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(version + </span><span class="s4">4</span><span class="s0">, versions[</span><span class="s4">1</span><span class="s0">], </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(version + </span><span class="s4">8</span><span class="s0">, versions[</span><span class="s4">2</span><span class="s0">], </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">emnapiMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">$emnapiGetMemoryAddress: $emnapiGetMemoryAddress,</span>
                <span class="s0">$emnapiSyncMemory: $emnapiSyncMemory,</span>
                <span class="s0">emnapi_create_memory_view: emnapi_create_memory_view,</span>
                <span class="s0">emnapi_get_memory_address: emnapi_get_memory_address,</span>
                <span class="s0">emnapi_get_runtime_version: emnapi_get_runtime_version,</span>
                <span class="s0">emnapi_is_node_binding_available: emnapi_is_node_binding_available,</span>
                <span class="s0">emnapi_is_support_bigint: emnapi_is_support_bigint,</span>
                <span class="s0">emnapi_is_support_weakref: emnapi_is_support_weakref,</span>
                <span class="s0">emnapi_sync_memory: emnapi_sync_memory</span>
            <span class="s0">});</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_array(env, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = emnapiCtx.addToCurrentScope([]).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_array_with_length(env, length, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">length = length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = emnapiCtx.addToCurrentScope(</span><span class="s1">new </span><span class="s0">Array(length)).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s0">emnapiCreateArrayBuffer(byte_length, data) {</span>
                <span class="s0">byte_length = byte_length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">arrayBuffer = </span><span class="s1">new </span><span class="s0">ArrayBuffer(byte_length);</span>
                <span class="s1">if </span><span class="s0">(data) {</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">p = emnapiExternalMemory.getArrayBufferPointer(arrayBuffer, </span><span class="s1">true</span><span class="s0">).address;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(data, p, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">arrayBuffer;</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_arraybuffer(env, byte_length, data, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">arrayBuffer = emnapiCreateArrayBuffer(byte_length, data);</span>
                    <span class="s0">value = emnapiCtx.addToCurrentScope(arrayBuffer).id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipdp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_date(env, time, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">value = emnapiCtx.addToCurrentScope(</span><span class="s1">new </span><span class="s0">Date(time)).id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_external(env, data, finalize_cb, finalize_hint, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportFinalizer &amp;&amp; finalize_cb) {</span>
                        <span class="s1">throw </span><span class="s0">emnapiCtx.createNotSupportWeakRefError(</span><span class="s2">'napi_create_external'</span><span class="s0">, </span><span class="s2">'Parameter &quot;finalize_cb&quot; must be 0(NULL)'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">externalHandle = emnapiCtx.getCurrentScope().addExternal(data);</span>
                    <span class="s1">if </span><span class="s0">(finalize_cb) {</span>
                        <span class="s0">emnapiCtx.createReferenceWithFinalizer(envObject, externalHandle.id, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0 </span><span class="s3">/* ReferenceOwnership.kRuntime */</span><span class="s0">, finalize_cb, data, finalize_hint);</span>
                    <span class="s0">}</span>
                    <span class="s0">value = externalHandle.id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_external_arraybuffer(env, external_data, byte_length, finalize_cb, finalize_hint, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">byte_length = byte_length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(!external_data) {</span>
                        <span class="s0">byte_length = </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">((external_data + byte_length) &gt; wasmMemory.buffer.byteLength) {</span>
                        <span class="s1">throw new </span><span class="s0">RangeError(</span><span class="s2">'Memory out of range'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!emnapiCtx.feature.supportFinalizer &amp;&amp; finalize_cb) {</span>
                        <span class="s1">throw </span><span class="s0">emnapiCtx.createNotSupportWeakRefError(</span><span class="s2">'napi_create_external_arraybuffer'</span><span class="s0">, </span><span class="s2">'Parameter &quot;finalize_cb&quot; must be 0(NULL)'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">arrayBuffer = </span><span class="s1">new </span><span class="s0">ArrayBuffer(byte_length);</span>
                    <span class="s1">if </span><span class="s0">(byte_length === </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">try </span><span class="s0">{</span>
                            <span class="s1">var </span><span class="s0">MessageChannel_1 = emnapiCtx.feature.MessageChannel;</span>
                            <span class="s1">var </span><span class="s0">messageChannel = </span><span class="s1">new </span><span class="s0">MessageChannel_1();</span>
                            <span class="s0">messageChannel.port1.postMessage(arrayBuffer, [arrayBuffer]);</span>
                        <span class="s0">}</span>
                        <span class="s1">catch </span><span class="s0">(_) { }</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">var </span><span class="s0">u8arr = </span><span class="s1">new </span><span class="s0">Uint8Array(arrayBuffer);</span>
                        <span class="s0">u8arr.set(</span><span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer).subarray(external_data, external_data + byte_length));</span>
                        <span class="s0">emnapiExternalMemory.table.set(arrayBuffer, {</span>
                            <span class="s0">address: external_data,</span>
                            <span class="s0">ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">,</span>
                            <span class="s0">runtimeAllocated: </span><span class="s4">0</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.addToCurrentScope(arrayBuffer);</span>
                    <span class="s1">if </span><span class="s0">(finalize_cb) {</span>
                        <span class="s1">var </span><span class="s0">status_1 = napi_add_finalizer(env, handle.id, external_data, finalize_cb, finalize_hint, </span><span class="s3">/* NULL */ </span><span class="s4">0</span><span class="s0">);</span>
                        <span class="s1">if </span><span class="s0">(status_1 === </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">) {</span>
                            <span class="s1">var </span><span class="s0">err = envObject.tryCatch.extractException();</span>
                            <span class="s0">envObject.clearLastError();</span>
                            <span class="s1">throw </span><span class="s0">err;</span>
                        <span class="s0">}</span>
                        <span class="s1">else if </span><span class="s0">(status_1 !== </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">) {</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(status_1);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s0">value = handle.id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_object(env, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = emnapiCtx.addToCurrentScope({}).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_symbol(env, description, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(!description) {</span>
                    <span class="s3">// eslint-disable-next-line symbol-description, @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">value = emnapiCtx.addToCurrentScope(Symbol()).id;</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(description);</span>
                    <span class="s1">var </span><span class="s0">desc = handle.value;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">desc !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">v = emnapiCtx.addToCurrentScope(Symbol(desc)).id;</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_typedarray(env, type, length, arraybuffer, byte_offset, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!arraybuffer)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(arraybuffer);</span>
                    <span class="s1">if </span><span class="s0">(!handle.isArrayBuffer()) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">buffer = handle.value;</span>
                    <span class="s1">var </span><span class="s0">createTypedArray = </span><span class="s1">function </span><span class="s0">(envObject, Type, size_of_element, buffer, byte_offset, length) {</span>
                        <span class="s1">var </span><span class="s0">_a;</span>
                        <span class="s0">byte_offset = byte_offset &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                        <span class="s0">length = length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                        <span class="s1">if </span><span class="s0">(size_of_element &gt; </span><span class="s4">1</span><span class="s0">) {</span>
                            <span class="s1">if </span><span class="s0">((byte_offset) % (size_of_element) !== </span><span class="s4">0</span><span class="s0">) {</span>
                                <span class="s1">var </span><span class="s0">err = </span><span class="s1">new </span><span class="s0">RangeError(</span><span class="s2">&quot;start offset of &quot;</span><span class="s0">.concat((_a = Type.name) !== </span><span class="s1">null </span><span class="s0">&amp;&amp; _a !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? _a : </span><span class="s2">''</span><span class="s0">, </span><span class="s2">&quot; should be a multiple of &quot;</span><span class="s0">).concat(size_of_element));</span>
                                <span class="s0">err.code = </span><span class="s2">'ERR_NAPI_INVALID_TYPEDARRAY_ALIGNMENT'</span><span class="s0">;</span>
                                <span class="s0">envObject.tryCatch.setError(err);</span>
                                <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s1">if </span><span class="s0">(((length * size_of_element) + byte_offset) &gt; buffer.byteLength) {</span>
                            <span class="s1">var </span><span class="s0">err = </span><span class="s1">new </span><span class="s0">RangeError(</span><span class="s2">'Invalid typed array length'</span><span class="s0">);</span>
                            <span class="s0">err.code = </span><span class="s2">'ERR_NAPI_INVALID_TYPEDARRAY_LENGTH'</span><span class="s0">;</span>
                            <span class="s0">envObject.tryCatch.setError(err);</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">var </span><span class="s0">out = </span><span class="s1">new </span><span class="s0">Type(buffer, byte_offset, length);</span>
                        <span class="s1">if </span><span class="s0">(buffer === wasmMemory.buffer) {</span>
                            <span class="s1">if </span><span class="s0">(!emnapiExternalMemory.wasmMemoryViewTable.has(out)) {</span>
                                <span class="s0">emnapiExternalMemory.wasmMemoryViewTable.set(out, {</span>
                                    <span class="s0">Ctor: Type,</span>
                                    <span class="s0">address: byte_offset,</span>
                                    <span class="s0">length: length,</span>
                                    <span class="s0">ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">,</span>
                                    <span class="s0">runtimeAllocated: </span><span class="s4">0</span>
                                <span class="s0">});</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s0">value = emnapiCtx.addToCurrentScope(out).id;</span>
                        <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                    <span class="s0">};</span>
                    <span class="s1">switch </span><span class="s0">(type) {</span>
                        <span class="s1">case </span><span class="s4">0 </span><span class="s3">/* napi_typedarray_type.napi_int8_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, Int8Array, </span><span class="s4">1</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">case </span><span class="s4">1 </span><span class="s3">/* napi_typedarray_type.napi_uint8_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, Uint8Array, </span><span class="s4">1</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">case </span><span class="s4">2 </span><span class="s3">/* napi_typedarray_type.napi_uint8_clamped_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, Uint8ClampedArray, </span><span class="s4">1</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">case </span><span class="s4">3 </span><span class="s3">/* napi_typedarray_type.napi_int16_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, Int16Array, </span><span class="s4">2</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">case </span><span class="s4">4 </span><span class="s3">/* napi_typedarray_type.napi_uint16_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, Uint16Array, </span><span class="s4">2</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">case </span><span class="s4">5 </span><span class="s3">/* napi_typedarray_type.napi_int32_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, Int32Array, </span><span class="s4">4</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">case </span><span class="s4">6 </span><span class="s3">/* napi_typedarray_type.napi_uint32_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, Uint32Array, </span><span class="s4">4</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">case </span><span class="s4">7 </span><span class="s3">/* napi_typedarray_type.napi_float32_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, Float32Array, </span><span class="s4">4</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">case </span><span class="s4">8 </span><span class="s3">/* napi_typedarray_type.napi_float64_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, Float64Array, </span><span class="s4">8</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">case </span><span class="s4">9 </span><span class="s3">/* napi_typedarray_type.napi_bigint64_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, BigInt64Array, </span><span class="s4">8</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">case </span><span class="s4">10 </span><span class="s3">/* napi_typedarray_type.napi_biguint64_array */</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">createTypedArray(envObject, BigUint64Array, </span><span class="s4">8</span><span class="s0">, buffer, byte_offset, length);</span>
                        <span class="s1">default</span><span class="s0">:</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__deps malloc</span>
             <span class="s3">* @__sig ippp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_buffer(env, size, data, result) {</span>
                <span class="s1">var </span><span class="s0">_a;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value, pointer;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">Buffer = emnapiCtx.feature.Buffer;</span>
                    <span class="s1">if </span><span class="s0">(!Buffer) {</span>
                        <span class="s1">throw </span><span class="s0">emnapiCtx.createNotSupportBufferError(</span><span class="s2">'napi_create_buffer'</span><span class="s0">, </span><span class="s2">''</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">buffer = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s0">size = size &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">if </span><span class="s0">(!data || (size === </span><span class="s4">0</span><span class="s0">)) {</span>
                        <span class="s0">buffer = Buffer.alloc(size);</span>
                        <span class="s0">value = emnapiCtx.addToCurrentScope(buffer).id;</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">pointer = _malloc(size);</span>
                        <span class="s1">if </span><span class="s0">(!pointer)</span>
                            <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'Out of memory'</span><span class="s0">);</span>
                        <span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer).subarray(pointer, pointer + size).fill(</span><span class="s4">0</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">buffer_1 = Buffer.from(wasmMemory.buffer, pointer, size);</span>
                        <span class="s1">var </span><span class="s0">viewDescriptor = {</span>
                            <span class="s0">Ctor: Buffer,</span>
                            <span class="s0">address: pointer,</span>
                            <span class="s0">length: size,</span>
                            <span class="s0">ownership: emnapiExternalMemory.registry ? </span><span class="s4">0 </span><span class="s3">/* ReferenceOwnership.kRuntime */ </span><span class="s0">: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">,</span>
                            <span class="s0">runtimeAllocated: </span><span class="s4">1</span>
                        <span class="s0">};</span>
                        <span class="s0">emnapiExternalMemory.wasmMemoryViewTable.set(buffer_1, viewDescriptor);</span>
                        <span class="s0">(_a = emnapiExternalMemory.registry) === </span><span class="s1">null </span><span class="s0">|| _a === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _a.register(viewDescriptor, pointer);</span>
                        <span class="s0">value = emnapiCtx.addToCurrentScope(buffer_1).id;</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(data, pointer, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_buffer_copy(env, length, data, result_data, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">Buffer = emnapiCtx.feature.Buffer;</span>
                    <span class="s1">if </span><span class="s0">(!Buffer) {</span>
                        <span class="s1">throw </span><span class="s0">emnapiCtx.createNotSupportBufferError(</span><span class="s2">'napi_create_buffer_copy'</span><span class="s0">, </span><span class="s2">''</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">arrayBuffer = emnapiCreateArrayBuffer(length, result_data);</span>
                    <span class="s1">var </span><span class="s0">buffer = Buffer.from(arrayBuffer);</span>
                    <span class="s0">buffer.set(</span><span class="s1">new </span><span class="s0">Uint8Array(wasmMemory.buffer).subarray(data, data + length));</span>
                    <span class="s0">value = emnapiCtx.addToCurrentScope(buffer).id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_external_buffer(env, length, data, finalize_cb, finalize_hint, result) {</span>
                <span class="s1">return </span><span class="s0">emnapi_create_memory_view(env, -</span><span class="s4">2 </span><span class="s3">/* emnapi_memory_view_type.emnapi_buffer */</span><span class="s0">, data, length, finalize_cb, finalize_hint, result);</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">node_api_create_buffer_from_arraybuffer(env, arraybuffer, byte_offset, byte_length, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!arraybuffer)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">byte_offset = byte_offset &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s0">byte_length = byte_length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(arraybuffer);</span>
                    <span class="s1">if </span><span class="s0">(!handle.isArrayBuffer()) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">buffer = handle.value;</span>
                    <span class="s1">if </span><span class="s0">((byte_length + byte_offset) &gt; buffer.byteLength) {</span>
                        <span class="s1">var </span><span class="s0">err = </span><span class="s1">new </span><span class="s0">RangeError(</span><span class="s2">'The byte offset + length is out of range'</span><span class="s0">);</span>
                        <span class="s0">err.code = </span><span class="s2">'ERR_OUT_OF_RANGE'</span><span class="s0">;</span>
                        <span class="s1">throw </span><span class="s0">err;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">Buffer = emnapiCtx.feature.Buffer;</span>
                    <span class="s1">if </span><span class="s0">(!Buffer) {</span>
                        <span class="s1">throw </span><span class="s0">emnapiCtx.createNotSupportBufferError(</span><span class="s2">'node_api_create_buffer_from_arraybuffer'</span><span class="s0">, </span><span class="s2">''</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">out = Buffer.from(buffer, byte_offset, byte_length);</span>
                    <span class="s1">if </span><span class="s0">(buffer === wasmMemory.buffer) {</span>
                        <span class="s1">if </span><span class="s0">(!emnapiExternalMemory.wasmMemoryViewTable.has(out)) {</span>
                            <span class="s0">emnapiExternalMemory.wasmMemoryViewTable.set(out, {</span>
                                <span class="s0">Ctor: Buffer,</span>
                                <span class="s0">address: byte_offset,</span>
                                <span class="s0">length: byte_length,</span>
                                <span class="s0">ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">,</span>
                                <span class="s0">runtimeAllocated: </span><span class="s4">0</span>
                            <span class="s0">});</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">value = emnapiCtx.addToCurrentScope(out).id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ippppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">napi_create_dataview(env, byte_length, arraybuffer, byte_offset, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!arraybuffer)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">byte_length = byte_length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s0">byte_offset = byte_offset &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(arraybuffer);</span>
                    <span class="s1">if </span><span class="s0">(!handle.isArrayBuffer()) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">buffer = handle.value;</span>
                    <span class="s1">if </span><span class="s0">((byte_length + byte_offset) &gt; buffer.byteLength) {</span>
                        <span class="s1">var </span><span class="s0">err = </span><span class="s1">new </span><span class="s0">RangeError(</span><span class="s2">'byte_offset + byte_length should be less than or equal to the size in bytes of the array passed in'</span><span class="s0">);</span>
                        <span class="s0">err.code = </span><span class="s2">'ERR_NAPI_INVALID_DATAVIEW_ARGS'</span><span class="s0">;</span>
                        <span class="s1">throw </span><span class="s0">err;</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">dataview = </span><span class="s1">new </span><span class="s0">DataView(buffer, byte_offset, byte_length);</span>
                    <span class="s1">if </span><span class="s0">(buffer === wasmMemory.buffer) {</span>
                        <span class="s1">if </span><span class="s0">(!emnapiExternalMemory.wasmMemoryViewTable.has(dataview)) {</span>
                            <span class="s0">emnapiExternalMemory.wasmMemoryViewTable.set(dataview, {</span>
                                <span class="s0">Ctor: DataView,</span>
                                <span class="s0">address: byte_offset,</span>
                                <span class="s0">length: byte_length,</span>
                                <span class="s0">ownership: </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">,</span>
                                <span class="s0">runtimeAllocated: </span><span class="s4">0</span>
                            <span class="s0">});</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">value = emnapiCtx.addToCurrentScope(dataview).id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/**</span>
             <span class="s3">* @__sig ipppp</span>
             <span class="s3">*/</span>
            <span class="s1">function </span><span class="s0">node_api_symbol_for(env, utf8description, length, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">autoLength = length === -</span><span class="s4">1</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">sizelength = length &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">if </span><span class="s0">(length !== </span><span class="s4">0</span><span class="s0">) {</span>
                    <span class="s1">if </span><span class="s0">(!utf8description)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(!(autoLength || (sizelength &lt;= </span><span class="s4">2147483647</span><span class="s0">))) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">descriptionString = emnapiString.UTF8ToString(utf8description, length);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = emnapiCtx.addToCurrentScope(Symbol.for(descriptionString)).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">createMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_create_array: napi_create_array,</span>
                <span class="s0">napi_create_array_with_length: napi_create_array_with_length,</span>
                <span class="s0">napi_create_arraybuffer: napi_create_arraybuffer,</span>
                <span class="s0">napi_create_buffer: napi_create_buffer,</span>
                <span class="s0">napi_create_buffer_copy: napi_create_buffer_copy,</span>
                <span class="s0">napi_create_dataview: napi_create_dataview,</span>
                <span class="s0">napi_create_date: napi_create_date,</span>
                <span class="s0">napi_create_external: napi_create_external,</span>
                <span class="s0">napi_create_external_arraybuffer: napi_create_external_arraybuffer,</span>
                <span class="s0">napi_create_external_buffer: napi_create_external_buffer,</span>
                <span class="s0">napi_create_object: napi_create_object,</span>
                <span class="s0">napi_create_symbol: napi_create_symbol,</span>
                <span class="s0">napi_create_typedarray: napi_create_typedarray,</span>
                <span class="s0">node_api_create_buffer_from_arraybuffer: node_api_create_buffer_from_arraybuffer,</span>
                <span class="s0">node_api_symbol_for: node_api_symbol_for</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig ipip */</span>
            <span class="s1">function </span><span class="s0">napi_get_boolean(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v = value === </span><span class="s4">0 </span><span class="s0">? </span><span class="s4">3 </span><span class="s3">/* GlobalHandle.FALSE */ </span><span class="s0">: </span><span class="s4">4 </span><span class="s3">/* GlobalHandle.TRUE */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_get_global(env, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = </span><span class="s4">5 </span><span class="s3">/* GlobalHandle.GLOBAL */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_get_null(env, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = </span><span class="s4">2 </span><span class="s3">/* GlobalHandle.NULL */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_get_undefined(env, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = </span><span class="s4">1 </span><span class="s3">/* GlobalHandle.UNDEFINED */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">globalMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_get_boolean: napi_get_boolean,</span>
                <span class="s0">napi_get_global: napi_get_global,</span>
                <span class="s0">napi_get_null: napi_get_null,</span>
                <span class="s0">napi_get_undefined: napi_get_undefined</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_set_instance_data(env, data, finalize_cb, finalize_hint) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.setInstanceData(data, finalize_cb, finalize_hint);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_get_instance_data(env, data) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">if </span><span class="s0">(!data)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = envObject.getInstanceData();</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(data, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">envMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_get_instance_data: napi_get_instance_data,</span>
                <span class="s0">napi_set_instance_data: napi_set_instance_data</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig vpppp */</span>
            <span class="s1">function </span><span class="s0">_emnapi_get_last_error_info(env, error_code, engine_error_code, engine_reserved) {</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">var </span><span class="s0">lastError = envObject.lastError;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">errorCode = lastError.errorCode;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">engineErrorCode = lastError.engineErrorCode &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">engineReserved = lastError.engineReserved;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt32(error_code, errorCode, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(engine_error_code, engineErrorCode, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(engine_reserved, engineReserved, </span><span class="s1">true</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_throw(env, error) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!error)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">envObject.tryCatch.setError(emnapiCtx.handleStore.get(error).value);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_throw_error(env, code, msg) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!msg)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">error = </span><span class="s1">new </span><span class="s0">Error(emnapiString.UTF8ToString(msg, -</span><span class="s4">1</span><span class="s0">));</span>
                    <span class="s1">if </span><span class="s0">(code)</span>
                        <span class="s0">error.code = emnapiString.UTF8ToString(code, -</span><span class="s4">1</span><span class="s0">);</span>
                    <span class="s0">envObject.tryCatch.setError(error);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_throw_type_error(env, code, msg) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!msg)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">error = </span><span class="s1">new </span><span class="s0">TypeError(emnapiString.UTF8ToString(msg, -</span><span class="s4">1</span><span class="s0">));</span>
                    <span class="s1">if </span><span class="s0">(code)</span>
                        <span class="s0">error.code = emnapiString.UTF8ToString(code, -</span><span class="s4">1</span><span class="s0">);</span>
                    <span class="s0">envObject.tryCatch.setError(error);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_throw_range_error(env, code, msg) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!msg)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">error = </span><span class="s1">new </span><span class="s0">RangeError(emnapiString.UTF8ToString(msg, -</span><span class="s4">1</span><span class="s0">));</span>
                    <span class="s1">if </span><span class="s0">(code)</span>
                        <span class="s0">error.code = emnapiString.UTF8ToString(code, -</span><span class="s4">1</span><span class="s0">);</span>
                    <span class="s0">envObject.tryCatch.setError(error);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">node_api_throw_syntax_error(env, code, msg) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!msg)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">error = </span><span class="s1">new </span><span class="s0">SyntaxError(emnapiString.UTF8ToString(msg, -</span><span class="s4">1</span><span class="s0">));</span>
                    <span class="s1">if </span><span class="s0">(code)</span>
                        <span class="s0">error.code = emnapiString.UTF8ToString(code, -</span><span class="s4">1</span><span class="s0">);</span>
                    <span class="s0">envObject.tryCatch.setError(error);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_is_exception_pending(env, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = envObject.tryCatch.hasCaught();</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt8(result, r ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_create_error(env, code, msg, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!msg)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">msgValue = emnapiCtx.handleStore.get(msg).value;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">msgValue !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">error = </span><span class="s1">new </span><span class="s0">Error(msgValue);</span>
                <span class="s1">if </span><span class="s0">(code) {</span>
                    <span class="s1">var </span><span class="s0">codeValue = emnapiCtx.handleStore.get(code).value;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">codeValue !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">error.code = codeValue;</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = emnapiCtx.addToCurrentScope(error).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_create_type_error(env, code, msg, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!msg)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">msgValue = emnapiCtx.handleStore.get(msg).value;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">msgValue !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">error = </span><span class="s1">new </span><span class="s0">TypeError(msgValue);</span>
                <span class="s1">if </span><span class="s0">(code) {</span>
                    <span class="s1">var </span><span class="s0">codeValue = emnapiCtx.handleStore.get(code).value;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">codeValue !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">error.code = codeValue;</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = emnapiCtx.addToCurrentScope(error).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_create_range_error(env, code, msg, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!msg)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">msgValue = emnapiCtx.handleStore.get(msg).value;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">msgValue !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">error = </span><span class="s1">new </span><span class="s0">RangeError(msgValue);</span>
                <span class="s1">if </span><span class="s0">(code) {</span>
                    <span class="s1">var </span><span class="s0">codeValue = emnapiCtx.handleStore.get(code).value;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">codeValue !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">error.code = codeValue;</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = emnapiCtx.addToCurrentScope(error).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">node_api_create_syntax_error(env, code, msg, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!msg)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">msgValue = emnapiCtx.handleStore.get(msg).value;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">msgValue !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">error = </span><span class="s1">new </span><span class="s0">SyntaxError(msgValue);</span>
                <span class="s1">if </span><span class="s0">(code) {</span>
                    <span class="s1">var </span><span class="s0">codeValue = emnapiCtx.handleStore.get(code).value;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">codeValue !== </span><span class="s2">'string'</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">error.code = codeValue;</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value = emnapiCtx.addToCurrentScope(error).id;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_get_and_clear_last_exception(env, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.hasCaught()) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, </span><span class="s4">1</span><span class="s0">, </span><span class="s1">true</span><span class="s0">); </span><span class="s3">// ID_UNDEFINED</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">var </span><span class="s0">err = envObject.tryCatch.exception();</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">value = envObject.ensureHandleId(err);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">envObject.tryCatch.reset();</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig vpppp */</span>
            <span class="s1">function </span><span class="s0">napi_fatal_error(location, location_len, message, message_len) {</span>
                <span class="s1">var </span><span class="s0">locationStr = emnapiString.UTF8ToString(location, location_len);</span>
                <span class="s1">var </span><span class="s0">messageStr = emnapiString.UTF8ToString(message, message_len);</span>
                <span class="s1">if </span><span class="s0">(emnapiNodeBinding) {</span>
                    <span class="s0">emnapiNodeBinding.napi.fatalError(locationStr, messageStr);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">abort(</span><span class="s2">'FATAL ERROR: ' </span><span class="s0">+ locationStr + </span><span class="s2">' ' </span><span class="s0">+ messageStr);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_fatal_exception(env, err) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!err)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">error = envObject.ctx.handleStore.get(err);</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">envObject.triggerFatalException(error.value);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">errorMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">_emnapi_get_last_error_info: _emnapi_get_last_error_info,</span>
                <span class="s0">napi_create_error: napi_create_error,</span>
                <span class="s0">napi_create_range_error: napi_create_range_error,</span>
                <span class="s0">napi_create_type_error: napi_create_type_error,</span>
                <span class="s0">napi_fatal_error: napi_fatal_error,</span>
                <span class="s0">napi_fatal_exception: napi_fatal_exception,</span>
                <span class="s0">napi_get_and_clear_last_exception: napi_get_and_clear_last_exception,</span>
                <span class="s0">napi_is_exception_pending: napi_is_exception_pending,</span>
                <span class="s0">napi_throw: napi_throw,</span>
                <span class="s0">napi_throw_error: napi_throw_error,</span>
                <span class="s0">napi_throw_range_error: napi_throw_range_error,</span>
                <span class="s0">napi_throw_type_error: napi_throw_type_error,</span>
                <span class="s0">node_api_create_syntax_error: node_api_create_syntax_error,</span>
                <span class="s0">node_api_throw_syntax_error: node_api_throw_syntax_error</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig ipppppp */</span>
            <span class="s1">function </span><span class="s0">napi_create_function(env, utf8name, length, cb, data, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!cb)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">fresult = emnapiCreateFunction(envObject, utf8name, length, cb, data);</span>
                    <span class="s1">if </span><span class="s0">(fresult.status !== </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(fresult.status);</span>
                    <span class="s1">var </span><span class="s0">f = fresult.f;</span>
                    <span class="s1">var </span><span class="s0">valueHandle = emnapiCtx.addToCurrentScope(f);</span>
                    <span class="s0">value = valueHandle.id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppppp */</span>
            <span class="s1">function </span><span class="s0">napi_get_cb_info(env, cbinfo, argc, argv, this_arg, data) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">if </span><span class="s0">(!cbinfo)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">cbinfoValue = emnapiCtx.scopeStore.get(cbinfo).callbackInfo;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s1">if </span><span class="s0">(argv) {</span>
                    <span class="s1">if </span><span class="s0">(!argc)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">argcValue = HEAP_DATA_VIEW.getUint32(argc, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">len = cbinfoValue.args.length;</span>
                    <span class="s1">var </span><span class="s0">arrlen = argcValue &lt; len ? argcValue : len;</span>
                    <span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">for </span><span class="s0">(; i &lt; arrlen; i++) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s1">var </span><span class="s0">argVal = envObject.ensureHandleId(cbinfoValue.args[i]);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(argv + i * </span><span class="s4">4</span><span class="s0">, argVal, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(i &lt; argcValue) {</span>
                        <span class="s1">for </span><span class="s0">(; i &lt; argcValue; i++) {</span>
                            <span class="s0">HEAP_DATA_VIEW.setUint32(argv + i * </span><span class="s4">4</span><span class="s0">, </span><span class="s4">1</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(argc) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(argc, cbinfoValue.args.length, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(this_arg) {</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">v = envObject.ensureHandleId(cbinfoValue.thiz);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(this_arg, v, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(data) {</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(data, cbinfoValue.data, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppppp */</span>
            <span class="s1">function </span><span class="s0">napi_call_function(env, recv, func, argc, argv, result) {</span>
                <span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!recv)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">argc = argc &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(argc &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">if </span><span class="s0">(!argv)</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">v8recv = emnapiCtx.handleStore.get(recv).value;</span>
                    <span class="s1">if </span><span class="s0">(!func)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">v8func = emnapiCtx.handleStore.get(func).value;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">v8func !== </span><span class="s2">'function'</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">args = [];</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">for </span><span class="s0">(; i &lt; argc; i++) {</span>
                        <span class="s1">var </span><span class="s0">argVal = HEAP_DATA_VIEW.getUint32(argv + i * </span><span class="s4">4</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">args.push(emnapiCtx.handleStore.get(argVal).value);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">ret = v8func.apply(v8recv, args);</span>
                    <span class="s1">if </span><span class="s0">(result) {</span>
                        <span class="s0">v = envObject.ensureHandleId(ret);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippppp */</span>
            <span class="s1">function </span><span class="s0">napi_new_instance(env, constructor, argc, argv, result) {</span>
                <span class="s1">var </span><span class="s0">i;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!constructor)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">argc = argc &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(argc &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">if </span><span class="s0">(!argv)</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">Ctor = emnapiCtx.handleStore.get(constructor).value;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">Ctor !== </span><span class="s2">'function'</span><span class="s0">)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">ret = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">if </span><span class="s0">(emnapiCtx.feature.supportReflect) {</span>
                        <span class="s1">var </span><span class="s0">argList = Array(argc);</span>
                        <span class="s1">for </span><span class="s0">(i = </span><span class="s4">0</span><span class="s0">; i &lt; argc; i++) {</span>
                            <span class="s1">var </span><span class="s0">argVal = HEAP_DATA_VIEW.getUint32(argv + i * </span><span class="s4">4</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                            <span class="s0">argList[i] = emnapiCtx.handleStore.get(argVal).value;</span>
                        <span class="s0">}</span>
                        <span class="s0">ret = Reflect.construct(Ctor, argList, Ctor);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">var </span><span class="s0">args = Array(argc + </span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s0">args[</span><span class="s4">0</span><span class="s0">] = undefined;</span>
                        <span class="s1">for </span><span class="s0">(i = </span><span class="s4">0</span><span class="s0">; i &lt; argc; i++) {</span>
                            <span class="s1">var </span><span class="s0">argVal = HEAP_DATA_VIEW.getUint32(argv + i * </span><span class="s4">4</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                            <span class="s0">args[i + </span><span class="s4">1</span><span class="s0">] = emnapiCtx.handleStore.get(argVal).value;</span>
                        <span class="s0">}</span>
                        <span class="s1">var </span><span class="s0">BoundCtor = Ctor.bind.apply(Ctor, args);</span>
                        <span class="s0">ret = </span><span class="s1">new </span><span class="s0">BoundCtor();</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(result) {</span>
                        <span class="s0">v = envObject.ensureHandleId(ret);</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_get_new_target(env, cbinfo, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!cbinfo)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">cbinfoValue = emnapiCtx.scopeStore.get(cbinfo).callbackInfo;</span>
                <span class="s1">var </span><span class="s0">thiz = cbinfoValue.thiz, fn = cbinfoValue.fn;</span>
                <span class="s1">var </span><span class="s0">value = thiz == </span><span class="s1">null </span><span class="s0">|| thiz.constructor == </span><span class="s1">null</span>
                    <span class="s0">? </span><span class="s4">0</span>
                    <span class="s0">: thiz </span><span class="s1">instanceof </span><span class="s0">fn</span>
                        <span class="s0">? envObject.ensureHandleId(thiz.constructor)</span>
                        <span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">functionMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_call_function: napi_call_function,</span>
                <span class="s0">napi_create_function: napi_create_function,</span>
                <span class="s0">napi_get_cb_info: napi_get_cb_info,</span>
                <span class="s0">napi_get_new_target: napi_get_new_target,</span>
                <span class="s0">napi_new_instance: napi_new_instance</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_open_handle_scope(env, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">scope = emnapiCtx.openScope(envObject);</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, scope.id, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_close_handle_scope(env, scope) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!scope)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">((envObject.openHandleScopes === </span><span class="s4">0</span><span class="s0">)) {</span>
                    <span class="s1">return </span><span class="s4">13 </span><span class="s3">/* napi_status.napi_handle_scope_mismatch */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s0">emnapiCtx.closeScope(envObject);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_open_escapable_handle_scope(env, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">scope = emnapiCtx.openScope(envObject);</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, scope.id, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_close_escapable_handle_scope(env, scope) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!scope)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">((envObject.openHandleScopes === </span><span class="s4">0</span><span class="s0">)) {</span>
                    <span class="s1">return </span><span class="s4">13 </span><span class="s3">/* napi_status.napi_handle_scope_mismatch */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s0">emnapiCtx.closeScope(envObject);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_escape_handle(env, scope, escapee, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!scope)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!escapee)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">scopeObject = emnapiCtx.scopeStore.get(scope);</span>
                <span class="s1">if </span><span class="s0">(!scopeObject.escapeCalled()) {</span>
                    <span class="s1">var </span><span class="s0">newHandle = scopeObject.escape(escapee);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s1">var </span><span class="s0">value = newHandle ? newHandle.id : </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">12 </span><span class="s3">/* napi_status.napi_escape_called_twice */</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippip */</span>
            <span class="s1">function </span><span class="s0">napi_create_reference(env, value, initial_refcount, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">if </span><span class="s0">(envObject.moduleApiVersion &lt; </span><span class="s4">10</span><span class="s0">) {</span>
                    <span class="s1">if </span><span class="s0">(!(handle.isObject() || handle.isFunction() || handle.isSymbol())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">ref = emnapiCtx.createReference(envObject, handle.id, initial_refcount &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1 </span><span class="s3">/* ReferenceOwnership.kUserland */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, ref.id, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_delete_reference(env, ref) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">if </span><span class="s0">(!ref)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">emnapiCtx.refStore.get(ref).dispose();</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_reference_ref(env, ref, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!ref)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">count = emnapiCtx.refStore.get(ref).ref();</span>
                <span class="s1">if </span><span class="s0">(result) {</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, count, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_reference_unref(env, ref, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!ref)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">reference = emnapiCtx.refStore.get(ref);</span>
                <span class="s1">var </span><span class="s0">refcount = reference.refcount();</span>
                <span class="s1">if </span><span class="s0">(refcount === </span><span class="s4">0</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">count = reference.unref();</span>
                <span class="s1">if </span><span class="s0">(result) {</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, count, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_get_reference_value(env, ref, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!ref)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">reference = emnapiCtx.refStore.get(ref);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">handleId = reference.get(envObject);</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, handleId, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_add_env_cleanup_hook(env, fun, arg) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">if </span><span class="s0">(!fun)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">emnapiCtx.addCleanupHook(envObject, fun, arg);</span>
                <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_remove_env_cleanup_hook(env, fun, arg) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">if </span><span class="s0">(!fun)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">emnapiCtx.removeCleanupHook(envObject, fun, arg);</span>
                <span class="s1">return </span><span class="s4">0 </span><span class="s3">/* napi_status.napi_ok */</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig vp */</span>
            <span class="s1">function </span><span class="s0">_emnapi_env_ref(env) {</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.ref();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig vp */</span>
            <span class="s1">function </span><span class="s0">_emnapi_env_unref(env) {</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.unref();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">lifeMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">_emnapi_env_ref: _emnapi_env_ref,</span>
                <span class="s0">_emnapi_env_unref: _emnapi_env_unref,</span>
                <span class="s0">napi_add_env_cleanup_hook: napi_add_env_cleanup_hook,</span>
                <span class="s0">napi_close_escapable_handle_scope: napi_close_escapable_handle_scope,</span>
                <span class="s0">napi_close_handle_scope: napi_close_handle_scope,</span>
                <span class="s0">napi_create_reference: napi_create_reference,</span>
                <span class="s0">napi_delete_reference: napi_delete_reference,</span>
                <span class="s0">napi_escape_handle: napi_escape_handle,</span>
                <span class="s0">napi_get_reference_value: napi_get_reference_value,</span>
                <span class="s0">napi_open_escapable_handle_scope: napi_open_escapable_handle_scope,</span>
                <span class="s0">napi_open_handle_scope: napi_open_handle_scope,</span>
                <span class="s0">napi_reference_ref: napi_reference_ref,</span>
                <span class="s0">napi_reference_unref: napi_reference_unref,</span>
                <span class="s0">napi_remove_env_cleanup_hook: napi_remove_env_cleanup_hook</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig ippi */</span>
            <span class="s1">function </span><span class="s0">_emnapi_get_filename(env, buf, len) {</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">var </span><span class="s0">filename = envObject.filename;</span>
                <span class="s1">if </span><span class="s0">(!buf) {</span>
                    <span class="s1">return </span><span class="s0">emnapiString.lengthBytesUTF8(filename);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">emnapiString.stringToUTF8(filename, buf, len);</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">miscellaneousMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">_emnapi_get_filename: _emnapi_get_filename</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_create_promise(env, deferred, promise) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">deferredObjectId, value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!deferred)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!promise)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">var </span><span class="s0">p = </span><span class="s1">new </span><span class="s0">Promise(</span><span class="s1">function </span><span class="s0">(resolve, reject) {</span>
                        <span class="s1">var </span><span class="s0">deferredObject = emnapiCtx.createDeferred({ resolve: resolve, reject: reject });</span>
                        <span class="s0">deferredObjectId = deferredObject.id;</span>
                        <span class="s0">HEAP_DATA_VIEW.setUint32(deferred, deferredObjectId, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">});</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">value = emnapiCtx.addToCurrentScope(p).id;</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(promise, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_resolve_deferred(env, deferred, resolution) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!deferred)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!resolution)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">deferredObject = emnapiCtx.deferredStore.get(deferred);</span>
                    <span class="s0">deferredObject.resolve(emnapiCtx.handleStore.get(resolution).value);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_reject_deferred(env, deferred, resolution) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!deferred)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!resolution)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">deferredObject = emnapiCtx.deferredStore.get(deferred);</span>
                    <span class="s0">deferredObject.reject(emnapiCtx.handleStore.get(resolution).value);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_is_promise(env, value, is_promise) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!is_promise)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(value);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = h.isPromise() ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt8(is_promise, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">promiseMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_create_promise: napi_create_promise,</span>
                <span class="s0">napi_is_promise: napi_is_promise,</span>
                <span class="s0">napi_reject_deferred: napi_reject_deferred,</span>
                <span class="s0">napi_resolve_deferred: napi_resolve_deferred</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig ippiiip */</span>
            <span class="s1">function </span><span class="s0">napi_get_all_property_names(env, object, key_mode, key_filter, key_conversion, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(h.value == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert undefined or null to object'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">obj = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">obj = h.isObject() || h.isFunction() ? h.value : Object(h.value);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(key_mode !== </span><span class="s4">0 </span><span class="s3">/* napi_key_collection_mode.napi_key_include_prototypes */ </span><span class="s0">&amp;&amp; key_mode !== </span><span class="s4">1 </span><span class="s3">/* napi_key_collection_mode.napi_key_own_only */</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(key_conversion !== </span><span class="s4">0 </span><span class="s3">/* napi_key_conversion.napi_key_keep_numbers */ </span><span class="s0">&amp;&amp; key_conversion !== </span><span class="s4">1 </span><span class="s3">/* napi_key_conversion.napi_key_numbers_to_strings */</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">props = [];</span>
                    <span class="s1">var </span><span class="s0">names = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">symbols = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">i = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">own = </span><span class="s1">true</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">integerIndiceRegex = </span><span class="s7">/^(0|[1-9][0-9]*)$/</span><span class="s0">;</span>
                    <span class="s1">do </span><span class="s0">{</span>
                        <span class="s0">names = Object.getOwnPropertyNames(obj);</span>
                        <span class="s0">symbols = Object.getOwnPropertySymbols(obj);</span>
                        <span class="s1">for </span><span class="s0">(i = </span><span class="s4">0</span><span class="s0">; i &lt; names.length; i++) {</span>
                            <span class="s0">props.push({</span>
                                <span class="s0">name: integerIndiceRegex.test(names[i]) ? Number(names[i]) : names[i],</span>
                                <span class="s0">desc: Object.getOwnPropertyDescriptor(obj, names[i]),</span>
                                <span class="s0">own: own</span>
                            <span class="s0">});</span>
                        <span class="s0">}</span>
                        <span class="s1">for </span><span class="s0">(i = </span><span class="s4">0</span><span class="s0">; i &lt; symbols.length; i++) {</span>
                            <span class="s0">props.push({</span>
                                <span class="s0">name: symbols[i],</span>
                                <span class="s0">desc: Object.getOwnPropertyDescriptor(obj, symbols[i]),</span>
                                <span class="s0">own: own</span>
                            <span class="s0">});</span>
                        <span class="s0">}</span>
                        <span class="s1">if </span><span class="s0">(key_mode === </span><span class="s4">1 </span><span class="s3">/* napi_key_collection_mode.napi_key_own_only */</span><span class="s0">) {</span>
                            <span class="s1">break</span><span class="s0">;</span>
                        <span class="s0">}</span>
                        <span class="s0">obj = Object.getPrototypeOf(obj);</span>
                        <span class="s0">own = </span><span class="s1">false</span><span class="s0">;</span>
                    <span class="s0">} </span><span class="s1">while </span><span class="s0">(obj);</span>
                    <span class="s1">var </span><span class="s0">ret = [];</span>
                    <span class="s1">var </span><span class="s0">addName = </span><span class="s1">function </span><span class="s0">(ret, name, key_filter, conversion_mode) {</span>
                        <span class="s1">if </span><span class="s0">(ret.indexOf(name) !== -</span><span class="s4">1</span><span class="s0">)</span>
                            <span class="s1">return</span><span class="s0">;</span>
                        <span class="s1">if </span><span class="s0">(conversion_mode === </span><span class="s4">0 </span><span class="s3">/* napi_key_conversion.napi_key_keep_numbers */</span><span class="s0">) {</span>
                            <span class="s0">ret.push(name);</span>
                        <span class="s0">}</span>
                        <span class="s1">else if </span><span class="s0">(conversion_mode === </span><span class="s4">1 </span><span class="s3">/* napi_key_conversion.napi_key_numbers_to_strings */</span><span class="s0">) {</span>
                            <span class="s1">var </span><span class="s0">realName = </span><span class="s1">typeof </span><span class="s0">name === </span><span class="s2">'number' </span><span class="s0">? String(name) : name;</span>
                            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">realName === </span><span class="s2">'string'</span><span class="s0">) {</span>
                                <span class="s1">if </span><span class="s0">(!(key_filter &amp; </span><span class="s4">8 </span><span class="s3">/* napi_key_filter.napi_key_skip_strings */</span><span class="s0">)) {</span>
                                    <span class="s0">ret.push(realName);</span>
                                <span class="s0">}</span>
                            <span class="s0">}</span>
                            <span class="s1">else </span><span class="s0">{</span>
                                <span class="s0">ret.push(realName);</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">};</span>
                    <span class="s1">for </span><span class="s0">(i = </span><span class="s4">0</span><span class="s0">; i &lt; props.length; i++) {</span>
                        <span class="s1">var </span><span class="s0">prop = props[i];</span>
                        <span class="s1">var </span><span class="s0">name_1 = prop.name;</span>
                        <span class="s1">var </span><span class="s0">desc = prop.desc;</span>
                        <span class="s1">if </span><span class="s0">(key_filter === </span><span class="s4">0 </span><span class="s3">/* napi_key_filter.napi_key_all_properties */</span><span class="s0">) {</span>
                            <span class="s0">addName(ret, name_1, key_filter, key_conversion);</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s1">if </span><span class="s0">(key_filter &amp; </span><span class="s4">8 </span><span class="s3">/* napi_key_filter.napi_key_skip_strings */ </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">name_1 === </span><span class="s2">'string'</span><span class="s0">) {</span>
                                <span class="s1">continue</span><span class="s0">;</span>
                            <span class="s0">}</span>
                            <span class="s1">if </span><span class="s0">(key_filter &amp; </span><span class="s4">16 </span><span class="s3">/* napi_key_filter.napi_key_skip_symbols */ </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">name_1 === </span><span class="s2">'symbol'</span><span class="s0">) {</span>
                                <span class="s1">continue</span><span class="s0">;</span>
                            <span class="s0">}</span>
                            <span class="s1">var </span><span class="s0">shouldAdd = </span><span class="s1">true</span><span class="s0">;</span>
                            <span class="s1">switch </span><span class="s0">(key_filter &amp; </span><span class="s4">7</span><span class="s0">) {</span>
                                <span class="s1">case </span><span class="s4">1 </span><span class="s3">/* napi_key_filter.napi_key_writable */</span><span class="s0">: {</span>
                                    <span class="s0">shouldAdd = Boolean(desc.writable);</span>
                                    <span class="s1">break</span><span class="s0">;</span>
                                <span class="s0">}</span>
                                <span class="s1">case </span><span class="s4">2 </span><span class="s3">/* napi_key_filter.napi_key_enumerable */</span><span class="s0">: {</span>
                                    <span class="s0">shouldAdd = Boolean(desc.enumerable);</span>
                                    <span class="s1">break</span><span class="s0">;</span>
                                <span class="s0">}</span>
                                <span class="s1">case </span><span class="s0">(</span><span class="s4">1 </span><span class="s3">/* napi_key_filter.napi_key_writable */ </span><span class="s0">| </span><span class="s4">2 </span><span class="s3">/* napi_key_filter.napi_key_enumerable */</span><span class="s0">): {</span>
                                    <span class="s0">shouldAdd = Boolean(desc.writable &amp;&amp; desc.enumerable);</span>
                                    <span class="s1">break</span><span class="s0">;</span>
                                <span class="s0">}</span>
                                <span class="s1">case </span><span class="s4">4 </span><span class="s3">/* napi_key_filter.napi_key_configurable */</span><span class="s0">: {</span>
                                    <span class="s0">shouldAdd = Boolean(desc.configurable);</span>
                                    <span class="s1">break</span><span class="s0">;</span>
                                <span class="s0">}</span>
                                <span class="s1">case </span><span class="s0">(</span><span class="s4">4 </span><span class="s3">/* napi_key_filter.napi_key_configurable */ </span><span class="s0">| </span><span class="s4">1 </span><span class="s3">/* napi_key_filter.napi_key_writable */</span><span class="s0">): {</span>
                                    <span class="s0">shouldAdd = Boolean(desc.configurable &amp;&amp; desc.writable);</span>
                                    <span class="s1">break</span><span class="s0">;</span>
                                <span class="s0">}</span>
                                <span class="s1">case </span><span class="s0">(</span><span class="s4">4 </span><span class="s3">/* napi_key_filter.napi_key_configurable */ </span><span class="s0">| </span><span class="s4">2 </span><span class="s3">/* napi_key_filter.napi_key_enumerable */</span><span class="s0">): {</span>
                                    <span class="s0">shouldAdd = Boolean(desc.configurable &amp;&amp; desc.enumerable);</span>
                                    <span class="s1">break</span><span class="s0">;</span>
                                <span class="s0">}</span>
                                <span class="s1">case </span><span class="s0">(</span><span class="s4">4 </span><span class="s3">/* napi_key_filter.napi_key_configurable */ </span><span class="s0">| </span><span class="s4">2 </span><span class="s3">/* napi_key_filter.napi_key_enumerable */ </span><span class="s0">| </span><span class="s4">1 </span><span class="s3">/* napi_key_filter.napi_key_writable */</span><span class="s0">): {</span>
                                    <span class="s0">shouldAdd = Boolean(desc.configurable &amp;&amp; desc.enumerable &amp;&amp; desc.writable);</span>
                                    <span class="s1">break</span><span class="s0">;</span>
                                <span class="s0">}</span>
                            <span class="s0">}</span>
                            <span class="s1">if </span><span class="s0">(shouldAdd) {</span>
                                <span class="s0">addName(ret, name_1, key_filter, key_conversion);</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">value = emnapiCtx.addToCurrentScope(ret).id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_get_property_names(env, object, result) {</span>
                <span class="s1">return </span><span class="s0">napi_get_all_property_names(env, object, </span><span class="s4">0 </span><span class="s3">/* napi_key_collection_mode.napi_key_include_prototypes */</span><span class="s0">, </span><span class="s4">2 </span><span class="s3">/* napi_key_filter.napi_key_enumerable */ </span><span class="s0">| </span><span class="s4">16 </span><span class="s3">/* napi_key_filter.napi_key_skip_symbols */</span><span class="s0">, </span><span class="s4">1 </span><span class="s3">/* napi_key_conversion.napi_key_numbers_to_strings */</span><span class="s0">, result);</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_set_property(env, object, key, value) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!key)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!value)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(!(h.isObject() || h.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">h.value[emnapiCtx.handleStore.get(key).value] = emnapiCtx.handleStore.get(value).value;</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_has_property(env, object, key, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!key)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(h.value == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert undefined or null to object'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">v = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">v = h.isObject() || h.isFunction() ? h.value : Object(h.value);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">r = (emnapiCtx.handleStore.get(key).value </span><span class="s1">in </span><span class="s0">v) ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_get_property(env, object, key, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!key)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(h.value == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert undefined or null to object'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">v = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">v = h.isObject() || h.isFunction() ? h.value : Object(h.value);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">value = envObject.ensureHandleId(v[emnapiCtx.handleStore.get(key).value]);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_delete_property(env, object, key, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!key)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(!(h.isObject() || h.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">propertyKey = emnapiCtx.handleStore.get(key).value;</span>
                    <span class="s1">if </span><span class="s0">(emnapiCtx.feature.supportReflect) {</span>
                        <span class="s0">r = Reflect.deleteProperty(h.value, propertyKey);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">try </span><span class="s0">{</span>
                            <span class="s0">r = </span><span class="s1">delete </span><span class="s0">h.value[propertyKey];</span>
                        <span class="s0">}</span>
                        <span class="s1">catch </span><span class="s0">(_) {</span>
                            <span class="s0">r = </span><span class="s1">false</span><span class="s0">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(result) {</span>
                        <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                        <span class="s0">HEAP_DATA_VIEW.setInt8(result, r ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_has_own_property(env, object, key, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!key)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(h.value == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert undefined or null to object'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">v = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">v = h.isObject() || h.isFunction() ? h.value : Object(h.value);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">prop = emnapiCtx.handleStore.get(key).value;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">prop !== </span><span class="s2">'string' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">prop !== </span><span class="s2">'symbol'</span><span class="s0">) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">4 </span><span class="s3">/* napi_status.napi_name_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">r = Object.prototype.hasOwnProperty.call(v, emnapiCtx.handleStore.get(key).value);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(result, r ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_set_named_property(env, object, cname, value) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!value)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(!(h.isObject() || h.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!cname) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">emnapiCtx.handleStore.get(object).value[emnapiString.UTF8ToString(cname, -</span><span class="s4">1</span><span class="s0">)] = emnapiCtx.handleStore.get(value).value;</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_has_named_property(env, object, utf8name, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!utf8name) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(h.value == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert undefined or null to object'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">v = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">v = h.isObject() || h.isFunction() ? h.value : Object(h.value);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">r = emnapiString.UTF8ToString(utf8name, -</span><span class="s4">1</span><span class="s0">) </span><span class="s1">in </span><span class="s0">v;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(result, r ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_get_named_property(env, object, utf8name, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!utf8name) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(h.value == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert undefined or null to object'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">v = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">v = h.isObject() || h.isFunction() ? h.value : Object(h.value);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">value = envObject.ensureHandleId(v[emnapiString.UTF8ToString(utf8name, -</span><span class="s4">1</span><span class="s0">)]);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippip */</span>
            <span class="s1">function </span><span class="s0">napi_set_element(env, object, index, value) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!value)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(!(h.isObject() || h.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">h.value[index &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">] = emnapiCtx.handleStore.get(value).value;</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippip */</span>
            <span class="s1">function </span><span class="s0">napi_has_element(env, object, index, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(h.value == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert undefined or null to object'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">v = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">v = h.isObject() || h.isFunction() ? h.value : Object(h.value);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">r = ((index &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">) </span><span class="s1">in </span><span class="s0">v) ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippip */</span>
            <span class="s1">function </span><span class="s0">napi_get_element(env, object, index, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(h.value == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert undefined or null to object'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">v = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">try </span><span class="s0">{</span>
                        <span class="s0">v = h.isObject() || h.isFunction() ? h.value : Object(h.value);</span>
                    <span class="s0">}</span>
                    <span class="s1">catch </span><span class="s0">(_) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">value = envObject.ensureHandleId(v[index &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">]);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippip */</span>
            <span class="s1">function </span><span class="s0">napi_delete_element(env, object, index, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">if </span><span class="s0">(!(h.isObject() || h.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(emnapiCtx.feature.supportReflect) {</span>
                        <span class="s0">r = Reflect.deleteProperty(h.value, index &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">try </span><span class="s0">{</span>
                            <span class="s0">r = </span><span class="s1">delete </span><span class="s0">h.value[index &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">];</span>
                        <span class="s0">}</span>
                        <span class="s1">catch </span><span class="s0">(_) {</span>
                            <span class="s0">r = </span><span class="s1">false</span><span class="s0">;</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(result) {</span>
                        <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                        <span class="s0">HEAP_DATA_VIEW.setInt8(result, r ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_define_properties(env, object, property_count, properties) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">propPtr, attributes;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s0">property_count = property_count &gt;&gt;&gt; </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(property_count &gt; </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">if </span><span class="s0">(!properties)</span>
                            <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">var </span><span class="s0">maybeObject = h.value;</span>
                    <span class="s1">if </span><span class="s0">(!(h.isObject() || h.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">propertyName = </span><span class="s1">void </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; property_count; i++) {</span>
                        <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                        <span class="s0">propPtr = properties + (i * (</span><span class="s4">4 </span><span class="s0">* </span><span class="s4">8</span><span class="s0">));</span>
                        <span class="s1">var </span><span class="s0">utf8Name = HEAP_DATA_VIEW.getUint32(propPtr, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">name_2 = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">4</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">method = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">8</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">getter = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">12</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">setter = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">16</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">value = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">20</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s0">attributes = HEAP_DATA_VIEW.getInt32(propPtr + </span><span class="s4">24</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">var </span><span class="s0">data = HEAP_DATA_VIEW.getUint32(propPtr + </span><span class="s4">28</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                        <span class="s1">if </span><span class="s0">(utf8Name) {</span>
                            <span class="s0">propertyName = emnapiString.UTF8ToString(utf8Name, -</span><span class="s4">1</span><span class="s0">);</span>
                        <span class="s0">}</span>
                        <span class="s1">else </span><span class="s0">{</span>
                            <span class="s1">if </span><span class="s0">(!name_2) {</span>
                                <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">4 </span><span class="s3">/* napi_status.napi_name_expected */</span><span class="s0">);</span>
                            <span class="s0">}</span>
                            <span class="s0">propertyName = emnapiCtx.handleStore.get(name_2).value;</span>
                            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">propertyName !== </span><span class="s2">'string' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">propertyName !== </span><span class="s2">'symbol'</span><span class="s0">) {</span>
                                <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">4 </span><span class="s3">/* napi_status.napi_name_expected */</span><span class="s0">);</span>
                            <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s0">emnapiDefineProperty(envObject, maybeObject, propertyName, method, getter, setter, value, attributes, data);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_object_freeze(env, object) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">var </span><span class="s0">maybeObject = h.value;</span>
                    <span class="s1">if </span><span class="s0">(!(h.isObject() || h.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">Object.freeze(maybeObject);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_object_seal(env, object) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(object);</span>
                    <span class="s1">var </span><span class="s0">maybeObject = h.value;</span>
                    <span class="s1">if </span><span class="s0">(!(h.isObject() || h.isFunction())) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">2 </span><span class="s3">/* napi_status.napi_object_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s0">Object.seal(maybeObject);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">propertyMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_define_properties: napi_define_properties,</span>
                <span class="s0">napi_delete_element: napi_delete_element,</span>
                <span class="s0">napi_delete_property: napi_delete_property,</span>
                <span class="s0">napi_get_all_property_names: napi_get_all_property_names,</span>
                <span class="s0">napi_get_element: napi_get_element,</span>
                <span class="s0">napi_get_named_property: napi_get_named_property,</span>
                <span class="s0">napi_get_property: napi_get_property,</span>
                <span class="s0">napi_get_property_names: napi_get_property_names,</span>
                <span class="s0">napi_has_element: napi_has_element,</span>
                <span class="s0">napi_has_named_property: napi_has_named_property,</span>
                <span class="s0">napi_has_own_property: napi_has_own_property,</span>
                <span class="s0">napi_has_property: napi_has_property,</span>
                <span class="s0">napi_object_freeze: napi_object_freeze,</span>
                <span class="s0">napi_object_seal: napi_object_seal,</span>
                <span class="s0">napi_set_element: napi_set_element,</span>
                <span class="s0">napi_set_named_property: napi_set_named_property,</span>
                <span class="s0">napi_set_property: napi_set_property</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_run_script(env, script, result) {</span>
                <span class="s1">var </span><span class="s0">status;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">value;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!script)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">v8Script = emnapiCtx.handleStore.get(script);</span>
                    <span class="s1">if </span><span class="s0">(!v8Script.isString()) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">3 </span><span class="s3">/* napi_status.napi_string_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">g = emnapiCtx.handleStore.get(</span><span class="s4">5 </span><span class="s3">/* GlobalHandle.GLOBAL */</span><span class="s0">).value;</span>
                    <span class="s1">var </span><span class="s0">ret = g.eval(v8Script.value);</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">value = envObject.ensureHandleId(ret);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, value, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s0">status = envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">status;</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">scriptMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_run_script: napi_run_script</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_typeof(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">v = emnapiCtx.handleStore.get(value);</span>
                <span class="s1">var </span><span class="s0">r;</span>
                <span class="s1">if </span><span class="s0">(v.isNumber()) {</span>
                    <span class="s0">r = </span><span class="s4">3 </span><span class="s3">/* napi_valuetype.napi_number */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(v.isBigInt()) {</span>
                    <span class="s0">r = </span><span class="s4">9 </span><span class="s3">/* napi_valuetype.napi_bigint */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(v.isString()) {</span>
                    <span class="s0">r = </span><span class="s4">4 </span><span class="s3">/* napi_valuetype.napi_string */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(v.isFunction()) {</span>
                    <span class="s3">// This test has to come before IsObject because IsFunction</span>
                    <span class="s3">// implies IsObject</span>
                    <span class="s0">r = </span><span class="s4">7 </span><span class="s3">/* napi_valuetype.napi_function */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(v.isExternal()) {</span>
                    <span class="s3">// This test has to come before IsObject because IsExternal</span>
                    <span class="s3">// implies IsObject</span>
                    <span class="s0">r = </span><span class="s4">8 </span><span class="s3">/* napi_valuetype.napi_external */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(v.isObject()) {</span>
                    <span class="s0">r = </span><span class="s4">6 </span><span class="s3">/* napi_valuetype.napi_object */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(v.isBoolean()) {</span>
                    <span class="s0">r = </span><span class="s4">2 </span><span class="s3">/* napi_valuetype.napi_boolean */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(v.isUndefined()) {</span>
                    <span class="s0">r = </span><span class="s4">0 </span><span class="s3">/* napi_valuetype.napi_undefined */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(v.isSymbol()) {</span>
                    <span class="s0">r = </span><span class="s4">5 </span><span class="s3">/* napi_valuetype.napi_symbol */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else if </span><span class="s0">(v.isNull()) {</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">r = </span><span class="s4">1 </span><span class="s3">/* napi_valuetype.napi_null */</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s3">// Should not get here unless V8 has added some new kind of value.</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt32(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_coerce_to_bool(env, value, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!value)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                    <span class="s0">v = handle.value ? </span><span class="s4">4 </span><span class="s3">/* GlobalHandle.TRUE */ </span><span class="s0">: </span><span class="s4">3 </span><span class="s3">/* GlobalHandle.FALSE */</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_coerce_to_number(env, value, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!value)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                    <span class="s1">if </span><span class="s0">(handle.isBigInt()) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert a BigInt value to a number'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">v = emnapiCtx.addToCurrentScope(Number(handle.value)).id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_coerce_to_object(env, value, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!value)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                    <span class="s1">if </span><span class="s0">(handle.value == </span><span class="s1">null</span><span class="s0">) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert undefined or null to object'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">v = envObject.ensureHandleId(Object(handle.value));</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_coerce_to_string(env, value, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">v;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!value)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">handle = emnapiCtx.handleStore.get(value);</span>
                    <span class="s1">if </span><span class="s0">(handle.isSymbol()) {</span>
                        <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Cannot convert a Symbol value to a string'</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                    <span class="s0">v = emnapiCtx.addToCurrentScope(String(handle.value)).id;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setUint32(result, v, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_instanceof(env, object, constructor, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!object)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!constructor)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(result, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">ctor = emnapiCtx.handleStore.get(constructor);</span>
                    <span class="s1">if </span><span class="s0">(!ctor.isFunction()) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">5 </span><span class="s3">/* napi_status.napi_function_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">var </span><span class="s0">val = emnapiCtx.handleStore.get(object).value;</span>
                    <span class="s1">var </span><span class="s0">ret = val </span><span class="s1">instanceof </span><span class="s0">ctor.value;</span>
                    <span class="s0">r = ret ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_is_array(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(value);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = h.isArray() ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_is_arraybuffer(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(value);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = h.isArrayBuffer() ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_is_date(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(value);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = h.isDate() ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_is_error(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">val = emnapiCtx.handleStore.get(value).value;</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = (val </span><span class="s1">instanceof </span><span class="s0">Error) ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_is_typedarray(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(value);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = h.isTypedArray() ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_is_buffer(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(value);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = h.isBuffer(emnapiCtx.feature.Buffer) ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_is_dataview(env, value, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!value)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(value);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r = h.isDataView() ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipppp */</span>
            <span class="s1">function </span><span class="s0">napi_strict_equals(env, lhs, rhs, result) {</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">r;</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!lhs)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!rhs)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">lv = emnapiCtx.handleStore.get(lhs).value;</span>
                    <span class="s1">var </span><span class="s0">rv = emnapiCtx.handleStore.get(rhs).value;</span>
                    <span class="s0">r = (lv === rv) ? </span><span class="s4">1 </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(result, r, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_detach_arraybuffer(env, arraybuffer) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!arraybuffer)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s0">value = emnapiCtx.handleStore.get(arraybuffer).value;</span>
                <span class="s1">if </span><span class="s0">(!(value </span><span class="s1">instanceof </span><span class="s0">ArrayBuffer)) {</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">SharedArrayBuffer === </span><span class="s2">'function' </span><span class="s0">&amp;&amp; (value </span><span class="s1">instanceof </span><span class="s0">SharedArrayBuffer)) {</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">20 </span><span class="s3">/* napi_status.napi_detachable_arraybuffer_expected */</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">19 </span><span class="s3">/* napi_status.napi_arraybuffer_expected */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">var </span><span class="s0">MessageChannel_1 = emnapiCtx.feature.MessageChannel;</span>
                    <span class="s1">var </span><span class="s0">messageChannel = </span><span class="s1">new </span><span class="s0">MessageChannel_1();</span>
                    <span class="s0">messageChannel.port1.postMessage(value, [value]);</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(_) {</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">9 </span><span class="s3">/* napi_status.napi_generic_failure */</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s3">/** @__sig ippp */</span>
            <span class="s1">function </span><span class="s0">napi_is_detached_arraybuffer(env, arraybuffer, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s3">// @ts-expect-error</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s0">envObject.checkGCAccess();</span>
                <span class="s1">if </span><span class="s0">(!envObject.tryCatch.isEmpty())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!envObject.canCallIntoJs())</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(envObject.moduleApiVersion &gt;= </span><span class="s4">10 </span><span class="s0">? </span><span class="s4">23 </span><span class="s3">/* napi_status.napi_cannot_run_js */ </span><span class="s0">: </span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">envObject.clearLastError();</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(!arraybuffer)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(!result)</span>
                        <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                    <span class="s1">var </span><span class="s0">h = emnapiCtx.handleStore.get(arraybuffer);</span>
                    <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                    <span class="s1">if </span><span class="s0">(h.isArrayBuffer() &amp;&amp; h.value.byteLength === </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s1">try </span><span class="s0">{</span>
                            <span class="s3">// eslint-disable-next-line no-new</span>
                            <span class="s1">new </span><span class="s0">Uint8Array(h.value);</span>
                        <span class="s0">}</span>
                        <span class="s1">catch </span><span class="s0">(_) {</span>
                            <span class="s0">HEAP_DATA_VIEW.setInt8(result, </span><span class="s4">1</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                            <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                        <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s0">HEAP_DATA_VIEW.setInt8(result, </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">return </span><span class="s0">envObject.getReturnStatus();</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s0">envObject.tryCatch.setError(err);</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">10 </span><span class="s3">/* napi_status.napi_pending_exception */</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">valueOperationMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_coerce_to_bool: napi_coerce_to_bool,</span>
                <span class="s0">napi_coerce_to_number: napi_coerce_to_number,</span>
                <span class="s0">napi_coerce_to_object: napi_coerce_to_object,</span>
                <span class="s0">napi_coerce_to_string: napi_coerce_to_string,</span>
                <span class="s0">napi_detach_arraybuffer: napi_detach_arraybuffer,</span>
                <span class="s0">napi_instanceof: napi_instanceof,</span>
                <span class="s0">napi_is_array: napi_is_array,</span>
                <span class="s0">napi_is_arraybuffer: napi_is_arraybuffer,</span>
                <span class="s0">napi_is_buffer: napi_is_buffer,</span>
                <span class="s0">napi_is_dataview: napi_is_dataview,</span>
                <span class="s0">napi_is_date: napi_is_date,</span>
                <span class="s0">napi_is_detached_arraybuffer: napi_is_detached_arraybuffer,</span>
                <span class="s0">napi_is_error: napi_is_error,</span>
                <span class="s0">napi_is_typedarray: napi_is_typedarray,</span>
                <span class="s0">napi_strict_equals: napi_strict_equals,</span>
                <span class="s0">napi_typeof: napi_typeof</span>
            <span class="s0">});</span>
            <span class="s3">/** @__sig ipp */</span>
            <span class="s1">function </span><span class="s0">napi_get_version(env, result) {</span>
                <span class="s1">if </span><span class="s0">(!env)</span>
                    <span class="s1">return </span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">envObject = emnapiCtx.envStore.get(env);</span>
                <span class="s1">if </span><span class="s0">(!result)</span>
                    <span class="s1">return </span><span class="s0">envObject.setLastError(</span><span class="s4">1 </span><span class="s3">/* napi_status.napi_invalid_arg */</span><span class="s0">);</span>
                <span class="s3">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span>
                <span class="s1">var </span><span class="s0">NODE_API_SUPPORTED_VERSION_MAX = </span><span class="s4">10 </span><span class="s3">/* Version.NODE_API_SUPPORTED_VERSION_MAX */</span><span class="s0">;</span>
                <span class="s1">var </span><span class="s0">HEAP_DATA_VIEW = </span><span class="s1">new </span><span class="s0">DataView(wasmMemory.buffer);</span>
                <span class="s0">HEAP_DATA_VIEW.setUint32(result, NODE_API_SUPPORTED_VERSION_MAX, </span><span class="s1">true</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s0">envObject.clearLastError();</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">versionMod = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">Object.freeze({</span>
                <span class="s0">__proto__: </span><span class="s1">null</span><span class="s0">,</span>
                <span class="s0">napi_get_version: napi_get_version</span>
            <span class="s0">});</span>
            <span class="s0">emnapiAWST.init();</span>
            <span class="s0">emnapiExternalMemory.init();</span>
            <span class="s0">emnapiString.init();</span>
            <span class="s0">emnapiTSFN.init();</span>
            <span class="s0">PThread.init();</span>
            <span class="s0">napiModule.emnapi.syncMemory = $emnapiSyncMemory;</span>
            <span class="s0">napiModule.emnapi.getMemoryAddress = $emnapiGetMemoryAddress;</span>
            <span class="s1">function </span><span class="s0">addImports(mod) {</span>
                <span class="s1">var </span><span class="s0">keys = Object.keys(mod);</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s4">0</span><span class="s0">; i &lt; keys.length; ++i) {</span>
                    <span class="s1">var </span><span class="s0">k = keys[i];</span>
                    <span class="s1">if </span><span class="s0">(k.indexOf(</span><span class="s2">'$'</span><span class="s0">) === </span><span class="s4">0</span><span class="s0">)</span>
                        <span class="s1">continue</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(k.indexOf(</span><span class="s2">'emnapi_'</span><span class="s0">) === </span><span class="s4">0</span><span class="s0">) {</span>
                        <span class="s0">napiModule.imports.emnapi[k] = mod[k];</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(k.indexOf(</span><span class="s2">'_emnapi_'</span><span class="s0">) === </span><span class="s4">0 </span><span class="s0">|| k === </span><span class="s2">'napi_set_last_error' </span><span class="s0">|| k === </span><span class="s2">'napi_clear_last_error'</span><span class="s0">) {</span>
                        <span class="s0">napiModule.imports.env[k] = mod[k];</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s0">napiModule.imports.napi[k] = mod[k];</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s0">addImports(asyncMod);</span>
            <span class="s0">addImports(memoryMod);</span>
            <span class="s0">addImports(asyncWorkMod);</span>
            <span class="s0">addImports(utilMod);</span>
            <span class="s0">addImports(convert2cMod);</span>
            <span class="s0">addImports(convert2napiMod);</span>
            <span class="s0">addImports(createMod);</span>
            <span class="s0">addImports(globalMod);</span>
            <span class="s0">addImports(wrapMod);</span>
            <span class="s0">addImports(envMod);</span>
            <span class="s0">addImports(emnapiMod);</span>
            <span class="s0">addImports(errorMod);</span>
            <span class="s0">addImports(functionMod);</span>
            <span class="s0">addImports(lifeMod);</span>
            <span class="s0">addImports(miscellaneousMod);</span>
            <span class="s0">addImports(nodeMod);</span>
            <span class="s0">addImports(promiseMod);</span>
            <span class="s0">addImports(propertyMod);</span>
            <span class="s0">addImports(scriptMod);</span>
            <span class="s0">addImports(valueOperationMod);</span>
            <span class="s0">addImports(versionMod);</span>
            <span class="s0">napiModule.imports.napi.napi_create_threadsafe_function = napi_create_threadsafe_function;</span>
            <span class="s0">napiModule.imports.napi.napi_get_threadsafe_function_context = napi_get_threadsafe_function_context;</span>
            <span class="s0">napiModule.imports.napi.napi_call_threadsafe_function = napi_call_threadsafe_function;</span>
            <span class="s0">napiModule.imports.napi.napi_acquire_threadsafe_function = napi_acquire_threadsafe_function;</span>
            <span class="s0">napiModule.imports.napi.napi_release_threadsafe_function = napi_release_threadsafe_function;</span>
            <span class="s0">napiModule.imports.napi.napi_unref_threadsafe_function = napi_unref_threadsafe_function;</span>
            <span class="s0">napiModule.imports.napi.napi_ref_threadsafe_function = napi_ref_threadsafe_function;</span>
            <span class="s1">return </span><span class="s0">napiModule;</span>
        <span class="s0">})();</span>
        <span class="s1">return </span><span class="s0">napiModule;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s0">loadNapiModuleImpl(loadFn, userNapiModule, wasmInput, options) {</span>
        <span class="s3">// eslint-disable-next-line @typescript-eslint/consistent-type-assertions</span>
        <span class="s0">options = options !== </span><span class="s1">null </span><span class="s0">&amp;&amp; options !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? options : {};</span>
        <span class="s1">var </span><span class="s0">getMemory = options.getMemory;</span>
        <span class="s1">var </span><span class="s0">getTable = options.getTable;</span>
        <span class="s1">var </span><span class="s0">beforeInit = options.beforeInit;</span>
        <span class="s1">if </span><span class="s0">(getMemory != </span><span class="s1">null </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">getMemory !== </span><span class="s2">'function'</span><span class="s0">) {</span>
            <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'options.getMemory is not a function'</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(getTable != </span><span class="s1">null </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">getTable !== </span><span class="s2">'function'</span><span class="s0">) {</span>
            <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'options.getTable is not a function'</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(beforeInit != </span><span class="s1">null </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">beforeInit !== </span><span class="s2">'function'</span><span class="s0">) {</span>
            <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'options.beforeInit is not a function'</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s0">napiModule;</span>
        <span class="s1">var </span><span class="s0">isLoad = </span><span class="s1">typeof </span><span class="s0">userNapiModule === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; userNapiModule !== </span><span class="s1">null</span><span class="s0">;</span>
        <span class="s1">if </span><span class="s0">(isLoad) {</span>
            <span class="s1">if </span><span class="s0">(userNapiModule.loaded) {</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'napiModule has already loaded'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s0">napiModule = userNapiModule;</span>
        <span class="s0">}</span>
        <span class="s1">else </span><span class="s0">{</span>
            <span class="s0">napiModule = createNapiModule(options);</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s0">wasi = options.wasi;</span>
        <span class="s1">var </span><span class="s0">wasiThreads;</span>
        <span class="s1">var </span><span class="s0">importObject = {</span>
            <span class="s0">env: napiModule.imports.env,</span>
            <span class="s0">napi: napiModule.imports.napi,</span>
            <span class="s0">emnapi: napiModule.imports.emnapi</span>
        <span class="s0">};</span>
        <span class="s1">if </span><span class="s0">(wasi) {</span>
            <span class="s0">wasiThreads = </span><span class="s1">new </span><span class="s0">WASIThreads(napiModule.childThread</span>
                <span class="s0">? {</span>
                    <span class="s0">wasi: wasi,</span>
                    <span class="s0">childThread: </span><span class="s1">true</span><span class="s0">,</span>
                    <span class="s0">postMessage: napiModule.postMessage</span>
                <span class="s0">}</span>
                <span class="s0">: {</span>
                    <span class="s0">wasi: wasi,</span>
                    <span class="s0">threadManager: napiModule.PThread,</span>
                    <span class="s0">waitThreadStart: napiModule.waitThreadStart</span>
                <span class="s0">});</span>
            <span class="s0">Object.assign(importObject, </span><span class="s1">typeof </span><span class="s0">wasi.getImportObject === </span><span class="s2">'function'</span>
                <span class="s0">? wasi.getImportObject()</span>
                <span class="s0">: { wasi_snapshot_preview1: wasi.wasiImport });</span>
            <span class="s0">Object.assign(importObject, wasiThreads.getImportObject());</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s0">overwriteImports = options.overwriteImports;</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">overwriteImports === </span><span class="s2">'function'</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s0">newImportObject = overwriteImports(importObject);</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">newImportObject === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; newImportObject !== </span><span class="s1">null</span><span class="s0">) {</span>
                <span class="s0">importObject = newImportObject;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s0">loadFn(wasmInput, importObject, </span><span class="s1">function </span><span class="s0">(err, source) {</span>
            <span class="s1">if </span><span class="s0">(err) {</span>
                <span class="s1">throw </span><span class="s0">err;</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">originalInstance = source.instance;</span>
            <span class="s1">var </span><span class="s0">instance = originalInstance;</span>
            <span class="s1">var </span><span class="s0">originalExports = originalInstance.exports;</span>
            <span class="s1">var </span><span class="s0">exportMemory = </span><span class="s2">'memory' </span><span class="s1">in </span><span class="s0">originalExports;</span>
            <span class="s1">var </span><span class="s0">importMemory = </span><span class="s2">'memory' </span><span class="s1">in </span><span class="s0">importObject.env;</span>
            <span class="s1">var </span><span class="s0">memory = getMemory</span>
                <span class="s0">? getMemory(originalExports)</span>
                <span class="s0">: exportMemory</span>
                    <span class="s0">? originalExports.memory</span>
                    <span class="s0">: importMemory</span>
                        <span class="s0">? importObject.env.memory</span>
                        <span class="s0">: undefined;</span>
            <span class="s1">if </span><span class="s0">(!memory) {</span>
                <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'memory is neither exported nor imported'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">table = getTable ? getTable(originalExports) : originalExports.__indirect_function_table;</span>
            <span class="s1">if </span><span class="s0">(wasi &amp;&amp; !exportMemory) {</span>
                <span class="s1">var </span><span class="s0">exports_1 = Object.create(</span><span class="s1">null</span><span class="s0">);</span>
                <span class="s0">Object.assign(exports_1, originalExports, { memory: memory });</span>
                <span class="s0">instance = { exports: exports_1 };</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">module = source.module;</span>
            <span class="s1">if </span><span class="s0">(wasi) {</span>
                <span class="s0">instance = wasiThreads.initialize(instance, module, memory);</span>
            <span class="s0">}</span>
            <span class="s1">else </span><span class="s0">{</span>
                <span class="s0">napiModule.PThread.setup(module, memory);</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">emnapiInit = </span><span class="s1">function </span><span class="s0">() {</span>
                <span class="s1">if </span><span class="s0">(beforeInit) {</span>
                    <span class="s0">beforeInit({</span>
                        <span class="s0">instance: originalInstance,</span>
                        <span class="s0">module: module</span>
                    <span class="s0">});</span>
                <span class="s0">}</span>
                <span class="s0">napiModule.init({</span>
                    <span class="s0">instance: instance,</span>
                    <span class="s0">module: module,</span>
                    <span class="s0">memory: memory,</span>
                    <span class="s0">table: table</span>
                <span class="s0">});</span>
                <span class="s1">var </span><span class="s0">ret = {</span>
                    <span class="s0">instance: originalInstance,</span>
                    <span class="s0">module: module,</span>
                    <span class="s0">usedInstance: instance</span>
                <span class="s0">};</span>
                <span class="s1">if </span><span class="s0">(!isLoad) {</span>
                    <span class="s0">ret.napiModule = napiModule;</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">ret;</span>
            <span class="s0">};</span>
            <span class="s1">if </span><span class="s0">(napiModule.PThread.shouldPreloadWorkers()) {</span>
                <span class="s1">var </span><span class="s0">poolReady = napiModule.PThread.loadWasmModuleToAllWorkers();</span>
                <span class="s1">if </span><span class="s0">(loadFn === loadCallback) {</span>
                    <span class="s1">return </span><span class="s0">poolReady.then(emnapiInit);</span>
                <span class="s0">}</span>
                <span class="s1">else </span><span class="s0">{</span>
                    <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">'Synchronous loading is not supported with worker pool (reuseWorker.size &gt; 0)'</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">emnapiInit();</span>
        <span class="s0">});</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">loadCallback(wasmInput, importObject, callback) {</span>
        <span class="s1">return </span><span class="s0">load(wasmInput, importObject).then(</span><span class="s1">function </span><span class="s0">(source) {</span>
            <span class="s1">return </span><span class="s0">callback(</span><span class="s1">null</span><span class="s0">, source);</span>
        <span class="s0">}, </span><span class="s1">function </span><span class="s0">(err) {</span>
            <span class="s1">return </span><span class="s0">callback(err);</span>
        <span class="s0">});</span>
    <span class="s0">}</span>
    <span class="s1">function </span><span class="s0">loadSyncCallback(wasmInput, importObject, callback) {</span>
        <span class="s1">var </span><span class="s0">source;</span>
        <span class="s1">try </span><span class="s0">{</span>
            <span class="s0">source = loadSync(wasmInput, importObject);</span>
        <span class="s0">}</span>
        <span class="s1">catch </span><span class="s0">(err) {</span>
            <span class="s1">return </span><span class="s0">callback(err);</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s0">callback(</span><span class="s1">null</span><span class="s0">, source);</span>
    <span class="s0">}</span>
    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">function </span><span class="s0">loadNapiModule(napiModule, </span>
    <span class="s3">/** Only support `BufferSource` or `WebAssembly.Module` on Node.js */</span>
    <span class="s0">wasmInput, options) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">napiModule !== </span><span class="s2">'object' </span><span class="s0">|| napiModule === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid napiModule'</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s0">loadNapiModuleImpl(loadCallback, napiModule, wasmInput, options);</span>
    <span class="s0">}</span>
    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">function </span><span class="s0">loadNapiModuleSync(napiModule, wasmInput, options) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">napiModule !== </span><span class="s2">'object' </span><span class="s0">|| napiModule === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'Invalid napiModule'</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s0">loadNapiModuleImpl(loadSyncCallback, napiModule, wasmInput, options);</span>
    <span class="s0">}</span>
    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">function </span><span class="s0">instantiateNapiModule(</span>
    <span class="s3">/** Only support `BufferSource` or `WebAssembly.Module` on Node.js */</span>
    <span class="s0">wasmInput, options) {</span>
        <span class="s1">return </span><span class="s0">loadNapiModuleImpl(loadCallback, undefined, wasmInput, options);</span>
    <span class="s0">}</span>
    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">function </span><span class="s0">instantiateNapiModuleSync(wasmInput, options) {</span>
        <span class="s1">return </span><span class="s0">loadNapiModuleImpl(loadSyncCallback, undefined, wasmInput, options);</span>
    <span class="s0">}</span>

    <span class="s3">/******************************************************************************</span>
    <span class="s3">Copyright (c) Microsoft Corporation.</span>

    <span class="s3">Permission to use, copy, modify, and/or distribute this software for any</span>
    <span class="s3">purpose with or without fee is hereby granted.</span>

    <span class="s3">THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH</span>
    <span class="s3">REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY</span>
    <span class="s3">AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,</span>
    <span class="s3">INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM</span>
    <span class="s3">LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR</span>
    <span class="s3">OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR</span>
    <span class="s3">PERFORMANCE OF THIS SOFTWARE.</span>
    <span class="s3">***************************************************************************** */</span>
    <span class="s3">/* global Reflect, Promise, SuppressedError, Symbol, Iterator */</span>

    <span class="s1">var </span><span class="s0">extendStatics = </span><span class="s1">function</span><span class="s0">(d, b) {</span>
        <span class="s0">extendStatics = Object.setPrototypeOf ||</span>
            <span class="s0">({ __proto__: [] } </span><span class="s1">instanceof </span><span class="s0">Array &amp;&amp; </span><span class="s1">function </span><span class="s0">(d, b) { d.__proto__ = b; }) ||</span>
            <span class="s1">function </span><span class="s0">(d, b) { </span><span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">p </span><span class="s1">in </span><span class="s0">b) </span><span class="s1">if </span><span class="s0">(Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span>
        <span class="s1">return </span><span class="s0">extendStatics(d, b);</span>
    <span class="s0">};</span>

    <span class="s1">function </span><span class="s0">__extends(d, b) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">b !== </span><span class="s2">&quot;function&quot; </span><span class="s0">&amp;&amp; b !== </span><span class="s1">null</span><span class="s0">)</span>
            <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">&quot;Class extends value &quot; </span><span class="s0">+ String(b) + </span><span class="s2">&quot; is not a constructor or null&quot;</span><span class="s0">);</span>
        <span class="s0">extendStatics(d, b);</span>
        <span class="s1">function </span><span class="s0">__() { </span><span class="s1">this</span><span class="s0">.constructor = d; }</span>
        <span class="s0">d.prototype = b === </span><span class="s1">null </span><span class="s0">? Object.create(b) : (__.prototype = b.prototype, </span><span class="s1">new </span><span class="s0">__());</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s0">__assign = </span><span class="s1">function</span><span class="s0">() {</span>
        <span class="s0">__assign = Object.assign || </span><span class="s1">function </span><span class="s0">__assign(t) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">s, i = </span><span class="s4">1</span><span class="s0">, n = arguments.length; i &lt; n; i++) {</span>
                <span class="s0">s = arguments[i];</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">p </span><span class="s1">in </span><span class="s0">s) </span><span class="s1">if </span><span class="s0">(Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">t;</span>
        <span class="s0">};</span>
        <span class="s1">return </span><span class="s0">__assign.apply(</span><span class="s1">this</span><span class="s0">, arguments);</span>
    <span class="s0">};</span>

    <span class="s1">typeof </span><span class="s0">SuppressedError === </span><span class="s2">&quot;function&quot; </span><span class="s0">? SuppressedError : </span><span class="s1">function </span><span class="s0">(error, suppressed, message) {</span>
        <span class="s1">var </span><span class="s0">e = </span><span class="s1">new </span><span class="s0">Error(message);</span>
        <span class="s1">return </span><span class="s0">e.name = </span><span class="s2">&quot;SuppressedError&quot;</span><span class="s0">, e.error = error, e.suppressed = suppressed, e;</span>
    <span class="s0">};</span>

    <span class="s3">/** </span><span class="s5">@public </span><span class="s3">*/</span>
    <span class="s1">var </span><span class="s0">MessageHandler = </span><span class="s3">/*#__PURE__*/ </span><span class="s0">(</span><span class="s1">function </span><span class="s0">(_super) {</span>
        <span class="s0">__extends(MessageHandler, _super);</span>
        <span class="s1">function </span><span class="s0">MessageHandler(options) {</span>
            <span class="s1">var </span><span class="s0">_this = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">options.onLoad !== </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">'options.onLoad is not a function'</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">var </span><span class="s0">userOnError = options.onError;</span>
            <span class="s0">_this = _super.call(</span><span class="s1">this</span><span class="s0">, __assign(__assign({}, options), { onError: </span><span class="s1">function </span><span class="s0">(err, type) {</span>
                    <span class="s1">var </span><span class="s0">_a;</span>
                    <span class="s1">var </span><span class="s0">emnapi_thread_crashed = (_a = _this.instance) === </span><span class="s1">null </span><span class="s0">|| _a === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _a.exports.emnapi_thread_crashed;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">emnapi_thread_crashed === </span><span class="s2">'function'</span><span class="s0">) {</span>
                        <span class="s0">emnapi_thread_crashed();</span>
                    <span class="s0">} </span><span class="s3">/* else { 
                      tryWakeUpPthreadJoin(this.instance!) 
                    } */</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">userOnError === </span><span class="s2">'function'</span><span class="s0">) {</span>
                        <span class="s0">userOnError(err, type);</span>
                    <span class="s0">}</span>
                    <span class="s1">else </span><span class="s0">{</span>
                        <span class="s1">throw </span><span class="s0">err;</span>
                    <span class="s0">}</span>
                <span class="s0">} })) || </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s0">_this.napiModule = undefined;</span>
            <span class="s1">return </span><span class="s0">_this;</span>
        <span class="s0">}</span>
        <span class="s0">MessageHandler.prototype.instantiate = </span><span class="s1">function </span><span class="s0">(data) {</span>
            <span class="s1">var </span><span class="s0">_this = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s0">source = </span><span class="s1">this</span><span class="s0">.onLoad(data);</span>
            <span class="s1">var </span><span class="s0">then = source.then;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">then === </span><span class="s2">'function'</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s0">source.then(</span><span class="s1">function </span><span class="s0">(result) {</span>
                    <span class="s0">_this.napiModule = result.napiModule;</span>
                    <span class="s1">return </span><span class="s0">result;</span>
                <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s1">this</span><span class="s0">.napiModule = source.napiModule;</span>
            <span class="s1">return </span><span class="s0">source;</span>
        <span class="s0">};</span>
        <span class="s0">MessageHandler.prototype.handle = </span><span class="s1">function </span><span class="s0">(e) {</span>
            <span class="s1">var </span><span class="s0">_this = </span><span class="s1">this</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s0">_a;</span>
            <span class="s0">_super.prototype.handle.call(</span><span class="s1">this</span><span class="s0">, e);</span>
            <span class="s1">if </span><span class="s0">((_a = e === </span><span class="s1">null </span><span class="s0">|| e === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: e.data) === </span><span class="s1">null </span><span class="s0">|| _a === </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: _a.__emnapi__) {</span>
                <span class="s1">var </span><span class="s0">type = e.data.__emnapi__.type;</span>
                <span class="s1">var </span><span class="s0">payload_1 = e.data.__emnapi__.payload;</span>
                <span class="s1">try </span><span class="s0">{</span>
                    <span class="s1">if </span><span class="s0">(type === </span><span class="s2">'async-worker-init'</span><span class="s0">) {</span>
                        <span class="s1">this</span><span class="s0">.handleAfterLoad(e, </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s0">_this.napiModule.initWorker(payload_1.arg);</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                    <span class="s1">else if </span><span class="s0">(type === </span><span class="s2">'async-work-execute'</span><span class="s0">) {</span>
                        <span class="s1">this</span><span class="s0">.handleAfterLoad(e, </span><span class="s1">function </span><span class="s0">() {</span>
                            <span class="s0">_this.napiModule.executeAsyncWork(payload_1.work);</span>
                        <span class="s0">});</span>
                    <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">catch </span><span class="s0">(err) {</span>
                    <span class="s1">this</span><span class="s0">.onError(err, type);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s1">return </span><span class="s0">MessageHandler;</span>
    <span class="s0">}(ThreadMessageHandler));</span>
    <span class="s3">// function tryWakeUpPthreadJoin (instance: WebAssembly.Instance): void {</span>
    <span class="s3">//   // https://github.com/WebAssembly/wasi-libc/blob/574b88da481569b65a237cb80daf9a2d5aeaf82d/libc-top-half/musl/src/thread/pthread_join.c#L18-L21</span>
    <span class="s3">//   const pthread_self = instance.exports.pthread_self as () =&gt; number</span>
    <span class="s3">//   const memory = instance.exports.memory as WebAssembly.Memory</span>
    <span class="s3">//   if (typeof pthread_self === 'function') {</span>
    <span class="s3">//     const selfThread = pthread_self()</span>
    <span class="s3">//     if (selfThread &amp;&amp; memory) {</span>
    <span class="s3">//       // https://github.com/WebAssembly/wasi-libc/blob/574b88da481569b65a237cb80daf9a2d5aeaf82d/libc-top-half/musl/src/internal/pthread_impl.h#L45</span>
    <span class="s3">//       const detatchState = new Int32Array(memory.buffer, selfThread + 7 * 4 /** detach_state */, 1)</span>
    <span class="s3">//       Atomics.store(detatchState, 0, 0)</span>
    <span class="s3">//       Atomics.notify(detatchState, 0, Infinity)</span>
    <span class="s3">//     }</span>
    <span class="s3">//   }</span>
    <span class="s3">// }</span>

    <span class="s1">var </span><span class="s0">version = </span><span class="s2">&quot;1.5.0&quot;</span><span class="s0">;</span>

    <span class="s0">exports.MessageHandler = MessageHandler;</span>
    <span class="s0">exports.ThreadManager = ThreadManager;</span>
    <span class="s0">exports.ThreadMessageHandler = ThreadMessageHandler;</span>
    <span class="s0">exports.WASIThreads = WASIThreads;</span>
    <span class="s0">exports.createInstanceProxy = createInstanceProxy;</span>
    <span class="s0">exports.createNapiModule = createNapiModule;</span>
    <span class="s0">exports.instantiateNapiModule = instantiateNapiModule;</span>
    <span class="s0">exports.instantiateNapiModuleSync = instantiateNapiModuleSync;</span>
    <span class="s0">exports.isSharedArrayBuffer = isSharedArrayBuffer;</span>
    <span class="s0">exports.isTrapError = isTrapError;</span>
    <span class="s0">exports.loadNapiModule = loadNapiModule;</span>
    <span class="s0">exports.loadNapiModuleSync = loadNapiModuleSync;</span>
    <span class="s0">exports.version = version;</span>

<span class="s0">}));</span>
</pre>
</body>
</html>