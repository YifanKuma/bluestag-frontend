<html>
<head>
<title>format.test.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
.s3 { color: #8c8c8c; font-style: italic;}
.s4 { color: #1750eb;}
.s5 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
format.test.js</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">metadata from </span><span class="s2">'../../metadata.min.json' </span><span class="s0">with </span><span class="s1">{ type: </span><span class="s2">'json' </span><span class="s1">}</span>
<span class="s0">import </span><span class="s1">_formatNumber from </span><span class="s2">'./format.js'</span>

<span class="s0">function </span><span class="s1">formatNumber(...parameters) {</span>
	<span class="s1">parameters.push(metadata)</span>
	<span class="s0">return </span><span class="s1">_formatNumber.apply(</span><span class="s0">this</span><span class="s1">, parameters)</span>
<span class="s1">}</span>

<span class="s1">describe(</span><span class="s2">'format'</span><span class="s1">, () =&gt; {</span>
	<span class="s1">it(</span><span class="s2">'should work with the first argument being a E.164 number'</span><span class="s1">, () =&gt; {</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+12133734253'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'(213) 373-4253'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+12133734253'</span><span class="s1">, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+1 213 373 4253'</span><span class="s1">)</span>

		<span class="s3">// Invalid number.</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+12111111111'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'(211) 111-1111'</span><span class="s1">)</span>

		<span class="s3">// Formatting invalid E.164 numbers.</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+11111'</span><span class="s1">, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+1 1111'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+11111'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'1111'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should work with the first object argument expanded'</span><span class="s1">, () =&gt; {</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'2133734253'</span><span class="s1">, </span><span class="s2">'US'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'(213) 373-4253'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'2133734253'</span><span class="s1">, </span><span class="s2">'US'</span><span class="s1">, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+1 213 373 4253'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should support legacy &quot;National&quot; / &quot;International&quot; formats'</span><span class="s1">, () =&gt; {</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'2133734253'</span><span class="s1">, </span><span class="s2">'US'</span><span class="s1">, </span><span class="s2">'National'</span><span class="s1">)).to.equal(</span><span class="s2">'(213) 373-4253'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'2133734253'</span><span class="s1">, </span><span class="s2">'US'</span><span class="s1">, </span><span class="s2">'International'</span><span class="s1">)).to.equal(</span><span class="s2">'+1 213 373 4253'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should format using formats with no leading digits (`format.leadingDigitsPatterns().length === 0`)'</span><span class="s1">, () =&gt; {</span>
		<span class="s1">expect(</span>
            <span class="s1">formatNumber({ phone: </span><span class="s2">'12345678901'</span><span class="s1">, countryCallingCode: </span><span class="s4">888 </span><span class="s1">}, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)</span>
        <span class="s1">).to.equal(</span><span class="s2">'+888 123 456 78901'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should sort out the arguments'</span><span class="s1">, () =&gt; {</span>
		<span class="s0">const </span><span class="s1">options = {</span>
			<span class="s1">formatExtension: (number, extension) =&gt; </span><span class="s2">`</span><span class="s1">${number} </span><span class="s2">доб. </span><span class="s1">${extension}</span><span class="s2">`</span>
		<span class="s1">}</span>

		<span class="s1">expect(formatNumber({</span>
			<span class="s1">phone   : </span><span class="s2">'8005553535'</span><span class="s1">,</span>
			<span class="s1">country : </span><span class="s2">'RU'</span><span class="s1">,</span>
			<span class="s1">ext     : </span><span class="s2">'123'</span>
		<span class="s1">},</span>
		<span class="s2">'NATIONAL'</span><span class="s1">, options)).to.equal(</span><span class="s2">'8 (800) 555-35-35 доб. 123'</span><span class="s1">)</span>

		<span class="s3">// Parse number from string.</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+78005553535'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">, options)).to.equal(</span><span class="s2">'8 (800) 555-35-35'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'8005553535'</span><span class="s1">, </span><span class="s2">'RU'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">, options)).to.equal(</span><span class="s2">'8 (800) 555-35-35'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should format with national prefix when specifically instructed'</span><span class="s1">, () =&gt; {</span>
		<span class="s3">// With national prefix.</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'88005553535'</span><span class="s1">, </span><span class="s2">'RU'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'8 (800) 555-35-35'</span><span class="s1">)</span>
		<span class="s3">// Without national prefix via an explicitly set option.</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'88005553535'</span><span class="s1">, </span><span class="s2">'RU'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">, { nationalPrefix: </span><span class="s0">false </span><span class="s1">})).to.equal(</span><span class="s2">'800 555-35-35'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should format valid phone numbers'</span><span class="s1">, () =&gt; {</span>
		<span class="s3">// Switzerland</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'CH'</span><span class="s1">, phone: </span><span class="s2">'446681800' </span><span class="s1">}, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+41 44 668 18 00'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'CH'</span><span class="s1">, phone: </span><span class="s2">'446681800' </span><span class="s1">}, </span><span class="s2">'E.164'</span><span class="s1">)).to.equal(</span><span class="s2">'+41446681800'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'CH'</span><span class="s1">, phone: </span><span class="s2">'446681800' </span><span class="s1">}, </span><span class="s2">'RFC3966'</span><span class="s1">)).to.equal(</span><span class="s2">'tel:+41446681800'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'CH'</span><span class="s1">, phone: </span><span class="s2">'446681800' </span><span class="s1">}, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'044 668 18 00'</span><span class="s1">)</span>

		<span class="s3">// France</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'FR'</span><span class="s1">, phone: </span><span class="s2">'169454850' </span><span class="s1">}, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'01 69 45 48 50'</span><span class="s1">)</span>

		<span class="s3">// Kazakhstan</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+7 702 211 1111'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'8 (702) 211 1111'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should format national numbers with national prefix even if it</span><span class="s5">\'</span><span class="s2">s optional'</span><span class="s1">, () =&gt; {</span>
		<span class="s3">// Russia</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'RU'</span><span class="s1">, phone: </span><span class="s2">'9991234567' </span><span class="s1">}, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'8 (999) 123-45-67'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should work in edge cases'</span><span class="s1">, () =&gt; {</span>
		<span class="s0">let </span><span class="s1">thrower</span>

		<span class="s3">// No phone number</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">''</span><span class="s1">, </span><span class="s2">'RU'</span><span class="s1">, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">''</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">''</span><span class="s1">, </span><span class="s2">'RU'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">''</span><span class="s1">)</span>

		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'RU'</span><span class="s1">, phone: </span><span class="s2">'' </span><span class="s1">}, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+7'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'RU'</span><span class="s1">, phone: </span><span class="s2">'' </span><span class="s1">}, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">''</span><span class="s1">)</span>

		<span class="s3">// No suitable format</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+121337342530'</span><span class="s1">, </span><span class="s2">'US'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'21337342530'</span><span class="s1">)</span>
		<span class="s3">// No suitable format (leading digits mismatch)</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'28199999'</span><span class="s1">, </span><span class="s2">'AD'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'28199999'</span><span class="s1">)</span>

		<span class="s3">// Numerical `value`</span>
		<span class="s1">thrower = () =&gt; formatNumber(</span><span class="s4">89150000000</span><span class="s1">, </span><span class="s2">'RU'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)</span>
		<span class="s1">expect(thrower).to.throw(</span>
            <span class="s2">'A phone number must either be a string or an object of shape { phone, [country] }.'</span>
        <span class="s1">)</span>

		<span class="s3">// No metadata for country</span>
		<span class="s1">expect(() =&gt; formatNumber(</span><span class="s2">'+121337342530'</span><span class="s1">, </span><span class="s2">'USA'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.throw(</span><span class="s2">'Unknown country'</span><span class="s1">)</span>
		<span class="s1">expect(() =&gt; formatNumber(</span><span class="s2">'21337342530'</span><span class="s1">, </span><span class="s2">'USA'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.throw(</span><span class="s2">'Unknown country'</span><span class="s1">)</span>

		<span class="s3">// No format type</span>
		<span class="s1">thrower = () =&gt; formatNumber(</span><span class="s2">'+123'</span><span class="s1">)</span>
		<span class="s1">expect(thrower).to.throw(</span><span class="s2">'`format` argument not passed'</span><span class="s1">)</span>

		<span class="s3">// Unknown format type</span>
		<span class="s1">thrower = () =&gt; formatNumber(</span><span class="s2">'123'</span><span class="s1">, </span><span class="s2">'US'</span><span class="s1">, </span><span class="s2">'Gay'</span><span class="s1">)</span>
		<span class="s1">expect(thrower).to.throw(</span><span class="s2">'Unknown &quot;format&quot; argument'</span><span class="s1">)</span>

		<span class="s3">// No metadata</span>
		<span class="s1">thrower = () =&gt; _formatNumber(</span><span class="s2">'123'</span><span class="s1">, </span><span class="s2">'US'</span><span class="s1">, </span><span class="s2">'E.164'</span><span class="s1">)</span>
		<span class="s1">expect(thrower).to.throw(</span><span class="s2">'`metadata`'</span><span class="s1">)</span>

		<span class="s3">// No formats</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'012345'</span><span class="s1">, </span><span class="s2">'AC'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'012345'</span><span class="s1">)</span>

		<span class="s3">// No `fromCountry` for `IDD` format.</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+78005553535'</span><span class="s1">, </span><span class="s2">'IDD'</span><span class="s1">)).to.be.undefined</span>

		<span class="s3">// `fromCountry` has no default IDD prefix.</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+78005553535'</span><span class="s1">, </span><span class="s2">'IDD'</span><span class="s1">, { fromCountry: </span><span class="s2">'BO' </span><span class="s1">})).to.be.undefined</span>

		<span class="s3">// No such country.</span>
		<span class="s1">expect(() =&gt; formatNumber({ phone: </span><span class="s2">'123'</span><span class="s1">, country: </span><span class="s2">'USA' </span><span class="s1">}, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.throw(</span><span class="s2">'Unknown country'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should format phone number extensions'</span><span class="s1">, () =&gt; {</span>
		<span class="s3">// National</span>
		<span class="s1">expect(formatNumber({</span>
			<span class="s1">country: </span><span class="s2">'US'</span><span class="s1">,</span>
			<span class="s1">phone: </span><span class="s2">'2133734253'</span><span class="s1">,</span>
			<span class="s1">ext: </span><span class="s2">'123'</span>
		<span class="s1">},</span>
		<span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'(213) 373-4253 ext. 123'</span><span class="s1">)</span>

		<span class="s3">// International</span>
		<span class="s1">expect(formatNumber({</span>
			<span class="s1">country : </span><span class="s2">'US'</span><span class="s1">,</span>
			<span class="s1">phone   : </span><span class="s2">'2133734253'</span><span class="s1">,</span>
			<span class="s1">ext     : </span><span class="s2">'123'</span>
		<span class="s1">},</span>
		<span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+1 213 373 4253 ext. 123'</span><span class="s1">)</span>

		<span class="s3">// International</span>
		<span class="s1">expect(formatNumber({</span>
			<span class="s1">country : </span><span class="s2">'US'</span><span class="s1">,</span>
			<span class="s1">phone   : </span><span class="s2">'2133734253'</span><span class="s1">,</span>
			<span class="s1">ext     : </span><span class="s2">'123'</span>
		<span class="s1">},</span>
		<span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+1 213 373 4253 ext. 123'</span><span class="s1">)</span>

		<span class="s3">// E.164</span>
		<span class="s1">expect(formatNumber({</span>
			<span class="s1">country : </span><span class="s2">'US'</span><span class="s1">,</span>
			<span class="s1">phone   : </span><span class="s2">'2133734253'</span><span class="s1">,</span>
			<span class="s1">ext     : </span><span class="s2">'123'</span>
		<span class="s1">},</span>
		<span class="s2">'E.164'</span><span class="s1">)).to.equal(</span><span class="s2">'+12133734253'</span><span class="s1">)</span>

		<span class="s3">// RFC3966</span>
		<span class="s1">expect(formatNumber({</span>
			<span class="s1">country : </span><span class="s2">'US'</span><span class="s1">,</span>
			<span class="s1">phone   : </span><span class="s2">'2133734253'</span><span class="s1">,</span>
			<span class="s1">ext     : </span><span class="s2">'123'</span>
		<span class="s1">},</span>
		<span class="s2">'RFC3966'</span><span class="s1">)).to.equal(</span><span class="s2">'tel:+12133734253;ext=123'</span><span class="s1">)</span>

		<span class="s3">// Custom ext prefix.</span>
		<span class="s1">expect(formatNumber({</span>
			<span class="s1">country : </span><span class="s2">'GB'</span><span class="s1">,</span>
			<span class="s1">phone   : </span><span class="s2">'7912345678'</span><span class="s1">,</span>
			<span class="s1">ext     : </span><span class="s2">'123'</span>
		<span class="s1">},</span>
		<span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+44 7912 345678 x123'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should work with Argentina numbers'</span><span class="s1">, () =&gt; {</span>
		<span class="s3">// The same mobile number is written differently</span>
		<span class="s3">// in different formats in Argentina:</span>
		<span class="s3">// `9` gets prepended in international format.</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'AR'</span><span class="s1">, phone: </span><span class="s2">'3435551212' </span><span class="s1">}, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+54 3435 55 1212'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'AR'</span><span class="s1">, phone: </span><span class="s2">'3435551212' </span><span class="s1">}, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'03435 55-1212'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should work with Mexico numbers'</span><span class="s1">, () =&gt; {</span>
		<span class="s3">// Fixed line.</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'MX'</span><span class="s1">, phone: </span><span class="s2">'4499780001' </span><span class="s1">}, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+52 449 978 0001'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'MX'</span><span class="s1">, phone: </span><span class="s2">'4499780001' </span><span class="s1">}, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'449 978 0001'</span><span class="s1">)</span>
			<span class="s3">// or '(449)978-0001'.</span>
		<span class="s3">// Mobile.</span>
		<span class="s3">// `1` is prepended before area code to mobile numbers in international format.</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'MX'</span><span class="s1">, phone: </span><span class="s2">'3312345678' </span><span class="s1">}, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+52 33 1234 5678'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber({ country: </span><span class="s2">'MX'</span><span class="s1">, phone: </span><span class="s2">'3312345678' </span><span class="s1">}, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'33 1234 5678'</span><span class="s1">)</span>
			<span class="s3">// or '045 33 1234-5678'.</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should format possible numbers'</span><span class="s1">, () =&gt; {</span>
		<span class="s1">expect(formatNumber({ countryCallingCode: </span><span class="s2">'7'</span><span class="s1">, phone: </span><span class="s2">'1111111111' </span><span class="s1">}, </span><span class="s2">'E.164'</span><span class="s1">)).to.equal(</span><span class="s2">'+71111111111'</span><span class="s1">)</span>

		<span class="s1">expect(formatNumber({ countryCallingCode: </span><span class="s2">'7'</span><span class="s1">, phone: </span><span class="s2">'1111111111' </span><span class="s1">}, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'1111111111'</span><span class="s1">)</span>

		<span class="s1">expect(</span>
            <span class="s1">formatNumber({ countryCallingCode: </span><span class="s2">'7'</span><span class="s1">, phone: </span><span class="s2">'1111111111' </span><span class="s1">}, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)</span>
        <span class="s1">).to.equal(</span><span class="s2">'+7 1111111111'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should format IDD-prefixed number'</span><span class="s1">, () =&gt; {</span>
		<span class="s3">// No `fromCountry`.</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+78005553535'</span><span class="s1">, </span><span class="s2">'IDD'</span><span class="s1">)).to.be.undefined</span>

		<span class="s3">// No default IDD prefix.</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+78005553535'</span><span class="s1">, </span><span class="s2">'IDD'</span><span class="s1">, { fromCountry: </span><span class="s2">'BO' </span><span class="s1">})).to.be.undefined</span>

		<span class="s3">// Same country calling code.</span>
		<span class="s1">expect(</span>
            <span class="s1">formatNumber(</span><span class="s2">'+12133734253'</span><span class="s1">, </span><span class="s2">'IDD'</span><span class="s1">, { fromCountry: </span><span class="s2">'CA'</span><span class="s1">, humanReadable: </span><span class="s0">true </span><span class="s1">})</span>
        <span class="s1">).to.equal(</span><span class="s2">'1 (213) 373-4253'</span><span class="s1">)</span>
		<span class="s1">expect(</span>
            <span class="s1">formatNumber(</span><span class="s2">'+78005553535'</span><span class="s1">, </span><span class="s2">'IDD'</span><span class="s1">, { fromCountry: </span><span class="s2">'KZ'</span><span class="s1">, humanReadable: </span><span class="s0">true </span><span class="s1">})</span>
        <span class="s1">).to.equal(</span><span class="s2">'8 (800) 555-35-35'</span><span class="s1">)</span>

		<span class="s3">// formatNumber('+78005553535', 'IDD', { fromCountry: 'US' }).should.equal('01178005553535')</span>
		<span class="s1">expect(</span>
            <span class="s1">formatNumber(</span><span class="s2">'+78005553535'</span><span class="s1">, </span><span class="s2">'IDD'</span><span class="s1">, { fromCountry: </span><span class="s2">'US'</span><span class="s1">, humanReadable: </span><span class="s0">true </span><span class="s1">})</span>
        <span class="s1">).to.equal(</span><span class="s2">'011 7 800 555 35 35'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should format non-geographic numbering plan phone numbers'</span><span class="s1">, () =&gt; {</span>
		<span class="s3">// https://github.com/catamphetamine/libphonenumber-js/issues/323</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+870773111632'</span><span class="s1">, </span><span class="s2">'INTERNATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'+870 773 111 632'</span><span class="s1">)</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+870773111632'</span><span class="s1">, </span><span class="s2">'NATIONAL'</span><span class="s1">)).to.equal(</span><span class="s2">'773 111 632'</span><span class="s1">)</span>
	<span class="s1">})</span>

	<span class="s1">it(</span><span class="s2">'should use the default IDD prefix when formatting a phone number'</span><span class="s1">, () =&gt; {</span>
		<span class="s3">// Testing preferred international prefixes with ~ are supported.</span>
		<span class="s3">// (&quot;~&quot; designates waiting on a line until proceeding with the input).</span>
		<span class="s1">expect(formatNumber(</span><span class="s2">'+390236618300'</span><span class="s1">, </span><span class="s2">'IDD'</span><span class="s1">, { fromCountry: </span><span class="s2">'BY' </span><span class="s1">})).to.equal(</span><span class="s2">'8~10 39 02 3661 8300'</span><span class="s1">)</span>
	<span class="s1">})</span>
<span class="s1">})</span></pre>
</body>
</html>