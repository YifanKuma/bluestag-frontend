<html>
<head>
<title>warning-service.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #8c8c8c; font-style: italic;}
.s1 { color: #8c8c8c; font-style: italic;}
.s2 { color: #080808;}
.s3 { color: #067d17;}
.s4 { color: #0033b3;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
warning-service.js</font>
</center></td></tr></table>
<pre><span class="s0">/**</span>
 <span class="s0">* </span><span class="s1">@fileoverview </span><span class="s0">Emits warnings for ESLint.</span>
 <span class="s0">* </span><span class="s1">@author </span><span class="s0">Francesco Trotta</span>
 <span class="s0">*/</span>

<span class="s3">&quot;use strict&quot;</span><span class="s2">;</span>

<span class="s0">//-----------------------------------------------------------------------------</span>
<span class="s0">// Exports</span>
<span class="s0">//-----------------------------------------------------------------------------</span>

<span class="s0">/**</span>
 <span class="s0">* A service that emits warnings for ESLint.</span>
 <span class="s0">*/</span>
<span class="s4">class </span><span class="s2">WarningService {</span>
	<span class="s0">/**</span>
	 <span class="s0">* Creates a new instance of the service.</span>
	 <span class="s0">* </span><span class="s1">@param </span><span class="s0">{{ emitWarning?: ((warning: string, type: string) =&gt; void) | undefined }} [options] A function called internally to emit warnings using API provided by the runtime.</span>
	 <span class="s0">*/</span>
	<span class="s2">constructor({</span>
		<span class="s2">emitWarning = globalThis.process?.emitWarning ?? (() =&gt; {}),</span>
	<span class="s2">} = {}) {</span>
		<span class="s4">this</span><span class="s2">.emitWarning = emitWarning;</span>
	<span class="s2">}</span>

	<span class="s0">/**</span>
	 <span class="s0">* Emits a warning when circular fixes are detected while fixing a file.</span>
	 <span class="s0">* This method is used by the Linter and is safe to call outside Node.js.</span>
	 <span class="s0">* </span><span class="s1">@param </span><span class="s0">{string} filename The name of the file being fixed.</span>
	 <span class="s0">* </span><span class="s1">@returns </span><span class="s0">{void}</span>
	 <span class="s0">*/</span>
	<span class="s2">emitCircularFixesWarning(filename) {</span>
		<span class="s4">this</span><span class="s2">.emitWarning(</span>
			<span class="s3">`Circular fixes detected while fixing </span><span class="s2">${filename}</span><span class="s3">. It is likely that you have conflicting rules in your configuration.`</span><span class="s2">,</span>
			<span class="s3">&quot;ESLintCircularFixesWarning&quot;</span><span class="s2">,</span>
		<span class="s2">);</span>
	<span class="s2">}</span>

	<span class="s0">/**</span>
	 <span class="s0">* Emits a warning when an empty config file has been loaded.</span>
	 <span class="s0">* </span><span class="s1">@param </span><span class="s0">{string} configFilePath The path to the config file.</span>
	 <span class="s0">* </span><span class="s1">@returns </span><span class="s0">{void}</span>
	 <span class="s0">*/</span>
	<span class="s2">emitEmptyConfigWarning(configFilePath) {</span>
		<span class="s4">this</span><span class="s2">.emitWarning(</span>
			<span class="s3">`Running ESLint with an empty config (from </span><span class="s2">${configFilePath}</span><span class="s3">). Please double-check that this is what you want. If you want to run ESLint with an empty config, export [{}] to remove this warning.`</span><span class="s2">,</span>
			<span class="s3">&quot;ESLintEmptyConfigWarning&quot;</span><span class="s2">,</span>
		<span class="s2">);</span>
	<span class="s2">}</span>

	<span class="s0">/**</span>
	 <span class="s0">* Emits a warning when an &quot;.eslintignore&quot; file is found.</span>
	 <span class="s0">* </span><span class="s1">@returns </span><span class="s0">{void}</span>
	 <span class="s0">*/</span>
	<span class="s2">emitESLintIgnoreWarning() {</span>
		<span class="s4">this</span><span class="s2">.emitWarning(</span>
			<span class="s3">'The &quot;.eslintignore&quot; file is no longer supported. Switch to using the &quot;ignores&quot; property in &quot;eslint.config.js&quot;: https://eslint.org/docs/latest/use/configure/migration-guide#ignoring-files'</span><span class="s2">,</span>
			<span class="s3">&quot;ESLintIgnoreWarning&quot;</span><span class="s2">,</span>
		<span class="s2">);</span>
	<span class="s2">}</span>

	<span class="s0">/**</span>
	 <span class="s0">* Emits a warning when the ESLINT_USE_FLAT_CONFIG environment variable is set to &quot;false&quot;.</span>
	 <span class="s0">* </span><span class="s1">@returns </span><span class="s0">{void}</span>
	 <span class="s0">*/</span>
	<span class="s2">emitESLintRCWarning() {</span>
		<span class="s4">this</span><span class="s2">.emitWarning(</span>
			<span class="s3">&quot;You are using an eslintrc configuration file, which is deprecated and support will be removed in v10.0.0. Please migrate to an eslint.config.js file. See https://eslint.org/docs/latest/use/configure/migration-guide for details. An eslintrc configuration file is used because you have the ESLINT_USE_FLAT_CONFIG environment variable set to false. If you want to use an eslint.config.js file, remove the environment variable. If you want to find the location of the eslintrc configuration file, use the --debug flag.&quot;</span><span class="s2">,</span>
			<span class="s3">&quot;ESLintRCWarning&quot;</span><span class="s2">,</span>
		<span class="s2">);</span>
	<span class="s2">}</span>

	<span class="s0">/**</span>
	 <span class="s0">* Emits a warning when an inactive flag is used.</span>
	 <span class="s0">* This method is used by the Linter and is safe to call outside Node.js.</span>
	 <span class="s0">* </span><span class="s1">@param </span><span class="s0">{string} flag The name of the flag.</span>
	 <span class="s0">* </span><span class="s1">@param </span><span class="s0">{string} message The warning message.</span>
	 <span class="s0">* </span><span class="s1">@returns </span><span class="s0">{void}</span>
	 <span class="s0">*/</span>
	<span class="s2">emitInactiveFlagWarning(flag, message) {</span>
		<span class="s4">this</span><span class="s2">.emitWarning(message, </span><span class="s3">`ESLintInactiveFlag_</span><span class="s2">${flag}</span><span class="s3">`</span><span class="s2">);</span>
	<span class="s2">}</span>

	<span class="s0">/**</span>
	 <span class="s0">* Emits a warning when a suboptimal concurrency setting is detected.</span>
	 <span class="s0">* Currently, this is only used to warn when the net linting ratio is low.</span>
	 <span class="s0">* </span><span class="s1">@param </span><span class="s0">{string} notice A notice about how to improve performance.</span>
	 <span class="s0">* </span><span class="s1">@returns </span><span class="s0">{void}</span>
	 <span class="s0">*/</span>
	<span class="s2">emitPoorConcurrencyWarning(notice) {</span>
		<span class="s4">this</span><span class="s2">.emitWarning(</span>
			<span class="s3">`You may </span><span class="s2">${notice} </span><span class="s3">to improve performance.`</span><span class="s2">,</span>
			<span class="s3">&quot;ESLintPoorConcurrencyWarning&quot;</span><span class="s2">,</span>
		<span class="s2">);</span>
	<span class="s2">}</span>
<span class="s2">}</span>

<span class="s2">module.exports = { WarningService };</span>
</pre>
</body>
</html>