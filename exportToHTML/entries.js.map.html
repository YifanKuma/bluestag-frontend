<html>
<head>
<title>entries.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
entries.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/build/entries.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { ClientPagesLoaderOptions } from './webpack/loaders/next-client-pages-loader'</span><span class="s3">\n</span><span class="s1">import type { MiddlewareLoaderOptions } from './webpack/loaders/next-middleware-loader'</span><span class="s3">\n</span><span class="s1">import type { EdgeSSRLoaderQuery } from './webpack/loaders/next-edge-ssr-loader'</span><span class="s3">\n</span><span class="s1">import type { EdgeAppRouteLoaderQuery } from './webpack/loaders/next-edge-app-route-loader'</span><span class="s3">\n</span><span class="s1">import type { NextConfigComplete } from '../server/config-shared'</span><span class="s3">\n</span><span class="s1">import type { webpack } from 'next/dist/compiled/webpack/webpack'</span><span class="s3">\n</span><span class="s1">import type {</span><span class="s3">\n  </span><span class="s1">MiddlewareConfig,</span><span class="s3">\n  </span><span class="s1">MiddlewareMatcher,</span><span class="s3">\n  </span><span class="s1">PageStaticInfo,</span><span class="s3">\n</span><span class="s1">} from './analysis/get-page-static-info'</span><span class="s3">\n</span><span class="s1">import type { LoadedEnvFiles } from '@next/env'</span><span class="s3">\n</span><span class="s1">import type { AppLoaderOptions } from './webpack/loaders/next-app-loader'</span><span class="s3">\n\n</span><span class="s1">import { posix, join, dirname, extname, normalize } from 'path'</span><span class="s3">\n</span><span class="s1">import { stringify } from 'querystring'</span><span class="s3">\n</span><span class="s1">import fs from 'fs'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">PAGES_DIR_ALIAS,</span><span class="s3">\n  </span><span class="s1">ROOT_DIR_ALIAS,</span><span class="s3">\n  </span><span class="s1">APP_DIR_ALIAS,</span><span class="s3">\n  </span><span class="s1">WEBPACK_LAYERS,</span><span class="s3">\n  </span><span class="s1">INSTRUMENTATION_HOOK_FILENAME,</span><span class="s3">\n</span><span class="s1">} from '../lib/constants'</span><span class="s3">\n</span><span class="s1">import { isAPIRoute } from '../lib/is-api-route'</span><span class="s3">\n</span><span class="s1">import { isEdgeRuntime } from '../lib/is-edge-runtime'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">APP_CLIENT_INTERNALS,</span><span class="s3">\n  </span><span class="s1">RSC_MODULE_TYPES,</span><span class="s3">\n  </span><span class="s1">UNDERSCORE_NOT_FOUND_ROUTE_ENTRY,</span><span class="s3">\n</span><span class="s1">} from '../shared/lib/constants'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">CLIENT_STATIC_FILES_RUNTIME_AMP,</span><span class="s3">\n  </span><span class="s1">CLIENT_STATIC_FILES_RUNTIME_MAIN,</span><span class="s3">\n  </span><span class="s1">CLIENT_STATIC_FILES_RUNTIME_MAIN_APP,</span><span class="s3">\n  </span><span class="s1">CLIENT_STATIC_FILES_RUNTIME_POLYFILLS,</span><span class="s3">\n  </span><span class="s1">CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH,</span><span class="s3">\n  </span><span class="s1">COMPILER_NAMES,</span><span class="s3">\n  </span><span class="s1">EDGE_RUNTIME_WEBPACK,</span><span class="s3">\n</span><span class="s1">} from '../shared/lib/constants'</span><span class="s3">\n</span><span class="s1">import type { CompilerNameValues } from '../shared/lib/constants'</span><span class="s3">\n</span><span class="s1">import type { __ApiPreviewProps } from '../server/api-utils'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">isMiddlewareFile,</span><span class="s3">\n  </span><span class="s1">isMiddlewareFilename,</span><span class="s3">\n  </span><span class="s1">isInstrumentationHookFile,</span><span class="s3">\n  </span><span class="s1">isInstrumentationHookFilename,</span><span class="s3">\n  </span><span class="s1">reduceAppConfig,</span><span class="s3">\n</span><span class="s1">} from './utils'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">getAppPageStaticInfo,</span><span class="s3">\n  </span><span class="s1">getPageStaticInfo,</span><span class="s3">\n</span><span class="s1">} from './analysis/get-page-static-info'</span><span class="s3">\n</span><span class="s1">import { normalizePathSep } from '../shared/lib/page-path/normalize-path-sep'</span><span class="s3">\n</span><span class="s1">import { normalizePagePath } from '../shared/lib/page-path/normalize-page-path'</span><span class="s3">\n</span><span class="s1">import type { ServerRuntime } from '../types'</span><span class="s3">\n</span><span class="s1">import { normalizeAppPath } from '../shared/lib/router/utils/app-paths'</span><span class="s3">\n</span><span class="s1">import { encodeMatchers } from './webpack/loaders/next-middleware-loader'</span><span class="s3">\n</span><span class="s1">import type { EdgeFunctionLoaderOptions } from './webpack/loaders/next-edge-function-loader'</span><span class="s3">\n</span><span class="s1">import { isAppRouteRoute } from '../lib/is-app-route-route'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">normalizeMetadataPageToRoute,</span><span class="s3">\n  </span><span class="s1">normalizeMetadataRoute,</span><span class="s3">\n</span><span class="s1">} from '../lib/metadata/get-metadata-route'</span><span class="s3">\n</span><span class="s1">import { getRouteLoaderEntry } from './webpack/loaders/next-route-loader'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">isInternalComponent,</span><span class="s3">\n  </span><span class="s1">isNonRoutePagesPage,</span><span class="s3">\n</span><span class="s1">} from '../lib/is-internal-component'</span><span class="s3">\n</span><span class="s1">import { isMetadataRouteFile } from '../lib/metadata/is-metadata-route'</span><span class="s3">\n</span><span class="s1">import { RouteKind } from '../server/route-kind'</span><span class="s3">\n</span><span class="s1">import { encodeToBase64 } from './webpack/loaders/utils'</span><span class="s3">\n</span><span class="s1">import { normalizeCatchAllRoutes } from './normalize-catchall-routes'</span><span class="s3">\n</span><span class="s1">import type { PageExtensions } from './page-extensions-type'</span><span class="s3">\n</span><span class="s1">import type { MappedPages } from './build-context'</span><span class="s3">\n</span><span class="s1">import { PAGE_TYPES } from '../lib/page-types'</span><span class="s3">\n</span><span class="s1">import { isAppPageRoute } from '../lib/is-app-page-route'</span><span class="s3">\n</span><span class="s1">import { recursiveReadDir } from '../lib/recursive-readdir'</span><span class="s3">\n</span><span class="s1">import type { createValidFileMatcher } from '../server/lib/find-page-file'</span><span class="s3">\n</span><span class="s1">import { isReservedPage } from './utils'</span><span class="s3">\n</span><span class="s1">import { isParallelRouteSegment } from '../shared/lib/segment'</span><span class="s3">\n</span><span class="s1">import { ensureLeadingSlash } from '../shared/lib/page-path/ensure-leading-slash'</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Collect app pages, layouts, and default files from the app directory</span><span class="s3">\n </span><span class="s1">* @param appDir - The app directory path</span><span class="s3">\n </span><span class="s1">* @param validFileMatcher - File matcher object</span><span class="s3">\n </span><span class="s1">* @returns Object containing appPaths, layoutPaths, and defaultPaths arrays</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export async function collectAppFiles(</span><span class="s3">\n  </span><span class="s1">appDir: string,</span><span class="s3">\n  </span><span class="s1">validFileMatcher: ReturnType&lt;typeof createValidFileMatcher&gt;</span><span class="s3">\n</span><span class="s1">): Promise&lt;{</span><span class="s3">\n  </span><span class="s1">appPaths: string[]</span><span class="s3">\n  </span><span class="s1">layoutPaths: string[]</span><span class="s3">\n  </span><span class="s1">defaultPaths: string[]</span><span class="s3">\n</span><span class="s1">}&gt; {</span><span class="s3">\n  </span><span class="s1">// Collect app pages, layouts, and default files in a single directory traversal</span><span class="s3">\n  </span><span class="s1">const allAppFiles = await recursiveReadDir(appDir, {</span><span class="s3">\n    </span><span class="s1">pathnameFilter: (absolutePath) =&gt;</span><span class="s3">\n      </span><span class="s1">validFileMatcher.isAppRouterPage(absolutePath) ||</span><span class="s3">\n      </span><span class="s1">validFileMatcher.isRootNotFound(absolutePath) ||</span><span class="s3">\n      </span><span class="s1">validFileMatcher.isAppLayoutPage(absolutePath) ||</span><span class="s3">\n      </span><span class="s1">validFileMatcher.isAppDefaultPage(absolutePath),</span><span class="s3">\n    </span><span class="s1">ignorePartFilter: (part) =&gt; part.startsWith('_'),</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">// Separate app pages, layouts, and defaults</span><span class="s3">\n  </span><span class="s1">const appPaths = allAppFiles.filter(</span><span class="s3">\n    </span><span class="s1">(absolutePath) =&gt;</span><span class="s3">\n      </span><span class="s1">validFileMatcher.isAppRouterPage(absolutePath) ||</span><span class="s3">\n      </span><span class="s1">validFileMatcher.isRootNotFound(absolutePath)</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">const layoutPaths = allAppFiles.filter((absolutePath) =&gt;</span><span class="s3">\n    </span><span class="s1">validFileMatcher.isAppLayoutPage(absolutePath)</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">const defaultPaths = allAppFiles.filter((absolutePath) =&gt;</span><span class="s3">\n    </span><span class="s1">validFileMatcher.isAppDefaultPage(absolutePath)</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">return { appPaths, layoutPaths, defaultPaths }</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Collect pages from the pages directory</span><span class="s3">\n </span><span class="s1">* @param pagesDir - The pages directory path</span><span class="s3">\n </span><span class="s1">* @param validFileMatcher - File matcher object</span><span class="s3">\n </span><span class="s1">* @returns Array of page file paths</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export async function collectPagesFiles(</span><span class="s3">\n  </span><span class="s1">pagesDir: string,</span><span class="s3">\n  </span><span class="s1">validFileMatcher: ReturnType&lt;typeof createValidFileMatcher&gt;</span><span class="s3">\n</span><span class="s1">): Promise&lt;string[]&gt; {</span><span class="s3">\n  </span><span class="s1">return recursiveReadDir(pagesDir, {</span><span class="s3">\n    </span><span class="s1">pathnameFilter: validFileMatcher.isPageFile,</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Types for route processing</span><span class="s3">\n</span><span class="s1">export type RouteInfo = {</span><span class="s3">\n  </span><span class="s1">route: string</span><span class="s3">\n  </span><span class="s1">filePath: string</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export type SlotInfo = {</span><span class="s3">\n  </span><span class="s1">name: string</span><span class="s3">\n  </span><span class="s1">parent: string</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create a relative file path from a mapped page path</span><span class="s3">\n </span><span class="s1">* @param baseDir - The base directory path</span><span class="s3">\n </span><span class="s1">* @param filePath - The mapped file path (with private prefix)</span><span class="s3">\n </span><span class="s1">* @param prefix - The directory prefix ('pages' or 'app')</span><span class="s3">\n </span><span class="s1">* @param isSrcDir - Whether the project uses src directory structure</span><span class="s3">\n </span><span class="s1">* @returns The relative file path</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function createRelativeFilePath(</span><span class="s3">\n  </span><span class="s1">baseDir: string,</span><span class="s3">\n  </span><span class="s1">filePath: string,</span><span class="s3">\n  </span><span class="s1">prefix: 'pages' | 'app',</span><span class="s3">\n  </span><span class="s1">isSrcDir: boolean</span><span class="s3">\n</span><span class="s1">): string {</span><span class="s3">\n  </span><span class="s1">const privatePrefix =</span><span class="s3">\n    </span><span class="s1">prefix === 'pages' ? 'private-next-pages' : 'private-next-app-dir'</span><span class="s3">\n  </span><span class="s1">const srcPrefix = isSrcDir ? 'src/' : ''</span><span class="s3">\n  </span><span class="s1">return join(</span><span class="s3">\n    </span><span class="s1">baseDir,</span><span class="s3">\n    </span><span class="s1">filePath.replace(new RegExp(`^${privatePrefix}/`), `${srcPrefix}${prefix}/`)</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Process pages routes from mapped pages</span><span class="s3">\n </span><span class="s1">* @param mappedPages - The mapped pages object</span><span class="s3">\n </span><span class="s1">* @param baseDir - The base directory path</span><span class="s3">\n </span><span class="s1">* @param isSrcDir - Whether the project uses src directory structure</span><span class="s3">\n </span><span class="s1">* @returns Object containing pageRoutes and pageApiRoutes</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function processPageRoutes(</span><span class="s3">\n  </span><span class="s1">mappedPages: { [page: string]: string },</span><span class="s3">\n  </span><span class="s1">baseDir: string,</span><span class="s3">\n  </span><span class="s1">isSrcDir: boolean</span><span class="s3">\n</span><span class="s1">): {</span><span class="s3">\n  </span><span class="s1">pageRoutes: RouteInfo[]</span><span class="s3">\n  </span><span class="s1">pageApiRoutes: RouteInfo[]</span><span class="s3">\n</span><span class="s1">} {</span><span class="s3">\n  </span><span class="s1">const pageRoutes: RouteInfo[] = []</span><span class="s3">\n  </span><span class="s1">const pageApiRoutes: RouteInfo[] = []</span><span class="s3">\n\n  </span><span class="s1">for (const [route, filePath] of Object.entries(mappedPages)) {</span><span class="s3">\n    </span><span class="s1">const relativeFilePath = createRelativeFilePath(</span><span class="s3">\n      </span><span class="s1">baseDir,</span><span class="s3">\n      </span><span class="s1">filePath,</span><span class="s3">\n      </span><span class="s1">'pages',</span><span class="s3">\n      </span><span class="s1">isSrcDir</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">if (route.startsWith('/api/')) {</span><span class="s3">\n      </span><span class="s1">pageApiRoutes.push({</span><span class="s3">\n        </span><span class="s1">route: normalizePathSep(route),</span><span class="s3">\n        </span><span class="s1">filePath: relativeFilePath,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// Filter out _app, _error, _document</span><span class="s3">\n      </span><span class="s1">if (isReservedPage(route)) continue</span><span class="s3">\n\n      </span><span class="s1">pageRoutes.push({</span><span class="s3">\n        </span><span class="s1">route: normalizePathSep(route),</span><span class="s3">\n        </span><span class="s1">filePath: relativeFilePath,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return { pageRoutes, pageApiRoutes }</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Extract slots from app routes</span><span class="s3">\n </span><span class="s1">* @param mappedAppPages - The mapped app pages object</span><span class="s3">\n </span><span class="s1">* @returns Array of slot information</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function extractSlotsFromAppRoutes(mappedAppPages: {</span><span class="s3">\n  </span><span class="s1">[page: string]: string</span><span class="s3">\n</span><span class="s1">}): SlotInfo[] {</span><span class="s3">\n  </span><span class="s1">const slots: SlotInfo[] = []</span><span class="s3">\n\n  </span><span class="s1">for (const [route] of Object.entries(mappedAppPages)) {</span><span class="s3">\n    </span><span class="s1">if (route === '/_not-found/page') continue</span><span class="s3">\n\n    </span><span class="s1">const segments = route.split('/')</span><span class="s3">\n    </span><span class="s1">for (let i = segments.length - 1; i &gt;= 0; i--) {</span><span class="s3">\n      </span><span class="s1">const segment = segments[i]</span><span class="s3">\n      </span><span class="s1">if (isParallelRouteSegment(segment)) {</span><span class="s3">\n        </span><span class="s1">const parentPath = normalizeAppPath(segments.slice(0, i).join('/'))</span><span class="s3">\n        </span><span class="s1">const slotName = segment.slice(1)</span><span class="s3">\n\n        </span><span class="s1">// Check if the slot already exists</span><span class="s3">\n        </span><span class="s1">if (slots.some((s) =&gt; s.name === slotName &amp;&amp; s.parent === parentPath))</span><span class="s3">\n          </span><span class="s1">continue</span><span class="s3">\n\n        </span><span class="s1">slots.push({</span><span class="s3">\n          </span><span class="s1">name: slotName,</span><span class="s3">\n          </span><span class="s1">parent: parentPath,</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">break</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return slots</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Extract slots from default files</span><span class="s3">\n </span><span class="s1">* @param mappedDefaultFiles - The mapped default files object</span><span class="s3">\n </span><span class="s1">* @returns Array of slot information</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function extractSlotsFromDefaultFiles(mappedDefaultFiles: {</span><span class="s3">\n  </span><span class="s1">[page: string]: string</span><span class="s3">\n</span><span class="s1">}): SlotInfo[] {</span><span class="s3">\n  </span><span class="s1">const slots: SlotInfo[] = []</span><span class="s3">\n\n  </span><span class="s1">for (const [route] of Object.entries(mappedDefaultFiles)) {</span><span class="s3">\n    </span><span class="s1">const segments = route.split('/')</span><span class="s3">\n    </span><span class="s1">for (let i = segments.length - 1; i &gt;= 0; i--) {</span><span class="s3">\n      </span><span class="s1">const segment = segments[i]</span><span class="s3">\n      </span><span class="s1">if (isParallelRouteSegment(segment)) {</span><span class="s3">\n        </span><span class="s1">const parentPath = normalizeAppPath(segments.slice(0, i).join('/'))</span><span class="s3">\n        </span><span class="s1">const slotName = segment.slice(1)</span><span class="s3">\n\n        </span><span class="s1">// Check if the slot already exists</span><span class="s3">\n        </span><span class="s1">if (slots.some((s) =&gt; s.name === slotName &amp;&amp; s.parent === parentPath))</span><span class="s3">\n          </span><span class="s1">continue</span><span class="s3">\n\n        </span><span class="s1">slots.push({</span><span class="s3">\n          </span><span class="s1">name: slotName,</span><span class="s3">\n          </span><span class="s1">parent: parentPath,</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">break</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return slots</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Combine and deduplicate slot arrays using a Set</span><span class="s3">\n </span><span class="s1">* @param slotArrays - Arrays of slot information to combine</span><span class="s3">\n </span><span class="s1">* @returns Deduplicated array of slots</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function combineSlots(...slotArrays: SlotInfo[][]): SlotInfo[] {</span><span class="s3">\n  </span><span class="s1">const slotSet = new Set&lt;string&gt;()</span><span class="s3">\n  </span><span class="s1">const result: SlotInfo[] = []</span><span class="s3">\n\n  </span><span class="s1">for (const slots of slotArrays) {</span><span class="s3">\n    </span><span class="s1">for (const slot of slots) {</span><span class="s3">\n      </span><span class="s1">const key = `${slot.name}:${slot.parent}`</span><span class="s3">\n      </span><span class="s1">if (!slotSet.has(key)) {</span><span class="s3">\n        </span><span class="s1">slotSet.add(key)</span><span class="s3">\n        </span><span class="s1">result.push(slot)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return result</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Process app routes from mapped app pages</span><span class="s3">\n </span><span class="s1">* @param mappedAppPages - The mapped app pages object</span><span class="s3">\n </span><span class="s1">* @param validFileMatcher - File matcher object</span><span class="s3">\n </span><span class="s1">* @param baseDir - The base directory path</span><span class="s3">\n </span><span class="s1">* @param isSrcDir - Whether the project uses src directory structure</span><span class="s3">\n </span><span class="s1">* @returns Array of route information</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function processAppRoutes(</span><span class="s3">\n  </span><span class="s1">mappedAppPages: { [page: string]: string },</span><span class="s3">\n  </span><span class="s1">validFileMatcher: ReturnType&lt;typeof createValidFileMatcher&gt;,</span><span class="s3">\n  </span><span class="s1">baseDir: string,</span><span class="s3">\n  </span><span class="s1">isSrcDir: boolean</span><span class="s3">\n</span><span class="s1">): {</span><span class="s3">\n  </span><span class="s1">appRoutes: RouteInfo[]</span><span class="s3">\n  </span><span class="s1">appRouteHandlers: RouteInfo[]</span><span class="s3">\n</span><span class="s1">} {</span><span class="s3">\n  </span><span class="s1">const appRoutes: RouteInfo[] = []</span><span class="s3">\n  </span><span class="s1">const appRouteHandlers: RouteInfo[] = []</span><span class="s3">\n\n  </span><span class="s1">for (const [route, filePath] of Object.entries(mappedAppPages)) {</span><span class="s3">\n    </span><span class="s1">if (route === '/_not-found/page') continue</span><span class="s3">\n\n    </span><span class="s1">const relativeFilePath = createRelativeFilePath(</span><span class="s3">\n      </span><span class="s1">baseDir,</span><span class="s3">\n      </span><span class="s1">filePath,</span><span class="s3">\n      </span><span class="s1">'app',</span><span class="s3">\n      </span><span class="s1">isSrcDir</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">if (validFileMatcher.isAppRouterRoute(filePath)) {</span><span class="s3">\n      </span><span class="s1">appRouteHandlers.push({</span><span class="s3">\n        </span><span class="s1">route: normalizeAppPath(normalizePathSep(route)),</span><span class="s3">\n        </span><span class="s1">filePath: relativeFilePath,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">appRoutes.push({</span><span class="s3">\n        </span><span class="s1">route: normalizeAppPath(normalizePathSep(route)),</span><span class="s3">\n        </span><span class="s1">filePath: relativeFilePath,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return { appRoutes, appRouteHandlers }</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Process layout routes from mapped app layouts</span><span class="s3">\n </span><span class="s1">* @param mappedAppLayouts - The mapped app layouts object</span><span class="s3">\n </span><span class="s1">* @param baseDir - The base directory path</span><span class="s3">\n </span><span class="s1">* @param isSrcDir - Whether the project uses src directory structure</span><span class="s3">\n </span><span class="s1">* @returns Array of layout route information</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function processLayoutRoutes(</span><span class="s3">\n  </span><span class="s1">mappedAppLayouts: { [page: string]: string },</span><span class="s3">\n  </span><span class="s1">baseDir: string,</span><span class="s3">\n  </span><span class="s1">isSrcDir: boolean</span><span class="s3">\n</span><span class="s1">): RouteInfo[] {</span><span class="s3">\n  </span><span class="s1">const layoutRoutes: RouteInfo[] = []</span><span class="s3">\n\n  </span><span class="s1">for (const [route, filePath] of Object.entries(mappedAppLayouts)) {</span><span class="s3">\n    </span><span class="s1">const relativeFilePath = createRelativeFilePath(</span><span class="s3">\n      </span><span class="s1">baseDir,</span><span class="s3">\n      </span><span class="s1">filePath,</span><span class="s3">\n      </span><span class="s1">'app',</span><span class="s3">\n      </span><span class="s1">isSrcDir</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">layoutRoutes.push({</span><span class="s3">\n      </span><span class="s1">route: ensureLeadingSlash(</span><span class="s3">\n        </span><span class="s1">normalizeAppPath(normalizePathSep(route)).replace(/</span><span class="s3">\\</span><span class="s1">/layout$/, '')</span><span class="s3">\n      </span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">filePath: relativeFilePath,</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return layoutRoutes</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function sortByPageExts(pageExtensions: PageExtensions) {</span><span class="s3">\n  </span><span class="s1">return (a: string, b: string) =&gt; {</span><span class="s3">\n    </span><span class="s1">// prioritize entries according to pageExtensions order</span><span class="s3">\n    </span><span class="s1">// for consistency as fs order can differ across systems</span><span class="s3">\n    </span><span class="s1">// NOTE: this is reversed so preferred comes last and</span><span class="s3">\n    </span><span class="s1">// overrides prior</span><span class="s3">\n    </span><span class="s1">const aExt = extname(a)</span><span class="s3">\n    </span><span class="s1">const bExt = extname(b)</span><span class="s3">\n\n    </span><span class="s1">const aNoExt = a.substring(0, a.length - aExt.length)</span><span class="s3">\n    </span><span class="s1">const bNoExt = a.substring(0, b.length - bExt.length)</span><span class="s3">\n\n    </span><span class="s1">if (aNoExt !== bNoExt) return 0</span><span class="s3">\n\n    </span><span class="s1">// find extension index (skip '.' as pageExtensions doesn't have it)</span><span class="s3">\n    </span><span class="s1">const aExtIndex = pageExtensions.indexOf(aExt.substring(1))</span><span class="s3">\n    </span><span class="s1">const bExtIndex = pageExtensions.indexOf(bExt.substring(1))</span><span class="s3">\n\n    </span><span class="s1">return bExtIndex - aExtIndex</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export async function getStaticInfoIncludingLayouts({</span><span class="s3">\n  </span><span class="s1">isInsideAppDir,</span><span class="s3">\n  </span><span class="s1">pageExtensions,</span><span class="s3">\n  </span><span class="s1">pageFilePath,</span><span class="s3">\n  </span><span class="s1">appDir,</span><span class="s3">\n  </span><span class="s1">config: nextConfig,</span><span class="s3">\n  </span><span class="s1">isDev,</span><span class="s3">\n  </span><span class="s1">page,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">isInsideAppDir: boolean</span><span class="s3">\n  </span><span class="s1">pageExtensions: PageExtensions</span><span class="s3">\n  </span><span class="s1">pageFilePath: string</span><span class="s3">\n  </span><span class="s1">appDir: string | undefined</span><span class="s3">\n  </span><span class="s1">config: NextConfigComplete</span><span class="s3">\n  </span><span class="s1">isDev: boolean | undefined</span><span class="s3">\n  </span><span class="s1">page: string</span><span class="s3">\n</span><span class="s1">}): Promise&lt;PageStaticInfo&gt; {</span><span class="s3">\n  </span><span class="s1">// TODO: sync types for pages: PAGE_TYPES, ROUTER_TYPE, 'app' | 'pages', etc.</span><span class="s3">\n  </span><span class="s1">const pageType = isInsideAppDir ? PAGE_TYPES.APP : PAGE_TYPES.PAGES</span><span class="s3">\n\n  </span><span class="s1">const pageStaticInfo = await getPageStaticInfo({</span><span class="s3">\n    </span><span class="s1">nextConfig,</span><span class="s3">\n    </span><span class="s1">pageFilePath,</span><span class="s3">\n    </span><span class="s1">isDev,</span><span class="s3">\n    </span><span class="s1">page,</span><span class="s3">\n    </span><span class="s1">pageType,</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">if (pageStaticInfo.type === PAGE_TYPES.PAGES || !appDir) {</span><span class="s3">\n    </span><span class="s1">return pageStaticInfo</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const segments = [pageStaticInfo]</span><span class="s3">\n\n  </span><span class="s1">// inherit from layout files only if it's a page route</span><span class="s3">\n  </span><span class="s1">if (isAppPageRoute(page)) {</span><span class="s3">\n    </span><span class="s1">const layoutFiles = []</span><span class="s3">\n    </span><span class="s1">const potentialLayoutFiles = pageExtensions.map((ext) =&gt; 'layout.' + ext)</span><span class="s3">\n    </span><span class="s1">let dir = dirname(pageFilePath)</span><span class="s3">\n\n    </span><span class="s1">// Uses startsWith to not include directories further up.</span><span class="s3">\n    </span><span class="s1">while (dir.startsWith(appDir)) {</span><span class="s3">\n      </span><span class="s1">for (const potentialLayoutFile of potentialLayoutFiles) {</span><span class="s3">\n        </span><span class="s1">const layoutFile = join(dir, potentialLayoutFile)</span><span class="s3">\n        </span><span class="s1">if (!fs.existsSync(layoutFile)) {</span><span class="s3">\n          </span><span class="s1">continue</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">layoutFiles.push(layoutFile)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">// Walk up the directory tree</span><span class="s3">\n      </span><span class="s1">dir = join(dir, '..')</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (const layoutFile of layoutFiles) {</span><span class="s3">\n      </span><span class="s1">const layoutStaticInfo = await getAppPageStaticInfo({</span><span class="s3">\n        </span><span class="s1">nextConfig,</span><span class="s3">\n        </span><span class="s1">pageFilePath: layoutFile,</span><span class="s3">\n        </span><span class="s1">isDev,</span><span class="s3">\n        </span><span class="s1">page,</span><span class="s3">\n        </span><span class="s1">pageType: isInsideAppDir ? PAGE_TYPES.APP : PAGE_TYPES.PAGES,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n\n      </span><span class="s1">segments.unshift(layoutStaticInfo)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const config = reduceAppConfig(segments)</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">...pageStaticInfo,</span><span class="s3">\n    </span><span class="s1">config,</span><span class="s3">\n    </span><span class="s1">runtime: config.runtime,</span><span class="s3">\n    </span><span class="s1">preferredRegion: config.preferredRegion,</span><span class="s3">\n    </span><span class="s1">maxDuration: config.maxDuration,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">type ObjectValue&lt;T&gt; = T extends { [key: string]: infer V } ? V : never</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* For a given page path removes the provided extensions.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function getPageFromPath(</span><span class="s3">\n  </span><span class="s1">pagePath: string,</span><span class="s3">\n  </span><span class="s1">pageExtensions: PageExtensions</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">let page = normalizePathSep(</span><span class="s3">\n    </span><span class="s1">pagePath.replace(new RegExp(`</span><span class="s3">\\\\</span><span class="s1">.+(${pageExtensions.join('|')})$`), '')</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">page = page.replace(/</span><span class="s3">\\</span><span class="s1">/index$/, '')</span><span class="s3">\n\n  </span><span class="s1">return page === '' ? '/' : page</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getPageFilePath({</span><span class="s3">\n  </span><span class="s1">absolutePagePath,</span><span class="s3">\n  </span><span class="s1">pagesDir,</span><span class="s3">\n  </span><span class="s1">appDir,</span><span class="s3">\n  </span><span class="s1">rootDir,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">absolutePagePath: string</span><span class="s3">\n  </span><span class="s1">pagesDir: string | undefined</span><span class="s3">\n  </span><span class="s1">appDir: string | undefined</span><span class="s3">\n  </span><span class="s1">rootDir: string</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">if (absolutePagePath.startsWith(PAGES_DIR_ALIAS) &amp;&amp; pagesDir) {</span><span class="s3">\n    </span><span class="s1">return absolutePagePath.replace(PAGES_DIR_ALIAS, pagesDir)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (absolutePagePath.startsWith(APP_DIR_ALIAS) &amp;&amp; appDir) {</span><span class="s3">\n    </span><span class="s1">return absolutePagePath.replace(APP_DIR_ALIAS, appDir)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (absolutePagePath.startsWith(ROOT_DIR_ALIAS)) {</span><span class="s3">\n    </span><span class="s1">return absolutePagePath.replace(ROOT_DIR_ALIAS, rootDir)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return require.resolve(absolutePagePath)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a mapping of route to page file path for a given list of page paths.</span><span class="s3">\n </span><span class="s1">* For example ['/middleware.ts'] is turned into  { '/middleware': `${ROOT_DIR_ALIAS}/middleware.ts` }</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export async function createPagesMapping({</span><span class="s3">\n  </span><span class="s1">isDev,</span><span class="s3">\n  </span><span class="s1">pageExtensions,</span><span class="s3">\n  </span><span class="s1">pagePaths,</span><span class="s3">\n  </span><span class="s1">pagesType,</span><span class="s3">\n  </span><span class="s1">pagesDir,</span><span class="s3">\n  </span><span class="s1">appDir,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">isDev: boolean</span><span class="s3">\n  </span><span class="s1">pageExtensions: PageExtensions</span><span class="s3">\n  </span><span class="s1">pagePaths: string[]</span><span class="s3">\n  </span><span class="s1">pagesType: PAGE_TYPES</span><span class="s3">\n  </span><span class="s1">pagesDir: string | undefined</span><span class="s3">\n  </span><span class="s1">appDir: string | undefined</span><span class="s3">\n</span><span class="s1">}): Promise&lt;MappedPages&gt; {</span><span class="s3">\n  </span><span class="s1">const isAppRoute = pagesType === 'app'</span><span class="s3">\n  </span><span class="s1">const pages: MappedPages = {}</span><span class="s3">\n  </span><span class="s1">const promises = pagePaths.map&lt;Promise&lt;void&gt;&gt;(async (pagePath) =&gt; {</span><span class="s3">\n    </span><span class="s1">// Do not process .d.ts files as routes</span><span class="s3">\n    </span><span class="s1">if (pagePath.endsWith('.d.ts') &amp;&amp; pageExtensions.includes('ts')) {</span><span class="s3">\n      </span><span class="s1">return</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">let pageKey = getPageFromPath(pagePath, pageExtensions)</span><span class="s3">\n    </span><span class="s1">if (isAppRoute) {</span><span class="s3">\n      </span><span class="s1">pageKey = pageKey.replace(/%5F/g, '_')</span><span class="s3">\n      </span><span class="s1">if (pageKey === '/not-found') {</span><span class="s3">\n        </span><span class="s1">pageKey = UNDERSCORE_NOT_FOUND_ROUTE_ENTRY</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const normalizedPath = normalizePathSep(</span><span class="s3">\n      </span><span class="s1">join(</span><span class="s3">\n        </span><span class="s1">pagesType === 'pages'</span><span class="s3">\n          </span><span class="s1">? PAGES_DIR_ALIAS</span><span class="s3">\n          </span><span class="s1">: pagesType === 'app'</span><span class="s3">\n            </span><span class="s1">? APP_DIR_ALIAS</span><span class="s3">\n            </span><span class="s1">: ROOT_DIR_ALIAS,</span><span class="s3">\n        </span><span class="s1">pagePath</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">let route = pagesType === 'app' ? normalizeMetadataRoute(pageKey) : pageKey</span><span class="s3">\n\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">pagesType === 'app' &amp;&amp;</span><span class="s3">\n      </span><span class="s1">isMetadataRouteFile(pagePath, pageExtensions, true)</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">const filePath = join(appDir!, pagePath)</span><span class="s3">\n      </span><span class="s1">const staticInfo = await getPageStaticInfo({</span><span class="s3">\n        </span><span class="s1">nextConfig: {},</span><span class="s3">\n        </span><span class="s1">pageFilePath: filePath,</span><span class="s3">\n        </span><span class="s1">isDev,</span><span class="s3">\n        </span><span class="s1">page: pageKey,</span><span class="s3">\n        </span><span class="s1">pageType: pagesType,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n\n      </span><span class="s1">route = normalizeMetadataPageToRoute(</span><span class="s3">\n        </span><span class="s1">route,</span><span class="s3">\n        </span><span class="s1">!!(staticInfo.generateImageMetadata || staticInfo.generateSitemaps)</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">pages[route] = normalizedPath</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">await Promise.all(promises)</span><span class="s3">\n\n  </span><span class="s1">switch (pagesType) {</span><span class="s3">\n    </span><span class="s1">case PAGE_TYPES.ROOT: {</span><span class="s3">\n      </span><span class="s1">return pages</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">case PAGE_TYPES.APP: {</span><span class="s3">\n      </span><span class="s1">const hasAppPages = Object.keys(pages).some((page) =&gt;</span><span class="s3">\n        </span><span class="s1">page.endsWith('/page')</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">// If there's any app pages existed, add a default /_not-found route as 404.</span><span class="s3">\n        </span><span class="s1">// If there's any custom /_not-found page, it will override the default one.</span><span class="s3">\n        </span><span class="s1">...(hasAppPages &amp;&amp; {</span><span class="s3">\n          </span><span class="s1">[UNDERSCORE_NOT_FOUND_ROUTE_ENTRY]: require.resolve(</span><span class="s3">\n            </span><span class="s1">'next/dist/client/components/builtin/global-not-found'</span><span class="s3">\n          </span><span class="s1">),</span><span class="s3">\n        </span><span class="s1">}),</span><span class="s3">\n        </span><span class="s1">...pages,</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">case PAGE_TYPES.PAGES: {</span><span class="s3">\n      </span><span class="s1">if (isDev) {</span><span class="s3">\n        </span><span class="s1">delete pages['/_app']</span><span class="s3">\n        </span><span class="s1">delete pages['/_error']</span><span class="s3">\n        </span><span class="s1">delete pages['/_document']</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// In development we always alias these to allow Webpack to fallback to</span><span class="s3">\n      </span><span class="s1">// the correct source file so that HMR can work properly when a file is</span><span class="s3">\n      </span><span class="s1">// added or removed.</span><span class="s3">\n      </span><span class="s1">const root = isDev &amp;&amp; pagesDir ? PAGES_DIR_ALIAS : 'next/dist/pages'</span><span class="s3">\n\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">'/_app': `${root}/_app`,</span><span class="s3">\n        </span><span class="s1">'/_error': `${root}/_error`,</span><span class="s3">\n        </span><span class="s1">'/_document': `${root}/_document`,</span><span class="s3">\n        </span><span class="s1">...pages,</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">default: {</span><span class="s3">\n      </span><span class="s1">return {}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export interface CreateEntrypointsParams {</span><span class="s3">\n  </span><span class="s1">buildId: string</span><span class="s3">\n  </span><span class="s1">config: NextConfigComplete</span><span class="s3">\n  </span><span class="s1">envFiles: LoadedEnvFiles</span><span class="s3">\n  </span><span class="s1">isDev?: boolean</span><span class="s3">\n  </span><span class="s1">pages: MappedPages</span><span class="s3">\n  </span><span class="s1">pagesDir?: string</span><span class="s3">\n  </span><span class="s1">previewMode: __ApiPreviewProps</span><span class="s3">\n  </span><span class="s1">rootDir: string</span><span class="s3">\n  </span><span class="s1">rootPaths?: MappedPages</span><span class="s3">\n  </span><span class="s1">appDir?: string</span><span class="s3">\n  </span><span class="s1">appPaths?: MappedPages</span><span class="s3">\n  </span><span class="s1">pageExtensions: PageExtensions</span><span class="s3">\n  </span><span class="s1">hasInstrumentationHook?: boolean</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getEdgeServerEntry(opts: {</span><span class="s3">\n  </span><span class="s1">rootDir: string</span><span class="s3">\n  </span><span class="s1">absolutePagePath: string</span><span class="s3">\n  </span><span class="s1">buildId: string</span><span class="s3">\n  </span><span class="s1">bundlePath: string</span><span class="s3">\n  </span><span class="s1">config: NextConfigComplete</span><span class="s3">\n  </span><span class="s1">isDev: boolean</span><span class="s3">\n  </span><span class="s1">isServerComponent: boolean</span><span class="s3">\n  </span><span class="s1">page: string</span><span class="s3">\n  </span><span class="s1">pages: MappedPages</span><span class="s3">\n  </span><span class="s1">middleware?: Partial&lt;MiddlewareConfig&gt;</span><span class="s3">\n  </span><span class="s1">pagesType: PAGE_TYPES</span><span class="s3">\n  </span><span class="s1">appDirLoader?: string</span><span class="s3">\n  </span><span class="s1">hasInstrumentationHook?: boolean</span><span class="s3">\n  </span><span class="s1">preferredRegion: string | string[] | undefined</span><span class="s3">\n  </span><span class="s1">middlewareConfig?: MiddlewareConfig</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">opts.pagesType === 'app' &amp;&amp;</span><span class="s3">\n    </span><span class="s1">isAppRouteRoute(opts.page) &amp;&amp;</span><span class="s3">\n    </span><span class="s1">opts.appDirLoader</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const loaderParams: EdgeAppRouteLoaderQuery = {</span><span class="s3">\n      </span><span class="s1">absolutePagePath: opts.absolutePagePath,</span><span class="s3">\n      </span><span class="s1">page: opts.page,</span><span class="s3">\n      </span><span class="s1">appDirLoader: Buffer.from(opts.appDirLoader || '').toString('base64'),</span><span class="s3">\n      </span><span class="s1">nextConfig: Buffer.from(JSON.stringify(opts.config)).toString('base64'),</span><span class="s3">\n      </span><span class="s1">preferredRegion: opts.preferredRegion,</span><span class="s3">\n      </span><span class="s1">middlewareConfig: Buffer.from(</span><span class="s3">\n        </span><span class="s1">JSON.stringify(opts.middlewareConfig || {})</span><span class="s3">\n      </span><span class="s1">).toString('base64'),</span><span class="s3">\n      </span><span class="s1">cacheHandlers: JSON.stringify(</span><span class="s3">\n        </span><span class="s1">opts.config.experimental.cacheHandlers || {}</span><span class="s3">\n      </span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">import: `next-edge-app-route-loader?${stringify(loaderParams)}!`,</span><span class="s3">\n      </span><span class="s1">layer: WEBPACK_LAYERS.reactServerComponents,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (isMiddlewareFile(opts.page)) {</span><span class="s3">\n    </span><span class="s1">const loaderParams: MiddlewareLoaderOptions = {</span><span class="s3">\n      </span><span class="s1">absolutePagePath: opts.absolutePagePath,</span><span class="s3">\n      </span><span class="s1">page: opts.page,</span><span class="s3">\n      </span><span class="s1">rootDir: opts.rootDir,</span><span class="s3">\n      </span><span class="s1">matchers: opts.middleware?.matchers</span><span class="s3">\n        </span><span class="s1">? encodeMatchers(opts.middleware.matchers)</span><span class="s3">\n        </span><span class="s1">: '',</span><span class="s3">\n      </span><span class="s1">preferredRegion: opts.preferredRegion,</span><span class="s3">\n      </span><span class="s1">middlewareConfig: Buffer.from(</span><span class="s3">\n        </span><span class="s1">JSON.stringify(opts.middlewareConfig || {})</span><span class="s3">\n      </span><span class="s1">).toString('base64'),</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">import: `next-middleware-loader?${stringify(loaderParams)}!`,</span><span class="s3">\n      </span><span class="s1">layer: WEBPACK_LAYERS.middleware,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (isAPIRoute(opts.page)) {</span><span class="s3">\n    </span><span class="s1">const loaderParams: EdgeFunctionLoaderOptions = {</span><span class="s3">\n      </span><span class="s1">absolutePagePath: opts.absolutePagePath,</span><span class="s3">\n      </span><span class="s1">page: opts.page,</span><span class="s3">\n      </span><span class="s1">rootDir: opts.rootDir,</span><span class="s3">\n      </span><span class="s1">preferredRegion: opts.preferredRegion,</span><span class="s3">\n      </span><span class="s1">middlewareConfig: Buffer.from(</span><span class="s3">\n        </span><span class="s1">JSON.stringify(opts.middlewareConfig || {})</span><span class="s3">\n      </span><span class="s1">).toString('base64'),</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">import: `next-edge-function-loader?${stringify(loaderParams)}!`,</span><span class="s3">\n      </span><span class="s1">layer: WEBPACK_LAYERS.apiEdge,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const loaderParams: EdgeSSRLoaderQuery = {</span><span class="s3">\n    </span><span class="s1">absolute500Path: opts.pages['/500'] || '',</span><span class="s3">\n    </span><span class="s1">absoluteAppPath: opts.pages['/_app'],</span><span class="s3">\n    </span><span class="s1">absoluteDocumentPath: opts.pages['/_document'],</span><span class="s3">\n    </span><span class="s1">absoluteErrorPath: opts.pages['/_error'],</span><span class="s3">\n    </span><span class="s1">absolutePagePath: opts.absolutePagePath,</span><span class="s3">\n    </span><span class="s1">dev: opts.isDev,</span><span class="s3">\n    </span><span class="s1">isServerComponent: opts.isServerComponent,</span><span class="s3">\n    </span><span class="s1">page: opts.page,</span><span class="s3">\n    </span><span class="s1">stringifiedConfig: Buffer.from(JSON.stringify(opts.config)).toString(</span><span class="s3">\n      </span><span class="s1">'base64'</span><span class="s3">\n    </span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">pagesType: opts.pagesType,</span><span class="s3">\n    </span><span class="s1">appDirLoader: Buffer.from(opts.appDirLoader || '').toString('base64'),</span><span class="s3">\n    </span><span class="s1">sriEnabled: !opts.isDev &amp;&amp; !!opts.config.experimental.sri?.algorithm,</span><span class="s3">\n    </span><span class="s1">cacheHandler: opts.config.cacheHandler,</span><span class="s3">\n    </span><span class="s1">preferredRegion: opts.preferredRegion,</span><span class="s3">\n    </span><span class="s1">middlewareConfig: Buffer.from(</span><span class="s3">\n      </span><span class="s1">JSON.stringify(opts.middlewareConfig || {})</span><span class="s3">\n    </span><span class="s1">).toString('base64'),</span><span class="s3">\n    </span><span class="s1">serverActions: opts.config.experimental.serverActions,</span><span class="s3">\n    </span><span class="s1">cacheHandlers: JSON.stringify(opts.config.experimental.cacheHandlers || {}),</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">import: `next-edge-ssr-loader?${JSON.stringify(loaderParams)}!`,</span><span class="s3">\n    </span><span class="s1">// The Edge bundle includes the server in its entrypoint, so it has to</span><span class="s3">\n    </span><span class="s1">// be in the SSR layer  we later convert the page request to the RSC layer</span><span class="s3">\n    </span><span class="s1">// via a webpack rule.</span><span class="s3">\n    </span><span class="s1">layer: opts.appDirLoader ? WEBPACK_LAYERS.serverSideRendering : undefined,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getInstrumentationEntry(opts: {</span><span class="s3">\n  </span><span class="s1">absolutePagePath: string</span><span class="s3">\n  </span><span class="s1">isEdgeServer: boolean</span><span class="s3">\n  </span><span class="s1">isDev: boolean</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">// the '../' is needed to make sure the file is not chunked</span><span class="s3">\n  </span><span class="s1">const filename = `${</span><span class="s3">\n    </span><span class="s1">opts.isEdgeServer ? 'edge-' : opts.isDev ? '' : '../'</span><span class="s3">\n  </span><span class="s1">}${INSTRUMENTATION_HOOK_FILENAME}.js`</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">import: opts.absolutePagePath,</span><span class="s3">\n    </span><span class="s1">filename,</span><span class="s3">\n    </span><span class="s1">layer: WEBPACK_LAYERS.instrument,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getAppLoader() {</span><span class="s3">\n  </span><span class="s1">return process.env.BUILTIN_APP_LOADER</span><span class="s3">\n    </span><span class="s1">? `builtin:next-app-loader`</span><span class="s3">\n    </span><span class="s1">: 'next-app-loader'</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getAppEntry(opts: Readonly&lt;AppLoaderOptions&gt;) {</span><span class="s3">\n  </span><span class="s1">if (process.env.NEXT_RSPACK &amp;&amp; process.env.BUILTIN_APP_LOADER) {</span><span class="s3">\n    </span><span class="s1">;(opts as any).projectRoot = normalize(join(__dirname, '../../..'))</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">import: `${getAppLoader()}?${stringify(opts)}!`,</span><span class="s3">\n    </span><span class="s1">layer: WEBPACK_LAYERS.reactServerComponents,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getClientEntry(opts: {</span><span class="s3">\n  </span><span class="s1">absolutePagePath: string</span><span class="s3">\n  </span><span class="s1">page: string</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">const loaderOptions: ClientPagesLoaderOptions = {</span><span class="s3">\n    </span><span class="s1">absolutePagePath: opts.absolutePagePath,</span><span class="s3">\n    </span><span class="s1">page: opts.page,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const pageLoader = `next-client-pages-loader?${stringify(loaderOptions)}!`</span><span class="s3">\n\n  </span><span class="s1">// Make sure next/router is a dependency of _app or else chunk splitting</span><span class="s3">\n  </span><span class="s1">// might cause the router to not be able to load causing hydration</span><span class="s3">\n  </span><span class="s1">// to fail</span><span class="s3">\n  </span><span class="s1">return opts.page === '/_app'</span><span class="s3">\n    </span><span class="s1">? [pageLoader, require.resolve('../client/router')]</span><span class="s3">\n    </span><span class="s1">: pageLoader</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function runDependingOnPageType&lt;T&gt;(params: {</span><span class="s3">\n  </span><span class="s1">onClient: () =&gt; T</span><span class="s3">\n  </span><span class="s1">onEdgeServer: () =&gt; T</span><span class="s3">\n  </span><span class="s1">onServer: () =&gt; T</span><span class="s3">\n  </span><span class="s1">page: string</span><span class="s3">\n  </span><span class="s1">pageRuntime: ServerRuntime</span><span class="s3">\n  </span><span class="s1">pageType?: PAGE_TYPES</span><span class="s3">\n</span><span class="s1">}): void {</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">params.pageType === PAGE_TYPES.ROOT &amp;&amp;</span><span class="s3">\n    </span><span class="s1">isInstrumentationHookFile(params.page)</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">params.onServer()</span><span class="s3">\n    </span><span class="s1">params.onEdgeServer()</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (isMiddlewareFile(params.page)) {</span><span class="s3">\n    </span><span class="s1">if (params.pageRuntime === 'nodejs') {</span><span class="s3">\n      </span><span class="s1">params.onServer()</span><span class="s3">\n      </span><span class="s1">return</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">params.onEdgeServer()</span><span class="s3">\n      </span><span class="s1">return</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (isAPIRoute(params.page)) {</span><span class="s3">\n    </span><span class="s1">if (isEdgeRuntime(params.pageRuntime)) {</span><span class="s3">\n      </span><span class="s1">params.onEdgeServer()</span><span class="s3">\n      </span><span class="s1">return</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">params.onServer()</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (params.page === '/_document') {</span><span class="s3">\n    </span><span class="s1">params.onServer()</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">params.page === '/_app' ||</span><span class="s3">\n    </span><span class="s1">params.page === '/_error' ||</span><span class="s3">\n    </span><span class="s1">params.page === '/404' ||</span><span class="s3">\n    </span><span class="s1">params.page === '/500'</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">params.onClient()</span><span class="s3">\n    </span><span class="s1">params.onServer()</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (isEdgeRuntime(params.pageRuntime)) {</span><span class="s3">\n    </span><span class="s1">params.onClient()</span><span class="s3">\n    </span><span class="s1">params.onEdgeServer()</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">params.onClient()</span><span class="s3">\n  </span><span class="s1">params.onServer()</span><span class="s3">\n  </span><span class="s1">return</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export async function createEntrypoints(</span><span class="s3">\n  </span><span class="s1">params: CreateEntrypointsParams</span><span class="s3">\n</span><span class="s1">): Promise&lt;{</span><span class="s3">\n  </span><span class="s1">client: webpack.EntryObject</span><span class="s3">\n  </span><span class="s1">server: webpack.EntryObject</span><span class="s3">\n  </span><span class="s1">edgeServer: webpack.EntryObject</span><span class="s3">\n  </span><span class="s1">middlewareMatchers: undefined</span><span class="s3">\n</span><span class="s1">}&gt; {</span><span class="s3">\n  </span><span class="s1">const {</span><span class="s3">\n    </span><span class="s1">config,</span><span class="s3">\n    </span><span class="s1">pages,</span><span class="s3">\n    </span><span class="s1">pagesDir,</span><span class="s3">\n    </span><span class="s1">isDev,</span><span class="s3">\n    </span><span class="s1">rootDir,</span><span class="s3">\n    </span><span class="s1">rootPaths,</span><span class="s3">\n    </span><span class="s1">appDir,</span><span class="s3">\n    </span><span class="s1">appPaths,</span><span class="s3">\n    </span><span class="s1">pageExtensions,</span><span class="s3">\n  </span><span class="s1">} = params</span><span class="s3">\n  </span><span class="s1">const edgeServer: webpack.EntryObject = {}</span><span class="s3">\n  </span><span class="s1">const server: webpack.EntryObject = {}</span><span class="s3">\n  </span><span class="s1">const client: webpack.EntryObject = {}</span><span class="s3">\n  </span><span class="s1">let middlewareMatchers: MiddlewareMatcher[] | undefined = undefined</span><span class="s3">\n\n  </span><span class="s1">let appPathsPerRoute: Record&lt;string, string[]&gt; = {}</span><span class="s3">\n  </span><span class="s1">if (appDir &amp;&amp; appPaths) {</span><span class="s3">\n    </span><span class="s1">for (const pathname in appPaths) {</span><span class="s3">\n      </span><span class="s1">const normalizedPath = normalizeAppPath(pathname)</span><span class="s3">\n      </span><span class="s1">const actualPath = appPaths[pathname]</span><span class="s3">\n      </span><span class="s1">if (!appPathsPerRoute[normalizedPath]) {</span><span class="s3">\n        </span><span class="s1">appPathsPerRoute[normalizedPath] = []</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">appPathsPerRoute[normalizedPath].push(</span><span class="s3">\n        </span><span class="s1">// TODO-APP: refactor to pass the page path from createPagesMapping instead.</span><span class="s3">\n        </span><span class="s1">getPageFromPath(actualPath, pageExtensions).replace(APP_DIR_ALIAS, '')</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// TODO: find a better place to do this</span><span class="s3">\n    </span><span class="s1">normalizeCatchAllRoutes(appPathsPerRoute)</span><span class="s3">\n\n    </span><span class="s1">// Make sure to sort parallel routes to make the result deterministic.</span><span class="s3">\n    </span><span class="s1">appPathsPerRoute = Object.fromEntries(</span><span class="s3">\n      </span><span class="s1">Object.entries(appPathsPerRoute).map(([k, v]) =&gt; [k, v.sort()])</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const getEntryHandler =</span><span class="s3">\n    </span><span class="s1">(mappings: MappedPages, pagesType: PAGE_TYPES): ((page: string) =&gt; void) =&gt;</span><span class="s3">\n    </span><span class="s1">async (page) =&gt; {</span><span class="s3">\n      </span><span class="s1">const bundleFile = normalizePagePath(page)</span><span class="s3">\n      </span><span class="s1">const clientBundlePath = posix.join(pagesType, bundleFile)</span><span class="s3">\n      </span><span class="s1">const serverBundlePath =</span><span class="s3">\n        </span><span class="s1">pagesType === PAGE_TYPES.PAGES</span><span class="s3">\n          </span><span class="s1">? posix.join('pages', bundleFile)</span><span class="s3">\n          </span><span class="s1">: pagesType === PAGE_TYPES.APP</span><span class="s3">\n            </span><span class="s1">? posix.join('app', bundleFile)</span><span class="s3">\n            </span><span class="s1">: bundleFile.slice(1)</span><span class="s3">\n\n      </span><span class="s1">const absolutePagePath = mappings[page]</span><span class="s3">\n\n      </span><span class="s1">// Handle paths that have aliases</span><span class="s3">\n      </span><span class="s1">const pageFilePath = getPageFilePath({</span><span class="s3">\n        </span><span class="s1">absolutePagePath,</span><span class="s3">\n        </span><span class="s1">pagesDir,</span><span class="s3">\n        </span><span class="s1">appDir,</span><span class="s3">\n        </span><span class="s1">rootDir,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n\n      </span><span class="s1">const isInsideAppDir =</span><span class="s3">\n        </span><span class="s1">!!appDir &amp;&amp;</span><span class="s3">\n        </span><span class="s1">(absolutePagePath.startsWith(APP_DIR_ALIAS) ||</span><span class="s3">\n          </span><span class="s1">absolutePagePath.startsWith(appDir))</span><span class="s3">\n\n      </span><span class="s1">const staticInfo: PageStaticInfo = await getStaticInfoIncludingLayouts({</span><span class="s3">\n        </span><span class="s1">isInsideAppDir,</span><span class="s3">\n        </span><span class="s1">pageExtensions,</span><span class="s3">\n        </span><span class="s1">pageFilePath,</span><span class="s3">\n        </span><span class="s1">appDir,</span><span class="s3">\n        </span><span class="s1">config,</span><span class="s3">\n        </span><span class="s1">isDev,</span><span class="s3">\n        </span><span class="s1">page,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n\n      </span><span class="s1">// TODO(timneutkens): remove this</span><span class="s3">\n      </span><span class="s1">const isServerComponent =</span><span class="s3">\n        </span><span class="s1">isInsideAppDir &amp;&amp; staticInfo.rsc !== RSC_MODULE_TYPES.client</span><span class="s3">\n\n      </span><span class="s1">if (isMiddlewareFile(page)) {</span><span class="s3">\n        </span><span class="s1">middlewareMatchers = staticInfo.middleware?.matchers ?? [</span><span class="s3">\n          </span><span class="s1">{ regexp: '.*', originalSource: '/:path*' },</span><span class="s3">\n        </span><span class="s1">]</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const isInstrumentation =</span><span class="s3">\n        </span><span class="s1">isInstrumentationHookFile(page) &amp;&amp; pagesType === PAGE_TYPES.ROOT</span><span class="s3">\n\n      </span><span class="s1">runDependingOnPageType({</span><span class="s3">\n        </span><span class="s1">page,</span><span class="s3">\n        </span><span class="s1">pageRuntime: staticInfo.runtime,</span><span class="s3">\n        </span><span class="s1">pageType: pagesType,</span><span class="s3">\n        </span><span class="s1">onClient: () =&gt; {</span><span class="s3">\n          </span><span class="s1">if (isServerComponent || isInsideAppDir) {</span><span class="s3">\n            </span><span class="s1">// We skip the initial entries for server component pages and let the</span><span class="s3">\n            </span><span class="s1">// server compiler inject them instead.</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">client[clientBundlePath] = getClientEntry({</span><span class="s3">\n              </span><span class="s1">absolutePagePath,</span><span class="s3">\n              </span><span class="s1">page,</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">onServer: () =&gt; {</span><span class="s3">\n          </span><span class="s1">if (pagesType === 'app' &amp;&amp; appDir) {</span><span class="s3">\n            </span><span class="s1">const matchedAppPaths = appPathsPerRoute[normalizeAppPath(page)]</span><span class="s3">\n            </span><span class="s1">server[serverBundlePath] = getAppEntry({</span><span class="s3">\n              </span><span class="s1">page,</span><span class="s3">\n              </span><span class="s1">name: serverBundlePath,</span><span class="s3">\n              </span><span class="s1">pagePath: absolutePagePath,</span><span class="s3">\n              </span><span class="s1">appDir,</span><span class="s3">\n              </span><span class="s1">appPaths: matchedAppPaths,</span><span class="s3">\n              </span><span class="s1">pageExtensions,</span><span class="s3">\n              </span><span class="s1">basePath: config.basePath,</span><span class="s3">\n              </span><span class="s1">assetPrefix: config.assetPrefix,</span><span class="s3">\n              </span><span class="s1">nextConfigOutput: config.output,</span><span class="s3">\n              </span><span class="s1">preferredRegion: staticInfo.preferredRegion,</span><span class="s3">\n              </span><span class="s1">middlewareConfig: encodeToBase64(staticInfo.middleware || {}),</span><span class="s3">\n              </span><span class="s1">isGlobalNotFoundEnabled: config.experimental.globalNotFound</span><span class="s3">\n                </span><span class="s1">? true</span><span class="s3">\n                </span><span class="s1">: undefined,</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n          </span><span class="s1">} else if (isInstrumentation) {</span><span class="s3">\n            </span><span class="s1">server[serverBundlePath.replace('src/', '')] =</span><span class="s3">\n              </span><span class="s1">getInstrumentationEntry({</span><span class="s3">\n                </span><span class="s1">absolutePagePath,</span><span class="s3">\n                </span><span class="s1">isEdgeServer: false,</span><span class="s3">\n                </span><span class="s1">isDev: false,</span><span class="s3">\n              </span><span class="s1">})</span><span class="s3">\n          </span><span class="s1">} else if (isMiddlewareFile(page)) {</span><span class="s3">\n            </span><span class="s1">server[serverBundlePath.replace('src/', '')] = getEdgeServerEntry({</span><span class="s3">\n              </span><span class="s1">...params,</span><span class="s3">\n              </span><span class="s1">rootDir,</span><span class="s3">\n              </span><span class="s1">absolutePagePath: absolutePagePath,</span><span class="s3">\n              </span><span class="s1">bundlePath: clientBundlePath,</span><span class="s3">\n              </span><span class="s1">isDev: false,</span><span class="s3">\n              </span><span class="s1">isServerComponent,</span><span class="s3">\n              </span><span class="s1">page,</span><span class="s3">\n              </span><span class="s1">middleware: staticInfo?.middleware,</span><span class="s3">\n              </span><span class="s1">pagesType,</span><span class="s3">\n              </span><span class="s1">preferredRegion: staticInfo.preferredRegion,</span><span class="s3">\n              </span><span class="s1">middlewareConfig: staticInfo.middleware,</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n          </span><span class="s1">} else if (isAPIRoute(page)) {</span><span class="s3">\n            </span><span class="s1">server[serverBundlePath] = [</span><span class="s3">\n              </span><span class="s1">getRouteLoaderEntry({</span><span class="s3">\n                </span><span class="s1">kind: RouteKind.PAGES_API,</span><span class="s3">\n                </span><span class="s1">page,</span><span class="s3">\n                </span><span class="s1">absolutePagePath,</span><span class="s3">\n                </span><span class="s1">preferredRegion: staticInfo.preferredRegion,</span><span class="s3">\n                </span><span class="s1">middlewareConfig: staticInfo.middleware || {},</span><span class="s3">\n              </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">]</span><span class="s3">\n          </span><span class="s1">} else if (</span><span class="s3">\n            </span><span class="s1">!isMiddlewareFile(page) &amp;&amp;</span><span class="s3">\n            </span><span class="s1">!isInternalComponent(absolutePagePath) &amp;&amp;</span><span class="s3">\n            </span><span class="s1">!isNonRoutePagesPage(page)</span><span class="s3">\n          </span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">server[serverBundlePath] = [</span><span class="s3">\n              </span><span class="s1">getRouteLoaderEntry({</span><span class="s3">\n                </span><span class="s1">kind: RouteKind.PAGES,</span><span class="s3">\n                </span><span class="s1">page,</span><span class="s3">\n                </span><span class="s1">pages,</span><span class="s3">\n                </span><span class="s1">absolutePagePath,</span><span class="s3">\n                </span><span class="s1">preferredRegion: staticInfo.preferredRegion,</span><span class="s3">\n                </span><span class="s1">middlewareConfig: staticInfo.middleware ?? {},</span><span class="s3">\n              </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">]</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">server[serverBundlePath] = [absolutePagePath]</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">onEdgeServer: () =&gt; {</span><span class="s3">\n          </span><span class="s1">let appDirLoader: string = ''</span><span class="s3">\n          </span><span class="s1">if (isInstrumentation) {</span><span class="s3">\n            </span><span class="s1">edgeServer[serverBundlePath.replace('src/', '')] =</span><span class="s3">\n              </span><span class="s1">getInstrumentationEntry({</span><span class="s3">\n                </span><span class="s1">absolutePagePath,</span><span class="s3">\n                </span><span class="s1">isEdgeServer: true,</span><span class="s3">\n                </span><span class="s1">isDev: false,</span><span class="s3">\n              </span><span class="s1">})</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">if (pagesType === 'app') {</span><span class="s3">\n              </span><span class="s1">const matchedAppPaths = appPathsPerRoute[normalizeAppPath(page)]</span><span class="s3">\n              </span><span class="s1">appDirLoader = getAppEntry({</span><span class="s3">\n                </span><span class="s1">name: serverBundlePath,</span><span class="s3">\n                </span><span class="s1">page,</span><span class="s3">\n                </span><span class="s1">pagePath: absolutePagePath,</span><span class="s3">\n                </span><span class="s1">appDir: appDir!,</span><span class="s3">\n                </span><span class="s1">appPaths: matchedAppPaths,</span><span class="s3">\n                </span><span class="s1">pageExtensions,</span><span class="s3">\n                </span><span class="s1">basePath: config.basePath,</span><span class="s3">\n                </span><span class="s1">assetPrefix: config.assetPrefix,</span><span class="s3">\n                </span><span class="s1">nextConfigOutput: config.output,</span><span class="s3">\n                </span><span class="s1">// This isn't used with edge as it needs to be set on the entry module, which will be the `edgeServerEntry` instead.</span><span class="s3">\n                </span><span class="s1">// Still passing it here for consistency.</span><span class="s3">\n                </span><span class="s1">preferredRegion: staticInfo.preferredRegion,</span><span class="s3">\n                </span><span class="s1">middlewareConfig: Buffer.from(</span><span class="s3">\n                  </span><span class="s1">JSON.stringify(staticInfo.middleware || {})</span><span class="s3">\n                </span><span class="s1">).toString('base64'),</span><span class="s3">\n                </span><span class="s1">isGlobalNotFoundEnabled: config.experimental.globalNotFound</span><span class="s3">\n                  </span><span class="s1">? true</span><span class="s3">\n                  </span><span class="s1">: undefined,</span><span class="s3">\n              </span><span class="s1">}).import</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">edgeServer[serverBundlePath] = getEdgeServerEntry({</span><span class="s3">\n              </span><span class="s1">...params,</span><span class="s3">\n              </span><span class="s1">rootDir,</span><span class="s3">\n              </span><span class="s1">absolutePagePath: absolutePagePath,</span><span class="s3">\n              </span><span class="s1">bundlePath: clientBundlePath,</span><span class="s3">\n              </span><span class="s1">isDev: false,</span><span class="s3">\n              </span><span class="s1">isServerComponent,</span><span class="s3">\n              </span><span class="s1">page,</span><span class="s3">\n              </span><span class="s1">middleware: staticInfo?.middleware,</span><span class="s3">\n              </span><span class="s1">pagesType,</span><span class="s3">\n              </span><span class="s1">appDirLoader,</span><span class="s3">\n              </span><span class="s1">preferredRegion: staticInfo.preferredRegion,</span><span class="s3">\n              </span><span class="s1">middlewareConfig: staticInfo.middleware,</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const promises: Promise&lt;void[]&gt;[] = []</span><span class="s3">\n\n  </span><span class="s1">if (appPaths) {</span><span class="s3">\n    </span><span class="s1">const entryHandler = getEntryHandler(appPaths, PAGE_TYPES.APP)</span><span class="s3">\n    </span><span class="s1">promises.push(Promise.all(Object.keys(appPaths).map(entryHandler)))</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (rootPaths) {</span><span class="s3">\n    </span><span class="s1">promises.push(</span><span class="s3">\n      </span><span class="s1">Promise.all(</span><span class="s3">\n        </span><span class="s1">Object.keys(rootPaths).map(getEntryHandler(rootPaths, PAGE_TYPES.ROOT))</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">promises.push(</span><span class="s3">\n    </span><span class="s1">Promise.all(</span><span class="s3">\n      </span><span class="s1">Object.keys(pages).map(getEntryHandler(pages, PAGE_TYPES.PAGES))</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">await Promise.all(promises)</span><span class="s3">\n\n  </span><span class="s1">// Optimization: If there's only one instrumentation hook in edge compiler, which means there's no edge server entry.</span><span class="s3">\n  </span><span class="s1">// We remove the edge instrumentation entry from edge compiler as it can be pure server side.</span><span class="s3">\n  </span><span class="s1">if (edgeServer.instrumentation &amp;&amp; Object.keys(edgeServer).length === 1) {</span><span class="s3">\n    </span><span class="s1">delete edgeServer.instrumentation</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">client,</span><span class="s3">\n    </span><span class="s1">server,</span><span class="s3">\n    </span><span class="s1">edgeServer,</span><span class="s3">\n    </span><span class="s1">middlewareMatchers,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function finalizeEntrypoint({</span><span class="s3">\n  </span><span class="s1">name,</span><span class="s3">\n  </span><span class="s1">compilerType,</span><span class="s3">\n  </span><span class="s1">value,</span><span class="s3">\n  </span><span class="s1">isServerComponent,</span><span class="s3">\n  </span><span class="s1">hasAppDir,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">compilerType: CompilerNameValues</span><span class="s3">\n  </span><span class="s1">name: string</span><span class="s3">\n  </span><span class="s1">value: ObjectValue&lt;webpack.EntryObject&gt;</span><span class="s3">\n  </span><span class="s1">isServerComponent?: boolean</span><span class="s3">\n  </span><span class="s1">hasAppDir?: boolean</span><span class="s3">\n</span><span class="s1">}): ObjectValue&lt;webpack.EntryObject&gt; {</span><span class="s3">\n  </span><span class="s1">const entry =</span><span class="s3">\n    </span><span class="s1">typeof value !== 'object' || Array.isArray(value)</span><span class="s3">\n      </span><span class="s1">? { import: value }</span><span class="s3">\n      </span><span class="s1">: value</span><span class="s3">\n\n  </span><span class="s1">const isApi = name.startsWith('pages/api/')</span><span class="s3">\n  </span><span class="s1">const isInstrumentation = isInstrumentationHookFilename(name)</span><span class="s3">\n\n  </span><span class="s1">switch (compilerType) {</span><span class="s3">\n    </span><span class="s1">case COMPILER_NAMES.server: {</span><span class="s3">\n      </span><span class="s1">const layer = isApi</span><span class="s3">\n        </span><span class="s1">? WEBPACK_LAYERS.apiNode</span><span class="s3">\n        </span><span class="s1">: isInstrumentation</span><span class="s3">\n          </span><span class="s1">? WEBPACK_LAYERS.instrument</span><span class="s3">\n          </span><span class="s1">: isServerComponent</span><span class="s3">\n            </span><span class="s1">? WEBPACK_LAYERS.reactServerComponents</span><span class="s3">\n            </span><span class="s1">: name.startsWith('pages/')</span><span class="s3">\n              </span><span class="s1">? WEBPACK_LAYERS.pagesDirNode</span><span class="s3">\n              </span><span class="s1">: undefined</span><span class="s3">\n\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">publicPath: isApi ? '' : undefined,</span><span class="s3">\n        </span><span class="s1">runtime: isApi ? 'webpack-api-runtime' : 'webpack-runtime',</span><span class="s3">\n        </span><span class="s1">layer,</span><span class="s3">\n        </span><span class="s1">...entry,</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">case COMPILER_NAMES.edgeServer: {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">layer: isApi</span><span class="s3">\n          </span><span class="s1">? WEBPACK_LAYERS.apiEdge</span><span class="s3">\n          </span><span class="s1">: isMiddlewareFilename(name) || isInstrumentation</span><span class="s3">\n            </span><span class="s1">? WEBPACK_LAYERS.middleware</span><span class="s3">\n            </span><span class="s1">: name.startsWith('pages/')</span><span class="s3">\n              </span><span class="s1">? WEBPACK_LAYERS.pagesDirEdge</span><span class="s3">\n              </span><span class="s1">: undefined,</span><span class="s3">\n        </span><span class="s1">library: { name: ['_ENTRIES', `middleware_[name]`], type: 'assign' },</span><span class="s3">\n        </span><span class="s1">runtime: EDGE_RUNTIME_WEBPACK,</span><span class="s3">\n        </span><span class="s1">asyncChunks: false,</span><span class="s3">\n        </span><span class="s1">...entry,</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">case COMPILER_NAMES.client: {</span><span class="s3">\n      </span><span class="s1">const isAppLayer =</span><span class="s3">\n        </span><span class="s1">hasAppDir &amp;&amp;</span><span class="s3">\n        </span><span class="s1">(name === CLIENT_STATIC_FILES_RUNTIME_MAIN_APP ||</span><span class="s3">\n          </span><span class="s1">name === APP_CLIENT_INTERNALS ||</span><span class="s3">\n          </span><span class="s1">name.startsWith('app/'))</span><span class="s3">\n\n      </span><span class="s1">if (</span><span class="s3">\n        </span><span class="s1">// Client special cases</span><span class="s3">\n        </span><span class="s1">name !== CLIENT_STATIC_FILES_RUNTIME_POLYFILLS &amp;&amp;</span><span class="s3">\n        </span><span class="s1">name !== CLIENT_STATIC_FILES_RUNTIME_MAIN &amp;&amp;</span><span class="s3">\n        </span><span class="s1">name !== CLIENT_STATIC_FILES_RUNTIME_MAIN_APP &amp;&amp;</span><span class="s3">\n        </span><span class="s1">name !== CLIENT_STATIC_FILES_RUNTIME_AMP &amp;&amp;</span><span class="s3">\n        </span><span class="s1">name !== CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH</span><span class="s3">\n      </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">if (isAppLayer) {</span><span class="s3">\n          </span><span class="s1">return {</span><span class="s3">\n            </span><span class="s1">dependOn: CLIENT_STATIC_FILES_RUNTIME_MAIN_APP,</span><span class="s3">\n            </span><span class="s1">layer: WEBPACK_LAYERS.appPagesBrowser,</span><span class="s3">\n            </span><span class="s1">...entry,</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return {</span><span class="s3">\n          </span><span class="s1">dependOn:</span><span class="s3">\n            </span><span class="s1">name.startsWith('pages/') &amp;&amp; name !== 'pages/_app'</span><span class="s3">\n              </span><span class="s1">? 'pages/_app'</span><span class="s3">\n              </span><span class="s1">: CLIENT_STATIC_FILES_RUNTIME_MAIN,</span><span class="s3">\n          </span><span class="s1">layer: WEBPACK_LAYERS.pagesDirBrowser,</span><span class="s3">\n          </span><span class="s1">...entry,</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (isAppLayer) {</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n          </span><span class="s1">layer: WEBPACK_LAYERS.appPagesBrowser,</span><span class="s3">\n          </span><span class="s1">...entry,</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">layer: WEBPACK_LAYERS.pagesDirBrowser,</span><span class="s3">\n        </span><span class="s1">...entry,</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">default:</span><span class="s3">\n      </span><span class="s1">return compilerType satisfies never</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;collectAppFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;collectPagesFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;combineSlots&quot;</span><span class="s0">,</span><span class="s1">&quot;createEntrypoints&quot;</span><span class="s0">,</span><span class="s1">&quot;createPagesMapping&quot;</span><span class="s0">,</span><span class="s1">&quot;createRelativeFilePath&quot;</span><span class="s0">,</span><span class="s1">&quot;extractSlotsFromAppRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;extractSlotsFromDefaultFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;finalizeEntrypoint&quot;</span><span class="s0">,</span><span class="s1">&quot;getAppEntry&quot;</span><span class="s0">,</span><span class="s1">&quot;getAppLoader&quot;</span><span class="s0">,</span><span class="s1">&quot;getClientEntry&quot;</span><span class="s0">,</span><span class="s1">&quot;getEdgeServerEntry&quot;</span><span class="s0">,</span><span class="s1">&quot;getInstrumentationEntry&quot;</span><span class="s0">,</span><span class="s1">&quot;getPageFilePath&quot;</span><span class="s0">,</span><span class="s1">&quot;getPageFromPath&quot;</span><span class="s0">,</span><span class="s1">&quot;getStaticInfoIncludingLayouts&quot;</span><span class="s0">,</span><span class="s1">&quot;processAppRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;processLayoutRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;processPageRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;runDependingOnPageType&quot;</span><span class="s0">,</span><span class="s1">&quot;sortByPageExts&quot;</span><span class="s0">,</span><span class="s1">&quot;appDir&quot;</span><span class="s0">,</span><span class="s1">&quot;validFileMatcher&quot;</span><span class="s0">,</span><span class="s1">&quot;allAppFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;recursiveReadDir&quot;</span><span class="s0">,</span><span class="s1">&quot;pathnameFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;absolutePath&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppRouterPage&quot;</span><span class="s0">,</span><span class="s1">&quot;isRootNotFound&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppLayoutPage&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppDefaultPage&quot;</span><span class="s0">,</span><span class="s1">&quot;ignorePartFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;part&quot;</span><span class="s0">,</span><span class="s1">&quot;startsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;appPaths&quot;</span><span class="s0">,</span><span class="s1">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">&quot;layoutPaths&quot;</span><span class="s0">,</span><span class="s1">&quot;defaultPaths&quot;</span><span class="s0">,</span><span class="s1">&quot;pagesDir&quot;</span><span class="s0">,</span><span class="s1">&quot;isPageFile&quot;</span><span class="s0">,</span><span class="s1">&quot;baseDir&quot;</span><span class="s0">,</span><span class="s1">&quot;filePath&quot;</span><span class="s0">,</span><span class="s1">&quot;prefix&quot;</span><span class="s0">,</span><span class="s1">&quot;isSrcDir&quot;</span><span class="s0">,</span><span class="s1">&quot;privatePrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;srcPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;RegExp&quot;</span><span class="s0">,</span><span class="s1">&quot;mappedPages&quot;</span><span class="s0">,</span><span class="s1">&quot;pageRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;pageApiRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;route&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;entries&quot;</span><span class="s0">,</span><span class="s1">&quot;relativeFilePath&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizePathSep&quot;</span><span class="s0">,</span><span class="s1">&quot;isReservedPage&quot;</span><span class="s0">,</span><span class="s1">&quot;mappedAppPages&quot;</span><span class="s0">,</span><span class="s1">&quot;slots&quot;</span><span class="s0">,</span><span class="s1">&quot;segments&quot;</span><span class="s0">,</span><span class="s1">&quot;split&quot;</span><span class="s0">,</span><span class="s1">&quot;i&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;segment&quot;</span><span class="s0">,</span><span class="s1">&quot;isParallelRouteSegment&quot;</span><span class="s0">,</span><span class="s1">&quot;parentPath&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizeAppPath&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">,</span><span class="s1">&quot;slotName&quot;</span><span class="s0">,</span><span class="s1">&quot;some&quot;</span><span class="s0">,</span><span class="s1">&quot;s&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;parent&quot;</span><span class="s0">,</span><span class="s1">&quot;mappedDefaultFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;slotArrays&quot;</span><span class="s0">,</span><span class="s1">&quot;slotSet&quot;</span><span class="s0">,</span><span class="s1">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">&quot;result&quot;</span><span class="s0">,</span><span class="s1">&quot;slot&quot;</span><span class="s0">,</span><span class="s1">&quot;key&quot;</span><span class="s0">,</span><span class="s1">&quot;has&quot;</span><span class="s0">,</span><span class="s1">&quot;add&quot;</span><span class="s0">,</span><span class="s1">&quot;appRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;appRouteHandlers&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppRouterRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;mappedAppLayouts&quot;</span><span class="s0">,</span><span class="s1">&quot;layoutRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;ensureLeadingSlash&quot;</span><span class="s0">,</span><span class="s1">&quot;pageExtensions&quot;</span><span class="s0">,</span><span class="s1">&quot;a&quot;</span><span class="s0">,</span><span class="s1">&quot;b&quot;</span><span class="s0">,</span><span class="s1">&quot;aExt&quot;</span><span class="s0">,</span><span class="s1">&quot;extname&quot;</span><span class="s0">,</span><span class="s1">&quot;bExt&quot;</span><span class="s0">,</span><span class="s1">&quot;aNoExt&quot;</span><span class="s0">,</span><span class="s1">&quot;substring&quot;</span><span class="s0">,</span><span class="s1">&quot;bNoExt&quot;</span><span class="s0">,</span><span class="s1">&quot;aExtIndex&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOf&quot;</span><span class="s0">,</span><span class="s1">&quot;bExtIndex&quot;</span><span class="s0">,</span><span class="s1">&quot;isInsideAppDir&quot;</span><span class="s0">,</span><span class="s1">&quot;pageFilePath&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;nextConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;isDev&quot;</span><span class="s0">,</span><span class="s1">&quot;page&quot;</span><span class="s0">,</span><span class="s1">&quot;pageType&quot;</span><span class="s0">,</span><span class="s1">&quot;PAGE_TYPES&quot;</span><span class="s0">,</span><span class="s1">&quot;APP&quot;</span><span class="s0">,</span><span class="s1">&quot;PAGES&quot;</span><span class="s0">,</span><span class="s1">&quot;pageStaticInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;getPageStaticInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppPageRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;layoutFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;potentialLayoutFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;ext&quot;</span><span class="s0">,</span><span class="s1">&quot;dir&quot;</span><span class="s0">,</span><span class="s1">&quot;dirname&quot;</span><span class="s0">,</span><span class="s1">&quot;potentialLayoutFile&quot;</span><span class="s0">,</span><span class="s1">&quot;layoutFile&quot;</span><span class="s0">,</span><span class="s1">&quot;fs&quot;</span><span class="s0">,</span><span class="s1">&quot;existsSync&quot;</span><span class="s0">,</span><span class="s1">&quot;layoutStaticInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;getAppPageStaticInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;unshift&quot;</span><span class="s0">,</span><span class="s1">&quot;reduceAppConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;runtime&quot;</span><span class="s0">,</span><span class="s1">&quot;preferredRegion&quot;</span><span class="s0">,</span><span class="s1">&quot;maxDuration&quot;</span><span class="s0">,</span><span class="s1">&quot;pagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;absolutePagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;rootDir&quot;</span><span class="s0">,</span><span class="s1">&quot;PAGES_DIR_ALIAS&quot;</span><span class="s0">,</span><span class="s1">&quot;APP_DIR_ALIAS&quot;</span><span class="s0">,</span><span class="s1">&quot;ROOT_DIR_ALIAS&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;pagePaths&quot;</span><span class="s0">,</span><span class="s1">&quot;pagesType&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;pages&quot;</span><span class="s0">,</span><span class="s1">&quot;promises&quot;</span><span class="s0">,</span><span class="s1">&quot;endsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;pageKey&quot;</span><span class="s0">,</span><span class="s1">&quot;UNDERSCORE_NOT_FOUND_ROUTE_ENTRY&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizedPath&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizeMetadataRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;isMetadataRouteFile&quot;</span><span class="s0">,</span><span class="s1">&quot;staticInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizeMetadataPageToRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;generateImageMetadata&quot;</span><span class="s0">,</span><span class="s1">&quot;generateSitemaps&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;all&quot;</span><span class="s0">,</span><span class="s1">&quot;ROOT&quot;</span><span class="s0">,</span><span class="s1">&quot;hasAppPages&quot;</span><span class="s0">,</span><span class="s1">&quot;keys&quot;</span><span class="s0">,</span><span class="s1">&quot;root&quot;</span><span class="s0">,</span><span class="s1">&quot;opts&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppRouteRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;appDirLoader&quot;</span><span class="s0">,</span><span class="s1">&quot;loaderParams&quot;</span><span class="s0">,</span><span class="s1">&quot;Buffer&quot;</span><span class="s0">,</span><span class="s1">&quot;from&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;middlewareConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;cacheHandlers&quot;</span><span class="s0">,</span><span class="s1">&quot;experimental&quot;</span><span class="s0">,</span><span class="s1">&quot;import&quot;</span><span class="s0">,</span><span class="s1">&quot;layer&quot;</span><span class="s0">,</span><span class="s1">&quot;WEBPACK_LAYERS&quot;</span><span class="s0">,</span><span class="s1">&quot;reactServerComponents&quot;</span><span class="s0">,</span><span class="s1">&quot;isMiddlewareFile&quot;</span><span class="s0">,</span><span class="s1">&quot;matchers&quot;</span><span class="s0">,</span><span class="s1">&quot;middleware&quot;</span><span class="s0">,</span><span class="s1">&quot;encodeMatchers&quot;</span><span class="s0">,</span><span class="s1">&quot;isAPIRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;apiEdge&quot;</span><span class="s0">,</span><span class="s1">&quot;absolute500Path&quot;</span><span class="s0">,</span><span class="s1">&quot;absoluteAppPath&quot;</span><span class="s0">,</span><span class="s1">&quot;absoluteDocumentPath&quot;</span><span class="s0">,</span><span class="s1">&quot;absoluteErrorPath&quot;</span><span class="s0">,</span><span class="s1">&quot;dev&quot;</span><span class="s0">,</span><span class="s1">&quot;isServerComponent&quot;</span><span class="s0">,</span><span class="s1">&quot;stringifiedConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;sriEnabled&quot;</span><span class="s0">,</span><span class="s1">&quot;sri&quot;</span><span class="s0">,</span><span class="s1">&quot;algorithm&quot;</span><span class="s0">,</span><span class="s1">&quot;cacheHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;serverActions&quot;</span><span class="s0">,</span><span class="s1">&quot;serverSideRendering&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;filename&quot;</span><span class="s0">,</span><span class="s1">&quot;isEdgeServer&quot;</span><span class="s0">,</span><span class="s1">&quot;INSTRUMENTATION_HOOK_FILENAME&quot;</span><span class="s0">,</span><span class="s1">&quot;instrument&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;BUILTIN_APP_LOADER&quot;</span><span class="s0">,</span><span class="s1">&quot;NEXT_RSPACK&quot;</span><span class="s0">,</span><span class="s1">&quot;projectRoot&quot;</span><span class="s0">,</span><span class="s1">&quot;normalize&quot;</span><span class="s0">,</span><span class="s1">&quot;__dirname&quot;</span><span class="s0">,</span><span class="s1">&quot;loaderOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;pageLoader&quot;</span><span class="s0">,</span><span class="s1">&quot;params&quot;</span><span class="s0">,</span><span class="s1">&quot;isInstrumentationHookFile&quot;</span><span class="s0">,</span><span class="s1">&quot;onServer&quot;</span><span class="s0">,</span><span class="s1">&quot;onEdgeServer&quot;</span><span class="s0">,</span><span class="s1">&quot;pageRuntime&quot;</span><span class="s0">,</span><span class="s1">&quot;isEdgeRuntime&quot;</span><span class="s0">,</span><span class="s1">&quot;onClient&quot;</span><span class="s0">,</span><span class="s1">&quot;rootPaths&quot;</span><span class="s0">,</span><span class="s1">&quot;edgeServer&quot;</span><span class="s0">,</span><span class="s1">&quot;server&quot;</span><span class="s0">,</span><span class="s1">&quot;client&quot;</span><span class="s0">,</span><span class="s1">&quot;middlewareMatchers&quot;</span><span class="s0">,</span><span class="s1">&quot;appPathsPerRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;actualPath&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizeCatchAllRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;fromEntries&quot;</span><span class="s0">,</span><span class="s1">&quot;k&quot;</span><span class="s0">,</span><span class="s1">&quot;v&quot;</span><span class="s0">,</span><span class="s1">&quot;sort&quot;</span><span class="s0">,</span><span class="s1">&quot;getEntryHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">,</span><span class="s1">&quot;bundleFile&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizePagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;clientBundlePath&quot;</span><span class="s0">,</span><span class="s1">&quot;posix&quot;</span><span class="s0">,</span><span class="s1">&quot;serverBundlePath&quot;</span><span class="s0">,</span><span class="s1">&quot;rsc&quot;</span><span class="s0">,</span><span class="s1">&quot;RSC_MODULE_TYPES&quot;</span><span class="s0">,</span><span class="s1">&quot;regexp&quot;</span><span class="s0">,</span><span class="s1">&quot;originalSource&quot;</span><span class="s0">,</span><span class="s1">&quot;isInstrumentation&quot;</span><span class="s0">,</span><span class="s1">&quot;matchedAppPaths&quot;</span><span class="s0">,</span><span class="s1">&quot;basePath&quot;</span><span class="s0">,</span><span class="s1">&quot;assetPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;nextConfigOutput&quot;</span><span class="s0">,</span><span class="s1">&quot;output&quot;</span><span class="s0">,</span><span class="s1">&quot;encodeToBase64&quot;</span><span class="s0">,</span><span class="s1">&quot;isGlobalNotFoundEnabled&quot;</span><span class="s0">,</span><span class="s1">&quot;globalNotFound&quot;</span><span class="s0">,</span><span class="s1">&quot;bundlePath&quot;</span><span class="s0">,</span><span class="s1">&quot;getRouteLoaderEntry&quot;</span><span class="s0">,</span><span class="s1">&quot;kind&quot;</span><span class="s0">,</span><span class="s1">&quot;RouteKind&quot;</span><span class="s0">,</span><span class="s1">&quot;PAGES_API&quot;</span><span class="s0">,</span><span class="s1">&quot;isInternalComponent&quot;</span><span class="s0">,</span><span class="s1">&quot;isNonRoutePagesPage&quot;</span><span class="s0">,</span><span class="s1">&quot;entryHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;instrumentation&quot;</span><span class="s0">,</span><span class="s1">&quot;compilerType&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;hasAppDir&quot;</span><span class="s0">,</span><span class="s1">&quot;entry&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;isApi&quot;</span><span class="s0">,</span><span class="s1">&quot;isInstrumentationHookFilename&quot;</span><span class="s0">,</span><span class="s1">&quot;COMPILER_NAMES&quot;</span><span class="s0">,</span><span class="s1">&quot;apiNode&quot;</span><span class="s0">,</span><span class="s1">&quot;pagesDirNode&quot;</span><span class="s0">,</span><span class="s1">&quot;publicPath&quot;</span><span class="s0">,</span><span class="s1">&quot;isMiddlewareFilename&quot;</span><span class="s0">,</span><span class="s1">&quot;pagesDirEdge&quot;</span><span class="s0">,</span><span class="s1">&quot;library&quot;</span><span class="s0">,</span><span class="s1">&quot;EDGE_RUNTIME_WEBPACK&quot;</span><span class="s0">,</span><span class="s1">&quot;asyncChunks&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppLayer&quot;</span><span class="s0">,</span><span class="s1">&quot;CLIENT_STATIC_FILES_RUNTIME_MAIN_APP&quot;</span><span class="s0">,</span><span class="s1">&quot;APP_CLIENT_INTERNALS&quot;</span><span class="s0">,</span><span class="s1">&quot;CLIENT_STATIC_FILES_RUNTIME_POLYFILLS&quot;</span><span class="s0">,</span><span class="s1">&quot;CLIENT_STATIC_FILES_RUNTIME_MAIN&quot;</span><span class="s0">,</span><span class="s1">&quot;CLIENT_STATIC_FILES_RUNTIME_AMP&quot;</span><span class="s0">,</span><span class="s1">&quot;CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH&quot;</span><span class="s0">,</span><span class="s1">&quot;dependOn&quot;</span><span class="s0">,</span><span class="s1">&quot;appPagesBrowser&quot;</span><span class="s0">,</span><span class="s1">&quot;pagesDirBrowser&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>