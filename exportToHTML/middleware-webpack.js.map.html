<html>
<head>
<title>middleware-webpack.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
middleware-webpack.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/server/dev/middleware-webpack.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { findSourceMap, type SourceMap } from 'module'</span><span class="s3">\n</span><span class="s1">import path from 'path'</span><span class="s3">\n</span><span class="s1">import { fileURLToPath, pathToFileURL } from 'url'</span><span class="s3">\n</span><span class="s1">import { SourceMapConsumer } from 'next/dist/compiled/source-map08'</span><span class="s3">\n</span><span class="s1">import { getSourceMapFromFile } from './get-source-map-from-file'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">devirtualizeReactServerURL,</span><span class="s3">\n  </span><span class="s1">findApplicableSourceMapPayload,</span><span class="s3">\n  </span><span class="s1">sourceMapIgnoreListsEverything,</span><span class="s3">\n  </span><span class="s1">type BasicSourceMapPayload,</span><span class="s3">\n  </span><span class="s1">type ModernSourceMapPayload,</span><span class="s3">\n</span><span class="s1">} from '../lib/source-maps'</span><span class="s3">\n</span><span class="s1">import { openFileInEditor } from '../../next-devtools/server/launch-editor'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">getOriginalCodeFrame,</span><span class="s3">\n  </span><span class="s1">ignoreListAnonymousStackFramesIfSandwiched,</span><span class="s3">\n  </span><span class="s1">type StackFrame,</span><span class="s3">\n  </span><span class="s1">type IgnorableStackFrame,</span><span class="s3">\n  </span><span class="s1">type OriginalStackFrameResponse,</span><span class="s3">\n  </span><span class="s1">type OriginalStackFramesRequest,</span><span class="s3">\n  </span><span class="s1">type OriginalStackFramesResponse,</span><span class="s3">\n</span><span class="s1">} from '../../next-devtools/server/shared'</span><span class="s3">\n</span><span class="s1">import { middlewareResponse } from '../../next-devtools/server/middleware-response'</span><span class="s3">\n\n</span><span class="s1">import type { IncomingMessage, ServerResponse } from 'http'</span><span class="s3">\n</span><span class="s1">import type webpack from 'webpack'</span><span class="s3">\n</span><span class="s1">import type {</span><span class="s3">\n  </span><span class="s1">NullableMappedPosition,</span><span class="s3">\n  </span><span class="s1">RawSourceMap,</span><span class="s3">\n</span><span class="s1">} from 'next/dist/compiled/source-map08'</span><span class="s3">\n</span><span class="s1">import { formatFrameSourceFile } from '../../next-devtools/shared/webpack-module-path'</span><span class="s3">\n</span><span class="s1">import type { MappedPosition } from 'source-map'</span><span class="s3">\n</span><span class="s1">import { inspect } from 'util'</span><span class="s3">\n\n</span><span class="s1">function shouldIgnoreSource(sourceURL: string): boolean {</span><span class="s3">\n  </span><span class="s1">return (</span><span class="s3">\n    </span><span class="s1">sourceURL.includes('node_modules') ||</span><span class="s3">\n    </span><span class="s1">// Only relevant for when Next.js is symlinked e.g. in the Next.js monorepo</span><span class="s3">\n    </span><span class="s1">sourceURL.includes('next/dist') ||</span><span class="s3">\n    </span><span class="s1">sourceURL.startsWith('node:')</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">type IgnoredSources = Array&lt;{ url: string; ignored: boolean }&gt;</span><span class="s3">\n\n</span><span class="s1">type SourceAttributes = {</span><span class="s3">\n  </span><span class="s1">sourcePosition: NullableMappedPosition</span><span class="s3">\n  </span><span class="s1">sourceContent: string | null</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">type Source =</span><span class="s3">\n  </span><span class="s1">| {</span><span class="s3">\n      </span><span class="s1">type: 'file'</span><span class="s3">\n      </span><span class="s1">sourceMap: BasicSourceMapPayload</span><span class="s3">\n      </span><span class="s1">ignoredSources: IgnoredSources</span><span class="s3">\n      </span><span class="s1">moduleURL: string</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">| {</span><span class="s3">\n      </span><span class="s1">type: 'bundle'</span><span class="s3">\n      </span><span class="s1">sourceMap: BasicSourceMapPayload</span><span class="s3">\n      </span><span class="s1">ignoredSources: IgnoredSources</span><span class="s3">\n      </span><span class="s1">compilation: webpack.Compilation</span><span class="s3">\n      </span><span class="s1">moduleId: string</span><span class="s3">\n      </span><span class="s1">moduleURL: string</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function getModuleById(</span><span class="s3">\n  </span><span class="s1">id: string | undefined,</span><span class="s3">\n  </span><span class="s1">compilation: webpack.Compilation</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">const { chunkGraph, modules } = compilation</span><span class="s3">\n\n  </span><span class="s1">return [...modules].find((module) =&gt; chunkGraph.getModuleId(module) === id)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function findModuleNotFoundFromError(errorMessage: string | undefined) {</span><span class="s3">\n  </span><span class="s1">return errorMessage?.match(/'([^']+)' module/)?.[1]</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function getSourcePath(source: string) {</span><span class="s3">\n  </span><span class="s1">if (source.startsWith('file://')) {</span><span class="s3">\n    </span><span class="s1">return fileURLToPath(source)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return source.replace(/^(webpack:</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/|webpack:</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/|webpack:</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/_N_E</span><span class="s3">\\</span><span class="s1">/)/, '')</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @returns 1-based lines and 0-based columns</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">async function findOriginalSourcePositionAndContent(</span><span class="s3">\n  </span><span class="s1">sourceMap: ModernSourceMapPayload,</span><span class="s3">\n  </span><span class="s1">position: { line1: number | null; column1: number | null }</span><span class="s3">\n</span><span class="s1">): Promise&lt;SourceAttributes | null&gt; {</span><span class="s3">\n  </span><span class="s1">let consumer: SourceMapConsumer</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">consumer = await new SourceMapConsumer(sourceMap)</span><span class="s3">\n  </span><span class="s1">} catch (cause) {</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">new Error(</span><span class="s3">\n        </span><span class="s1">`${sourceMap.file}: Invalid source map. Only conformant source maps can be used to find the original code.`,</span><span class="s3">\n        </span><span class="s1">{ cause }</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">return null</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const sourcePosition = consumer.originalPositionFor({</span><span class="s3">\n      </span><span class="s1">line: position.line1 ?? 1,</span><span class="s3">\n      </span><span class="s1">// 0-based columns out requires 0-based columns in.</span><span class="s3">\n      </span><span class="s1">column: (position.column1 ?? 1) - 1,</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n\n    </span><span class="s1">if (!sourcePosition.source) {</span><span class="s3">\n      </span><span class="s1">return null</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const sourceContent: string | null =</span><span class="s3">\n      </span><span class="s1">consumer.sourceContentFor(</span><span class="s3">\n        </span><span class="s1">sourcePosition.source,</span><span class="s3">\n        </span><span class="s1">/* returnNullOnMissing */ true</span><span class="s3">\n      </span><span class="s1">) ?? null</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">sourcePosition,</span><span class="s3">\n      </span><span class="s1">sourceContent,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} finally {</span><span class="s3">\n    </span><span class="s1">consumer.destroy()</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getIgnoredSources(</span><span class="s3">\n  </span><span class="s1">sourceMap: RawSourceMap &amp; { ignoreList?: number[] }</span><span class="s3">\n</span><span class="s1">): IgnoredSources {</span><span class="s3">\n  </span><span class="s1">const ignoreList = new Set&lt;number&gt;(sourceMap.ignoreList ?? [])</span><span class="s3">\n  </span><span class="s1">const moduleFilenames = sourceMap?.sources ?? []</span><span class="s3">\n\n  </span><span class="s1">for (let index = 0; index &lt; moduleFilenames.length; index++) {</span><span class="s3">\n    </span><span class="s1">// bundlerFilePath case: webpack://./app/page.tsx</span><span class="s3">\n    </span><span class="s1">const webpackSourceURL = moduleFilenames[index]</span><span class="s3">\n    </span><span class="s1">// Format the path to the normal file path</span><span class="s3">\n    </span><span class="s1">const formattedFilePath = formatFrameSourceFile(webpackSourceURL)</span><span class="s3">\n    </span><span class="s1">if (shouldIgnoreSource(formattedFilePath)) {</span><span class="s3">\n      </span><span class="s1">ignoreList.add(index)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const ignoredSources = sourceMap.sources.map((source, index) =&gt; {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">url: source,</span><span class="s3">\n      </span><span class="s1">ignored: ignoreList.has(sourceMap.sources.indexOf(source)),</span><span class="s3">\n      </span><span class="s1">content: sourceMap.sourcesContent?.[index] ?? null,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">return ignoredSources</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function isIgnoredSource(</span><span class="s3">\n  </span><span class="s1">source: Source,</span><span class="s3">\n  </span><span class="s1">sourcePosition: MappedPosition | NullableMappedPosition</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">if (sourcePosition.source == null) {</span><span class="s3">\n    </span><span class="s1">return true</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">for (const ignoredSource of source.ignoredSources) {</span><span class="s3">\n    </span><span class="s1">if (ignoredSource.ignored &amp;&amp; ignoredSource.url === sourcePosition.source) {</span><span class="s3">\n      </span><span class="s1">return true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return false</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function findOriginalSourcePositionAndContentFromCompilation(</span><span class="s3">\n  </span><span class="s1">moduleId: string | undefined,</span><span class="s3">\n  </span><span class="s1">importedModule: string,</span><span class="s3">\n  </span><span class="s1">compilation: webpack.Compilation</span><span class="s3">\n</span><span class="s1">): SourceAttributes | null {</span><span class="s3">\n  </span><span class="s1">const module = getModuleById(moduleId, compilation)</span><span class="s3">\n  </span><span class="s1">return module?.buildInfo?.importLocByPath?.get(importedModule) ?? null</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export async function createOriginalStackFrame({</span><span class="s3">\n  </span><span class="s1">ignoredByDefault,</span><span class="s3">\n  </span><span class="s1">source,</span><span class="s3">\n  </span><span class="s1">rootDirectory,</span><span class="s3">\n  </span><span class="s1">frame,</span><span class="s3">\n  </span><span class="s1">errorMessage,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">/** setting this to true will not consult ignoreList */</span><span class="s3">\n  </span><span class="s1">ignoredByDefault: boolean</span><span class="s3">\n  </span><span class="s1">source: Source</span><span class="s3">\n  </span><span class="s1">rootDirectory: string</span><span class="s3">\n  </span><span class="s1">frame: StackFrame</span><span class="s3">\n  </span><span class="s1">errorMessage?: string</span><span class="s3">\n</span><span class="s1">}): Promise&lt;OriginalStackFrameResponse | null&gt; {</span><span class="s3">\n  </span><span class="s1">const moduleNotFound = findModuleNotFoundFromError(errorMessage)</span><span class="s3">\n  </span><span class="s1">const result = await (() =&gt; {</span><span class="s3">\n    </span><span class="s1">if (moduleNotFound) {</span><span class="s3">\n      </span><span class="s1">if (source.type === 'file') {</span><span class="s3">\n        </span><span class="s1">return undefined</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return findOriginalSourcePositionAndContentFromCompilation(</span><span class="s3">\n        </span><span class="s1">source.moduleId,</span><span class="s3">\n        </span><span class="s1">moduleNotFound,</span><span class="s3">\n        </span><span class="s1">source.compilation</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return findOriginalSourcePositionAndContent(source.sourceMap, frame)</span><span class="s3">\n  </span><span class="s1">})()</span><span class="s3">\n\n  </span><span class="s1">if (!result) {</span><span class="s3">\n    </span><span class="s1">return null</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const { sourcePosition, sourceContent } = result</span><span class="s3">\n\n  </span><span class="s1">if (!sourcePosition.source) {</span><span class="s3">\n    </span><span class="s1">return null</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const ignored =</span><span class="s3">\n    </span><span class="s1">ignoredByDefault ||</span><span class="s3">\n    </span><span class="s1">isIgnoredSource(source, sourcePosition) ||</span><span class="s3">\n    </span><span class="s1">// If the source file is externals, should be excluded even it's not ignored source.</span><span class="s3">\n    </span><span class="s1">// e.g. webpack://next/dist/.. needs to be ignored</span><span class="s3">\n    </span><span class="s1">shouldIgnoreSource(source.moduleURL)</span><span class="s3">\n\n  </span><span class="s1">const sourcePath = getSourcePath(</span><span class="s3">\n    </span><span class="s1">// When sourcePosition.source is the loader path the modulePath is generally better.</span><span class="s3">\n    </span><span class="s1">(sourcePosition.source!.includes('|')</span><span class="s3">\n      </span><span class="s1">? source.moduleURL</span><span class="s3">\n      </span><span class="s1">: sourcePosition.source) || source.moduleURL</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">const filePath = path.resolve(rootDirectory, sourcePath)</span><span class="s3">\n  </span><span class="s1">const resolvedFilePath = path.relative(rootDirectory, filePath)</span><span class="s3">\n\n  </span><span class="s1">const traced: IgnorableStackFrame = {</span><span class="s3">\n    </span><span class="s1">file: resolvedFilePath,</span><span class="s3">\n    </span><span class="s1">line1: sourcePosition.line,</span><span class="s3">\n    </span><span class="s1">column1: sourcePosition.column === null ? null : sourcePosition.column + 1,</span><span class="s3">\n    </span><span class="s1">methodName:</span><span class="s3">\n      </span><span class="s1">// We ignore the sourcemapped name since it won't be the correct name.</span><span class="s3">\n      </span><span class="s1">// The callsite will point to the column of the variable name instead of the</span><span class="s3">\n      </span><span class="s1">// name of the enclosing function.</span><span class="s3">\n      </span><span class="s1">// TODO(NDX-531): Spy on prepareStackTrace to get the enclosing line number for method name mapping.</span><span class="s3">\n      </span><span class="s1">// default is not a valid identifier in JS so webpack uses a custom variable when it's an unnamed default export</span><span class="s3">\n      </span><span class="s1">// Resolve it back to `default` for the method name if the source position didn't have the method.</span><span class="s3">\n      </span><span class="s1">frame.methodName</span><span class="s3">\n        </span><span class="s1">?.replace('__WEBPACK_DEFAULT_EXPORT__', 'default')</span><span class="s3">\n        </span><span class="s1">?.replace('__webpack_exports__.', ''),</span><span class="s3">\n    </span><span class="s1">arguments: [],</span><span class="s3">\n    </span><span class="s1">ignored,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">originalStackFrame: traced,</span><span class="s3">\n    </span><span class="s1">originalCodeFrame: getOriginalCodeFrame(traced, sourceContent),</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">async function getSourceMapFromCompilation(</span><span class="s3">\n  </span><span class="s1">id: string,</span><span class="s3">\n  </span><span class="s1">compilation: webpack.Compilation</span><span class="s3">\n</span><span class="s1">): Promise&lt;RawSourceMap | undefined&gt; {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const module = getModuleById(id, compilation)</span><span class="s3">\n\n    </span><span class="s1">if (!module) {</span><span class="s3">\n      </span><span class="s1">return undefined</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// @ts-expect-error The types for `CodeGenerationResults.get` require a</span><span class="s3">\n    </span><span class="s1">// runtime to be passed as second argument, but apparently it also works</span><span class="s3">\n    </span><span class="s1">// without it.</span><span class="s3">\n    </span><span class="s1">const codeGenerationResult = compilation.codeGenerationResults.get(module)</span><span class="s3">\n    </span><span class="s1">const source = codeGenerationResult?.sources.get('javascript')</span><span class="s3">\n\n    </span><span class="s1">return source?.map() ?? undefined</span><span class="s3">\n  </span><span class="s1">} catch (err) {</span><span class="s3">\n    </span><span class="s1">console.error(`Failed to lookup module by ID (</span><span class="s3">\&quot;</span><span class="s1">${id}</span><span class="s3">\&quot;</span><span class="s1">):`, err)</span><span class="s3">\n    </span><span class="s1">return undefined</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">async function getSource(</span><span class="s3">\n  </span><span class="s1">frame: {</span><span class="s3">\n    </span><span class="s1">file: string | null</span><span class="s3">\n    </span><span class="s1">line1: number | null</span><span class="s3">\n    </span><span class="s1">column1: number | null</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">options: {</span><span class="s3">\n    </span><span class="s1">getCompilations: () =&gt; webpack.Compilation[]</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">): Promise&lt;Source | undefined&gt; {</span><span class="s3">\n  </span><span class="s1">let sourceURL = frame.file ?? ''</span><span class="s3">\n  </span><span class="s1">const { getCompilations } = options</span><span class="s3">\n\n  </span><span class="s1">sourceURL = devirtualizeReactServerURL(sourceURL)</span><span class="s3">\n\n  </span><span class="s1">let nativeSourceMap: SourceMap | undefined</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">nativeSourceMap = findSourceMap(sourceURL)</span><span class="s3">\n  </span><span class="s1">} catch (cause) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\n      </span><span class="s1">`${sourceURL}: Invalid source map. Only conformant source maps can be used to find the original code.`,</span><span class="s3">\n      </span><span class="s1">{ cause }</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (nativeSourceMap !== undefined) {</span><span class="s3">\n    </span><span class="s1">const sourceMapPayload = nativeSourceMap.payload</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: 'file',</span><span class="s3">\n      </span><span class="s1">sourceMap: findApplicableSourceMapPayload(</span><span class="s3">\n        </span><span class="s1">(frame.line1 ?? 1) - 1,</span><span class="s3">\n        </span><span class="s1">(frame.column1 ?? 1) - 1,</span><span class="s3">\n        </span><span class="s1">sourceMapPayload</span><span class="s3">\n      </span><span class="s1">)!,</span><span class="s3">\n\n      </span><span class="s1">ignoredSources: getIgnoredSources(</span><span class="s3">\n        </span><span class="s1">// @ts-expect-error -- TODO: Support IndexSourceMap</span><span class="s3">\n        </span><span class="s1">sourceMapPayload</span><span class="s3">\n      </span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">moduleURL: sourceURL,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (path.isAbsolute(sourceURL)) {</span><span class="s3">\n    </span><span class="s1">sourceURL = pathToFileURL(sourceURL).href</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (sourceURL.startsWith('file:')) {</span><span class="s3">\n    </span><span class="s1">const sourceMap = await getSourceMapFromFile(sourceURL)</span><span class="s3">\n    </span><span class="s1">return sourceMap</span><span class="s3">\n      </span><span class="s1">? {</span><span class="s3">\n          </span><span class="s1">type: 'file',</span><span class="s3">\n          </span><span class="s1">sourceMap,</span><span class="s3">\n          </span><span class="s1">ignoredSources: getIgnoredSources(sourceMap),</span><span class="s3">\n          </span><span class="s1">moduleURL: sourceURL,</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">: undefined</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// webpack-internal:///./src/hello.tsx =&gt; ./src/hello.tsx</span><span class="s3">\n  </span><span class="s1">// webpack://_N_E/./src/hello.tsx =&gt; ./src/hello.tsx</span><span class="s3">\n  </span><span class="s1">const moduleId = sourceURL</span><span class="s3">\n    </span><span class="s1">.replace(/^(webpack-internal:</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/|webpack:</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/(_N_E</span><span class="s3">\\</span><span class="s1">/)?)/, '')</span><span class="s3">\n    </span><span class="s1">.replace(/</span><span class="s3">\\</span><span class="s1">?</span><span class="s3">\\</span><span class="s1">d+$/, '')</span><span class="s3">\n\n  </span><span class="s1">// (rsc)/./src/hello.tsx =&gt; ./src/hello.tsx</span><span class="s3">\n  </span><span class="s1">const moduleURL = moduleId.replace(/^(</span><span class="s3">\\</span><span class="s1">(.*</span><span class="s3">\\</span><span class="s1">)</span><span class="s3">\\</span><span class="s1">/?)/, '')</span><span class="s3">\n\n  </span><span class="s1">for (const compilation of getCompilations()) {</span><span class="s3">\n    </span><span class="s1">const sourceMap = await getSourceMapFromCompilation(moduleId, compilation)</span><span class="s3">\n\n    </span><span class="s1">if (sourceMap) {</span><span class="s3">\n      </span><span class="s1">const ignoredSources = getIgnoredSources(sourceMap)</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">type: 'bundle',</span><span class="s3">\n        </span><span class="s1">sourceMap,</span><span class="s3">\n        </span><span class="s1">compilation,</span><span class="s3">\n        </span><span class="s1">moduleId,</span><span class="s3">\n        </span><span class="s1">moduleURL,</span><span class="s3">\n        </span><span class="s1">ignoredSources,</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return undefined</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export async function getOriginalStackFrames({</span><span class="s3">\n  </span><span class="s1">isServer,</span><span class="s3">\n  </span><span class="s1">isEdgeServer,</span><span class="s3">\n  </span><span class="s1">isAppDirectory,</span><span class="s3">\n  </span><span class="s1">frames,</span><span class="s3">\n  </span><span class="s1">clientStats,</span><span class="s3">\n  </span><span class="s1">serverStats,</span><span class="s3">\n  </span><span class="s1">edgeServerStats,</span><span class="s3">\n  </span><span class="s1">rootDirectory,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">isServer: boolean</span><span class="s3">\n  </span><span class="s1">isEdgeServer: boolean</span><span class="s3">\n  </span><span class="s1">isAppDirectory: boolean</span><span class="s3">\n  </span><span class="s1">frames: readonly StackFrame[]</span><span class="s3">\n  </span><span class="s1">clientStats: () =&gt; webpack.Stats | null</span><span class="s3">\n  </span><span class="s1">serverStats: () =&gt; webpack.Stats | null</span><span class="s3">\n  </span><span class="s1">edgeServerStats: () =&gt; webpack.Stats | null</span><span class="s3">\n  </span><span class="s1">rootDirectory: string</span><span class="s3">\n</span><span class="s1">}): Promise&lt;OriginalStackFramesResponse&gt; {</span><span class="s3">\n  </span><span class="s1">const frameResponses = await Promise.all(</span><span class="s3">\n    </span><span class="s1">frames.map(</span><span class="s3">\n      </span><span class="s1">(frame): Promise&lt;OriginalStackFramesResponse[number]&gt; =&gt;</span><span class="s3">\n        </span><span class="s1">getOriginalStackFrame({</span><span class="s3">\n          </span><span class="s1">isServer,</span><span class="s3">\n          </span><span class="s1">isEdgeServer,</span><span class="s3">\n          </span><span class="s1">isAppDirectory,</span><span class="s3">\n          </span><span class="s1">frame,</span><span class="s3">\n          </span><span class="s1">clientStats,</span><span class="s3">\n          </span><span class="s1">serverStats,</span><span class="s3">\n          </span><span class="s1">edgeServerStats,</span><span class="s3">\n          </span><span class="s1">rootDirectory,</span><span class="s3">\n        </span><span class="s1">}).then(</span><span class="s3">\n          </span><span class="s1">(value) =&gt; {</span><span class="s3">\n            </span><span class="s1">return {</span><span class="s3">\n              </span><span class="s1">status: 'fulfilled',</span><span class="s3">\n              </span><span class="s1">value,</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n          </span><span class="s1">(reason) =&gt; {</span><span class="s3">\n            </span><span class="s1">return {</span><span class="s3">\n              </span><span class="s1">status: 'rejected',</span><span class="s3">\n              </span><span class="s1">reason: inspect(reason, { colors: false }),</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">ignoreListAnonymousStackFramesIfSandwiched(frameResponses)</span><span class="s3">\n\n  </span><span class="s1">return frameResponses</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">async function getOriginalStackFrame({</span><span class="s3">\n  </span><span class="s1">isServer,</span><span class="s3">\n  </span><span class="s1">isEdgeServer,</span><span class="s3">\n  </span><span class="s1">isAppDirectory,</span><span class="s3">\n  </span><span class="s1">frame,</span><span class="s3">\n  </span><span class="s1">clientStats,</span><span class="s3">\n  </span><span class="s1">serverStats,</span><span class="s3">\n  </span><span class="s1">edgeServerStats,</span><span class="s3">\n  </span><span class="s1">rootDirectory,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">isServer: boolean</span><span class="s3">\n  </span><span class="s1">isEdgeServer: boolean</span><span class="s3">\n  </span><span class="s1">isAppDirectory: boolean</span><span class="s3">\n  </span><span class="s1">frame: StackFrame</span><span class="s3">\n  </span><span class="s1">clientStats: () =&gt; webpack.Stats | null</span><span class="s3">\n  </span><span class="s1">serverStats: () =&gt; webpack.Stats | null</span><span class="s3">\n  </span><span class="s1">edgeServerStats: () =&gt; webpack.Stats | null</span><span class="s3">\n  </span><span class="s1">rootDirectory: string</span><span class="s3">\n</span><span class="s1">}): Promise&lt;OriginalStackFrameResponse&gt; {</span><span class="s3">\n  </span><span class="s1">const filename = frame.file ?? ''</span><span class="s3">\n  </span><span class="s1">const source = await getSource(frame, {</span><span class="s3">\n    </span><span class="s1">getCompilations: () =&gt; {</span><span class="s3">\n      </span><span class="s1">const compilations: webpack.Compilation[] = []</span><span class="s3">\n\n      </span><span class="s1">// Try Client Compilation first. In `pages` we leverage</span><span class="s3">\n      </span><span class="s1">// `isClientError` to check. In `app` it depends on if it's a server</span><span class="s3">\n      </span><span class="s1">// / client component and when the code throws. E.g. during HTML</span><span class="s3">\n      </span><span class="s1">// rendering it's the server/edge compilation.</span><span class="s3">\n      </span><span class="s1">if ((!isEdgeServer &amp;&amp; !isServer) || isAppDirectory) {</span><span class="s3">\n        </span><span class="s1">const compilation = clientStats()?.compilation</span><span class="s3">\n\n        </span><span class="s1">if (compilation) {</span><span class="s3">\n          </span><span class="s1">compilations.push(compilation)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// Try Server Compilation. In `pages` this could be something</span><span class="s3">\n      </span><span class="s1">// imported in getServerSideProps/getStaticProps as the code for</span><span class="s3">\n      </span><span class="s1">// those is tree-shaken. In `app` this finds server components and</span><span class="s3">\n      </span><span class="s1">// code that was imported from a server component. It also covers</span><span class="s3">\n      </span><span class="s1">// when client component code throws during HTML rendering.</span><span class="s3">\n      </span><span class="s1">if (isServer || isAppDirectory) {</span><span class="s3">\n        </span><span class="s1">const compilation = serverStats()?.compilation</span><span class="s3">\n\n        </span><span class="s1">if (compilation) {</span><span class="s3">\n          </span><span class="s1">compilations.push(compilation)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// Try Edge Server Compilation. Both cases are the same as Server</span><span class="s3">\n      </span><span class="s1">// Compilation, main difference is that it covers `runtime: 'edge'`</span><span class="s3">\n      </span><span class="s1">// pages/app routes.</span><span class="s3">\n      </span><span class="s1">if (isEdgeServer || isAppDirectory) {</span><span class="s3">\n        </span><span class="s1">const compilation = edgeServerStats()?.compilation</span><span class="s3">\n\n        </span><span class="s1">if (compilation) {</span><span class="s3">\n          </span><span class="s1">compilations.push(compilation)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return compilations</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">let defaultNormalizedStackFrameLocation = frame.file</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">defaultNormalizedStackFrameLocation !== null &amp;&amp;</span><span class="s3">\n    </span><span class="s1">defaultNormalizedStackFrameLocation.startsWith('file://')</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">defaultNormalizedStackFrameLocation = path.relative(</span><span class="s3">\n      </span><span class="s1">rootDirectory,</span><span class="s3">\n      </span><span class="s1">fileURLToPath(defaultNormalizedStackFrameLocation)</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">// This stack frame is used for the one that couldn't locate the source or source mapped frame</span><span class="s3">\n  </span><span class="s1">const defaultStackFrame: IgnorableStackFrame = {</span><span class="s3">\n    </span><span class="s1">file: defaultNormalizedStackFrameLocation,</span><span class="s3">\n    </span><span class="s1">line1: frame.line1,</span><span class="s3">\n    </span><span class="s1">column1: frame.column1,</span><span class="s3">\n    </span><span class="s1">methodName: frame.methodName,</span><span class="s3">\n    </span><span class="s1">ignored: shouldIgnoreSource(filename),</span><span class="s3">\n    </span><span class="s1">arguments: [],</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!source) {</span><span class="s3">\n    </span><span class="s1">// return original stack frame with no source map</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">originalStackFrame: defaultStackFrame,</span><span class="s3">\n      </span><span class="s1">originalCodeFrame: null,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">defaultStackFrame.ignored ||= sourceMapIgnoreListsEverything(source.sourceMap)</span><span class="s3">\n\n  </span><span class="s1">const originalStackFrameResponse = await createOriginalStackFrame({</span><span class="s3">\n    </span><span class="s1">ignoredByDefault: defaultStackFrame.ignored,</span><span class="s3">\n    </span><span class="s1">frame,</span><span class="s3">\n    </span><span class="s1">source,</span><span class="s3">\n    </span><span class="s1">rootDirectory,</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">if (!originalStackFrameResponse) {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">originalStackFrame: defaultStackFrame,</span><span class="s3">\n      </span><span class="s1">originalCodeFrame: null,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return originalStackFrameResponse</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getOverlayMiddleware(options: {</span><span class="s3">\n  </span><span class="s1">rootDirectory: string</span><span class="s3">\n  </span><span class="s1">isSrcDir: boolean</span><span class="s3">\n  </span><span class="s1">clientStats: () =&gt; webpack.Stats | null</span><span class="s3">\n  </span><span class="s1">serverStats: () =&gt; webpack.Stats | null</span><span class="s3">\n  </span><span class="s1">edgeServerStats: () =&gt; webpack.Stats | null</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">const { rootDirectory, isSrcDir, clientStats, serverStats, edgeServerStats } =</span><span class="s3">\n    </span><span class="s1">options</span><span class="s3">\n\n  </span><span class="s1">return async function (</span><span class="s3">\n    </span><span class="s1">req: IncomingMessage,</span><span class="s3">\n    </span><span class="s1">res: ServerResponse,</span><span class="s3">\n    </span><span class="s1">next: () =&gt; void</span><span class="s3">\n  </span><span class="s1">): Promise&lt;void&gt; {</span><span class="s3">\n    </span><span class="s1">const { pathname, searchParams } = new URL(`http://n${req.url}`)</span><span class="s3">\n\n    </span><span class="s1">if (pathname === '/__nextjs_original-stack-frames') {</span><span class="s3">\n      </span><span class="s1">if (req.method !== 'POST') {</span><span class="s3">\n        </span><span class="s1">return middlewareResponse.badRequest(res)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const body = await new Promise&lt;string&gt;((resolve, reject) =&gt; {</span><span class="s3">\n        </span><span class="s1">let data = ''</span><span class="s3">\n        </span><span class="s1">req.on('data', (chunk) =&gt; {</span><span class="s3">\n          </span><span class="s1">data += chunk</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">req.on('end', () =&gt; resolve(data))</span><span class="s3">\n        </span><span class="s1">req.on('error', reject)</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">const { frames, isServer, isEdgeServer, isAppDirectory } = JSON.parse(</span><span class="s3">\n          </span><span class="s1">body</span><span class="s3">\n        </span><span class="s1">) as OriginalStackFramesRequest</span><span class="s3">\n\n        </span><span class="s1">return middlewareResponse.json(</span><span class="s3">\n          </span><span class="s1">res,</span><span class="s3">\n          </span><span class="s1">await getOriginalStackFrames({</span><span class="s3">\n            </span><span class="s1">isServer,</span><span class="s3">\n            </span><span class="s1">isEdgeServer,</span><span class="s3">\n            </span><span class="s1">isAppDirectory,</span><span class="s3">\n            </span><span class="s1">frames,</span><span class="s3">\n            </span><span class="s1">clientStats,</span><span class="s3">\n            </span><span class="s1">serverStats,</span><span class="s3">\n            </span><span class="s1">edgeServerStats,</span><span class="s3">\n            </span><span class="s1">rootDirectory,</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">} catch (err) {</span><span class="s3">\n        </span><span class="s1">return middlewareResponse.badRequest(res)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (pathname === '/__nextjs_launch-editor') {</span><span class="s3">\n      </span><span class="s1">const frame = {</span><span class="s3">\n        </span><span class="s1">file: searchParams.get('file') as string,</span><span class="s3">\n        </span><span class="s1">methodName: searchParams.get('methodName') as string,</span><span class="s3">\n        </span><span class="s1">line1: parseInt(searchParams.get('line1') ?? '1', 10) || 1,</span><span class="s3">\n        </span><span class="s1">column1: parseInt(searchParams.get('column1') ?? '1', 10) || 1,</span><span class="s3">\n        </span><span class="s1">arguments: searchParams.getAll('arguments').filter(Boolean),</span><span class="s3">\n      </span><span class="s1">} satisfies StackFrame</span><span class="s3">\n\n      </span><span class="s1">if (!frame.file) return middlewareResponse.badRequest(res)</span><span class="s3">\n\n      </span><span class="s1">let openEditorResult</span><span class="s3">\n      </span><span class="s1">const isAppRelativePath = searchParams.get('isAppRelativePath') === '1'</span><span class="s3">\n      </span><span class="s1">if (isAppRelativePath) {</span><span class="s3">\n        </span><span class="s1">const relativeFilePath = searchParams.get('file') || ''</span><span class="s3">\n        </span><span class="s1">const appPath = path.join(</span><span class="s3">\n          </span><span class="s1">'app',</span><span class="s3">\n          </span><span class="s1">isSrcDir ? 'src' : '',</span><span class="s3">\n          </span><span class="s1">relativeFilePath</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">openEditorResult = await openFileInEditor(appPath, 1, 1, rootDirectory)</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">// TODO: How do we differentiate layers and actual file paths with round brackets?</span><span class="s3">\n        </span><span class="s1">// frame files may start with their webpack layer, like (middleware)/middleware.js</span><span class="s3">\n        </span><span class="s1">const filePath = frame.file.replace(/^</span><span class="s3">\\</span><span class="s1">([^)]+</span><span class="s3">\\</span><span class="s1">)</span><span class="s3">\\</span><span class="s1">//, '')</span><span class="s3">\n        </span><span class="s1">openEditorResult = await openFileInEditor(</span><span class="s3">\n          </span><span class="s1">filePath,</span><span class="s3">\n          </span><span class="s1">frame.line1,</span><span class="s3">\n          </span><span class="s1">frame.column1 ?? 1,</span><span class="s3">\n          </span><span class="s1">rootDirectory</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (openEditorResult.error) {</span><span class="s3">\n        </span><span class="s1">console.error('Failed to launch editor:', openEditorResult.error)</span><span class="s3">\n        </span><span class="s1">return middlewareResponse.internalServerError(</span><span class="s3">\n          </span><span class="s1">res,</span><span class="s3">\n          </span><span class="s1">openEditorResult.error</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (!openEditorResult.found) {</span><span class="s3">\n        </span><span class="s1">return middlewareResponse.notFound(res)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return middlewareResponse.noContent(res)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return next()</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getSourceMapMiddleware(options: {</span><span class="s3">\n  </span><span class="s1">clientStats: () =&gt; webpack.Stats | null</span><span class="s3">\n  </span><span class="s1">serverStats: () =&gt; webpack.Stats | null</span><span class="s3">\n  </span><span class="s1">edgeServerStats: () =&gt; webpack.Stats | null</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">const { clientStats, serverStats, edgeServerStats } = options</span><span class="s3">\n\n  </span><span class="s1">return async function (</span><span class="s3">\n    </span><span class="s1">req: IncomingMessage,</span><span class="s3">\n    </span><span class="s1">res: ServerResponse,</span><span class="s3">\n    </span><span class="s1">next: () =&gt; void</span><span class="s3">\n  </span><span class="s1">): Promise&lt;void&gt; {</span><span class="s3">\n    </span><span class="s1">const { pathname, searchParams } = new URL(`http://n${req.url}`)</span><span class="s3">\n\n    </span><span class="s1">if (pathname !== '/__nextjs_source-map') {</span><span class="s3">\n      </span><span class="s1">return next()</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const filename = searchParams.get('filename')</span><span class="s3">\n\n    </span><span class="s1">if (!filename) {</span><span class="s3">\n      </span><span class="s1">return middlewareResponse.badRequest(res)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">let source: Source | undefined</span><span class="s3">\n\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">source = await getSource(</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n          </span><span class="s1">file: filename,</span><span class="s3">\n          </span><span class="s1">// Webpack doesn't use Index Source Maps</span><span class="s3">\n          </span><span class="s1">line1: null,</span><span class="s3">\n          </span><span class="s1">column1: null,</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n          </span><span class="s1">getCompilations: () =&gt; {</span><span class="s3">\n            </span><span class="s1">const compilations: webpack.Compilation[] = []</span><span class="s3">\n\n            </span><span class="s1">for (const stats of [</span><span class="s3">\n              </span><span class="s1">clientStats(),</span><span class="s3">\n              </span><span class="s1">serverStats(),</span><span class="s3">\n              </span><span class="s1">edgeServerStats(),</span><span class="s3">\n            </span><span class="s1">]) {</span><span class="s3">\n              </span><span class="s1">if (stats?.compilation) {</span><span class="s3">\n                </span><span class="s1">compilations.push(stats.compilation)</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">return compilations</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">} catch (error) {</span><span class="s3">\n      </span><span class="s1">return middlewareResponse.internalServerError(res, error)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!source) {</span><span class="s3">\n      </span><span class="s1">return middlewareResponse.noContent(res)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return middlewareResponse.json(res, source.sourceMap)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;createOriginalStackFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;getIgnoredSources&quot;</span><span class="s0">,</span><span class="s1">&quot;getOriginalStackFrames&quot;</span><span class="s0">,</span><span class="s1">&quot;getOverlayMiddleware&quot;</span><span class="s0">,</span><span class="s1">&quot;getSourceMapMiddleware&quot;</span><span class="s0">,</span><span class="s1">&quot;shouldIgnoreSource&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceURL&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;startsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;getModuleById&quot;</span><span class="s0">,</span><span class="s1">&quot;id&quot;</span><span class="s0">,</span><span class="s1">&quot;compilation&quot;</span><span class="s0">,</span><span class="s1">&quot;chunkGraph&quot;</span><span class="s0">,</span><span class="s1">&quot;modules&quot;</span><span class="s0">,</span><span class="s1">&quot;find&quot;</span><span class="s0">,</span><span class="s1">&quot;module&quot;</span><span class="s0">,</span><span class="s1">&quot;getModuleId&quot;</span><span class="s0">,</span><span class="s1">&quot;findModuleNotFoundFromError&quot;</span><span class="s0">,</span><span class="s1">&quot;errorMessage&quot;</span><span class="s0">,</span><span class="s1">&quot;match&quot;</span><span class="s0">,</span><span class="s1">&quot;getSourcePath&quot;</span><span class="s0">,</span><span class="s1">&quot;source&quot;</span><span class="s0">,</span><span class="s1">&quot;fileURLToPath&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;findOriginalSourcePositionAndContent&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceMap&quot;</span><span class="s0">,</span><span class="s1">&quot;position&quot;</span><span class="s0">,</span><span class="s1">&quot;consumer&quot;</span><span class="s0">,</span><span class="s1">&quot;SourceMapConsumer&quot;</span><span class="s0">,</span><span class="s1">&quot;cause&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcePosition&quot;</span><span class="s0">,</span><span class="s1">&quot;originalPositionFor&quot;</span><span class="s0">,</span><span class="s1">&quot;line&quot;</span><span class="s0">,</span><span class="s1">&quot;line1&quot;</span><span class="s0">,</span><span class="s1">&quot;column&quot;</span><span class="s0">,</span><span class="s1">&quot;column1&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceContent&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceContentFor&quot;</span><span class="s0">,</span><span class="s1">&quot;destroy&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">,</span><span class="s1">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">&quot;moduleFilenames&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">,</span><span class="s1">&quot;index&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;webpackSourceURL&quot;</span><span class="s0">,</span><span class="s1">&quot;formattedFilePath&quot;</span><span class="s0">,</span><span class="s1">&quot;formatFrameSourceFile&quot;</span><span class="s0">,</span><span class="s1">&quot;add&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoredSources&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;url&quot;</span><span class="s0">,</span><span class="s1">&quot;ignored&quot;</span><span class="s0">,</span><span class="s1">&quot;has&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOf&quot;</span><span class="s0">,</span><span class="s1">&quot;content&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">,</span><span class="s1">&quot;isIgnoredSource&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoredSource&quot;</span><span class="s0">,</span><span class="s1">&quot;findOriginalSourcePositionAndContentFromCompilation&quot;</span><span class="s0">,</span><span class="s1">&quot;moduleId&quot;</span><span class="s0">,</span><span class="s1">&quot;importedModule&quot;</span><span class="s0">,</span><span class="s1">&quot;buildInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;importLocByPath&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoredByDefault&quot;</span><span class="s0">,</span><span class="s1">&quot;rootDirectory&quot;</span><span class="s0">,</span><span class="s1">&quot;frame&quot;</span><span class="s0">,</span><span class="s1">&quot;moduleNotFound&quot;</span><span class="s0">,</span><span class="s1">&quot;result&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;moduleURL&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcePath&quot;</span><span class="s0">,</span><span class="s1">&quot;filePath&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedFilePath&quot;</span><span class="s0">,</span><span class="s1">&quot;relative&quot;</span><span class="s0">,</span><span class="s1">&quot;traced&quot;</span><span class="s0">,</span><span class="s1">&quot;methodName&quot;</span><span class="s0">,</span><span class="s1">&quot;arguments&quot;</span><span class="s0">,</span><span class="s1">&quot;originalStackFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;originalCodeFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;getOriginalCodeFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;getSourceMapFromCompilation&quot;</span><span class="s0">,</span><span class="s1">&quot;codeGenerationResult&quot;</span><span class="s0">,</span><span class="s1">&quot;codeGenerationResults&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;getSource&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;getCompilations&quot;</span><span class="s0">,</span><span class="s1">&quot;devirtualizeReactServerURL&quot;</span><span class="s0">,</span><span class="s1">&quot;nativeSourceMap&quot;</span><span class="s0">,</span><span class="s1">&quot;findSourceMap&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceMapPayload&quot;</span><span class="s0">,</span><span class="s1">&quot;payload&quot;</span><span class="s0">,</span><span class="s1">&quot;findApplicableSourceMapPayload&quot;</span><span class="s0">,</span><span class="s1">&quot;isAbsolute&quot;</span><span class="s0">,</span><span class="s1">&quot;pathToFileURL&quot;</span><span class="s0">,</span><span class="s1">&quot;href&quot;</span><span class="s0">,</span><span class="s1">&quot;getSourceMapFromFile&quot;</span><span class="s0">,</span><span class="s1">&quot;isServer&quot;</span><span class="s0">,</span><span class="s1">&quot;isEdgeServer&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppDirectory&quot;</span><span class="s0">,</span><span class="s1">&quot;frames&quot;</span><span class="s0">,</span><span class="s1">&quot;clientStats&quot;</span><span class="s0">,</span><span class="s1">&quot;serverStats&quot;</span><span class="s0">,</span><span class="s1">&quot;edgeServerStats&quot;</span><span class="s0">,</span><span class="s1">&quot;frameResponses&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;all&quot;</span><span class="s0">,</span><span class="s1">&quot;getOriginalStackFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;status&quot;</span><span class="s0">,</span><span class="s1">&quot;reason&quot;</span><span class="s0">,</span><span class="s1">&quot;inspect&quot;</span><span class="s0">,</span><span class="s1">&quot;colors&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreListAnonymousStackFramesIfSandwiched&quot;</span><span class="s0">,</span><span class="s1">&quot;filename&quot;</span><span class="s0">,</span><span class="s1">&quot;compilations&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;defaultNormalizedStackFrameLocation&quot;</span><span class="s0">,</span><span class="s1">&quot;defaultStackFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceMapIgnoreListsEverything&quot;</span><span class="s0">,</span><span class="s1">&quot;originalStackFrameResponse&quot;</span><span class="s0">,</span><span class="s1">&quot;isSrcDir&quot;</span><span class="s0">,</span><span class="s1">&quot;req&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;next&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;searchParams&quot;</span><span class="s0">,</span><span class="s1">&quot;URL&quot;</span><span class="s0">,</span><span class="s1">&quot;method&quot;</span><span class="s0">,</span><span class="s1">&quot;middlewareResponse&quot;</span><span class="s0">,</span><span class="s1">&quot;badRequest&quot;</span><span class="s0">,</span><span class="s1">&quot;body&quot;</span><span class="s0">,</span><span class="s1">&quot;reject&quot;</span><span class="s0">,</span><span class="s1">&quot;data&quot;</span><span class="s0">,</span><span class="s1">&quot;on&quot;</span><span class="s0">,</span><span class="s1">&quot;chunk&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;json&quot;</span><span class="s0">,</span><span class="s1">&quot;parseInt&quot;</span><span class="s0">,</span><span class="s1">&quot;getAll&quot;</span><span class="s0">,</span><span class="s1">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">&quot;Boolean&quot;</span><span class="s0">,</span><span class="s1">&quot;openEditorResult&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppRelativePath&quot;</span><span class="s0">,</span><span class="s1">&quot;relativeFilePath&quot;</span><span class="s0">,</span><span class="s1">&quot;appPath&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;openFileInEditor&quot;</span><span class="s0">,</span><span class="s1">&quot;internalServerError&quot;</span><span class="s0">,</span><span class="s1">&quot;found&quot;</span><span class="s0">,</span><span class="s1">&quot;notFound&quot;</span><span class="s0">,</span><span class="s1">&quot;noContent&quot;</span><span class="s0">,</span><span class="s1">&quot;stats&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>