<html>
<head>
<title>detector.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #0033b3;}
.s3 { color: #1750eb;}
.s4 { color: #264eff;}
.s5 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
detector.js</font>
</center></td></tr></table>
<pre><span class="s0">(()=&gt;{</span><span class="s1">&quot;use strict&quot;</span><span class="s0">;</span><span class="s2">var </span><span class="s0">t={</span><span class="s3">436</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.BMP=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);e.BMP={validate:t=&gt;(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">2</span><span class="s0">)===</span><span class="s1">&quot;BM&quot;</span><span class="s0">,calculate:t=&gt;({height:Math.abs((</span><span class="s3">0</span><span class="s0">,r.readInt32LE)(t,</span><span class="s3">22</span><span class="s0">)),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt32LE)(t,</span><span class="s3">18</span><span class="s0">)})}},</span><span class="s3">67</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.CUR=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">845</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">o=</span><span class="s3">2</span><span class="s0">;e.CUR={validate(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,i.readUInt16LE)(t,</span><span class="s3">0</span><span class="s0">);</span><span class="s2">const </span><span class="s0">n=(</span><span class="s3">0</span><span class="s0">,i.readUInt16LE)(t,</span><span class="s3">4</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(e!==</span><span class="s3">0</span><span class="s0">||n===</span><span class="s3">0</span><span class="s0">)</span><span class="s2">return false</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=(</span><span class="s3">0</span><span class="s0">,i.readUInt16LE)(t,</span><span class="s3">2</span><span class="s0">);</span><span class="s2">return </span><span class="s0">r===o},calculate:t=&gt;r.ICO.calculate(t)}},</span><span class="s3">400</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.DDS=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);e.DDS={validate:t=&gt;(</span><span class="s3">0</span><span class="s0">,r.readUInt32LE)(t,</span><span class="s3">0</span><span class="s0">)===</span><span class="s3">542327876</span><span class="s0">,calculate:t=&gt;({height:(</span><span class="s3">0</span><span class="s0">,r.readUInt32LE)(t,</span><span class="s3">12</span><span class="s0">),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt32LE)(t,</span><span class="s3">16</span><span class="s0">)})}},</span><span class="s3">197</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.GIF=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=</span><span class="s4">/^GIF8[79]a/</span><span class="s0">;e.GIF={validate:t=&gt;i.test((</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">6</span><span class="s0">)),calculate:t=&gt;({height:(</span><span class="s3">0</span><span class="s0">,r.readUInt16LE)(t,</span><span class="s3">8</span><span class="s0">),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt16LE)(t,</span><span class="s3">6</span><span class="s0">)})}},</span><span class="s3">974</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.HEIF=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i={avif:</span><span class="s1">&quot;avif&quot;</span><span class="s0">,mif1:</span><span class="s1">&quot;heif&quot;</span><span class="s0">,msf1:</span><span class="s1">&quot;heif&quot;</span><span class="s0">,heic:</span><span class="s1">&quot;heic&quot;</span><span class="s0">,heix:</span><span class="s1">&quot;heic&quot;</span><span class="s0">,hevc:</span><span class="s1">&quot;heic&quot;</span><span class="s0">,hevx:</span><span class="s1">&quot;heic&quot;</span><span class="s0">};e.HEIF={validate(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">4</span><span class="s0">,</span><span class="s3">8</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(e!==</span><span class="s1">&quot;ftyp&quot;</span><span class="s0">)</span><span class="s2">return false</span><span class="s0">;</span><span class="s2">const </span><span class="s0">n=(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;ftyp&quot;</span><span class="s0">,</span><span class="s3">0</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(!n)</span><span class="s2">return false</span><span class="s0">;</span><span class="s2">const </span><span class="s0">o=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,n.offset+</span><span class="s3">8</span><span class="s0">,n.offset+</span><span class="s3">12</span><span class="s0">);</span><span class="s2">return </span><span class="s0">o </span><span class="s2">in </span><span class="s0">i},calculate(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;meta&quot;</span><span class="s0">,</span><span class="s3">0</span><span class="s0">);</span><span class="s2">const </span><span class="s0">n=e&amp;&amp;(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;iprp&quot;</span><span class="s0">,e.offset+</span><span class="s3">12</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=n&amp;&amp;(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;ipco&quot;</span><span class="s0">,n.offset+</span><span class="s3">8</span><span class="s0">);</span><span class="s2">const </span><span class="s0">o=i&amp;&amp;(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;ispe&quot;</span><span class="s0">,i.offset+</span><span class="s3">8</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(o){</span><span class="s2">return</span><span class="s0">{height:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,o.offset+</span><span class="s3">16</span><span class="s0">),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,o.offset+</span><span class="s3">12</span><span class="s0">),type:(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">8</span><span class="s0">,</span><span class="s3">12</span><span class="s0">)}}</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Invalid HEIF, no size found&quot;</span><span class="s0">)}}},</span><span class="s3">512</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.ICNS=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=</span><span class="s3">4</span><span class="s0">+</span><span class="s3">4</span><span class="s0">;</span><span class="s2">const </span><span class="s0">o=</span><span class="s3">4</span><span class="s0">;</span><span class="s2">const </span><span class="s0">s=</span><span class="s3">4</span><span class="s0">;</span><span class="s2">const </span><span class="s0">c={ICON:</span><span class="s3">32</span><span class="s0">,</span><span class="s1">&quot;ICN#&quot;</span><span class="s0">:</span><span class="s3">32</span><span class="s0">,</span><span class="s1">&quot;icm#&quot;</span><span class="s0">:</span><span class="s3">16</span><span class="s0">,icm4:</span><span class="s3">16</span><span class="s0">,icm8:</span><span class="s3">16</span><span class="s0">,</span><span class="s1">&quot;ics#&quot;</span><span class="s0">:</span><span class="s3">16</span><span class="s0">,ics4:</span><span class="s3">16</span><span class="s0">,ics8:</span><span class="s3">16</span><span class="s0">,is32:</span><span class="s3">16</span><span class="s0">,s8mk:</span><span class="s3">16</span><span class="s0">,icp4:</span><span class="s3">16</span><span class="s0">,icl4:</span><span class="s3">32</span><span class="s0">,icl8:</span><span class="s3">32</span><span class="s0">,il32:</span><span class="s3">32</span><span class="s0">,l8mk:</span><span class="s3">32</span><span class="s0">,icp5:</span><span class="s3">32</span><span class="s0">,ic11:</span><span class="s3">32</span><span class="s0">,ich4:</span><span class="s3">48</span><span class="s0">,ich8:</span><span class="s3">48</span><span class="s0">,ih32:</span><span class="s3">48</span><span class="s0">,h8mk:</span><span class="s3">48</span><span class="s0">,icp6:</span><span class="s3">64</span><span class="s0">,ic12:</span><span class="s3">32</span><span class="s0">,it32:</span><span class="s3">128</span><span class="s0">,t8mk:</span><span class="s3">128</span><span class="s0">,ic07:</span><span class="s3">128</span><span class="s0">,ic08:</span><span class="s3">256</span><span class="s0">,ic13:</span><span class="s3">256</span><span class="s0">,ic09:</span><span class="s3">512</span><span class="s0">,ic14:</span><span class="s3">512</span><span class="s0">,ic10:</span><span class="s3">1024</span><span class="s0">};</span><span class="s2">function </span><span class="s0">readImageHeader(t,e){</span><span class="s2">const </span><span class="s0">n=e+s;</span><span class="s2">return</span><span class="s0">[(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,e,n),(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,n)]}</span><span class="s2">function </span><span class="s0">getImageSize(t){</span><span class="s2">const </span><span class="s0">e=c[t];</span><span class="s2">return</span><span class="s0">{width:e,height:e,type:t}}e.ICNS={validate:t=&gt;(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">4</span><span class="s0">)===</span><span class="s1">&quot;icns&quot;</span><span class="s0">,calculate(t){</span><span class="s2">const </span><span class="s0">e=t.length;</span><span class="s2">const </span><span class="s0">n=(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,o);</span><span class="s2">let </span><span class="s0">s=i;</span><span class="s2">let </span><span class="s0">c=readImageHeader(t,s);</span><span class="s2">let </span><span class="s0">a=getImageSize(c[</span><span class="s3">0</span><span class="s0">]);s+=c[</span><span class="s3">1</span><span class="s0">];</span><span class="s2">if</span><span class="s0">(s===n)</span><span class="s2">return </span><span class="s0">a;</span><span class="s2">const </span><span class="s0">d={height:a.height,images:[a],width:a.width};</span><span class="s2">while</span><span class="s0">(s&lt;n&amp;&amp;s&lt;e){c=readImageHeader(t,s);a=getImageSize(c[</span><span class="s3">0</span><span class="s0">]);s+=c[</span><span class="s3">1</span><span class="s0">];d.images.push(a)}</span><span class="s2">return </span><span class="s0">d}}},</span><span class="s3">845</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.ICO=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=</span><span class="s3">1</span><span class="s0">;</span><span class="s2">const </span><span class="s0">o=</span><span class="s3">2</span><span class="s0">+</span><span class="s3">2</span><span class="s0">+</span><span class="s3">2</span><span class="s0">;</span><span class="s2">const </span><span class="s0">s=</span><span class="s3">1</span><span class="s0">+</span><span class="s3">1</span><span class="s0">+</span><span class="s3">1</span><span class="s0">+</span><span class="s3">1</span><span class="s0">+</span><span class="s3">2</span><span class="s0">+</span><span class="s3">2</span><span class="s0">+</span><span class="s3">4</span><span class="s0">+</span><span class="s3">4</span><span class="s0">;</span><span class="s2">function </span><span class="s0">getSizeFromOffset(t,e){</span><span class="s2">const </span><span class="s0">n=t[e];</span><span class="s2">return </span><span class="s0">n===</span><span class="s3">0</span><span class="s0">?</span><span class="s3">256</span><span class="s0">:n}</span><span class="s2">function </span><span class="s0">getImageSize(t,e){</span><span class="s2">const </span><span class="s0">n=o+e*s;</span><span class="s2">return</span><span class="s0">{height:getSizeFromOffset(t,n+</span><span class="s3">1</span><span class="s0">),width:getSizeFromOffset(t,n)}}e.ICO={validate(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.readUInt16LE)(t,</span><span class="s3">0</span><span class="s0">);</span><span class="s2">const </span><span class="s0">n=(</span><span class="s3">0</span><span class="s0">,r.readUInt16LE)(t,</span><span class="s3">4</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(e!==</span><span class="s3">0</span><span class="s0">||n===</span><span class="s3">0</span><span class="s0">)</span><span class="s2">return false</span><span class="s0">;</span><span class="s2">const </span><span class="s0">o=(</span><span class="s3">0</span><span class="s0">,r.readUInt16LE)(t,</span><span class="s3">2</span><span class="s0">);</span><span class="s2">return </span><span class="s0">o===i},calculate(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.readUInt16LE)(t,</span><span class="s3">4</span><span class="s0">);</span><span class="s2">const </span><span class="s0">n=getImageSize(t,</span><span class="s3">0</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(e===</span><span class="s3">1</span><span class="s0">)</span><span class="s2">return </span><span class="s0">n;</span><span class="s2">const </span><span class="s0">i=[n];</span><span class="s2">for</span><span class="s0">(</span><span class="s2">let </span><span class="s0">n=</span><span class="s3">1</span><span class="s0">;n&lt;e;n+=</span><span class="s3">1</span><span class="s0">){i.push(getImageSize(t,n))}</span><span class="s2">return</span><span class="s0">{height:n.height,images:i,width:n.width}}}},</span><span class="s3">229</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.typeHandlers=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">436</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=n(</span><span class="s3">67</span><span class="s0">);</span><span class="s2">const </span><span class="s0">o=n(</span><span class="s3">400</span><span class="s0">);</span><span class="s2">const </span><span class="s0">s=n(</span><span class="s3">197</span><span class="s0">);</span><span class="s2">const </span><span class="s0">c=n(</span><span class="s3">974</span><span class="s0">);</span><span class="s2">const </span><span class="s0">a=n(</span><span class="s3">512</span><span class="s0">);</span><span class="s2">const </span><span class="s0">d=n(</span><span class="s3">845</span><span class="s0">);</span><span class="s2">const </span><span class="s0">f=n(</span><span class="s3">885</span><span class="s0">);</span><span class="s2">const </span><span class="s0">u=n(</span><span class="s3">530</span><span class="s0">);</span><span class="s2">const </span><span class="s0">l=n(</span><span class="s3">934</span><span class="s0">);</span><span class="s2">const </span><span class="s0">h=n(</span><span class="s3">245</span><span class="s0">);</span><span class="s2">const </span><span class="s0">g=n(</span><span class="s3">33</span><span class="s0">);</span><span class="s2">const </span><span class="s0">I=n(</span><span class="s3">105</span><span class="s0">);</span><span class="s2">const </span><span class="s0">p=n(</span><span class="s3">210</span><span class="s0">);</span><span class="s2">const </span><span class="s0">U=n(</span><span class="s3">448</span><span class="s0">);</span><span class="s2">const </span><span class="s0">w=n(</span><span class="s3">136</span><span class="s0">);</span><span class="s2">const </span><span class="s0">v=n(</span><span class="s3">414</span><span class="s0">);</span><span class="s2">const </span><span class="s0">E=n(</span><span class="s3">753</span><span class="s0">);</span><span class="s2">const </span><span class="s0">m=n(</span><span class="s3">940</span><span class="s0">);</span><span class="s2">const </span><span class="s0">B=n(</span><span class="s3">226</span><span class="s0">);e.typeHandlers={bmp:r.BMP,cur:i.CUR,dds:o.DDS,gif:s.GIF,heif:c.HEIF,icns:a.ICNS,ico:d.ICO,j2c:f.J2C,jp2:u.JP2,jpg:l.JPG,jxl:h.JXL,</span><span class="s1">&quot;jxl-stream&quot;</span><span class="s0">:g.JXLStream,ktx:I.KTX,png:p.PNG,pnm:U.PNM,psd:w.PSD,svg:v.SVG,tga:E.TGA,tiff:m.TIFF,webp:B.WEBP}},</span><span class="s3">885</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.J2C=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);e.J2C={validate:t=&gt;(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,</span><span class="s3">0</span><span class="s0">)===</span><span class="s3">4283432785</span><span class="s0">,calculate:t=&gt;({height:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,</span><span class="s3">12</span><span class="s0">),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,</span><span class="s3">8</span><span class="s0">)})}},</span><span class="s3">530</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.JP2=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);e.JP2={validate(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">4</span><span class="s0">,</span><span class="s3">8</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(e!==</span><span class="s1">&quot;jP  &quot;</span><span class="s0">)</span><span class="s2">return false</span><span class="s0">;</span><span class="s2">const </span><span class="s0">n=(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;ftyp&quot;</span><span class="s0">,</span><span class="s3">0</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(!n)</span><span class="s2">return false</span><span class="s0">;</span><span class="s2">const </span><span class="s0">i=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,n.offset+</span><span class="s3">8</span><span class="s0">,n.offset+</span><span class="s3">12</span><span class="s0">);</span><span class="s2">return </span><span class="s0">i===</span><span class="s1">&quot;jp2 &quot;</span><span class="s0">},calculate(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;jp2h&quot;</span><span class="s0">,</span><span class="s3">0</span><span class="s0">);</span><span class="s2">const </span><span class="s0">n=e&amp;&amp;(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;ihdr&quot;</span><span class="s0">,e.offset+</span><span class="s3">8</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(n){</span><span class="s2">return</span><span class="s0">{height:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,n.offset+</span><span class="s3">8</span><span class="s0">),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,n.offset+</span><span class="s3">12</span><span class="s0">)}}</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Unsupported JPEG 2000 format&quot;</span><span class="s0">)}}},</span><span class="s3">934</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.JPG=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=</span><span class="s1">&quot;45786966&quot;</span><span class="s0">;</span><span class="s2">const </span><span class="s0">o=</span><span class="s3">2</span><span class="s0">;</span><span class="s2">const </span><span class="s0">s=</span><span class="s3">6</span><span class="s0">;</span><span class="s2">const </span><span class="s0">c=</span><span class="s3">2</span><span class="s0">;</span><span class="s2">const </span><span class="s0">a=</span><span class="s1">&quot;4d4d&quot;</span><span class="s0">;</span><span class="s2">const </span><span class="s0">d=</span><span class="s1">&quot;4949&quot;</span><span class="s0">;</span><span class="s2">const </span><span class="s0">f=</span><span class="s3">12</span><span class="s0">;</span><span class="s2">const </span><span class="s0">u=</span><span class="s3">2</span><span class="s0">;</span><span class="s2">function </span><span class="s0">isEXIF(t){</span><span class="s2">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,r.toHexString)(t,</span><span class="s3">2</span><span class="s0">,</span><span class="s3">6</span><span class="s0">)===i}</span><span class="s2">function </span><span class="s0">extractSize(t,e){</span><span class="s2">return</span><span class="s0">{height:(</span><span class="s3">0</span><span class="s0">,r.readUInt16BE)(t,e),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt16BE)(t,e+</span><span class="s3">2</span><span class="s0">)}}</span><span class="s2">function </span><span class="s0">extractOrientation(t,e){</span><span class="s2">const </span><span class="s0">n=</span><span class="s3">8</span><span class="s0">;</span><span class="s2">const </span><span class="s0">i=s+n;</span><span class="s2">const </span><span class="s0">o=(</span><span class="s3">0</span><span class="s0">,r.readUInt)(t,</span><span class="s3">16</span><span class="s0">,i,e);</span><span class="s2">for</span><span class="s0">(</span><span class="s2">let </span><span class="s0">n=</span><span class="s3">0</span><span class="s0">;n&lt;o;n++){</span><span class="s2">const </span><span class="s0">o=i+u+n*f;</span><span class="s2">const </span><span class="s0">s=o+f;</span><span class="s2">if</span><span class="s0">(o&gt;t.length){</span><span class="s2">return</span><span class="s0">}</span><span class="s2">const </span><span class="s0">c=t.slice(o,s);</span><span class="s2">const </span><span class="s0">a=(</span><span class="s3">0</span><span class="s0">,r.readUInt)(c,</span><span class="s3">16</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,e);</span><span class="s2">if</span><span class="s0">(a===</span><span class="s3">274</span><span class="s0">){</span><span class="s2">const </span><span class="s0">t=(</span><span class="s3">0</span><span class="s0">,r.readUInt)(c,</span><span class="s3">16</span><span class="s0">,</span><span class="s3">2</span><span class="s0">,e);</span><span class="s2">if</span><span class="s0">(t!==</span><span class="s3">3</span><span class="s0">){</span><span class="s2">return</span><span class="s0">}</span><span class="s2">const </span><span class="s0">n=(</span><span class="s3">0</span><span class="s0">,r.readUInt)(c,</span><span class="s3">32</span><span class="s0">,</span><span class="s3">4</span><span class="s0">,e);</span><span class="s2">if</span><span class="s0">(n!==</span><span class="s3">1</span><span class="s0">){</span><span class="s2">return</span><span class="s0">}</span><span class="s2">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,r.readUInt)(c,</span><span class="s3">16</span><span class="s0">,</span><span class="s3">8</span><span class="s0">,e)}}}</span><span class="s2">function </span><span class="s0">validateExifBlock(t,e){</span><span class="s2">const </span><span class="s0">n=t.slice(o,e);</span><span class="s2">const </span><span class="s0">i=(</span><span class="s3">0</span><span class="s0">,r.toHexString)(n,s,s+c);</span><span class="s2">const </span><span class="s0">f=i===a;</span><span class="s2">const </span><span class="s0">u=i===d;</span><span class="s2">if</span><span class="s0">(f||u){</span><span class="s2">return </span><span class="s0">extractOrientation(n,f)}}</span><span class="s2">function </span><span class="s0">validateInput(t,e){</span><span class="s2">if</span><span class="s0">(e&gt;t.length){</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Corrupt JPG, exceeded buffer limits&quot;</span><span class="s0">)}}e.JPG={validate:t=&gt;(</span><span class="s3">0</span><span class="s0">,r.toHexString)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">2</span><span class="s0">)===</span><span class="s1">&quot;ffd8&quot;</span><span class="s0">,calculate(t){t=t.slice(</span><span class="s3">4</span><span class="s0">);</span><span class="s2">let </span><span class="s0">e;</span><span class="s2">let </span><span class="s0">n;</span><span class="s2">while</span><span class="s0">(t.length){</span><span class="s2">const </span><span class="s0">i=(</span><span class="s3">0</span><span class="s0">,r.readUInt16BE)(t,</span><span class="s3">0</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(t[i]!==</span><span class="s3">255</span><span class="s0">){t=t.slice(</span><span class="s3">1</span><span class="s0">);</span><span class="s2">continue</span><span class="s0">}</span><span class="s2">if</span><span class="s0">(isEXIF(t)){e=validateExifBlock(t,i)}validateInput(t,i);n=t[i+</span><span class="s3">1</span><span class="s0">];</span><span class="s2">if</span><span class="s0">(n===</span><span class="s3">192</span><span class="s0">||n===</span><span class="s3">193</span><span class="s0">||n===</span><span class="s3">194</span><span class="s0">){</span><span class="s2">const </span><span class="s0">n=extractSize(t,i+</span><span class="s3">5</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(!e){</span><span class="s2">return </span><span class="s0">n}</span><span class="s2">return</span><span class="s0">{height:n.height,orientation:e,width:n.width}}t=t.slice(i+</span><span class="s3">2</span><span class="s0">)}</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Invalid JPG, no size found&quot;</span><span class="s0">)}}},</span><span class="s3">33</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.JXLStream=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=n(</span><span class="s3">112</span><span class="s0">);</span><span class="s2">function </span><span class="s0">calculateImageDimension(t,e){</span><span class="s2">if</span><span class="s0">(e){</span><span class="s2">return </span><span class="s3">8</span><span class="s0">*(</span><span class="s3">1</span><span class="s0">+t.getBits(</span><span class="s3">5</span><span class="s0">))}</span><span class="s2">else</span><span class="s0">{</span><span class="s2">const </span><span class="s0">e=t.getBits(</span><span class="s3">2</span><span class="s0">);</span><span class="s2">const </span><span class="s0">n=[</span><span class="s3">9</span><span class="s0">,</span><span class="s3">13</span><span class="s0">,</span><span class="s3">18</span><span class="s0">,</span><span class="s3">30</span><span class="s0">][e];</span><span class="s2">return </span><span class="s3">1</span><span class="s0">+t.getBits(n)}}</span><span class="s2">function </span><span class="s0">calculateImageWidth(t,e,n,r){</span><span class="s2">if</span><span class="s0">(e&amp;&amp;n===</span><span class="s3">0</span><span class="s0">){</span><span class="s2">return </span><span class="s3">8</span><span class="s0">*(</span><span class="s3">1</span><span class="s0">+t.getBits(</span><span class="s3">5</span><span class="s0">))}</span><span class="s2">else if</span><span class="s0">(n===</span><span class="s3">0</span><span class="s0">){</span><span class="s2">return </span><span class="s0">calculateImageDimension(t,</span><span class="s2">false</span><span class="s0">)}</span><span class="s2">else</span><span class="s0">{</span><span class="s2">const </span><span class="s0">t=[</span><span class="s3">1</span><span class="s0">,</span><span class="s3">1.2</span><span class="s0">,</span><span class="s3">4</span><span class="s0">/</span><span class="s3">3</span><span class="s0">,</span><span class="s3">1.5</span><span class="s0">,</span><span class="s3">16</span><span class="s0">/</span><span class="s3">9</span><span class="s0">,</span><span class="s3">5</span><span class="s0">/</span><span class="s3">4</span><span class="s0">,</span><span class="s3">2</span><span class="s0">];</span><span class="s2">return </span><span class="s0">Math.floor(r*t[n-</span><span class="s3">1</span><span class="s0">])}}e.JXLStream={validate:t=&gt;(</span><span class="s3">0</span><span class="s0">,r.toHexString)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">2</span><span class="s0">)===</span><span class="s1">&quot;ff0a&quot;</span><span class="s0">,calculate(t){</span><span class="s2">const </span><span class="s0">e=</span><span class="s2">new </span><span class="s0">i.BitReader(t,</span><span class="s1">&quot;little-endian&quot;</span><span class="s0">);</span><span class="s2">const </span><span class="s0">n=e.getBits(</span><span class="s3">1</span><span class="s0">)===</span><span class="s3">1</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=calculateImageDimension(e,n);</span><span class="s2">const </span><span class="s0">o=e.getBits(</span><span class="s3">3</span><span class="s0">);</span><span class="s2">const </span><span class="s0">s=calculateImageWidth(e,n,o,r);</span><span class="s2">return</span><span class="s0">{width:s,height:r}}}},</span><span class="s3">245</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.JXL=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=n(</span><span class="s3">33</span><span class="s0">);</span><span class="s2">function </span><span class="s0">extractCodestream(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;jxlc&quot;</span><span class="s0">,</span><span class="s3">0</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(e){</span><span class="s2">return </span><span class="s0">t.slice(e.offset+</span><span class="s3">8</span><span class="s0">,e.offset+e.size)}</span><span class="s2">const </span><span class="s0">n=extractPartialStreams(t);</span><span class="s2">if</span><span class="s0">(n.length&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s2">return </span><span class="s0">concatenateCodestreams(n)}</span><span class="s2">return </span><span class="s0">undefined}</span><span class="s2">function </span><span class="s0">extractPartialStreams(t){</span><span class="s2">const </span><span class="s0">e=[];</span><span class="s2">let </span><span class="s0">n=</span><span class="s3">0</span><span class="s0">;</span><span class="s2">while</span><span class="s0">(n&lt;t.length){</span><span class="s2">const </span><span class="s0">i=(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;jxlp&quot;</span><span class="s0">,n);</span><span class="s2">if</span><span class="s0">(!i)</span><span class="s2">break</span><span class="s0">;e.push(t.slice(i.offset+</span><span class="s3">12</span><span class="s0">,i.offset+i.size));n=i.offset+i.size}</span><span class="s2">return </span><span class="s0">e}</span><span class="s2">function </span><span class="s0">concatenateCodestreams(t){</span><span class="s2">const </span><span class="s0">e=t.reduce(((t,e)=&gt;t+e.length),</span><span class="s3">0</span><span class="s0">);</span><span class="s2">const </span><span class="s0">n=</span><span class="s2">new </span><span class="s0">Uint8Array(e);</span><span class="s2">let </span><span class="s0">r=</span><span class="s3">0</span><span class="s0">;</span><span class="s2">for</span><span class="s0">(</span><span class="s2">const </span><span class="s0">e of t){n.set(e,r);r+=e.length}</span><span class="s2">return </span><span class="s0">n}e.JXL={validate:t=&gt;{</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">4</span><span class="s0">,</span><span class="s3">8</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(e!==</span><span class="s1">&quot;JXL &quot;</span><span class="s0">)</span><span class="s2">return false</span><span class="s0">;</span><span class="s2">const </span><span class="s0">n=(</span><span class="s3">0</span><span class="s0">,r.findBox)(t,</span><span class="s1">&quot;ftyp&quot;</span><span class="s0">,</span><span class="s3">0</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(!n)</span><span class="s2">return false</span><span class="s0">;</span><span class="s2">const </span><span class="s0">i=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,n.offset+</span><span class="s3">8</span><span class="s0">,n.offset+</span><span class="s3">12</span><span class="s0">);</span><span class="s2">return </span><span class="s0">i===</span><span class="s1">&quot;jxl &quot;</span><span class="s0">},calculate(t){</span><span class="s2">const </span><span class="s0">e=extractCodestream(t);</span><span class="s2">if</span><span class="s0">(e)</span><span class="s2">return </span><span class="s0">i.JXLStream.calculate(e);</span><span class="s2">throw new </span><span class="s0">Error(</span><span class="s1">&quot;No codestream found in JXL container&quot;</span><span class="s0">)}}},</span><span class="s3">105</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.KTX=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);e.KTX={validate:t=&gt;{</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">1</span><span class="s0">,</span><span class="s3">7</span><span class="s0">);</span><span class="s2">return</span><span class="s0">[</span><span class="s1">&quot;KTX 11&quot;</span><span class="s0">,</span><span class="s1">&quot;KTX 20&quot;</span><span class="s0">].includes(e)},calculate:t=&gt;{</span><span class="s2">const </span><span class="s0">e=t[</span><span class="s3">5</span><span class="s0">]===</span><span class="s3">49</span><span class="s0">?</span><span class="s1">&quot;ktx&quot;</span><span class="s0">:</span><span class="s1">&quot;ktx2&quot;</span><span class="s0">;</span><span class="s2">const </span><span class="s0">n=e===</span><span class="s1">&quot;ktx&quot;</span><span class="s0">?</span><span class="s3">36</span><span class="s0">:</span><span class="s3">20</span><span class="s0">;</span><span class="s2">return</span><span class="s0">{height:(</span><span class="s3">0</span><span class="s0">,r.readUInt32LE)(t,n+</span><span class="s3">4</span><span class="s0">),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt32LE)(t,n),type:e}}}},</span><span class="s3">210</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.PNG=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=</span><span class="s1">&quot;PNG</span><span class="s5">\r\n</span><span class="s1"></span><span class="s5">\n</span><span class="s1">&quot;</span><span class="s0">;</span><span class="s2">const </span><span class="s0">o=</span><span class="s1">&quot;IHDR&quot;</span><span class="s0">;</span><span class="s2">const </span><span class="s0">s=</span><span class="s1">&quot;CgBI&quot;</span><span class="s0">;e.PNG={validate(t){</span><span class="s2">if</span><span class="s0">(i===(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">1</span><span class="s0">,</span><span class="s3">8</span><span class="s0">)){</span><span class="s2">let </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">12</span><span class="s0">,</span><span class="s3">16</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(e===s){e=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">28</span><span class="s0">,</span><span class="s3">32</span><span class="s0">)}</span><span class="s2">if</span><span class="s0">(e!==o){</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Invalid PNG&quot;</span><span class="s0">)}</span><span class="s2">return true</span><span class="s0">}</span><span class="s2">return false</span><span class="s0">},calculate(t){</span><span class="s2">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">12</span><span class="s0">,</span><span class="s3">16</span><span class="s0">)===s){</span><span class="s2">return</span><span class="s0">{height:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,</span><span class="s3">36</span><span class="s0">),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,</span><span class="s3">32</span><span class="s0">)}}</span><span class="s2">return</span><span class="s0">{height:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,</span><span class="s3">20</span><span class="s0">),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,</span><span class="s3">16</span><span class="s0">)}}}},</span><span class="s3">448</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.PNM=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i={P1:</span><span class="s1">&quot;pbm/ascii&quot;</span><span class="s0">,P2:</span><span class="s1">&quot;pgm/ascii&quot;</span><span class="s0">,P3:</span><span class="s1">&quot;ppm/ascii&quot;</span><span class="s0">,P4:</span><span class="s1">&quot;pbm&quot;</span><span class="s0">,P5:</span><span class="s1">&quot;pgm&quot;</span><span class="s0">,P6:</span><span class="s1">&quot;ppm&quot;</span><span class="s0">,P7:</span><span class="s1">&quot;pam&quot;</span><span class="s0">,PF:</span><span class="s1">&quot;pfm&quot;</span><span class="s0">};</span><span class="s2">const </span><span class="s0">o={</span><span class="s2">default</span><span class="s0">:t=&gt;{</span><span class="s2">let </span><span class="s0">e=[];</span><span class="s2">while</span><span class="s0">(t.length&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s2">const </span><span class="s0">n=t.shift();</span><span class="s2">if</span><span class="s0">(n[</span><span class="s3">0</span><span class="s0">]===</span><span class="s1">&quot;#&quot;</span><span class="s0">){</span><span class="s2">continue</span><span class="s0">}e=n.split(</span><span class="s1">&quot; &quot;</span><span class="s0">);</span><span class="s2">break</span><span class="s0">}</span><span class="s2">if</span><span class="s0">(e.length===</span><span class="s3">2</span><span class="s0">){</span><span class="s2">return</span><span class="s0">{height:parseInt(e[</span><span class="s3">1</span><span class="s0">],</span><span class="s3">10</span><span class="s0">),width:parseInt(e[</span><span class="s3">0</span><span class="s0">],</span><span class="s3">10</span><span class="s0">)}}</span><span class="s2">else</span><span class="s0">{</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Invalid PNM&quot;</span><span class="s0">)}},pam:t=&gt;{</span><span class="s2">const </span><span class="s0">e={};</span><span class="s2">while</span><span class="s0">(t.length&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s2">const </span><span class="s0">n=t.shift();</span><span class="s2">if</span><span class="s0">(n.length&gt;</span><span class="s3">16</span><span class="s0">||n.charCodeAt(</span><span class="s3">0</span><span class="s0">)&gt;</span><span class="s3">128</span><span class="s0">){</span><span class="s2">continue</span><span class="s0">}</span><span class="s2">const</span><span class="s0">[r,i]=n.split(</span><span class="s1">&quot; &quot;</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(r&amp;&amp;i){e[r.toLowerCase()]=parseInt(i,</span><span class="s3">10</span><span class="s0">)}</span><span class="s2">if</span><span class="s0">(e.height&amp;&amp;e.width){</span><span class="s2">break</span><span class="s0">}}</span><span class="s2">if</span><span class="s0">(e.height&amp;&amp;e.width){</span><span class="s2">return</span><span class="s0">{height:e.height,width:e.width}}</span><span class="s2">else</span><span class="s0">{</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Invalid PAM&quot;</span><span class="s0">)}}};e.PNM={validate:t=&gt;(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">2</span><span class="s0">)</span><span class="s2">in </span><span class="s0">i,calculate(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">2</span><span class="s0">);</span><span class="s2">const </span><span class="s0">n=i[e];</span><span class="s2">const </span><span class="s0">s=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">3</span><span class="s0">).split(</span><span class="s4">/[\r\n]+/</span><span class="s0">);</span><span class="s2">const </span><span class="s0">c=o[n]||o.default;</span><span class="s2">return </span><span class="s0">c(s)}}},</span><span class="s3">136</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.PSD=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);e.PSD={validate:t=&gt;(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">4</span><span class="s0">)===</span><span class="s1">&quot;8BPS&quot;</span><span class="s0">,calculate:t=&gt;({height:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,</span><span class="s3">14</span><span class="s0">),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt32BE)(t,</span><span class="s3">18</span><span class="s0">)})}},</span><span class="s3">414</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.SVG=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=</span><span class="s4">/&lt;svg\s([^&gt;&quot;']|&quot;[^&quot;]*&quot;|'[^']*')*&gt;/</span><span class="s0">;</span><span class="s2">const </span><span class="s0">o={height:</span><span class="s4">/\sheight=(['&quot;])([^%]+?)\1/</span><span class="s0">,root:i,viewbox:</span><span class="s4">/\sviewBox=(['&quot;])(.+?)\1/i</span><span class="s0">,width:</span><span class="s4">/\swidth=(['&quot;])([^%]+?)\1/</span><span class="s0">};</span><span class="s2">const </span><span class="s0">s=</span><span class="s3">2.54</span><span class="s0">;</span><span class="s2">const </span><span class="s0">c={</span><span class="s2">in</span><span class="s0">:</span><span class="s3">96</span><span class="s0">,cm:</span><span class="s3">96</span><span class="s0">/s,em:</span><span class="s3">16</span><span class="s0">,ex:</span><span class="s3">8</span><span class="s0">,m:</span><span class="s3">96</span><span class="s0">/s*</span><span class="s3">100</span><span class="s0">,mm:</span><span class="s3">96</span><span class="s0">/s/</span><span class="s3">10</span><span class="s0">,pc:</span><span class="s3">96</span><span class="s0">/</span><span class="s3">72</span><span class="s0">/</span><span class="s3">12</span><span class="s0">,pt:</span><span class="s3">96</span><span class="s0">/</span><span class="s3">72</span><span class="s0">,px:</span><span class="s3">1</span><span class="s0">};</span><span class="s2">const </span><span class="s0">a=</span><span class="s2">new </span><span class="s0">RegExp(</span><span class="s1">`^([0-9.]+(?:e</span><span class="s5">\\</span><span class="s1">d+)?)(</span><span class="s0">${Object.keys(c).join(</span><span class="s1">&quot;|&quot;</span><span class="s0">)}</span><span class="s1">)?$`</span><span class="s0">);</span><span class="s2">function </span><span class="s0">parseLength(t){</span><span class="s2">const </span><span class="s0">e=a.exec(t);</span><span class="s2">if</span><span class="s0">(!e){</span><span class="s2">return </span><span class="s0">undefined}</span><span class="s2">return </span><span class="s0">Math.round(Number(e[</span><span class="s3">1</span><span class="s0">])*(c[e[</span><span class="s3">2</span><span class="s0">]]||</span><span class="s3">1</span><span class="s0">))}</span><span class="s2">function </span><span class="s0">parseViewbox(t){</span><span class="s2">const </span><span class="s0">e=t.split(</span><span class="s1">&quot; &quot;</span><span class="s0">);</span><span class="s2">return</span><span class="s0">{height:parseLength(e[</span><span class="s3">3</span><span class="s0">]),width:parseLength(e[</span><span class="s3">2</span><span class="s0">])}}</span><span class="s2">function </span><span class="s0">parseAttributes(t){</span><span class="s2">const </span><span class="s0">e=t.match(o.width);</span><span class="s2">const </span><span class="s0">n=t.match(o.height);</span><span class="s2">const </span><span class="s0">r=t.match(o.viewbox);</span><span class="s2">return</span><span class="s0">{height:n&amp;&amp;parseLength(n[</span><span class="s3">2</span><span class="s0">]),viewbox:r&amp;&amp;parseViewbox(r[</span><span class="s3">2</span><span class="s0">]),width:e&amp;&amp;parseLength(e[</span><span class="s3">2</span><span class="s0">])}}</span><span class="s2">function </span><span class="s0">calculateByDimensions(t){</span><span class="s2">return</span><span class="s0">{height:t.height,width:t.width}}</span><span class="s2">function </span><span class="s0">calculateByViewbox(t,e){</span><span class="s2">const </span><span class="s0">n=e.width/e.height;</span><span class="s2">if</span><span class="s0">(t.width){</span><span class="s2">return</span><span class="s0">{height:Math.floor(t.width/n),width:t.width}}</span><span class="s2">if</span><span class="s0">(t.height){</span><span class="s2">return</span><span class="s0">{height:t.height,width:Math.floor(t.height*n)}}</span><span class="s2">return</span><span class="s0">{height:e.height,width:e.width}}e.SVG={validate:t=&gt;i.test((</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">1e3</span><span class="s0">)),calculate(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t).match(o.root);</span><span class="s2">if</span><span class="s0">(e){</span><span class="s2">const </span><span class="s0">t=parseAttributes(e[</span><span class="s3">0</span><span class="s0">]);</span><span class="s2">if</span><span class="s0">(t.width&amp;&amp;t.height){</span><span class="s2">return </span><span class="s0">calculateByDimensions(t)}</span><span class="s2">if</span><span class="s0">(t.viewbox){</span><span class="s2">return </span><span class="s0">calculateByViewbox(t,t.viewbox)}}</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Invalid SVG&quot;</span><span class="s0">)}}},</span><span class="s3">753</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.TGA=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);e.TGA={validate(t){</span><span class="s2">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,r.readUInt16LE)(t,</span><span class="s3">0</span><span class="s0">)===</span><span class="s3">0</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,r.readUInt16LE)(t,</span><span class="s3">4</span><span class="s0">)===</span><span class="s3">0</span><span class="s0">},calculate(t){</span><span class="s2">return</span><span class="s0">{height:(</span><span class="s3">0</span><span class="s0">,r.readUInt16LE)(t,</span><span class="s3">14</span><span class="s0">),width:(</span><span class="s3">0</span><span class="s0">,r.readUInt16LE)(t,</span><span class="s3">12</span><span class="s0">)}}}},</span><span class="s3">940</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.TIFF=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">147</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">function </span><span class="s0">readIFD(t,e,n){</span><span class="s2">const </span><span class="s0">o=(</span><span class="s3">0</span><span class="s0">,i.readUInt)(t,</span><span class="s3">32</span><span class="s0">,</span><span class="s3">4</span><span class="s0">,n);</span><span class="s2">let </span><span class="s0">s=</span><span class="s3">1024</span><span class="s0">;</span><span class="s2">const </span><span class="s0">c=r.statSync(e).size;</span><span class="s2">if</span><span class="s0">(o+s&gt;c){s=c-o-</span><span class="s3">10</span><span class="s0">}</span><span class="s2">const </span><span class="s0">a=</span><span class="s2">new </span><span class="s0">Uint8Array(s);</span><span class="s2">const </span><span class="s0">d=r.openSync(e,</span><span class="s1">&quot;r&quot;</span><span class="s0">);r.readSync(d,a,</span><span class="s3">0</span><span class="s0">,s,o);r.closeSync(d);</span><span class="s2">return </span><span class="s0">a.slice(</span><span class="s3">2</span><span class="s0">)}</span><span class="s2">function </span><span class="s0">readValue(t,e){</span><span class="s2">const </span><span class="s0">n=(</span><span class="s3">0</span><span class="s0">,i.readUInt)(t,</span><span class="s3">16</span><span class="s0">,</span><span class="s3">8</span><span class="s0">,e);</span><span class="s2">const </span><span class="s0">r=(</span><span class="s3">0</span><span class="s0">,i.readUInt)(t,</span><span class="s3">16</span><span class="s0">,</span><span class="s3">10</span><span class="s0">,e);</span><span class="s2">return</span><span class="s0">(r&lt;&lt;</span><span class="s3">16</span><span class="s0">)+n}</span><span class="s2">function </span><span class="s0">nextTag(t){</span><span class="s2">if</span><span class="s0">(t.length&gt;</span><span class="s3">24</span><span class="s0">){</span><span class="s2">return </span><span class="s0">t.slice(</span><span class="s3">12</span><span class="s0">)}}</span><span class="s2">function </span><span class="s0">extractTags(t,e){</span><span class="s2">const </span><span class="s0">n={};</span><span class="s2">let </span><span class="s0">r=t;</span><span class="s2">while</span><span class="s0">(r&amp;&amp;r.length){</span><span class="s2">const </span><span class="s0">t=(</span><span class="s3">0</span><span class="s0">,i.readUInt)(r,</span><span class="s3">16</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,e);</span><span class="s2">const </span><span class="s0">o=(</span><span class="s3">0</span><span class="s0">,i.readUInt)(r,</span><span class="s3">16</span><span class="s0">,</span><span class="s3">2</span><span class="s0">,e);</span><span class="s2">const </span><span class="s0">s=(</span><span class="s3">0</span><span class="s0">,i.readUInt)(r,</span><span class="s3">32</span><span class="s0">,</span><span class="s3">4</span><span class="s0">,e);</span><span class="s2">if</span><span class="s0">(t===</span><span class="s3">0</span><span class="s0">){</span><span class="s2">break</span><span class="s0">}</span><span class="s2">else</span><span class="s0">{</span><span class="s2">if</span><span class="s0">(s===</span><span class="s3">1</span><span class="s0">&amp;&amp;(o===</span><span class="s3">3</span><span class="s0">||o===</span><span class="s3">4</span><span class="s0">)){n[t]=readValue(r,e)}r=nextTag(r)}}</span><span class="s2">return </span><span class="s0">n}</span><span class="s2">function </span><span class="s0">determineEndianness(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,i.toUTF8String)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">2</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(</span><span class="s1">&quot;II&quot;</span><span class="s0">===e){</span><span class="s2">return</span><span class="s1">&quot;LE&quot;</span><span class="s0">}</span><span class="s2">else if</span><span class="s0">(</span><span class="s1">&quot;MM&quot;</span><span class="s0">===e){</span><span class="s2">return</span><span class="s1">&quot;BE&quot;</span><span class="s0">}}</span><span class="s2">const </span><span class="s0">o=[</span><span class="s1">&quot;49492a00&quot;</span><span class="s0">,</span><span class="s1">&quot;4d4d002a&quot;</span><span class="s0">];e.TIFF={validate:t=&gt;o.includes((</span><span class="s3">0</span><span class="s0">,i.toHexString)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">4</span><span class="s0">)),calculate(t,e){</span><span class="s2">if</span><span class="s0">(!e){</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Tiff doesn't support buffer&quot;</span><span class="s0">)}</span><span class="s2">const </span><span class="s0">n=determineEndianness(t)===</span><span class="s1">&quot;BE&quot;</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=readIFD(t,e,n);</span><span class="s2">const </span><span class="s0">i=extractTags(r,n);</span><span class="s2">const </span><span class="s0">o=i[</span><span class="s3">256</span><span class="s0">];</span><span class="s2">const </span><span class="s0">s=i[</span><span class="s3">257</span><span class="s0">];</span><span class="s2">if</span><span class="s0">(!o||!s){</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Invalid Tiff. Missing tags&quot;</span><span class="s0">)}</span><span class="s2">return</span><span class="s0">{height:s,width:o}}}},</span><span class="s3">779</span><span class="s0">:(t,e)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.findBox=e.readUInt=e.readUInt32LE=e.readUInt32BE=e.readInt32LE=e.readUInt24LE=e.readUInt16LE=e.readUInt16BE=e.readInt16LE=e.toHexString=e.toUTF8String=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">n=</span><span class="s2">new </span><span class="s0">TextDecoder;</span><span class="s2">const </span><span class="s0">toUTF8String=(t,e=</span><span class="s3">0</span><span class="s0">,r=t.length)=&gt;n.decode(t.slice(e,r));e.toUTF8String=toUTF8String;</span><span class="s2">const </span><span class="s0">toHexString=(t,e=</span><span class="s3">0</span><span class="s0">,n=t.length)=&gt;t.slice(e,n).reduce(((t,e)=&gt;t+(</span><span class="s1">&quot;0&quot;</span><span class="s0">+e.toString(</span><span class="s3">16</span><span class="s0">)).slice(-</span><span class="s3">2</span><span class="s0">)),</span><span class="s1">&quot;&quot;</span><span class="s0">);e.toHexString=toHexString;</span><span class="s2">const </span><span class="s0">readInt16LE=(t,e=</span><span class="s3">0</span><span class="s0">)=&gt;{</span><span class="s2">const </span><span class="s0">n=t[e]+t[e+</span><span class="s3">1</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">8</span><span class="s0">;</span><span class="s2">return </span><span class="s0">n|(n&amp;</span><span class="s3">2</span><span class="s0">**</span><span class="s3">15</span><span class="s0">)*</span><span class="s3">131070</span><span class="s0">};e.readInt16LE=readInt16LE;</span><span class="s2">const </span><span class="s0">readUInt16BE=(t,e=</span><span class="s3">0</span><span class="s0">)=&gt;t[e]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">8</span><span class="s0">+t[e+</span><span class="s3">1</span><span class="s0">];e.readUInt16BE=readUInt16BE;</span><span class="s2">const </span><span class="s0">readUInt16LE=(t,e=</span><span class="s3">0</span><span class="s0">)=&gt;t[e]+t[e+</span><span class="s3">1</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">8</span><span class="s0">;e.readUInt16LE=readUInt16LE;</span><span class="s2">const </span><span class="s0">readUInt24LE=(t,e=</span><span class="s3">0</span><span class="s0">)=&gt;t[e]+t[e+</span><span class="s3">1</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">8</span><span class="s0">+t[e+</span><span class="s3">2</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">16</span><span class="s0">;e.readUInt24LE=readUInt24LE;</span><span class="s2">const </span><span class="s0">readInt32LE=(t,e=</span><span class="s3">0</span><span class="s0">)=&gt;t[e]+t[e+</span><span class="s3">1</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">8</span><span class="s0">+t[e+</span><span class="s3">2</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">16</span><span class="s0">+(t[e+</span><span class="s3">3</span><span class="s0">]&lt;&lt;</span><span class="s3">24</span><span class="s0">);e.readInt32LE=readInt32LE;</span><span class="s2">const </span><span class="s0">readUInt32BE=(t,e=</span><span class="s3">0</span><span class="s0">)=&gt;t[e]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">24</span><span class="s0">+t[e+</span><span class="s3">1</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">16</span><span class="s0">+t[e+</span><span class="s3">2</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">8</span><span class="s0">+t[e+</span><span class="s3">3</span><span class="s0">];e.readUInt32BE=readUInt32BE;</span><span class="s2">const </span><span class="s0">readUInt32LE=(t,e=</span><span class="s3">0</span><span class="s0">)=&gt;t[e]+t[e+</span><span class="s3">1</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">8</span><span class="s0">+t[e+</span><span class="s3">2</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">16</span><span class="s0">+t[e+</span><span class="s3">3</span><span class="s0">]*</span><span class="s3">2</span><span class="s0">**</span><span class="s3">24</span><span class="s0">;e.readUInt32LE=readUInt32LE;</span><span class="s2">const </span><span class="s0">r={readUInt16BE:e.readUInt16BE,readUInt16LE:e.readUInt16LE,readUInt32BE:e.readUInt32BE,readUInt32LE:e.readUInt32LE};</span><span class="s2">function </span><span class="s0">readUInt(t,e,n,i){n=n||</span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">o=i?</span><span class="s1">&quot;BE&quot;</span><span class="s0">:</span><span class="s1">&quot;LE&quot;</span><span class="s0">;</span><span class="s2">const </span><span class="s0">s=</span><span class="s1">&quot;readUInt&quot;</span><span class="s0">+e+o;</span><span class="s2">return </span><span class="s0">r[s](t,n)}e.readUInt=readUInt;</span><span class="s2">function </span><span class="s0">readBox(t,n){</span><span class="s2">if</span><span class="s0">(t.length-n&lt;</span><span class="s3">4</span><span class="s0">)</span><span class="s2">return</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=(</span><span class="s3">0</span><span class="s0">,e.readUInt32BE)(t,n);</span><span class="s2">if</span><span class="s0">(t.length-n&lt;r)</span><span class="s2">return</span><span class="s0">;</span><span class="s2">return</span><span class="s0">{name:(</span><span class="s3">0</span><span class="s0">,e.toUTF8String)(t,</span><span class="s3">4</span><span class="s0">+n,</span><span class="s3">8</span><span class="s0">+n),offset:n,size:r}}</span><span class="s2">function </span><span class="s0">findBox(t,e,n){</span><span class="s2">while</span><span class="s0">(n&lt;t.length){</span><span class="s2">const </span><span class="s0">r=readBox(t,n);</span><span class="s2">if</span><span class="s0">(!r)</span><span class="s2">break</span><span class="s0">;</span><span class="s2">if</span><span class="s0">(r.name===e)</span><span class="s2">return </span><span class="s0">r;n+=r.size&gt;</span><span class="s3">0</span><span class="s0">?r.size:</span><span class="s3">8</span><span class="s0">}}e.findBox=findBox},</span><span class="s3">226</span><span class="s0">:(t,e,n)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.WEBP=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=n(</span><span class="s3">779</span><span class="s0">);</span><span class="s2">function </span><span class="s0">calculateExtended(t){</span><span class="s2">return</span><span class="s0">{height:</span><span class="s3">1</span><span class="s0">+(</span><span class="s3">0</span><span class="s0">,r.readUInt24LE)(t,</span><span class="s3">7</span><span class="s0">),width:</span><span class="s3">1</span><span class="s0">+(</span><span class="s3">0</span><span class="s0">,r.readUInt24LE)(t,</span><span class="s3">4</span><span class="s0">)}}</span><span class="s2">function </span><span class="s0">calculateLossless(t){</span><span class="s2">return</span><span class="s0">{height:</span><span class="s3">1</span><span class="s0">+((t[</span><span class="s3">4</span><span class="s0">]&amp;</span><span class="s3">15</span><span class="s0">)&lt;&lt;</span><span class="s3">10</span><span class="s0">|t[</span><span class="s3">3</span><span class="s0">]&lt;&lt;</span><span class="s3">2</span><span class="s0">|(t[</span><span class="s3">2</span><span class="s0">]&amp;</span><span class="s3">192</span><span class="s0">)&gt;&gt;</span><span class="s3">6</span><span class="s0">),width:</span><span class="s3">1</span><span class="s0">+((t[</span><span class="s3">2</span><span class="s0">]&amp;</span><span class="s3">63</span><span class="s0">)&lt;&lt;</span><span class="s3">8</span><span class="s0">|t[</span><span class="s3">1</span><span class="s0">])}}</span><span class="s2">function </span><span class="s0">calculateLossy(t){</span><span class="s2">return</span><span class="s0">{height:(</span><span class="s3">0</span><span class="s0">,r.readInt16LE)(t,</span><span class="s3">8</span><span class="s0">)&amp;</span><span class="s3">16383</span><span class="s0">,width:(</span><span class="s3">0</span><span class="s0">,r.readInt16LE)(t,</span><span class="s3">6</span><span class="s0">)&amp;</span><span class="s3">16383</span><span class="s0">}}e.WEBP={validate(t){</span><span class="s2">const </span><span class="s0">e=</span><span class="s1">&quot;RIFF&quot;</span><span class="s0">===(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">4</span><span class="s0">);</span><span class="s2">const </span><span class="s0">n=</span><span class="s1">&quot;WEBP&quot;</span><span class="s0">===(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">8</span><span class="s0">,</span><span class="s3">12</span><span class="s0">);</span><span class="s2">const </span><span class="s0">i=</span><span class="s1">&quot;VP8&quot;</span><span class="s0">===(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">12</span><span class="s0">,</span><span class="s3">15</span><span class="s0">);</span><span class="s2">return </span><span class="s0">e&amp;&amp;n&amp;&amp;i},calculate(t){</span><span class="s2">const </span><span class="s0">e=(</span><span class="s3">0</span><span class="s0">,r.toUTF8String)(t,</span><span class="s3">12</span><span class="s0">,</span><span class="s3">16</span><span class="s0">);t=t.slice(</span><span class="s3">20</span><span class="s0">,</span><span class="s3">30</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(e===</span><span class="s1">&quot;VP8X&quot;</span><span class="s0">){</span><span class="s2">const </span><span class="s0">e=t[</span><span class="s3">0</span><span class="s0">];</span><span class="s2">const </span><span class="s0">n=(e&amp;</span><span class="s3">192</span><span class="s0">)===</span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">r=(e&amp;</span><span class="s3">1</span><span class="s0">)===</span><span class="s3">0</span><span class="s0">;</span><span class="s2">if</span><span class="s0">(n&amp;&amp;r){</span><span class="s2">return </span><span class="s0">calculateExtended(t)}</span><span class="s2">else</span><span class="s0">{</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Invalid WebP&quot;</span><span class="s0">)}}</span><span class="s2">if</span><span class="s0">(e===</span><span class="s1">&quot;VP8 &quot;</span><span class="s0">&amp;&amp;t[</span><span class="s3">0</span><span class="s0">]!==</span><span class="s3">47</span><span class="s0">){</span><span class="s2">return </span><span class="s0">calculateLossy(t)}</span><span class="s2">const </span><span class="s0">n=(</span><span class="s3">0</span><span class="s0">,r.toHexString)(t,</span><span class="s3">3</span><span class="s0">,</span><span class="s3">6</span><span class="s0">);</span><span class="s2">if</span><span class="s0">(e===</span><span class="s1">&quot;VP8L&quot;</span><span class="s0">&amp;&amp;n!==</span><span class="s1">&quot;9d012a&quot;</span><span class="s0">){</span><span class="s2">return </span><span class="s0">calculateLossless(t)}</span><span class="s2">throw new </span><span class="s0">TypeError(</span><span class="s1">&quot;Invalid WebP&quot;</span><span class="s0">)}}},</span><span class="s3">112</span><span class="s0">:(t,e)=&gt;{Object.defineProperty(e,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});e.BitReader=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">class </span><span class="s0">BitReader{constructor(t,e){</span><span class="s2">this</span><span class="s0">.input=t;</span><span class="s2">this</span><span class="s0">.endianness=e;</span><span class="s2">this</span><span class="s0">.byteOffset=</span><span class="s3">2</span><span class="s0">;</span><span class="s2">this</span><span class="s0">.bitOffset=</span><span class="s3">0</span><span class="s0">}getBits(t=</span><span class="s3">1</span><span class="s0">){</span><span class="s2">let </span><span class="s0">e=</span><span class="s3">0</span><span class="s0">;</span><span class="s2">let </span><span class="s0">n=</span><span class="s3">0</span><span class="s0">;</span><span class="s2">while</span><span class="s0">(n&lt;t){</span><span class="s2">if</span><span class="s0">(</span><span class="s2">this</span><span class="s0">.byteOffset&gt;=</span><span class="s2">this</span><span class="s0">.input.length){</span><span class="s2">throw new </span><span class="s0">Error(</span><span class="s1">&quot;Reached end of input&quot;</span><span class="s0">)}</span><span class="s2">const </span><span class="s0">r=</span><span class="s2">this</span><span class="s0">.input[</span><span class="s2">this</span><span class="s0">.byteOffset];</span><span class="s2">const </span><span class="s0">i=</span><span class="s3">8</span><span class="s0">-</span><span class="s2">this</span><span class="s0">.bitOffset;</span><span class="s2">const </span><span class="s0">o=Math.min(t-n,i);</span><span class="s2">if</span><span class="s0">(</span><span class="s2">this</span><span class="s0">.endianness===</span><span class="s1">&quot;little-endian&quot;</span><span class="s0">){</span><span class="s2">const </span><span class="s0">t=(</span><span class="s3">1</span><span class="s0">&lt;&lt;o)-</span><span class="s3">1</span><span class="s0">;</span><span class="s2">const </span><span class="s0">i=r&gt;&gt;</span><span class="s2">this</span><span class="s0">.bitOffset&amp;t;e|=i&lt;&lt;n}</span><span class="s2">else</span><span class="s0">{</span><span class="s2">const </span><span class="s0">t=(</span><span class="s3">1</span><span class="s0">&lt;&lt;o)-</span><span class="s3">1</span><span class="s0">&lt;&lt;</span><span class="s3">8</span><span class="s0">-</span><span class="s2">this</span><span class="s0">.bitOffset-o;</span><span class="s2">const </span><span class="s0">n=(r&amp;t)&gt;&gt;</span><span class="s3">8</span><span class="s0">-</span><span class="s2">this</span><span class="s0">.bitOffset-o;e=e&lt;&lt;o|n}n+=o;</span><span class="s2">this</span><span class="s0">.bitOffset+=o;</span><span class="s2">if</span><span class="s0">(</span><span class="s2">this</span><span class="s0">.bitOffset===</span><span class="s3">8</span><span class="s0">){</span><span class="s2">this</span><span class="s0">.byteOffset++;</span><span class="s2">this</span><span class="s0">.bitOffset=</span><span class="s3">0</span><span class="s0">}}</span><span class="s2">return </span><span class="s0">e}}e.BitReader=BitReader},</span><span class="s3">147</span><span class="s0">:t=&gt;{t.exports=require(</span><span class="s1">&quot;fs&quot;</span><span class="s0">)}};</span><span class="s2">var </span><span class="s0">e={};</span><span class="s2">function </span><span class="s0">__nccwpck_require__(n){</span><span class="s2">var </span><span class="s0">r=e[n];</span><span class="s2">if</span><span class="s0">(r!==undefined){</span><span class="s2">return </span><span class="s0">r.exports}</span><span class="s2">var </span><span class="s0">i=e[n]={exports:{}};</span><span class="s2">var </span><span class="s0">o=</span><span class="s2">true</span><span class="s0">;</span><span class="s2">try</span><span class="s0">{t[n](i,i.exports,__nccwpck_require__);o=</span><span class="s2">false</span><span class="s0">}</span><span class="s2">finally</span><span class="s0">{</span><span class="s2">if</span><span class="s0">(o)</span><span class="s2">delete </span><span class="s0">e[n]}</span><span class="s2">return </span><span class="s0">i.exports}</span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">__nccwpck_require__!==</span><span class="s1">&quot;undefined&quot;</span><span class="s0">)__nccwpck_require__.ab=__dirname+</span><span class="s1">&quot;/&quot;</span><span class="s0">;</span><span class="s2">var </span><span class="s0">n={};(()=&gt;{</span><span class="s2">var </span><span class="s0">t=n;Object.defineProperty(t,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,{value:</span><span class="s2">true</span><span class="s0">});t.detector=</span><span class="s2">void </span><span class="s3">0</span><span class="s0">;</span><span class="s2">const </span><span class="s0">e=__nccwpck_require__(</span><span class="s3">229</span><span class="s0">);</span><span class="s2">const </span><span class="s0">r=Object.keys(e.typeHandlers);</span><span class="s2">const </span><span class="s0">i={</span><span class="s3">56</span><span class="s0">:</span><span class="s1">&quot;psd&quot;</span><span class="s0">,</span><span class="s3">66</span><span class="s0">:</span><span class="s1">&quot;bmp&quot;</span><span class="s0">,</span><span class="s3">68</span><span class="s0">:</span><span class="s1">&quot;dds&quot;</span><span class="s0">,</span><span class="s3">71</span><span class="s0">:</span><span class="s1">&quot;gif&quot;</span><span class="s0">,</span><span class="s3">73</span><span class="s0">:</span><span class="s1">&quot;tiff&quot;</span><span class="s0">,</span><span class="s3">77</span><span class="s0">:</span><span class="s1">&quot;tiff&quot;</span><span class="s0">,</span><span class="s3">82</span><span class="s0">:</span><span class="s1">&quot;webp&quot;</span><span class="s0">,</span><span class="s3">105</span><span class="s0">:</span><span class="s1">&quot;icns&quot;</span><span class="s0">,</span><span class="s3">137</span><span class="s0">:</span><span class="s1">&quot;png&quot;</span><span class="s0">,</span><span class="s3">255</span><span class="s0">:</span><span class="s1">&quot;jpg&quot;</span><span class="s0">};</span><span class="s2">function </span><span class="s0">detector(t){</span><span class="s2">const </span><span class="s0">n=t[</span><span class="s3">0</span><span class="s0">];</span><span class="s2">if</span><span class="s0">(n </span><span class="s2">in </span><span class="s0">i){</span><span class="s2">const </span><span class="s0">r=i[n];</span><span class="s2">if</span><span class="s0">(r&amp;&amp;e.typeHandlers[r].validate(t)){</span><span class="s2">return </span><span class="s0">r}}</span><span class="s2">const </span><span class="s0">finder=n=&gt;e.typeHandlers[n].validate(t);</span><span class="s2">return </span><span class="s0">r.find(finder)}t.detector=detector})();module.exports=n})();</span></pre>
</body>
</html>