<html>
<head>
<title>getNumberType.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
getNumberType.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;getNumberType.js&quot;</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;_interopRequireDefault&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;_matchesEntirely&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,</span><span class="s1">&quot;_createForOfIteratorHelperLoose&quot;</span><span class="s0">,</span><span class="s1">&quot;r&quot;</span><span class="s0">,</span><span class="s1">&quot;t&quot;</span><span class="s0">,</span><span class="s1">&quot;Symbol&quot;</span><span class="s0">,</span><span class="s1">&quot;iterator&quot;</span><span class="s0">,</span><span class="s1">&quot;call&quot;</span><span class="s0">,</span><span class="s1">&quot;next&quot;</span><span class="s0">,</span><span class="s1">&quot;bind&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;_unsupportedIterableToArray&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;o&quot;</span><span class="s0">,</span><span class="s1">&quot;done&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;TypeError&quot;</span><span class="s0">,</span><span class="s1">&quot;a&quot;</span><span class="s0">,</span><span class="s1">&quot;_arrayLikeToArray&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;from&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">,</span><span class="s1">&quot;n&quot;</span><span class="s0">,</span><span class="s1">&quot;NON_FIXED_LINE_PHONE_TYPES&quot;</span><span class="s0">,</span><span class="s1">&quot;getNumberType&quot;</span><span class="s0">,</span><span class="s1">&quot;input&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;country&quot;</span><span class="s0">,</span><span class="s1">&quot;countryCallingCode&quot;</span><span class="s0">,</span><span class="s1">&quot;Metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;selectNumberingPlan&quot;</span><span class="s0">,</span><span class="s1">&quot;nationalNumber&quot;</span><span class="s0">,</span><span class="s1">&quot;v2&quot;</span><span class="s0">,</span><span class="s1">&quot;phone&quot;</span><span class="s0">,</span><span class="s1">&quot;matchesEntirely&quot;</span><span class="s0">,</span><span class="s1">&quot;nationalNumberPattern&quot;</span><span class="s0">,</span><span class="s1">&quot;isNumberTypeEqualTo&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;pattern&quot;</span><span class="s0">,</span><span class="s1">&quot;_iterator&quot;</span><span class="s0">,</span><span class="s1">&quot;_step&quot;</span><span class="s0">,</span><span class="s1">&quot;possibleLengths&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOf&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../source/helpers/getNumberType.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import Metadata from '../metadata.js'</span><span class="s3">\r\n</span><span class="s1">import matchesEntirely from './matchesEntirely.js'</span><span class="s3">\r\n\r\n</span><span class="s1">const NON_FIXED_LINE_PHONE_TYPES = [</span><span class="s3">\r\n\t</span><span class="s1">'MOBILE',</span><span class="s3">\r\n\t</span><span class="s1">'PREMIUM_RATE',</span><span class="s3">\r\n\t</span><span class="s1">'TOLL_FREE',</span><span class="s3">\r\n\t</span><span class="s1">'SHARED_COST',</span><span class="s3">\r\n\t</span><span class="s1">'VOIP',</span><span class="s3">\r\n\t</span><span class="s1">'PERSONAL_NUMBER',</span><span class="s3">\r\n\t</span><span class="s1">'PAGER',</span><span class="s3">\r\n\t</span><span class="s1">'UAN',</span><span class="s3">\r\n\t</span><span class="s1">'VOICEMAIL'</span><span class="s3">\r\n</span><span class="s1">]</span><span class="s3">\r\n\r\n</span><span class="s1">// Finds out national phone number type (fixed line, mobile, etc)</span><span class="s3">\r\n</span><span class="s1">export default function getNumberType(input, options, metadata)</span><span class="s3">\r\n</span><span class="s1">{</span><span class="s3">\r\n\t</span><span class="s1">// If assigning the `{}` default value is moved to the arguments above,</span><span class="s3">\r\n\t</span><span class="s1">// code coverage would decrease for some weird reason.</span><span class="s3">\r\n\t</span><span class="s1">options = options || {}</span><span class="s3">\r\n\r\n\t</span><span class="s1">// When `parse()` returns an empty object — `{}` —</span><span class="s3">\r\n\t</span><span class="s1">// that means that the phone number is malformed,</span><span class="s3">\r\n\t</span><span class="s1">// so it can't possibly be valid.</span><span class="s3">\r\n\t</span><span class="s1">if (!input.country &amp;&amp; !input.countryCallingCode) {</span><span class="s3">\r\n\t\t</span><span class="s1">return</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">metadata = new Metadata(metadata)</span><span class="s3">\r\n\r\n\t</span><span class="s1">metadata.selectNumberingPlan(input.country, input.countryCallingCode)</span><span class="s3">\r\n\r\n\t</span><span class="s1">const nationalNumber = options.v2 ? input.nationalNumber : input.phone</span><span class="s3">\r\n\r\n\t</span><span class="s1">// The following is copy-pasted from the original function:</span><span class="s3">\r\n\t</span><span class="s1">// https://github.com/googlei18n/libphonenumber/blob/3ea547d4fbaa2d0b67588904dfa5d3f2557c27ff/javascript/i18n/phonenumbers/phonenumberutil.js#L2835</span><span class="s3">\r\n\r\n\t</span><span class="s1">// Is this national number even valid for this country</span><span class="s3">\r\n\t</span><span class="s1">if (!matchesEntirely(nationalNumber, metadata.nationalNumberPattern())) {</span><span class="s3">\r\n\t\t</span><span class="s1">return</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">// Is it fixed line number</span><span class="s3">\r\n\t</span><span class="s1">if (isNumberTypeEqualTo(nationalNumber, 'FIXED_LINE', metadata)) {</span><span class="s3">\r\n\t\t</span><span class="s1">// Because duplicate regular expressions are removed</span><span class="s3">\r\n\t\t</span><span class="s1">// to reduce metadata size, if </span><span class="s3">\&quot;</span><span class="s1">mobile</span><span class="s3">\&quot; </span><span class="s1">pattern is </span><span class="s3">\&quot;\&quot;\r\n\t\t</span><span class="s1">// then it means it was removed due to being a duplicate of the fixed-line pattern.</span><span class="s3">\r\n\t\t</span><span class="s1">//</span><span class="s3">\r\n\t\t</span><span class="s1">if (metadata.type('MOBILE') &amp;&amp; metadata.type('MOBILE').pattern() === '') {</span><span class="s3">\r\n\t\t\t</span><span class="s1">return 'FIXED_LINE_OR_MOBILE'</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t\t</span><span class="s1">// `MOBILE` type pattern isn't included if it matched `FIXED_LINE` one.</span><span class="s3">\r\n\t\t</span><span class="s1">// For example, for </span><span class="s3">\&quot;</span><span class="s1">US</span><span class="s3">\&quot; </span><span class="s1">country.</span><span class="s3">\r\n\t\t</span><span class="s1">// Old metadata (&lt; `1.0.18`) had a specific </span><span class="s3">\&quot;</span><span class="s1">types</span><span class="s3">\&quot; </span><span class="s1">data structure</span><span class="s3">\r\n\t\t</span><span class="s1">// that happened to be `undefined` for `MOBILE` in that case.</span><span class="s3">\r\n\t\t</span><span class="s1">// Newer metadata (&gt;= `1.0.18`) has another data structure that is</span><span class="s3">\r\n\t\t</span><span class="s1">// not `undefined` for `MOBILE` in that case (it's just an empty array).</span><span class="s3">\r\n\t\t</span><span class="s1">// So this `if` is just for backwards compatibility with old metadata.</span><span class="s3">\r\n\t\t</span><span class="s1">if (!metadata.type('MOBILE')) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">return 'FIXED_LINE_OR_MOBILE'</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t\t</span><span class="s1">// Check if the number happens to qualify as both fixed line and mobile.</span><span class="s3">\r\n\t\t</span><span class="s1">// (no such country in the minimal metadata set)</span><span class="s3">\r\n\t\t</span><span class="s1">/* istanbul ignore if */</span><span class="s3">\r\n\t\t</span><span class="s1">if (isNumberTypeEqualTo(nationalNumber, 'MOBILE', metadata)) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">return 'FIXED_LINE_OR_MOBILE'</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t\t</span><span class="s1">return 'FIXED_LINE'</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">for (const type of NON_FIXED_LINE_PHONE_TYPES) {</span><span class="s3">\r\n\t\t</span><span class="s1">if (isNumberTypeEqualTo(nationalNumber, type, metadata)) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">return type</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function isNumberTypeEqualTo(nationalNumber, type, metadata) {</span><span class="s3">\r\n\t</span><span class="s1">type = metadata.type(type)</span><span class="s3">\r\n\t</span><span class="s1">if (!type || !type.pattern()) {</span><span class="s3">\r\n\t\t</span><span class="s1">return false</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\t</span><span class="s1">// Check if any possible number lengths are present;</span><span class="s3">\r\n\t</span><span class="s1">// if so, we use them to avoid checking</span><span class="s3">\r\n\t</span><span class="s1">// the validation pattern if they don't match.</span><span class="s3">\r\n\t</span><span class="s1">// If they are absent, this means they match</span><span class="s3">\r\n\t</span><span class="s1">// the general description, which we have</span><span class="s3">\r\n\t</span><span class="s1">// already checked before a specific number type.</span><span class="s3">\r\n\t</span><span class="s1">if (type.possibleLengths() &amp;&amp;</span><span class="s3">\r\n\t\t</span><span class="s1">type.possibleLengths().indexOf(nationalNumber.length) &lt; 0) {</span><span class="s3">\r\n\t\t</span><span class="s1">return false</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\t</span><span class="s1">return matchesEntirely(nationalNumber, type.pattern())</span><span class="s3">\r\n</span><span class="s1">}&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,gBAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAkD,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAE,gCAAAC,CAAA,EAAAH,CAAA,QAAAI,CAAA,yBAAAC,MAAA,IAAAF,CAAA,CAAAE,MAAA,CAAAC,QAAA,KAAAH,CAAA,oBAAAC,CAAA,UAAAA,CAAA,GAAAA,CAAA,CAAAG,IAAA,CAAAJ,CAAA,GAAAK,IAAA,CAAAC,IAAA,CAAAL,CAAA,OAAAM,KAAA,CAAAC,OAAA,CAAAR,CAAA,MAAAC,CAAA,GAAAQ,2BAAA,CAAAT,CAAA,MAAAH,CAAA,IAAAG,CAAA,uBAAAA,CAAA,CAAAU,MAAA,IAAAT,CAAA,KAAAD,CAAA,GAAAC,CAAA,OAAAU,CAAA,kCAAAA,CAAA,IAAAX,CAAA,CAAAU,MAAA,KAAAE,IAAA,WAAAA,IAAA,MAAAC,KAAA,EAAAb,CAAA,CAAAW,CAAA,sBAAAG,SAAA;AAAA,SAAAL,4BAAAT,CAAA,EAAAe,CAAA,QAAAf,CAAA,2BAAAA,CAAA,SAAAgB,iBAAA,CAAAhB,CAAA,EAAAe,CAAA,OAAAd,CAAA,MAAAgB,QAAA,CAAAb,IAAA,CAAAJ,CAAA,EAAAkB,KAAA,6BAAAjB,CAAA,IAAAD,CAAA,CAAAmB,WAAA,KAAAlB,CAAA,GAAAD,CAAA,CAAAmB,WAAA,CAAAC,IAAA,aAAAnB,CAAA,cAAAA,CAAA,GAAAM,KAAA,CAAAc,IAAA,CAAArB,CAAA,oBAAAC,CAAA,+CAAAqB,IAAA,CAAArB,CAAA,IAAAe,iBAAA,CAAAhB,CAAA,EAAAe,CAAA;AAAA,SAAAC,kBAAAhB,CAAA,EAAAe,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAf,CAAA,CAAAU,MAAA,MAAAK,CAAA,GAAAf,CAAA,CAAAU,MAAA,YAAAb,CAAA,MAAA0B,CAAA,GAAAhB,KAAA,CAAAQ,CAAA,GAAAlB,CAAA,GAAAkB,CAAA,EAAAlB,CAAA,IAAA0B,CAAA,CAAA1B,CAAA,IAAAG,CAAA,CAAAH,CAAA,UAAA0B,CAAA;AAElD,IAAMC,0BAA0B,GAAG,CAClC,QAAQ,EACR,cAAc,EACd,WAAW,EACX,aAAa,EACb,MAAM,EACN,iBAAiB,EACjB,OAAO,EACP,KAAK,EACL,WAAW,CACX;;AAED;AACe,SAASC,aAAaA,CAACC,KAAK,EAAEC,OAAO,EAAEC,QAAQ,EAC9D;EACC;EACA;EACAD,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;;EAEvB;EACA;EACA;EACA,IAAI,CAACD,KAAK,CAACG,OAAO,IAAI,CAACH,KAAK,CAACI,kBAAkB,EAAE;IAChD;EACD;EAEAF,QAAQ,GAAG,IAAIG,oBAAQ,CAACH,QAAQ,CAAC;EAEjCA,QAAQ,CAACI,mBAAmB,CAACN,KAAK,CAACG,OAAO,EAAEH,KAAK,CAACI,kBAAkB,CAAC;EAErE,IAAMG,cAAc,GAAGN,OAAO,CAACO,EAAE,GAAGR,KAAK,CAACO,cAAc,GAAGP,KAAK,CAACS,KAAK;;EAEtE;EACA;;EAEA;EACA,IAAI,CAAC,IAAAC,2BAAe,EAACH,cAAc,EAAEL,QAAQ,CAACS,qBAAqB,CAAC,CAAC,CAAC,EAAE;IACvE;EACD;;EAEA;EACA,IAAIC,mBAAmB,CAACL,cAAc,EAAE,YAAY,EAAEL,QAAQ,CAAC,EAAE;IAChE;IACA;IACA;IACA;IACA,IAAIA,QAAQ,CAACW,IAAI,CAAC,QAAQ,CAAC,IAAIX,QAAQ,CAACW,IAAI,CAAC,QAAQ,CAAC,CAACC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;MACxE,OAAO,sBAAsB;IAC9B;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,CAACZ,QAAQ,CAACW,IAAI,CAAC,QAAQ,CAAC,EAAE;MAC7B,OAAO,sBAAsB;IAC9B;;IAEA;IACA;IACA;IACA,IAAID,mBAAmB,CAACL,cAAc,EAAE,QAAQ,EAAEL,QAAQ,CAAC,EAAE;MAC5D,OAAO,sBAAsB;IAC9B;IAEA,OAAO,YAAY;EACpB;EAEA,SAAAa,SAAA,GAAA1C,+BAAA,CAAmByB,0BAA0B,GAAAkB,KAAA,IAAAA,KAAA,GAAAD,SAAA,IAAA7B,IAAA,GAAE;IAAA,IAApC2B,IAAI,GAAAG,KAAA,CAAA7B,KAAA;IACd,IAAIyB,mBAAmB,CAACL,cAAc,EAAEM,IAAI,EAAEX,QAAQ,CAAC,EAAE;MACxD,OAAOW,IAAI;IACZ;EACD;AACD;AAEO,SAASD,mBAAmBA,CAACL,cAAc,EAAEM,IAAI,EAAEX,QAAQ,EAAE;EACnEW,IAAI,GAAGX,QAAQ,CAACW,IAAI,CAACA,IAAI,CAAC;EAC1B,IAAI,CAACA,IAAI,IAAI,CAACA,IAAI,CAACC,OAAO,CAAC,CAAC,EAAE;IAC7B,OAAO,KAAK;EACb;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAID,IAAI,CAACI,eAAe,CAAC,CAAC,IACzBJ,IAAI,CAACI,eAAe,CAAC,CAAC,CAACC,OAAO,CAACX,cAAc,CAACvB,MAAM,CAAC,GAAG,CAAC,EAAE;IAC3D,OAAO,KAAK;EACb;EACA,OAAO,IAAA0B,2BAAe,EAACH,cAAc,EAAEM,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC;AACvD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>