<html>
<head>
<title>get-img-props.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #067d17;}
.s1 { color: #080808;}
.s2 { color: #0033b3;}
.s3 { color: #8c8c8c; font-style: italic;}
.s4 { color: #264eff;}
.s5 { color: #1750eb;}
.s6 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
get-img-props.js</font>
</center></td></tr></table>
<pre><span class="s0">&quot;use strict&quot;</span><span class="s1">;</span>
<span class="s1">Object.defineProperty(exports, </span><span class="s0">&quot;__esModule&quot;</span><span class="s1">, {</span>
    <span class="s1">value: </span><span class="s2">true</span>
<span class="s1">});</span>
<span class="s1">Object.defineProperty(exports, </span><span class="s0">&quot;getImgProps&quot;</span><span class="s1">, {</span>
    <span class="s1">enumerable: </span><span class="s2">true</span><span class="s1">,</span>
    <span class="s1">get: </span><span class="s2">function</span><span class="s1">() {</span>
        <span class="s2">return </span><span class="s1">getImgProps;</span>
    <span class="s1">}</span>
<span class="s1">});</span>
<span class="s2">const </span><span class="s1">_warnonce = require(</span><span class="s0">&quot;./utils/warn-once&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_imageblursvg = require(</span><span class="s0">&quot;./image-blur-svg&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_imageconfig = require(</span><span class="s0">&quot;./image-config&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">VALID_LOADING_VALUES = [</span>
    <span class="s0">'lazy'</span><span class="s1">,</span>
    <span class="s0">'eager'</span><span class="s1">,</span>
    <span class="s1">undefined</span>
<span class="s1">];</span>
<span class="s3">// Object-fit values that are not valid background-size values</span>
<span class="s2">const </span><span class="s1">INVALID_BACKGROUND_SIZE_VALUES = [</span>
    <span class="s0">'-moz-initial'</span><span class="s1">,</span>
    <span class="s0">'fill'</span><span class="s1">,</span>
    <span class="s0">'none'</span><span class="s1">,</span>
    <span class="s0">'scale-down'</span><span class="s1">,</span>
    <span class="s1">undefined</span>
<span class="s1">];</span>
<span class="s2">function </span><span class="s1">isStaticRequire(src) {</span>
    <span class="s2">return </span><span class="s1">src.default !== undefined;</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">isStaticImageData(src) {</span>
    <span class="s2">return </span><span class="s1">src.src !== undefined;</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">isStaticImport(src) {</span>
    <span class="s2">return </span><span class="s1">!!src &amp;&amp; </span><span class="s2">typeof </span><span class="s1">src === </span><span class="s0">'object' </span><span class="s1">&amp;&amp; (isStaticRequire(src) || isStaticImageData(src));</span>
<span class="s1">}</span>
<span class="s2">const </span><span class="s1">allImgs = </span><span class="s2">new </span><span class="s1">Map();</span>
<span class="s2">let </span><span class="s1">perfObserver;</span>
<span class="s2">function </span><span class="s1">getInt(x) {</span>
    <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">x === </span><span class="s0">'undefined'</span><span class="s1">) {</span>
        <span class="s2">return </span><span class="s1">x;</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">x === </span><span class="s0">'number'</span><span class="s1">) {</span>
        <span class="s2">return </span><span class="s1">Number.isFinite(x) ? x : NaN;</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">x === </span><span class="s0">'string' </span><span class="s1">&amp;&amp; </span><span class="s4">/^[0-9]+$/</span><span class="s1">.test(x)) {</span>
        <span class="s2">return </span><span class="s1">parseInt(x, </span><span class="s5">10</span><span class="s1">);</span>
    <span class="s1">}</span>
    <span class="s2">return </span><span class="s1">NaN;</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">getWidths(param, width, sizes) {</span>
    <span class="s2">let </span><span class="s1">{ deviceSizes, allSizes } = param;</span>
    <span class="s2">if </span><span class="s1">(sizes) {</span>
        <span class="s3">// Find all the &quot;vw&quot; percent sizes used in the sizes prop</span>
        <span class="s2">const </span><span class="s1">viewportWidthRe = </span><span class="s4">/(^|\s)(1?\d?\d)vw/g</span><span class="s1">;</span>
        <span class="s2">const </span><span class="s1">percentSizes = [];</span>
        <span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s1">match; match = viewportWidthRe.exec(sizes); match){</span>
            <span class="s1">percentSizes.push(parseInt(match[</span><span class="s5">2</span><span class="s1">]));</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(percentSizes.length) {</span>
            <span class="s2">const </span><span class="s1">smallestRatio = Math.min(...percentSizes) * </span><span class="s5">0.01</span><span class="s1">;</span>
            <span class="s2">return </span><span class="s1">{</span>
                <span class="s1">widths: allSizes.filter((s)=&gt;s &gt;= deviceSizes[</span><span class="s5">0</span><span class="s1">] * smallestRatio),</span>
                <span class="s1">kind: </span><span class="s0">'w'</span>
            <span class="s1">};</span>
        <span class="s1">}</span>
        <span class="s2">return </span><span class="s1">{</span>
            <span class="s1">widths: allSizes,</span>
            <span class="s1">kind: </span><span class="s0">'w'</span>
        <span class="s1">};</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">width !== </span><span class="s0">'number'</span><span class="s1">) {</span>
        <span class="s2">return </span><span class="s1">{</span>
            <span class="s1">widths: deviceSizes,</span>
            <span class="s1">kind: </span><span class="s0">'w'</span>
        <span class="s1">};</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">widths = [</span>
        <span class="s1">...</span><span class="s2">new </span><span class="s1">Set(</span><span class="s3">// &gt; This means that most OLED screens that say they are 3x resolution,</span>
        <span class="s3">// &gt; are actually 3x in the green color, but only 1.5x in the red and</span>
        <span class="s3">// &gt; blue colors. Showing a 3x resolution image in the app vs a 2x</span>
        <span class="s3">// &gt; resolution image will be visually the same, though the 3x image</span>
        <span class="s3">// &gt; takes significantly more data. Even true 3x resolution screens are</span>
        <span class="s3">// &gt; wasteful as the human eye cannot see that level of detail without</span>
        <span class="s3">// &gt; something like a magnifying glass.</span>
        <span class="s3">// https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/capping-image-fidelity-on-ultra-high-resolution-devices.html</span>
        <span class="s1">[</span>
            <span class="s1">width,</span>
            <span class="s1">width * </span><span class="s5">2 </span><span class="s3">/*, width * 3*/ </span>
        <span class="s1">].map((w)=&gt;allSizes.find((p)=&gt;p &gt;= w) || allSizes[allSizes.length - </span><span class="s5">1</span><span class="s1">]))</span>
    <span class="s1">];</span>
    <span class="s2">return </span><span class="s1">{</span>
        <span class="s1">widths,</span>
        <span class="s1">kind: </span><span class="s0">'x'</span>
    <span class="s1">};</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">generateImgAttrs(param) {</span>
    <span class="s2">let </span><span class="s1">{ config, src, unoptimized, width, quality, sizes, loader } = param;</span>
    <span class="s2">if </span><span class="s1">(unoptimized) {</span>
        <span class="s2">return </span><span class="s1">{</span>
            <span class="s1">src,</span>
            <span class="s1">srcSet: undefined,</span>
            <span class="s1">sizes: undefined</span>
        <span class="s1">};</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">{ widths, kind } = getWidths(config, width, sizes);</span>
    <span class="s2">const </span><span class="s1">last = widths.length - </span><span class="s5">1</span><span class="s1">;</span>
    <span class="s2">return </span><span class="s1">{</span>
        <span class="s1">sizes: !sizes &amp;&amp; kind === </span><span class="s0">'w' </span><span class="s1">? </span><span class="s0">'100vw' </span><span class="s1">: sizes,</span>
        <span class="s1">srcSet: widths.map((w, i)=&gt;loader({</span>
                <span class="s1">config,</span>
                <span class="s1">src,</span>
                <span class="s1">quality,</span>
                <span class="s1">width: w</span>
            <span class="s1">}) + </span><span class="s0">&quot; &quot; </span><span class="s1">+ (kind === </span><span class="s0">'w' </span><span class="s1">? w : i + </span><span class="s5">1</span><span class="s1">) + kind).join(</span><span class="s0">', '</span><span class="s1">),</span>
        <span class="s3">// It's intended to keep `src` the last attribute because React updates</span>
        <span class="s3">// attributes in order. If we keep `src` the first one, Safari will</span>
        <span class="s3">// immediately start to fetch `src`, before `sizes` and `srcSet` are even</span>
        <span class="s3">// updated by React. That causes multiple unnecessary requests if `srcSet`</span>
        <span class="s3">// and `sizes` are defined.</span>
        <span class="s3">// This bug cannot be reproduced in Chrome or Firefox.</span>
        <span class="s1">src: loader({</span>
            <span class="s1">config,</span>
            <span class="s1">src,</span>
            <span class="s1">quality,</span>
            <span class="s1">width: widths[last]</span>
        <span class="s1">})</span>
    <span class="s1">};</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">getImgProps(param, _state) {</span>
    <span class="s2">let </span><span class="s1">{ src, sizes, unoptimized = </span><span class="s2">false</span><span class="s1">, priority = </span><span class="s2">false</span><span class="s1">, loading, className, quality, width, height, fill = </span><span class="s2">false</span><span class="s1">, style, overrideSrc, onLoad, onLoadingComplete, placeholder = </span><span class="s0">'empty'</span><span class="s1">, blurDataURL, fetchPriority, decoding = </span><span class="s0">'async'</span><span class="s1">, layout, objectFit, objectPosition, lazyBoundary, lazyRoot, ...rest } = param;</span>
    <span class="s2">const </span><span class="s1">{ imgConf, showAltText, blurComplete, defaultLoader } = _state;</span>
    <span class="s2">let </span><span class="s1">config;</span>
    <span class="s2">let </span><span class="s1">c = imgConf || _imageconfig.imageConfigDefault;</span>
    <span class="s2">if </span><span class="s1">(</span><span class="s0">'allSizes' </span><span class="s2">in </span><span class="s1">c) {</span>
        <span class="s1">config = c;</span>
    <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
        <span class="s2">var </span><span class="s1">_c_qualities;</span>
        <span class="s2">const </span><span class="s1">allSizes = [</span>
            <span class="s1">...c.deviceSizes,</span>
            <span class="s1">...c.imageSizes</span>
        <span class="s1">].sort((a, b)=&gt;a - b);</span>
        <span class="s2">const </span><span class="s1">deviceSizes = c.deviceSizes.sort((a, b)=&gt;a - b);</span>
        <span class="s2">const </span><span class="s1">qualities = (_c_qualities = c.qualities) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s5">0 </span><span class="s1">: _c_qualities.sort((a, b)=&gt;a - b);</span>
        <span class="s1">config = {</span>
            <span class="s1">...c,</span>
            <span class="s1">allSizes,</span>
            <span class="s1">deviceSizes,</span>
            <span class="s1">qualities</span>
        <span class="s1">};</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">defaultLoader === </span><span class="s0">'undefined'</span><span class="s1">) {</span>
        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'images.loaderFile detected but the file is missing default export.</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/invalid-images-config'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
            <span class="s1">value: </span><span class="s0">&quot;E163&quot;</span><span class="s1">,</span>
            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">configurable: </span><span class="s2">true</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s2">let </span><span class="s1">loader = rest.loader || defaultLoader;</span>
    <span class="s3">// Remove property so it's not spread on &lt;img&gt; element</span>
    <span class="s2">delete </span><span class="s1">rest.loader;</span>
    <span class="s2">delete </span><span class="s1">rest.srcSet;</span>
    <span class="s3">// This special value indicates that the user</span>
    <span class="s3">// didn't define a &quot;loader&quot; prop or &quot;loader&quot; config.</span>
    <span class="s2">const </span><span class="s1">isDefaultLoader = </span><span class="s0">'__next_img_default' </span><span class="s2">in </span><span class="s1">loader;</span>
    <span class="s2">if </span><span class="s1">(isDefaultLoader) {</span>
        <span class="s2">if </span><span class="s1">(config.loader === </span><span class="s0">'custom'</span><span class="s1">) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; is missing &quot;loader&quot; prop.' </span><span class="s1">+ </span><span class="s0">&quot;</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/next-image-missing-loader&quot;</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E252&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
    <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
        <span class="s3">// The user defined a &quot;loader&quot; prop or config.</span>
        <span class="s3">// Since the config object is internal only, we</span>
        <span class="s3">// must not pass it to the user-defined &quot;loader&quot;.</span>
        <span class="s2">const </span><span class="s1">customImageLoader = loader;</span>
        <span class="s1">loader = (obj)=&gt;{</span>
            <span class="s2">const </span><span class="s1">{ config: _, ...opts } = obj;</span>
            <span class="s2">return </span><span class="s1">customImageLoader(opts);</span>
        <span class="s1">};</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(layout) {</span>
        <span class="s2">if </span><span class="s1">(layout === </span><span class="s0">'fill'</span><span class="s1">) {</span>
            <span class="s1">fill = </span><span class="s2">true</span><span class="s1">;</span>
        <span class="s1">}</span>
        <span class="s2">const </span><span class="s1">layoutToStyle = {</span>
            <span class="s1">intrinsic: {</span>
                <span class="s1">maxWidth: </span><span class="s0">'100%'</span><span class="s1">,</span>
                <span class="s1">height: </span><span class="s0">'auto'</span>
            <span class="s1">},</span>
            <span class="s1">responsive: {</span>
                <span class="s1">width: </span><span class="s0">'100%'</span><span class="s1">,</span>
                <span class="s1">height: </span><span class="s0">'auto'</span>
            <span class="s1">}</span>
        <span class="s1">};</span>
        <span class="s2">const </span><span class="s1">layoutToSizes = {</span>
            <span class="s1">responsive: </span><span class="s0">'100vw'</span><span class="s1">,</span>
            <span class="s1">fill: </span><span class="s0">'100vw'</span>
        <span class="s1">};</span>
        <span class="s2">const </span><span class="s1">layoutStyle = layoutToStyle[layout];</span>
        <span class="s2">if </span><span class="s1">(layoutStyle) {</span>
            <span class="s1">style = {</span>
                <span class="s1">...style,</span>
                <span class="s1">...layoutStyle</span>
            <span class="s1">};</span>
        <span class="s1">}</span>
        <span class="s2">const </span><span class="s1">layoutSizes = layoutToSizes[layout];</span>
        <span class="s2">if </span><span class="s1">(layoutSizes &amp;&amp; !sizes) {</span>
            <span class="s1">sizes = layoutSizes;</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s2">let </span><span class="s1">staticSrc = </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s2">let </span><span class="s1">widthInt = getInt(width);</span>
    <span class="s2">let </span><span class="s1">heightInt = getInt(height);</span>
    <span class="s2">let </span><span class="s1">blurWidth;</span>
    <span class="s2">let </span><span class="s1">blurHeight;</span>
    <span class="s2">if </span><span class="s1">(isStaticImport(src)) {</span>
        <span class="s2">const </span><span class="s1">staticImageData = isStaticRequire(src) ? src.default : src;</span>
        <span class="s2">if </span><span class="s1">(!staticImageData.src) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">&quot;An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received &quot; </span><span class="s1">+ JSON.stringify(staticImageData)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E460&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(!staticImageData.height || !staticImageData.width) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">&quot;An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received &quot; </span><span class="s1">+ JSON.stringify(staticImageData)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E48&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s1">blurWidth = staticImageData.blurWidth;</span>
        <span class="s1">blurHeight = staticImageData.blurHeight;</span>
        <span class="s1">blurDataURL = blurDataURL || staticImageData.blurDataURL;</span>
        <span class="s1">staticSrc = staticImageData.src;</span>
        <span class="s2">if </span><span class="s1">(!fill) {</span>
            <span class="s2">if </span><span class="s1">(!widthInt &amp;&amp; !heightInt) {</span>
                <span class="s1">widthInt = staticImageData.width;</span>
                <span class="s1">heightInt = staticImageData.height;</span>
            <span class="s1">} </span><span class="s2">else if </span><span class="s1">(widthInt &amp;&amp; !heightInt) {</span>
                <span class="s2">const </span><span class="s1">ratio = widthInt / staticImageData.width;</span>
                <span class="s1">heightInt = Math.round(staticImageData.height * ratio);</span>
            <span class="s1">} </span><span class="s2">else if </span><span class="s1">(!widthInt &amp;&amp; heightInt) {</span>
                <span class="s2">const </span><span class="s1">ratio = heightInt / staticImageData.height;</span>
                <span class="s1">widthInt = Math.round(staticImageData.width * ratio);</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s1">src = </span><span class="s2">typeof </span><span class="s1">src === </span><span class="s0">'string' </span><span class="s1">? src : staticSrc;</span>
    <span class="s2">let </span><span class="s1">isLazy = !priority &amp;&amp; (loading === </span><span class="s0">'lazy' </span><span class="s1">|| </span><span class="s2">typeof </span><span class="s1">loading === </span><span class="s0">'undefined'</span><span class="s1">);</span>
    <span class="s2">if </span><span class="s1">(!src || src.startsWith(</span><span class="s0">'data:'</span><span class="s1">) || src.startsWith(</span><span class="s0">'blob:'</span><span class="s1">)) {</span>
        <span class="s3">// https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/Data_URIs</span>
        <span class="s1">unoptimized = </span><span class="s2">true</span><span class="s1">;</span>
        <span class="s1">isLazy = </span><span class="s2">false</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(config.unoptimized) {</span>
        <span class="s1">unoptimized = </span><span class="s2">true</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(isDefaultLoader &amp;&amp; !config.dangerouslyAllowSVG &amp;&amp; src.split(</span><span class="s0">'?'</span><span class="s1">, </span><span class="s5">1</span><span class="s1">)[</span><span class="s5">0</span><span class="s1">].endsWith(</span><span class="s0">'.svg'</span><span class="s1">)) {</span>
        <span class="s3">// Special case to make svg serve as-is to avoid proxying</span>
        <span class="s3">// through the built-in Image Optimization API.</span>
        <span class="s1">unoptimized = </span><span class="s2">true</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">qualityInt = getInt(quality);</span>
    <span class="s2">if </span><span class="s1">(process.env.NODE_ENV !== </span><span class="s0">'production'</span><span class="s1">) {</span>
        <span class="s2">var </span><span class="s1">_config_localPatterns;</span>
        <span class="s2">if </span><span class="s1">(config.output === </span><span class="s0">'export' </span><span class="s1">&amp;&amp; isDefaultLoader &amp;&amp; !unoptimized) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">&quot;Image Optimization using the default loader is not compatible with `{ output: 'export' }`.</span><span class="s6">\n  </span><span class="s0">Possible solutions:</span><span class="s6">\n    </span><span class="s0">- Remove `{ output: 'export' }` and run </span><span class="s6">\&quot;</span><span class="s0">next start</span><span class="s6">\&quot; </span><span class="s0">to run server mode including the Image Optimization API.</span><span class="s6">\n    </span><span class="s0">- Configure `{ images: { unoptimized: true } }` in `next.config.js` to disable the Image Optimization API.</span><span class="s6">\n  </span><span class="s0">Read more: https://nextjs.org/docs/messages/export-image-api&quot;</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E500&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(!src) {</span>
            <span class="s3">// React doesn't show the stack trace and there's</span>
            <span class="s3">// no `src` to help identify which image, so we</span>
            <span class="s3">// instead console.error(ref) during mount.</span>
            <span class="s1">unoptimized = </span><span class="s2">true</span><span class="s1">;</span>
        <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
            <span class="s2">if </span><span class="s1">(fill) {</span>
                <span class="s2">if </span><span class="s1">(width) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has both &quot;width&quot; and &quot;fill&quot; properties. Only one should be used.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E96&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">}</span>
                <span class="s2">if </span><span class="s1">(height) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has both &quot;height&quot; and &quot;fill&quot; properties. Only one should be used.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E115&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">}</span>
                <span class="s2">if </span><span class="s1">((style == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s5">0 </span><span class="s1">: style.position) &amp;&amp; style.position !== </span><span class="s0">'absolute'</span><span class="s1">) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has both &quot;fill&quot; and &quot;style.position&quot; properties. Images with &quot;fill&quot; always use position absolute - it cannot be modified.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E216&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">}</span>
                <span class="s2">if </span><span class="s1">((style == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s5">0 </span><span class="s1">: style.width) &amp;&amp; style.width !== </span><span class="s0">'100%'</span><span class="s1">) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has both &quot;fill&quot; and &quot;style.width&quot; properties. Images with &quot;fill&quot; always use width 100% - it cannot be modified.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E73&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">}</span>
                <span class="s2">if </span><span class="s1">((style == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s5">0 </span><span class="s1">: style.height) &amp;&amp; style.height !== </span><span class="s0">'100%'</span><span class="s1">) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has both &quot;fill&quot; and &quot;style.height&quot; properties. Images with &quot;fill&quot; always use height 100% - it cannot be modified.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E404&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">}</span>
            <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">widthInt === </span><span class="s0">'undefined'</span><span class="s1">) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; is missing required &quot;width&quot; property.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E451&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">} </span><span class="s2">else if </span><span class="s1">(isNaN(widthInt)) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has invalid &quot;width&quot; property. Expected a numeric value in pixels but received &quot;' </span><span class="s1">+ width + </span><span class="s0">'&quot;.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E66&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">}</span>
                <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">heightInt === </span><span class="s0">'undefined'</span><span class="s1">) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; is missing required &quot;height&quot; property.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E397&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">} </span><span class="s2">else if </span><span class="s1">(isNaN(heightInt)) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has invalid &quot;height&quot; property. Expected a numeric value in pixels but received &quot;' </span><span class="s1">+ height + </span><span class="s0">'&quot;.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E444&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">}</span>
                <span class="s3">// eslint-disable-next-line no-control-regex</span>
                <span class="s2">if </span><span class="s1">(</span><span class="s4">/^[\x00-\x20]/</span><span class="s1">.test(src)) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; cannot start with a space or control character. Use src.trimStart() to remove it or encodeURIComponent(src) to keep it.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E176&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">}</span>
                <span class="s3">// eslint-disable-next-line no-control-regex</span>
                <span class="s2">if </span><span class="s1">(</span><span class="s4">/[\x00-\x20]$/</span><span class="s1">.test(src)) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; cannot end with a space or control character. Use src.trimEnd() to remove it or encodeURIComponent(src) to keep it.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E21&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">}</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(!VALID_LOADING_VALUES.includes(loading)) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has invalid &quot;loading&quot; property. Provided &quot;' </span><span class="s1">+ loading + </span><span class="s0">'&quot; should be one of ' </span><span class="s1">+ VALID_LOADING_VALUES.map(String).join(</span><span class="s0">','</span><span class="s1">) + </span><span class="s0">&quot;.&quot;</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E357&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(priority &amp;&amp; loading === </span><span class="s0">'lazy'</span><span class="s1">) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has both &quot;priority&quot; and &quot;loading=</span><span class="s6">\'</span><span class="s0">lazy</span><span class="s6">\'</span><span class="s0">&quot; properties. Only one should be used.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E218&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(placeholder !== </span><span class="s0">'empty' </span><span class="s1">&amp;&amp; placeholder !== </span><span class="s0">'blur' </span><span class="s1">&amp;&amp; !placeholder.startsWith(</span><span class="s0">'data:image/'</span><span class="s1">)) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has invalid &quot;placeholder&quot; property &quot;' </span><span class="s1">+ placeholder + </span><span class="s0">'&quot;.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E431&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(placeholder !== </span><span class="s0">'empty'</span><span class="s1">) {</span>
            <span class="s2">if </span><span class="s1">(widthInt &amp;&amp; heightInt &amp;&amp; widthInt * heightInt &lt; </span><span class="s5">1600</span><span class="s1">) {</span>
                <span class="s1">(</span><span class="s5">0</span><span class="s1">, _warnonce.warnOnce)(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; is smaller than 40x40. Consider removing the &quot;placeholder&quot; property to improve performance.'</span><span class="s1">);</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(qualityInt &amp;&amp; qualityInt !== </span><span class="s5">75 </span><span class="s1">&amp;&amp; !config.qualities) {</span>
            <span class="s1">(</span><span class="s5">0</span><span class="s1">, _warnonce.warnOnce)(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; is using quality &quot;' </span><span class="s1">+ qualityInt + </span><span class="s0">'&quot; which is not configured in images.qualities. This config will be required starting in Next.js 16.' </span><span class="s1">+ </span><span class="s0">&quot;</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/next-image-unconfigured-qualities&quot;</span><span class="s1">);</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(src.startsWith(</span><span class="s0">'/'</span><span class="s1">) &amp;&amp; src.includes(</span><span class="s0">'?'</span><span class="s1">) &amp;&amp; (!(config == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s5">0 </span><span class="s1">: (_config_localPatterns = config.localPatterns) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s5">0 </span><span class="s1">: _config_localPatterns.length) || config.localPatterns.length === </span><span class="s5">1 </span><span class="s1">&amp;&amp; config.localPatterns[</span><span class="s5">0</span><span class="s1">].pathname === </span><span class="s0">'/_next/static/media/**'</span><span class="s1">)) {</span>
            <span class="s1">(</span><span class="s5">0</span><span class="s1">, _warnonce.warnOnce)(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; is using a query string which is not configured in images.localPatterns. This config will be required starting in Next.js 16.' </span><span class="s1">+ </span><span class="s0">&quot;</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns&quot;</span><span class="s1">);</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(placeholder === </span><span class="s0">'blur' </span><span class="s1">&amp;&amp; !blurDataURL) {</span>
            <span class="s2">const </span><span class="s1">VALID_BLUR_EXT = [</span>
                <span class="s0">'jpeg'</span><span class="s1">,</span>
                <span class="s0">'png'</span><span class="s1">,</span>
                <span class="s0">'webp'</span><span class="s1">,</span>
                <span class="s0">'avif'</span>
            <span class="s1">] </span><span class="s3">// should match next-image-loader</span>
            <span class="s1">;</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has &quot;placeholder=</span><span class="s6">\'</span><span class="s0">blur</span><span class="s6">\'</span><span class="s0">&quot; property but is missing the &quot;blurDataURL&quot; property.</span><span class="s6">\n        </span><span class="s0">Possible solutions:</span><span class="s6">\n          </span><span class="s0">- Add a &quot;blurDataURL&quot; property, the contents should be a small Data URL to represent the image</span><span class="s6">\n          </span><span class="s0">- Change the &quot;src&quot; property to a static import with one of the supported file types: ' </span><span class="s1">+ VALID_BLUR_EXT.join(</span><span class="s0">','</span><span class="s1">) + </span><span class="s0">' (animated images not supported)</span><span class="s6">\n          </span><span class="s0">- Remove the &quot;placeholder&quot; property, effectively no blur effect</span><span class="s6">\n        </span><span class="s0">Read more: https://nextjs.org/docs/messages/placeholder-blur-data-url'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E371&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(</span><span class="s0">'ref' </span><span class="s2">in </span><span class="s1">rest) {</span>
            <span class="s1">(</span><span class="s5">0</span><span class="s1">, _warnonce.warnOnce)(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; is using unsupported &quot;ref&quot; property. Consider using the &quot;onLoad&quot; property instead.'</span><span class="s1">);</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(!unoptimized &amp;&amp; !isDefaultLoader) {</span>
            <span class="s2">const </span><span class="s1">urlStr = loader({</span>
                <span class="s1">config,</span>
                <span class="s1">src,</span>
                <span class="s1">width: widthInt || </span><span class="s5">400</span><span class="s1">,</span>
                <span class="s1">quality: qualityInt || </span><span class="s5">75</span>
            <span class="s1">});</span>
            <span class="s2">let </span><span class="s1">url;</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">url = </span><span class="s2">new </span><span class="s1">URL(urlStr);</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(err) {}</span>
            <span class="s2">if </span><span class="s1">(urlStr === src || url &amp;&amp; url.pathname === src &amp;&amp; !url.search) {</span>
                <span class="s1">(</span><span class="s5">0</span><span class="s1">, _warnonce.warnOnce)(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has a &quot;loader&quot; property that does not implement width. Please implement it or use the &quot;unoptimized&quot; property instead.' </span><span class="s1">+ </span><span class="s0">&quot;</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/next-image-missing-loader-width&quot;</span><span class="s1">);</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(onLoadingComplete) {</span>
            <span class="s1">(</span><span class="s5">0</span><span class="s1">, _warnonce.warnOnce)(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; is using deprecated &quot;onLoadingComplete&quot; property. Please use the &quot;onLoad&quot; property instead.'</span><span class="s1">);</span>
        <span class="s1">}</span>
        <span class="s2">for </span><span class="s1">(</span><span class="s2">const </span><span class="s1">[legacyKey, legacyValue] of Object.entries({</span>
            <span class="s1">layout,</span>
            <span class="s1">objectFit,</span>
            <span class="s1">objectPosition,</span>
            <span class="s1">lazyBoundary,</span>
            <span class="s1">lazyRoot</span>
        <span class="s1">})){</span>
            <span class="s2">if </span><span class="s1">(legacyValue) {</span>
                <span class="s1">(</span><span class="s5">0</span><span class="s1">, _warnonce.warnOnce)(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ src + </span><span class="s0">'&quot; has legacy prop &quot;' </span><span class="s1">+ legacyKey + </span><span class="s0">'&quot;. Did you forget to run the codemod?' </span><span class="s1">+ </span><span class="s0">&quot;</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/next-image-upgrade-to-13&quot;</span><span class="s1">);</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">window !== </span><span class="s0">'undefined' </span><span class="s1">&amp;&amp; !perfObserver &amp;&amp; window.PerformanceObserver) {</span>
            <span class="s1">perfObserver = </span><span class="s2">new </span><span class="s1">PerformanceObserver((entryList)=&gt;{</span>
                <span class="s2">for </span><span class="s1">(</span><span class="s2">const </span><span class="s1">entry of entryList.getEntries()){</span>
                    <span class="s2">var </span><span class="s1">_entry_element;</span>
                    <span class="s3">// @ts-ignore - missing &quot;LargestContentfulPaint&quot; class with &quot;element&quot; prop</span>
                    <span class="s2">const </span><span class="s1">imgSrc = (entry == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s5">0 </span><span class="s1">: (_entry_element = entry.element) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s5">0 </span><span class="s1">: _entry_element.src) || </span><span class="s0">''</span><span class="s1">;</span>
                    <span class="s2">const </span><span class="s1">lcpImage = allImgs.get(imgSrc);</span>
                    <span class="s2">if </span><span class="s1">(lcpImage &amp;&amp; !lcpImage.priority &amp;&amp; lcpImage.placeholder === </span><span class="s0">'empty' </span><span class="s1">&amp;&amp; !lcpImage.src.startsWith(</span><span class="s0">'data:'</span><span class="s1">) &amp;&amp; !lcpImage.src.startsWith(</span><span class="s0">'blob:'</span><span class="s1">)) {</span>
                        <span class="s3">// https://web.dev/lcp/#measure-lcp-in-javascript</span>
                        <span class="s1">(</span><span class="s5">0</span><span class="s1">, _warnonce.warnOnce)(</span><span class="s0">'Image with src &quot;' </span><span class="s1">+ lcpImage.src + </span><span class="s0">'&quot; was detected as the Largest Contentful Paint (LCP). Please add the &quot;priority&quot; property if this image is above the fold.' </span><span class="s1">+ </span><span class="s0">&quot;</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/api-reference/next/image#priority&quot;</span><span class="s1">);</span>
                    <span class="s1">}</span>
                <span class="s1">}</span>
            <span class="s1">});</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">perfObserver.observe({</span>
                    <span class="s1">type: </span><span class="s0">'largest-contentful-paint'</span><span class="s1">,</span>
                    <span class="s1">buffered: </span><span class="s2">true</span>
                <span class="s1">});</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(err) {</span>
                <span class="s3">// Log error but don't crash the app</span>
                <span class="s1">console.error(err);</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">imgStyle = Object.assign(fill ? {</span>
        <span class="s1">position: </span><span class="s0">'absolute'</span><span class="s1">,</span>
        <span class="s1">height: </span><span class="s0">'100%'</span><span class="s1">,</span>
        <span class="s1">width: </span><span class="s0">'100%'</span><span class="s1">,</span>
        <span class="s1">left: </span><span class="s5">0</span><span class="s1">,</span>
        <span class="s1">top: </span><span class="s5">0</span><span class="s1">,</span>
        <span class="s1">right: </span><span class="s5">0</span><span class="s1">,</span>
        <span class="s1">bottom: </span><span class="s5">0</span><span class="s1">,</span>
        <span class="s1">objectFit,</span>
        <span class="s1">objectPosition</span>
    <span class="s1">} : {}, showAltText ? {} : {</span>
        <span class="s1">color: </span><span class="s0">'transparent'</span>
    <span class="s1">}, style);</span>
    <span class="s2">const </span><span class="s1">backgroundImage = !blurComplete &amp;&amp; placeholder !== </span><span class="s0">'empty' </span><span class="s1">? placeholder === </span><span class="s0">'blur' </span><span class="s1">? </span><span class="s0">'url(&quot;data:image/svg+xml;charset=utf-8,' </span><span class="s1">+ (</span><span class="s5">0</span><span class="s1">, _imageblursvg.getImageBlurSvg)({</span>
        <span class="s1">widthInt,</span>
        <span class="s1">heightInt,</span>
        <span class="s1">blurWidth,</span>
        <span class="s1">blurHeight,</span>
        <span class="s1">blurDataURL: blurDataURL || </span><span class="s0">''</span><span class="s1">,</span>
        <span class="s1">objectFit: imgStyle.objectFit</span>
    <span class="s1">}) + </span><span class="s0">'&quot;)' </span><span class="s1">: </span><span class="s0">'url(&quot;' </span><span class="s1">+ placeholder + </span><span class="s0">'&quot;)' </span><span class="s3">// assume `data:image/`</span>
     <span class="s1">: </span><span class="s2">null</span><span class="s1">;</span>
    <span class="s2">const </span><span class="s1">backgroundSize = !INVALID_BACKGROUND_SIZE_VALUES.includes(imgStyle.objectFit) ? imgStyle.objectFit : imgStyle.objectFit === </span><span class="s0">'fill' </span><span class="s1">? </span><span class="s0">'100% 100%' </span><span class="s3">// the background-size equivalent of `fill`</span>
     <span class="s1">: </span><span class="s0">'cover'</span><span class="s1">;</span>
    <span class="s2">let </span><span class="s1">placeholderStyle = backgroundImage ? {</span>
        <span class="s1">backgroundSize,</span>
        <span class="s1">backgroundPosition: imgStyle.objectPosition || </span><span class="s0">'50% 50%'</span><span class="s1">,</span>
        <span class="s1">backgroundRepeat: </span><span class="s0">'no-repeat'</span><span class="s1">,</span>
        <span class="s1">backgroundImage</span>
    <span class="s1">} : {};</span>
    <span class="s2">if </span><span class="s1">(process.env.NODE_ENV === </span><span class="s0">'development'</span><span class="s1">) {</span>
        <span class="s2">if </span><span class="s1">(placeholderStyle.backgroundImage &amp;&amp; placeholder === </span><span class="s0">'blur' </span><span class="s1">&amp;&amp; (blurDataURL == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s5">0 </span><span class="s1">: blurDataURL.startsWith(</span><span class="s0">'/'</span><span class="s1">))) {</span>
            <span class="s3">// During `next dev`, we don't want to generate blur placeholders with webpack</span>
            <span class="s3">// because it can delay starting the dev server. Instead, `next-image-loader.js`</span>
            <span class="s3">// will inline a special url to lazily generate the blur placeholder at request time.</span>
            <span class="s1">placeholderStyle.backgroundImage = </span><span class="s0">'url(&quot;' </span><span class="s1">+ blurDataURL + </span><span class="s0">'&quot;)'</span><span class="s1">;</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">imgAttributes = generateImgAttrs({</span>
        <span class="s1">config,</span>
        <span class="s1">src,</span>
        <span class="s1">unoptimized,</span>
        <span class="s1">width: widthInt,</span>
        <span class="s1">quality: qualityInt,</span>
        <span class="s1">sizes,</span>
        <span class="s1">loader</span>
    <span class="s1">});</span>
    <span class="s2">if </span><span class="s1">(process.env.NODE_ENV !== </span><span class="s0">'production'</span><span class="s1">) {</span>
        <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">window !== </span><span class="s0">'undefined'</span><span class="s1">) {</span>
            <span class="s2">let </span><span class="s1">fullUrl;</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">fullUrl = </span><span class="s2">new </span><span class="s1">URL(imgAttributes.src);</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(e) {</span>
                <span class="s1">fullUrl = </span><span class="s2">new </span><span class="s1">URL(imgAttributes.src, window.location.href);</span>
            <span class="s1">}</span>
            <span class="s1">allImgs.set(fullUrl.href, {</span>
                <span class="s1">src,</span>
                <span class="s1">priority,</span>
                <span class="s1">placeholder</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">props = {</span>
        <span class="s1">...rest,</span>
        <span class="s1">loading: isLazy ? </span><span class="s0">'lazy' </span><span class="s1">: loading,</span>
        <span class="s1">fetchPriority,</span>
        <span class="s1">width: widthInt,</span>
        <span class="s1">height: heightInt,</span>
        <span class="s1">decoding,</span>
        <span class="s1">className,</span>
        <span class="s1">style: {</span>
            <span class="s1">...imgStyle,</span>
            <span class="s1">...placeholderStyle</span>
        <span class="s1">},</span>
        <span class="s1">sizes: imgAttributes.sizes,</span>
        <span class="s1">srcSet: imgAttributes.srcSet,</span>
        <span class="s1">src: overrideSrc || imgAttributes.src</span>
    <span class="s1">};</span>
    <span class="s2">const </span><span class="s1">meta = {</span>
        <span class="s1">unoptimized,</span>
        <span class="s1">priority,</span>
        <span class="s1">placeholder,</span>
        <span class="s1">fill</span>
    <span class="s1">};</span>
    <span class="s2">return </span><span class="s1">{</span>
        <span class="s1">props,</span>
        <span class="s1">meta</span>
    <span class="s1">};</span>
<span class="s1">}</span>

<span class="s3">//# sourceMappingURL=get-img-props.js.map</span></pre>
</body>
</html>