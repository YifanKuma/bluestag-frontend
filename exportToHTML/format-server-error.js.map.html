<html>
<head>
<title>format-server-error.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
format-server-error.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/lib/format-server-error.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const invalidServerComponentReactHooks = [</span><span class="s3">\n  </span><span class="s1">'useDeferredValue',</span><span class="s3">\n  </span><span class="s1">'useEffect',</span><span class="s3">\n  </span><span class="s1">'useImperativeHandle',</span><span class="s3">\n  </span><span class="s1">'useInsertionEffect',</span><span class="s3">\n  </span><span class="s1">'useLayoutEffect',</span><span class="s3">\n  </span><span class="s1">'useReducer',</span><span class="s3">\n  </span><span class="s1">'useRef',</span><span class="s3">\n  </span><span class="s1">'useState',</span><span class="s3">\n  </span><span class="s1">'useSyncExternalStore',</span><span class="s3">\n  </span><span class="s1">'useTransition',</span><span class="s3">\n  </span><span class="s1">'experimental_useOptimistic',</span><span class="s3">\n  </span><span class="s1">'useOptimistic',</span><span class="s3">\n</span><span class="s1">]</span><span class="s3">\n\n</span><span class="s1">function setMessage(error: Error, message: string): void {</span><span class="s3">\n  </span><span class="s1">error.message = message</span><span class="s3">\n  </span><span class="s1">if (error.stack) {</span><span class="s3">\n    </span><span class="s1">const lines = error.stack.split('</span><span class="s3">\\</span><span class="s1">n')</span><span class="s3">\n    </span><span class="s1">lines[0] = message</span><span class="s3">\n    </span><span class="s1">error.stack = lines.join('</span><span class="s3">\\</span><span class="s1">n')</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Input:</span><span class="s3">\n </span><span class="s1">* Error: Something went wrong</span><span class="s3">\n    </span><span class="s1">at funcName (/path/to/file.js:10:5)</span><span class="s3">\n    </span><span class="s1">at anotherFunc (/path/to/file.js:15:10)</span><span class="s3">\n \n </span><span class="s1">* Output:</span><span class="s3">\n    </span><span class="s1">at funcName (/path/to/file.js:10:5)</span><span class="s3">\n    </span><span class="s1">at anotherFunc (/path/to/file.js:15:10) </span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function getStackWithoutErrorMessage(error: Error): string {</span><span class="s3">\n  </span><span class="s1">const stack = error.stack</span><span class="s3">\n  </span><span class="s1">if (!stack) return ''</span><span class="s3">\n  </span><span class="s1">return stack.replace(/^[^</span><span class="s3">\\</span><span class="s1">n]*</span><span class="s3">\\</span><span class="s1">n/, '')</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function formatServerError(error: Error): void {</span><span class="s3">\n  </span><span class="s1">if (typeof error?.message !== 'string') return</span><span class="s3">\n\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">error.message.includes(</span><span class="s3">\n      </span><span class="s1">'Class extends value undefined is not a constructor or null'</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const addedMessage =</span><span class="s3">\n      </span><span class="s1">'This might be caused by a React Class Component being rendered in a Server Component, React Class Components only works in Client Components. Read more: https://nextjs.org/docs/messages/class-component-in-server-component'</span><span class="s3">\n\n    </span><span class="s1">// If this error instance already has the message, don't add it again</span><span class="s3">\n    </span><span class="s1">if (error.message.includes(addedMessage)) return</span><span class="s3">\n\n    </span><span class="s1">setMessage(</span><span class="s3">\n      </span><span class="s1">error,</span><span class="s3">\n      </span><span class="s1">`${error.message}</span><span class="s3">\n\n</span><span class="s1">${addedMessage}`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (error.message.includes('createContext is not a function')) {</span><span class="s3">\n    </span><span class="s1">setMessage(</span><span class="s3">\n      </span><span class="s1">error,</span><span class="s3">\n      </span><span class="s1">'createContext only works in Client Components. Add the </span><span class="s3">\&quot;</span><span class="s1">use client</span><span class="s3">\&quot; </span><span class="s1">directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/context-in-server-component'</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">for (const clientHook of invalidServerComponentReactHooks) {</span><span class="s3">\n    </span><span class="s1">const regex = new RegExp(`</span><span class="s3">\\\\</span><span class="s1">b${clientHook}</span><span class="s3">\\\\</span><span class="s1">b.*is not a function`)</span><span class="s3">\n    </span><span class="s1">if (regex.test(error.message)) {</span><span class="s3">\n      </span><span class="s1">setMessage(</span><span class="s3">\n        </span><span class="s1">error,</span><span class="s3">\n        </span><span class="s1">`${clientHook} only works in Client Components. Add the </span><span class="s3">\&quot;</span><span class="s1">use client</span><span class="s3">\&quot; </span><span class="s1">directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/react-client-hook-in-server-component`</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">return</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;formatServerError&quot;</span><span class="s0">,</span><span class="s1">&quot;getStackWithoutErrorMessage&quot;</span><span class="s0">,</span><span class="s1">&quot;invalidServerComponentReactHooks&quot;</span><span class="s0">,</span><span class="s1">&quot;setMessage&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;stack&quot;</span><span class="s0">,</span><span class="s1">&quot;lines&quot;</span><span class="s0">,</span><span class="s1">&quot;split&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;addedMessage&quot;</span><span class="s0">,</span><span class="s1">&quot;clientHook&quot;</span><span class="s0">,</span><span class="s1">&quot;regex&quot;</span><span class="s0">,</span><span class="s1">&quot;RegExp&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;IAwCgBA,iBAAiB;eAAjBA;;IANAC,2BAA2B;eAA3BA;;;AAlChB,MAAMC,mCAAmC;IACvC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,SAASC,WAAWC,KAAY,EAAEC,OAAe;IAC/CD,MAAMC,OAAO,GAAGA;IAChB,IAAID,MAAME,KAAK,EAAE;QACf,MAAMC,QAAQH,MAAME,KAAK,CAACE,KAAK,CAAC;QAChCD,KAAK,CAAC,EAAE,GAAGF;QACXD,MAAME,KAAK,GAAGC,MAAME,IAAI,CAAC;IAC3B;AACF;AAYO,SAASR,4BAA4BG,KAAY;IACtD,MAAME,QAAQF,MAAME,KAAK;IACzB,IAAI,CAACA,OAAO,OAAO;IACnB,OAAOA,MAAMI,OAAO,CAAC,aAAa;AACpC;AAEO,SAASV,kBAAkBI,KAAY;IAC5C,IAAI,QAAOA,yBAAAA,MAAOC,OAAO,MAAK,UAAU;IAExC,IACED,MAAMC,OAAO,CAACM,QAAQ,CACpB,+DAEF;QACA,MAAMC,eACJ;QAEF,qEAAqE;QACrE,IAAIR,MAAMC,OAAO,CAACM,QAAQ,CAACC,eAAe;QAE1CT,WACEC,OACA,GAAGA,MAAMC,OAAO,CAAC;;AAEvB,EAAEO,cAAc;QAEZ;IACF;IAEA,IAAIR,MAAMC,OAAO,CAACM,QAAQ,CAAC,oCAAoC;QAC7DR,WACEC,OACA;QAEF;IACF;IAEA,KAAK,MAAMS,cAAcX,iCAAkC;QACzD,MAAMY,QAAQ,IAAIC,OAAO,CAAC,GAAG,EAAEF,WAAW,sBAAsB,CAAC;QACjE,IAAIC,MAAME,IAAI,CAACZ,MAAMC,OAAO,GAAG;YAC7BF,WACEC,OACA,GAAGS,WAAW,oLAAoL,CAAC;YAErM;QACF;IACF;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>