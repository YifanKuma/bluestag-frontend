<html>
<head>
<title>node-crypto.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
node-crypto.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/server/node-environment-extensions/node-crypto.tsx&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* We extend node:crypto APIs during builds and revalidates to ensure that prerenders don't observe random bytes</span><span class="s3">\n </span><span class="s1">* When cacheComponents is enabled. Random bytes are a form of IO even if they resolve synchronously. When cacheComponents is</span><span class="s3">\n </span><span class="s1">* enabled we need to ensure that random bytes are excluded from prerenders unless they are cached.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The extensions here never error nor alter the underlying return values and thus should be transparent to callers.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">import { io } from './utils'</span><span class="s3">\n\n</span><span class="s1">if (process.env.NEXT_RUNTIME === 'edge') {</span><span class="s3">\n  </span><span class="s1">// nothing to patch</span><span class="s3">\n</span><span class="s1">} else {</span><span class="s3">\n  </span><span class="s1">const nodeCrypto = require('node:crypto') as typeof import('node:crypto')</span><span class="s3">\n\n  </span><span class="s1">// require('node:crypto').getRandomValues is an alias for</span><span class="s3">\n  </span><span class="s1">// crypto.getRandomValues which is extended in web-crypto.tsx</span><span class="s3">\n\n  </span><span class="s1">// require('node:crypto').randomUUID is not an alias for crypto.randomUUID</span><span class="s3">\n\n  </span><span class="s1">const randomUUIDExpression = </span><span class="s3">\&quot;</span><span class="s1">`require('node:crypto').randomUUID()`</span><span class="s3">\&quot;\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const _randomUUID = nodeCrypto.randomUUID</span><span class="s3">\n    </span><span class="s1">nodeCrypto.randomUUID = function randomUUID() {</span><span class="s3">\n      </span><span class="s1">io(randomUUIDExpression, 'random')</span><span class="s3">\n      </span><span class="s1">return _randomUUID.apply(this, arguments as any)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} catch {</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">`Failed to install ${randomUUIDExpression} extension. When using </span><span class="s3">\\</span><span class="s1">`experimental.cacheComponents</span><span class="s3">\\</span><span class="s1">` calling this function will not correctly trigger dynamic behavior.`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const randomBytesExpression = </span><span class="s3">\&quot;</span><span class="s1">`require('node:crypto').randomBytes(size)`</span><span class="s3">\&quot;\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const _randomBytes = nodeCrypto.randomBytes</span><span class="s3">\n    </span><span class="s1">// @ts-expect-error -- TODO: tell TS the overloads are preserved</span><span class="s3">\n    </span><span class="s1">nodeCrypto.randomBytes = function randomBytes() {</span><span class="s3">\n      </span><span class="s1">if (typeof arguments[1] !== 'function') {</span><span class="s3">\n        </span><span class="s1">// randomBytes is sync if the second arg is undefined</span><span class="s3">\n        </span><span class="s1">io(randomBytesExpression, 'random')</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return _randomBytes.apply(this, arguments as any)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} catch {</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">`Failed to install ${randomBytesExpression} extension. When using </span><span class="s3">\\</span><span class="s1">`experimental.cacheComponents</span><span class="s3">\\</span><span class="s1">` calling this function without a callback argument will not correctly trigger dynamic behavior.`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const randomFillSyncExpression =</span><span class="s3">\n    \&quot;</span><span class="s1">`require('node:crypto').randomFillSync(...)`</span><span class="s3">\&quot;\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const _randomFillSync = nodeCrypto.randomFillSync</span><span class="s3">\n    </span><span class="s1">// @ts-expect-error -- TODO: tell TS the overloads are preserved</span><span class="s3">\n    </span><span class="s1">nodeCrypto.randomFillSync = function randomFillSync() {</span><span class="s3">\n      </span><span class="s1">io(randomFillSyncExpression, 'random')</span><span class="s3">\n      </span><span class="s1">return _randomFillSync.apply(this, arguments as any)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} catch {</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">`Failed to install ${randomFillSyncExpression} extension. When using </span><span class="s3">\\</span><span class="s1">`experimental.cacheComponents</span><span class="s3">\\</span><span class="s1">` calling this function will not correctly trigger dynamic behavior.`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const randomIntExpression = </span><span class="s3">\&quot;</span><span class="s1">`require('node:crypto').randomInt(min, max)`</span><span class="s3">\&quot;\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const _randomInt = nodeCrypto.randomInt</span><span class="s3">\n    </span><span class="s1">// @ts-expect-error -- TODO: tell TS the overloads are preserved</span><span class="s3">\n    </span><span class="s1">nodeCrypto.randomInt = function randomInt() {</span><span class="s3">\n      </span><span class="s1">if (typeof arguments[2] !== 'function') {</span><span class="s3">\n        </span><span class="s1">// randomInt is sync if the third arg is undefined</span><span class="s3">\n        </span><span class="s1">io(randomIntExpression, 'random')</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return _randomInt.apply(this, arguments as any)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} catch {</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">`Failed to install ${randomBytesExpression} extension. When using </span><span class="s3">\\</span><span class="s1">`experimental.cacheComponents</span><span class="s3">\\</span><span class="s1">` calling this function without a callback argument will not correctly trigger dynamic behavior.`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const generatePrimeSyncExpression =</span><span class="s3">\n    \&quot;</span><span class="s1">`require('node:crypto').generatePrimeSync(...)`</span><span class="s3">\&quot;\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const _generatePrimeSync = nodeCrypto.generatePrimeSync</span><span class="s3">\n    </span><span class="s1">// @ts-expect-error -- TODO: tell TS the overloads are preserved</span><span class="s3">\n    </span><span class="s1">nodeCrypto.generatePrimeSync = function generatePrimeSync() {</span><span class="s3">\n      </span><span class="s1">io(generatePrimeSyncExpression, 'random')</span><span class="s3">\n      </span><span class="s1">return _generatePrimeSync.apply(this, arguments as any)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} catch {</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">`Failed to install ${generatePrimeSyncExpression} extension. When using </span><span class="s3">\\</span><span class="s1">`experimental.cacheComponents</span><span class="s3">\\</span><span class="s1">` calling this function will not correctly trigger dynamic behavior.`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const generateKeyPairSyncExpression =</span><span class="s3">\n    \&quot;</span><span class="s1">`require('node:crypto').generateKeyPairSync(...)`</span><span class="s3">\&quot;\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const _generateKeyPairSync = nodeCrypto.generateKeyPairSync</span><span class="s3">\n    </span><span class="s1">// @ts-expect-error -- TODO: tell TS the overloads are preserved</span><span class="s3">\n    </span><span class="s1">nodeCrypto.generateKeyPairSync = function generateKeyPairSync() {</span><span class="s3">\n      </span><span class="s1">io(generateKeyPairSyncExpression, 'random')</span><span class="s3">\n      </span><span class="s1">return _generateKeyPairSync.apply(this, arguments as any)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} catch {</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">`Failed to install ${generateKeyPairSyncExpression} extension. When using </span><span class="s3">\\</span><span class="s1">`experimental.cacheComponents</span><span class="s3">\\</span><span class="s1">` calling this function will not correctly trigger dynamic behavior.`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const generateKeySyncExpression =</span><span class="s3">\n    \&quot;</span><span class="s1">`require('node:crypto').generateKeySync(...)`</span><span class="s3">\&quot;\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const _generateKeySync = nodeCrypto.generateKeySync</span><span class="s3">\n    </span><span class="s1">nodeCrypto.generateKeySync = function generateKeySync() {</span><span class="s3">\n      </span><span class="s1">io(generateKeySyncExpression, 'random')</span><span class="s3">\n      </span><span class="s1">return _generateKeySync.apply(this, arguments as any)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} catch {</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">`Failed to install ${generateKeySyncExpression} extension. When using </span><span class="s3">\\</span><span class="s1">`experimental.cacheComponents</span><span class="s3">\\</span><span class="s1">` calling this function will not correctly trigger dynamic behavior.`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;NEXT_RUNTIME&quot;</span><span class="s0">,</span><span class="s1">&quot;nodeCrypto&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;randomUUIDExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;_randomUUID&quot;</span><span class="s0">,</span><span class="s1">&quot;randomUUID&quot;</span><span class="s0">,</span><span class="s1">&quot;io&quot;</span><span class="s0">,</span><span class="s1">&quot;apply&quot;</span><span class="s0">,</span><span class="s1">&quot;arguments&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;randomBytesExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;_randomBytes&quot;</span><span class="s0">,</span><span class="s1">&quot;randomBytes&quot;</span><span class="s0">,</span><span class="s1">&quot;randomFillSyncExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;_randomFillSync&quot;</span><span class="s0">,</span><span class="s1">&quot;randomFillSync&quot;</span><span class="s0">,</span><span class="s1">&quot;randomIntExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;_randomInt&quot;</span><span class="s0">,</span><span class="s1">&quot;randomInt&quot;</span><span class="s0">,</span><span class="s1">&quot;generatePrimeSyncExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;_generatePrimeSync&quot;</span><span class="s0">,</span><span class="s1">&quot;generatePrimeSync&quot;</span><span class="s0">,</span><span class="s1">&quot;generateKeyPairSyncExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;_generateKeyPairSync&quot;</span><span class="s0">,</span><span class="s1">&quot;generateKeyPairSync&quot;</span><span class="s0">,</span><span class="s1">&quot;generateKeySyncExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;_generateKeySync&quot;</span><span class="s0">,</span><span class="s1">&quot;generateKeySync&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>