<html>
<head>
<title>font-utils.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
font-utils.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/server/font-utils.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">DEFAULT_SERIF_FONT,</span><span class="s3">\n  </span><span class="s1">DEFAULT_SANS_SERIF_FONT,</span><span class="s3">\n</span><span class="s1">} from '../shared/lib/constants'</span><span class="s3">\n</span><span class="s1">const capsizeFontsMetrics = require('next/dist/server/capsize-font-metrics.json')</span><span class="s3">\n\n</span><span class="s1">function formatName(str: string): string {</span><span class="s3">\n  </span><span class="s1">return str</span><span class="s3">\n    </span><span class="s1">.replace(/(?:^</span><span class="s3">\\</span><span class="s1">w|[A-Z]|</span><span class="s3">\\</span><span class="s1">b</span><span class="s3">\\</span><span class="s1">w)/g, function (word, index) {</span><span class="s3">\n      </span><span class="s1">return index === 0 ? word.toLowerCase() : word.toUpperCase()</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">.replace(/</span><span class="s3">\\</span><span class="s1">s+/g, '')</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatOverrideValue(val: number) {</span><span class="s3">\n  </span><span class="s1">return Math.abs(val * 100).toFixed(2)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function calculateSizeAdjustValues(fontName: string) {</span><span class="s3">\n  </span><span class="s1">const fontKey = formatName(fontName)</span><span class="s3">\n  </span><span class="s1">const fontMetrics = capsizeFontsMetrics[fontKey]</span><span class="s3">\n  </span><span class="s1">let { category, ascent, descent, lineGap, unitsPerEm, xWidthAvg } =</span><span class="s3">\n    </span><span class="s1">fontMetrics</span><span class="s3">\n  </span><span class="s1">const mainFontAvgWidth = xWidthAvg / unitsPerEm</span><span class="s3">\n  </span><span class="s1">const fallbackFont =</span><span class="s3">\n    </span><span class="s1">category === 'serif' ? DEFAULT_SERIF_FONT : DEFAULT_SANS_SERIF_FONT</span><span class="s3">\n  </span><span class="s1">const fallbackFontName = formatName(fallbackFont.name)</span><span class="s3">\n  </span><span class="s1">const fallbackFontMetrics = capsizeFontsMetrics[fallbackFontName]</span><span class="s3">\n  </span><span class="s1">const fallbackFontAvgWidth =</span><span class="s3">\n    </span><span class="s1">fallbackFontMetrics.xWidthAvg / fallbackFontMetrics.unitsPerEm</span><span class="s3">\n  </span><span class="s1">let sizeAdjust = xWidthAvg ? mainFontAvgWidth / fallbackFontAvgWidth : 1</span><span class="s3">\n\n  </span><span class="s1">ascent = formatOverrideValue(ascent / (unitsPerEm * sizeAdjust))</span><span class="s3">\n  </span><span class="s1">descent = formatOverrideValue(descent / (unitsPerEm * sizeAdjust))</span><span class="s3">\n  </span><span class="s1">lineGap = formatOverrideValue(lineGap / (unitsPerEm * sizeAdjust))</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">ascent,</span><span class="s3">\n    </span><span class="s1">descent,</span><span class="s3">\n    </span><span class="s1">lineGap,</span><span class="s3">\n    </span><span class="s1">fallbackFont: fallbackFont.name,</span><span class="s3">\n    </span><span class="s1">sizeAdjust: formatOverrideValue(sizeAdjust),</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;calculateSizeAdjustValues&quot;</span><span class="s0">,</span><span class="s1">&quot;capsizeFontsMetrics&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;formatName&quot;</span><span class="s0">,</span><span class="s1">&quot;str&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;word&quot;</span><span class="s0">,</span><span class="s1">&quot;index&quot;</span><span class="s0">,</span><span class="s1">&quot;toLowerCase&quot;</span><span class="s0">,</span><span class="s1">&quot;toUpperCase&quot;</span><span class="s0">,</span><span class="s1">&quot;formatOverrideValue&quot;</span><span class="s0">,</span><span class="s1">&quot;val&quot;</span><span class="s0">,</span><span class="s1">&quot;Math&quot;</span><span class="s0">,</span><span class="s1">&quot;abs&quot;</span><span class="s0">,</span><span class="s1">&quot;toFixed&quot;</span><span class="s0">,</span><span class="s1">&quot;fontName&quot;</span><span class="s0">,</span><span class="s1">&quot;fontKey&quot;</span><span class="s0">,</span><span class="s1">&quot;fontMetrics&quot;</span><span class="s0">,</span><span class="s1">&quot;category&quot;</span><span class="s0">,</span><span class="s1">&quot;ascent&quot;</span><span class="s0">,</span><span class="s1">&quot;descent&quot;</span><span class="s0">,</span><span class="s1">&quot;lineGap&quot;</span><span class="s0">,</span><span class="s1">&quot;unitsPerEm&quot;</span><span class="s0">,</span><span class="s1">&quot;xWidthAvg&quot;</span><span class="s0">,</span><span class="s1">&quot;mainFontAvgWidth&quot;</span><span class="s0">,</span><span class="s1">&quot;fallbackFont&quot;</span><span class="s0">,</span><span class="s1">&quot;DEFAULT_SERIF_FONT&quot;</span><span class="s0">,</span><span class="s1">&quot;DEFAULT_SANS_SERIF_FONT&quot;</span><span class="s0">,</span><span class="s1">&quot;fallbackFontName&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;fallbackFontMetrics&quot;</span><span class="s0">,</span><span class="s1">&quot;fallbackFontAvgWidth&quot;</span><span class="s0">,</span><span class="s1">&quot;sizeAdjust&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAkBgBA;;;eAAAA;;;2BAfT;AACP,MAAMC,sBAAsBC,QAAQ;AAEpC,SAASC,WAAWC,GAAW;IAC7B,OAAOA,IACJC,OAAO,CAAC,uBAAuB,SAAUC,IAAI,EAAEC,KAAK;QACnD,OAAOA,UAAU,IAAID,KAAKE,WAAW,KAAKF,KAAKG,WAAW;IAC5D,GACCJ,OAAO,CAAC,QAAQ;AACrB;AAEA,SAASK,oBAAoBC,GAAW;IACtC,OAAOC,KAAKC,GAAG,CAACF,MAAM,KAAKG,OAAO,CAAC;AACrC;AAEO,SAASd,0BAA0Be,QAAgB;IACxD,MAAMC,UAAUb,WAAWY;IAC3B,MAAME,cAAchB,mBAAmB,CAACe,QAAQ;IAChD,IAAI,EAAEE,QAAQ,EAAEC,MAAM,EAAEC,OAAO,EAAEC,OAAO,EAAEC,UAAU,EAAEC,SAAS,EAAE,GAC/DN;IACF,MAAMO,mBAAmBD,YAAYD;IACrC,MAAMG,eACJP,aAAa,UAAUQ,6BAAkB,GAAGC,kCAAuB;IACrE,MAAMC,mBAAmBzB,WAAWsB,aAAaI,IAAI;IACrD,MAAMC,sBAAsB7B,mBAAmB,CAAC2B,iBAAiB;IACjE,MAAMG,uBACJD,oBAAoBP,SAAS,GAAGO,oBAAoBR,UAAU;IAChE,IAAIU,aAAaT,YAAYC,mBAAmBO,uBAAuB;IAEvEZ,SAAST,oBAAoBS,SAAUG,CAAAA,aAAaU,UAAS;IAC7DZ,UAAUV,oBAAoBU,UAAWE,CAAAA,aAAaU,UAAS;IAC/DX,UAAUX,oBAAoBW,UAAWC,CAAAA,aAAaU,UAAS;IAE/D,OAAO;QACLb;QACAC;QACAC;QACAI,cAAcA,aAAaI,IAAI;QAC/BG,YAAYtB,oBAAoBsB;IAClC;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>