<html>
<head>
<title>create.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
create.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;create.js&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/create.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { WriteStream, WriteStreamSync } from '@isaacs/fs-minipass'</span><span class="s3">\n</span><span class="s1">import { Minipass } from 'minipass'</span><span class="s3">\n</span><span class="s1">import path from 'node:path'</span><span class="s3">\n</span><span class="s1">import { list } from './list.js'</span><span class="s3">\n</span><span class="s1">import { makeCommand } from './make-command.js'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">TarOptions,</span><span class="s3">\n  </span><span class="s1">TarOptionsFile,</span><span class="s3">\n  </span><span class="s1">TarOptionsSync,</span><span class="s3">\n  </span><span class="s1">TarOptionsSyncFile,</span><span class="s3">\n</span><span class="s1">} from './options.js'</span><span class="s3">\n</span><span class="s1">import { Pack, PackSync } from './pack.js'</span><span class="s3">\n\n</span><span class="s1">const createFileSync = (opt: TarOptionsSyncFile, files: string[]) =&gt; {</span><span class="s3">\n  </span><span class="s1">const p = new PackSync(opt)</span><span class="s3">\n  </span><span class="s1">const stream = new WriteStreamSync(opt.file, {</span><span class="s3">\n    </span><span class="s1">mode: opt.mode || 0o666,</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">p.pipe(stream as unknown as Minipass.Writable)</span><span class="s3">\n  </span><span class="s1">addFilesSync(p, files)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const createFile = (opt: TarOptionsFile, files: string[]) =&gt; {</span><span class="s3">\n  </span><span class="s1">const p = new Pack(opt)</span><span class="s3">\n  </span><span class="s1">const stream = new WriteStream(opt.file, {</span><span class="s3">\n    </span><span class="s1">mode: opt.mode || 0o666,</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">p.pipe(stream as unknown as Minipass.Writable)</span><span class="s3">\n\n  </span><span class="s1">const promise = new Promise&lt;void&gt;((res, rej) =&gt; {</span><span class="s3">\n    </span><span class="s1">stream.on('error', rej)</span><span class="s3">\n    </span><span class="s1">stream.on('close', res)</span><span class="s3">\n    </span><span class="s1">p.on('error', rej)</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">addFilesAsync(p, files)</span><span class="s3">\n\n  </span><span class="s1">return promise</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const addFilesSync = (p: PackSync, files: string[]) =&gt; {</span><span class="s3">\n  </span><span class="s1">files.forEach(file =&gt; {</span><span class="s3">\n    </span><span class="s1">if (file.charAt(0) === '@') {</span><span class="s3">\n      </span><span class="s1">list({</span><span class="s3">\n        </span><span class="s1">file: path.resolve(p.cwd, file.slice(1)),</span><span class="s3">\n        </span><span class="s1">sync: true,</span><span class="s3">\n        </span><span class="s1">noResume: true,</span><span class="s3">\n        </span><span class="s1">onReadEntry: entry =&gt; p.add(entry),</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">p.add(file)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">p.end()</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const addFilesAsync = async (</span><span class="s3">\n  </span><span class="s1">p: Pack,</span><span class="s3">\n  </span><span class="s1">files: string[],</span><span class="s3">\n</span><span class="s1">): Promise&lt;void&gt; =&gt; {</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; files.length; i++) {</span><span class="s3">\n    </span><span class="s1">const file = String(files[i])</span><span class="s3">\n    </span><span class="s1">if (file.charAt(0) === '@') {</span><span class="s3">\n      </span><span class="s1">await list({</span><span class="s3">\n        </span><span class="s1">file: path.resolve(String(p.cwd), file.slice(1)),</span><span class="s3">\n        </span><span class="s1">noResume: true,</span><span class="s3">\n        </span><span class="s1">onReadEntry: entry =&gt; {</span><span class="s3">\n          </span><span class="s1">p.add(entry)</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">p.add(file)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">p.end()</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const createSync = (opt: TarOptionsSync, files: string[]) =&gt; {</span><span class="s3">\n  </span><span class="s1">const p = new PackSync(opt)</span><span class="s3">\n  </span><span class="s1">addFilesSync(p, files)</span><span class="s3">\n  </span><span class="s1">return p</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const createAsync = (opt: TarOptions, files: string[]) =&gt; {</span><span class="s3">\n  </span><span class="s1">const p = new Pack(opt)</span><span class="s3">\n  </span><span class="s1">addFilesAsync(p, files)</span><span class="s3">\n  </span><span class="s1">return p</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export const create = makeCommand(</span><span class="s3">\n  </span><span class="s1">createFileSync,</span><span class="s3">\n  </span><span class="s1">createFile,</span><span class="s3">\n  </span><span class="s1">createSync,</span><span class="s3">\n  </span><span class="s1">createAsync,</span><span class="s3">\n  </span><span class="s1">(_opt, files) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (!files?.length) {</span><span class="s3">\n      </span><span class="s1">throw new TypeError('no paths specified to add to archive')</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">)</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">]}</span></pre>
</body>
</html>