<html>
<head>
<title>sortable-routes.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #8c8c8c; font-style: italic;}
.s1 { color: #080808;}
.s2 { color: #0033b3;}
.s3 { color: #8c8c8c; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
sortable-routes.d.ts</font>
</center></td></tr></table>
<pre><span class="s0">/**</span>
 <span class="s0">* A route that can be sorted by specificity.</span>
 <span class="s0">*/</span>
<span class="s2">export </span><span class="s1">type SortableRoute = {</span>
    <span class="s0">/**</span>
     <span class="s0">* The source page of the route. This represents the original page that's on</span>
     <span class="s0">* disk. For example, the `app/[lang]/[...rest]/page.tsx` would have a source</span>
     <span class="s0">* page of '/[lang]/[...rest]'.</span>
     <span class="s0">*/</span>
    <span class="s1">readonly sourcePage: string;</span>
    <span class="s0">/**</span>
     <span class="s0">* The page of the route. This represents the final rendered route. For</span>
     <span class="s0">* example, the `app/[lang]/[...rest]/page.tsx` that was rendered with a lang</span>
     <span class="s0">* value of `en` would have a page of '/en/[...rest]'.</span>
     <span class="s0">*/</span>
    <span class="s1">readonly page: string;</span>
<span class="s1">};</span>
<span class="s0">/**</span>
 <span class="s0">* Determines the specificity of a route segment for sorting purposes.</span>
 <span class="s0">*</span>
 <span class="s0">* In Next.js routing, more specific routes should match before less specific ones.</span>
 <span class="s0">* This function returns a numeric value where lower numbers indicate higher specificity.</span>
 <span class="s0">*</span>
 <span class="s0">* Specificity order (most to least specific):</span>
 <span class="s0">* 1. Static segments (e.g., &quot;about&quot;, &quot;api&quot;) - return 0</span>
 <span class="s0">* 2. Dynamic segments (e.g., &quot;[id]&quot;, &quot;[slug]&quot;) - return 1</span>
 <span class="s0">* 3. Catch-all segments (e.g., &quot;[...slug]&quot;) - return 2</span>
 <span class="s0">* 4. Optional catch-all segments (e.g., &quot;[[...slug]]&quot;) - return 3</span>
 <span class="s0">*</span>
 <span class="s0">* </span><span class="s3">@param </span><span class="s0">segment - A single path segment (e.g., &quot;api&quot;, &quot;[id]&quot;, &quot;[...slug]&quot;)</span>
 <span class="s0">* </span><span class="s3">@returns </span><span class="s0">A numeric specificity value (0-3, where 0 is most specific)</span>
 <span class="s0">*/</span>
<span class="s2">export </span><span class="s1">declare </span><span class="s2">function </span><span class="s1">getSegmentSpecificity(segment: string): number;</span>
<span class="s0">/**</span>
 <span class="s0">* Compares two route paths using a depth-first traversal approach.</span>
 <span class="s0">*</span>
 <span class="s0">* This function implements a deterministic comparison that sorts routes by specificity:</span>
 <span class="s0">* 1. More specific routes come first (fewer dynamic segments)</span>
 <span class="s0">* 2. Shorter routes are more specific than longer ones</span>
 <span class="s0">* 3. Routes with same specificity are sorted lexicographically</span>
 <span class="s0">*</span>
 <span class="s0">* The comparison is done segment by segment, left to right, similar to how</span>
 <span class="s0">* you would traverse a route tree in depth-first order.</span>
 <span class="s0">*</span>
 <span class="s0">* </span><span class="s3">@param </span><span class="s0">pathA - First route path to compare (e.g., &quot;/api/users/[id]&quot;)</span>
 <span class="s0">* </span><span class="s3">@param </span><span class="s0">pathB - Second route path to compare (e.g., &quot;/api/[...slug]&quot;)</span>
 <span class="s0">* </span><span class="s3">@returns </span><span class="s0">Negative if pathA is more specific, positive if pathB is more specific, 0 if equal</span>
 <span class="s0">*/</span>
<span class="s2">export </span><span class="s1">declare </span><span class="s2">function </span><span class="s1">compareRouteSegments(pathA: string, pathB: string): number;</span>
<span class="s0">/**</span>
 <span class="s0">* Sorts an array of routes by specificity using a deterministic depth-first traversal approach.</span>
 <span class="s0">*</span>
 <span class="s0">* This function implements Next.js route matching priority where more specific routes</span>
 <span class="s0">* should be matched before less specific ones. The sorting is deterministic and stable,</span>
 <span class="s0">* meaning identical inputs will always produce identical outputs.</span>
 <span class="s0">*</span>
 <span class="s0">* Sorting criteria (in order of priority):</span>
 <span class="s0">* 1. Source path specificity (primary)</span>
 <span class="s0">* 2. Page path specificity (secondary)</span>
 <span class="s0">* 3. Lexicographic ordering (tertiary, for determinism)</span>
 <span class="s0">*</span>
 <span class="s0">* Examples of specificity order:</span>
 <span class="s0">* - &quot;/api/users&quot; (static) comes before &quot;/api/[slug]&quot; (dynamic)</span>
 <span class="s0">* - &quot;/api/[id]&quot; (dynamic) comes before &quot;/api/[...slug]&quot; (catch-all)</span>
 <span class="s0">* - &quot;/api/[...slug]&quot; (catch-all) comes before &quot;/api/[[...slug]]&quot; (optional catch-all)</span>
 <span class="s0">*</span>
 <span class="s0">* </span><span class="s3">@param </span><span class="s0">routes - Array of routes to sort</span>
 <span class="s0">* </span><span class="s3">@returns </span><span class="s0">New sorted array (does not mutate input)</span>
 <span class="s0">*/</span>
<span class="s2">export </span><span class="s1">declare </span><span class="s2">function </span><span class="s1">sortSortableRoutes(routes: readonly SortableRoute[]): readonly SortableRoute[];</span>
<span class="s0">/**</span>
 <span class="s0">* Sorts an array of pages by specificity using a deterministic depth-first</span>
 <span class="s0">* traversal approach.</span>
 <span class="s0">*</span>
 <span class="s0">* </span><span class="s3">@param </span><span class="s0">pages - Array of pages to sort</span>
 <span class="s0">* </span><span class="s3">@returns </span><span class="s0">New sorted array (does not mutate input)</span>
 <span class="s0">*/</span>
<span class="s2">export </span><span class="s1">declare </span><span class="s2">function </span><span class="s1">sortPages(pages: readonly string[]): readonly string[];</span>
<span class="s0">/**</span>
 <span class="s0">* Sorts an array of objects by sourcePage and page using a deterministic</span>
 <span class="s0">* depth-first traversal approach.</span>
 <span class="s0">*</span>
 <span class="s0">* </span><span class="s3">@param </span><span class="s0">objects - Array of objects to sort</span>
 <span class="s0">* </span><span class="s3">@param </span><span class="s0">getter - Function to get the sourcePage and page from an object</span>
 <span class="s0">* </span><span class="s3">@returns </span><span class="s0">New sorted array (does not mutate input)</span>
 <span class="s0">*/</span>
<span class="s2">export </span><span class="s1">declare </span><span class="s2">function </span><span class="s1">sortSortableRouteObjects&lt;T&gt;(objects: readonly T[], getter: (object: T) =&gt; SortableRoute): readonly T[];</span>
<span class="s0">/**</span>
 <span class="s0">* Sorts an array of objects by page using a deterministic depth-first traversal</span>
 <span class="s0">* approach.</span>
 <span class="s0">*</span>
 <span class="s0">* </span><span class="s3">@param </span><span class="s0">objects - Array of objects to sort</span>
 <span class="s0">* </span><span class="s3">@param </span><span class="s0">getter - Function to get the page from an object</span>
 <span class="s0">* </span><span class="s3">@returns </span><span class="s0">New sorted array (does not mutate input)</span>
 <span class="s0">*/</span>
<span class="s2">export </span><span class="s1">declare </span><span class="s2">function </span><span class="s1">sortPageObjects&lt;T&gt;(objects: readonly T[], getter: (object: T) =&gt; string): readonly T[];</span>
</pre>
</body>
</html>