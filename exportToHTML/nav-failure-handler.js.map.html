<html>
<head>
<title>nav-failure-handler.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
nav-failure-handler.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/client/components/nav-failure-handler.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { useEffect } from 'react'</span><span class="s3">\n</span><span class="s1">import { createHrefFromUrl } from './router-reducer/create-href-from-url'</span><span class="s3">\n\n</span><span class="s1">export function handleHardNavError(error: unknown): boolean {</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">error &amp;&amp;</span><span class="s3">\n    </span><span class="s1">typeof window !== 'undefined' &amp;&amp;</span><span class="s3">\n    </span><span class="s1">window.next.__pendingUrl &amp;&amp;</span><span class="s3">\n    </span><span class="s1">createHrefFromUrl(new URL(window.location.href)) !==</span><span class="s3">\n      </span><span class="s1">createHrefFromUrl(window.next.__pendingUrl)</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">`Error occurred during navigation, falling back to hard navigation`,</span><span class="s3">\n      </span><span class="s1">error</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">window.location.href = window.next.__pendingUrl.toString()</span><span class="s3">\n    </span><span class="s1">return true</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return false</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function useNavFailureHandler() {</span><span class="s3">\n  </span><span class="s1">if (process.env.__NEXT_APP_NAV_FAIL_HANDLING) {</span><span class="s3">\n    </span><span class="s1">// this if is only for DCE of the feature flag not conditional</span><span class="s3">\n    </span><span class="s1">// eslint-disable-next-line react-hooks/rules-of-hooks</span><span class="s3">\n    </span><span class="s1">useEffect(() =&gt; {</span><span class="s3">\n      </span><span class="s1">const uncaughtExceptionHandler = (</span><span class="s3">\n        </span><span class="s1">evt: ErrorEvent | PromiseRejectionEvent</span><span class="s3">\n      </span><span class="s1">) =&gt; {</span><span class="s3">\n        </span><span class="s1">const error = 'reason' in evt ? evt.reason : evt.error</span><span class="s3">\n        </span><span class="s1">// if we have an unhandled exception/rejection during</span><span class="s3">\n        </span><span class="s1">// a navigation we fall back to a hard navigation to</span><span class="s3">\n        </span><span class="s1">// attempt recovering to a good state</span><span class="s3">\n        </span><span class="s1">handleHardNavError(error)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">window.addEventListener('unhandledrejection', uncaughtExceptionHandler)</span><span class="s3">\n      </span><span class="s1">window.addEventListener('error', uncaughtExceptionHandler)</span><span class="s3">\n      </span><span class="s1">return () =&gt; {</span><span class="s3">\n        </span><span class="s1">window.removeEventListener('error', uncaughtExceptionHandler)</span><span class="s3">\n        </span><span class="s1">window.removeEventListener(</span><span class="s3">\n          </span><span class="s1">'unhandledrejection',</span><span class="s3">\n          </span><span class="s1">uncaughtExceptionHandler</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}, [])</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;handleHardNavError&quot;</span><span class="s0">,</span><span class="s1">&quot;useNavFailureHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;window&quot;</span><span class="s0">,</span><span class="s1">&quot;next&quot;</span><span class="s0">,</span><span class="s1">&quot;__pendingUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;createHrefFromUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;URL&quot;</span><span class="s0">,</span><span class="s1">&quot;location&quot;</span><span class="s0">,</span><span class="s1">&quot;href&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;__NEXT_APP_NAV_FAIL_HANDLING&quot;</span><span class="s0">,</span><span class="s1">&quot;useEffect&quot;</span><span class="s0">,</span><span class="s1">&quot;uncaughtExceptionHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;evt&quot;</span><span class="s0">,</span><span class="s1">&quot;reason&quot;</span><span class="s0">,</span><span class="s1">&quot;addEventListener&quot;</span><span class="s0">,</span><span class="s1">&quot;removeEventListener&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;IAGgBA,kBAAkB;eAAlBA;;IAkBAC,oBAAoB;eAApBA;;;uBArBU;mCACQ;AAE3B,SAASD,mBAAmBE,KAAc;IAC/C,IACEA,SACA,OAAOC,WAAW,eAClBA,OAAOC,IAAI,CAACC,YAAY,IACxBC,IAAAA,oCAAiB,EAAC,IAAIC,IAAIJ,OAAOK,QAAQ,CAACC,IAAI,OAC5CH,IAAAA,oCAAiB,EAACH,OAAOC,IAAI,CAACC,YAAY,GAC5C;QACAK,QAAQR,KAAK,CACV,qEACDA;QAEFC,OAAOK,QAAQ,CAACC,IAAI,GAAGN,OAAOC,IAAI,CAACC,YAAY,CAACM,QAAQ;QACxD,OAAO;IACT;IACA,OAAO;AACT;AAEO,SAASV;IACd,IAAIW,QAAQC,GAAG,CAACC,4BAA4B,EAAE;QAC5C,8DAA8D;QAC9D,sDAAsD;QACtDC,IAAAA,gBAAS,EAAC;YACR,MAAMC,2BAA2B,CAC/BC;gBAEA,MAAMf,QAAQ,YAAYe,MAAMA,IAAIC,MAAM,GAAGD,IAAIf,KAAK;gBACtD,qDAAqD;gBACrD,oDAAoD;gBACpD,qCAAqC;gBACrCF,mBAAmBE;YACrB;YACAC,OAAOgB,gBAAgB,CAAC,sBAAsBH;YAC9Cb,OAAOgB,gBAAgB,CAAC,SAASH;YACjC,OAAO;gBACLb,OAAOiB,mBAAmB,CAAC,SAASJ;gBACpCb,OAAOiB,mBAAmB,CACxB,sBACAJ;YAEJ;QACF,GAAG,EAAE;IACP;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>