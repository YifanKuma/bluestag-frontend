<html>
<head>
<title>_patch-base.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
_patch-base.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;_patch-base.js&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../src/_patch-base.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.</span><span class="s3">\n</span><span class="s1">// See LICENSE in the project root for license information.</span><span class="s3">\n\n</span><span class="s1">// This is a workaround for https://github.com/eslint/eslint/issues/3458</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">// To correct how ESLint searches for plugin packages, add this line to the top of your project's .eslintrc.js file:</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">//    require(</span><span class="s3">\&quot;</span><span class="s1">@rushstack/eslint-patch/modern-module-resolution</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n\n</span><span class="s1">import path from 'path';</span><span class="s3">\n\n</span><span class="s1">const isModuleResolutionError: (ex: unknown) =&gt; boolean = (ex) =&gt;</span><span class="s3">\n  </span><span class="s1">typeof ex === 'object' &amp;&amp; !!ex &amp;&amp; 'code' in ex &amp;&amp; (ex as { code: unknown }).code === 'MODULE_NOT_FOUND';</span><span class="s3">\n\n</span><span class="s1">const FLAT_CONFIG_REGEX: RegExp = /eslint</span><span class="s3">\\</span><span class="s1">.config</span><span class="s3">\\</span><span class="s1">.(cjs|mjs|js)$/i;</span><span class="s3">\n\n</span><span class="s1">// Ex:</span><span class="s3">\n</span><span class="s1">//     at async ESLint.lintFiles (C:</span><span class="s3">\\\\</span><span class="s1">path</span><span class="s3">\\\\</span><span class="s1">to</span><span class="s3">\\\\\\\\</span><span class="s1">eslint</span><span class="s3">\\\\</span><span class="s1">lib</span><span class="s3">\\\\</span><span class="s1">eslint</span><span class="s3">\\\\</span><span class="s1">eslint.js:720:21)</span><span class="s3">\n</span><span class="s1">const NODE_STACK_REGEX: RegExp =</span><span class="s3">\n  </span><span class="s1">/^</span><span class="s3">\\</span><span class="s1">s*at (?:((?:</span><span class="s3">\\</span><span class="s1">[object object</span><span class="s3">\\</span><span class="s1">])?[^</span><span class="s3">\\\\</span><span class="s1">/]+(?: </span><span class="s3">\\</span><span class="s1">[as </span><span class="s3">\\</span><span class="s1">S+</span><span class="s3">\\</span><span class="s1">])?) )?</span><span class="s3">\\</span><span class="s1">(?(.*?)(?::(</span><span class="s3">\\</span><span class="s1">d+)| (</span><span class="s3">\\</span><span class="s1">d+))(?::(</span><span class="s3">\\</span><span class="s1">d+))?</span><span class="s3">\\</span><span class="s1">)?</span><span class="s3">\\</span><span class="s1">s*$/i;</span><span class="s3">\n\n</span><span class="s1">interface INodeStackFrame {</span><span class="s3">\n  </span><span class="s1">file: string;</span><span class="s3">\n  </span><span class="s1">method?: string;</span><span class="s3">\n  </span><span class="s1">lineNumber: number;</span><span class="s3">\n  </span><span class="s1">column?: number;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseNodeStack(stack: string): INodeStackFrame | undefined {</span><span class="s3">\n  </span><span class="s1">const stackTraceMatch: RegExpExecArray | null = NODE_STACK_REGEX.exec(stack);</span><span class="s3">\n  </span><span class="s1">if (!stackTraceMatch) {</span><span class="s3">\n    </span><span class="s1">return undefined;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">file: stackTraceMatch[2],</span><span class="s3">\n    </span><span class="s1">method: stackTraceMatch[1],</span><span class="s3">\n    </span><span class="s1">lineNumber: parseInt(stackTraceMatch[3], 10),</span><span class="s3">\n    </span><span class="s1">column: stackTraceMatch[4] ? parseInt(stackTraceMatch[4], 10) : undefined</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function getStackTrace(): INodeStackFrame[] {</span><span class="s3">\n  </span><span class="s1">const stackObj: { stack?: string } = {};</span><span class="s3">\n  </span><span class="s1">const originalStackTraceLimit: number = Error.stackTraceLimit;</span><span class="s3">\n  </span><span class="s1">Error.stackTraceLimit = Infinity;</span><span class="s3">\n  </span><span class="s1">Error.captureStackTrace(stackObj, getStackTrace);</span><span class="s3">\n  </span><span class="s1">Error.stackTraceLimit = originalStackTraceLimit;</span><span class="s3">\n  </span><span class="s1">if (!stackObj.stack) {</span><span class="s3">\n    </span><span class="s1">throw new Error('Unable to capture stack trace');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const { stack } = stackObj;</span><span class="s3">\n  </span><span class="s1">const stackLines: string[] = stack.split('</span><span class="s3">\\</span><span class="s1">n');</span><span class="s3">\n  </span><span class="s1">const frames: INodeStackFrame[] = [];</span><span class="s3">\n  </span><span class="s1">for (const line of stackLines) {</span><span class="s3">\n    </span><span class="s1">const frame: INodeStackFrame | undefined = parseNodeStack(line);</span><span class="s3">\n    </span><span class="s1">if (frame) {</span><span class="s3">\n      </span><span class="s1">frames.push(frame);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return frames;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Module path for eslintrc.cjs</span><span class="s3">\n</span><span class="s1">// Example: </span><span class="s3">\&quot;</span><span class="s1">.../@eslint/eslintrc/dist/eslintrc.cjs</span><span class="s3">\&quot;\n</span><span class="s1">let eslintrcBundlePath: string | undefined = undefined;</span><span class="s3">\n\n</span><span class="s1">// Module path for config-array-factory.js</span><span class="s3">\n</span><span class="s1">// Example: </span><span class="s3">\&quot;</span><span class="s1">.../@eslint/eslintrc/lib/config-array-factory</span><span class="s3">\&quot;\n</span><span class="s1">let configArrayFactoryPath: string | undefined = undefined;</span><span class="s3">\n\n</span><span class="s1">// Module path for relative-module-resolver.js</span><span class="s3">\n</span><span class="s1">// Example: </span><span class="s3">\&quot;</span><span class="s1">.../@eslint/eslintrc/lib/shared/relative-module-resolver</span><span class="s3">\&quot;\n</span><span class="s1">let moduleResolverPath: string | undefined = undefined;</span><span class="s3">\n\n</span><span class="s1">// Module path for naming.js</span><span class="s3">\n</span><span class="s1">// Example: </span><span class="s3">\&quot;</span><span class="s1">.../@eslint/eslintrc/lib/shared/naming</span><span class="s3">\&quot;\n</span><span class="s1">let namingPath: string | undefined = undefined;</span><span class="s3">\n\n</span><span class="s1">// Folder path where ESLint's package.json can be found</span><span class="s3">\n</span><span class="s1">// Example: </span><span class="s3">\&quot;</span><span class="s1">.../node_modules/eslint</span><span class="s3">\&quot;\n</span><span class="s1">let eslintFolder: string | undefined = undefined;</span><span class="s3">\n\n</span><span class="s1">// Probe for the ESLint &gt;=9.0.0 flat config layout:</span><span class="s3">\n</span><span class="s1">for (let currentModule: NodeModule = module; ; ) {</span><span class="s3">\n  </span><span class="s1">if (FLAT_CONFIG_REGEX.test(currentModule.filename)) {</span><span class="s3">\n    </span><span class="s1">// Obtain the stack trace of the current module, since the</span><span class="s3">\n    </span><span class="s1">// parent module of a flat config is undefined. From the</span><span class="s3">\n    </span><span class="s1">// stack trace, we can find the ESLint folder.</span><span class="s3">\n    </span><span class="s1">const stackTrace: INodeStackFrame[] = getStackTrace();</span><span class="s3">\n    </span><span class="s1">const targetFrame: INodeStackFrame | undefined = stackTrace.find(</span><span class="s3">\n      </span><span class="s1">(frame: INodeStackFrame) =&gt; frame.file &amp;&amp; frame.file.endsWith('eslint.js')</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (targetFrame) {</span><span class="s3">\n      </span><span class="s1">// Walk up the path and continuously attempt to resolve the ESLint folder</span><span class="s3">\n      </span><span class="s1">let currentPath: string | undefined = targetFrame.file;</span><span class="s3">\n      </span><span class="s1">while (currentPath) {</span><span class="s3">\n        </span><span class="s1">const potentialPath: string = path.dirname(currentPath);</span><span class="s3">\n        </span><span class="s1">if (potentialPath === currentPath) {</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">currentPath = potentialPath;</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n          </span><span class="s1">eslintFolder = path.dirname(require.resolve('eslint/package.json', { paths: [currentPath] }));</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">} catch (ex: unknown) {</span><span class="s3">\n          </span><span class="s1">if (!isModuleResolutionError(ex)) {</span><span class="s3">\n            </span><span class="s1">throw ex;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (eslintFolder) {</span><span class="s3">\n      </span><span class="s1">const eslintrcFolderPath: string = path.dirname(</span><span class="s3">\n        </span><span class="s1">require.resolve('@eslint/eslintrc/package.json', { paths: [eslintFolder] })</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">eslintrcBundlePath = path.join(eslintrcFolderPath, 'dist/eslintrc.cjs');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">break;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (!currentModule.parent) {</span><span class="s3">\n    </span><span class="s1">break;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">currentModule = currentModule.parent;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">if (!eslintFolder) {</span><span class="s3">\n  </span><span class="s1">// Probe for the ESLint &gt;=8.0.0 layout:</span><span class="s3">\n  </span><span class="s1">for (let currentModule: NodeModule = module; ; ) {</span><span class="s3">\n    </span><span class="s1">if (!eslintrcBundlePath) {</span><span class="s3">\n      </span><span class="s1">if (currentModule.filename.endsWith('eslintrc.cjs')) {</span><span class="s3">\n        </span><span class="s1">// For ESLint &gt;=8.0.0, all @eslint/eslintrc code is bundled at this path:</span><span class="s3">\n        </span><span class="s1">//   .../@eslint/eslintrc/dist/eslintrc.cjs</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n          </span><span class="s1">const eslintrcFolderPath: string = path.dirname(</span><span class="s3">\n            </span><span class="s1">require.resolve('@eslint/eslintrc/package.json', { paths: [currentModule.path] })</span><span class="s3">\n          </span><span class="s1">);</span><span class="s3">\n\n          </span><span class="s1">// Make sure we actually resolved the module in our call path</span><span class="s3">\n          </span><span class="s1">// and not some other spurious dependency.</span><span class="s3">\n          </span><span class="s1">const resolvedEslintrcBundlePath: string = path.join(eslintrcFolderPath, 'dist/eslintrc.cjs');</span><span class="s3">\n          </span><span class="s1">if (resolvedEslintrcBundlePath === currentModule.filename) {</span><span class="s3">\n            </span><span class="s1">eslintrcBundlePath = resolvedEslintrcBundlePath;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} catch (ex: unknown) {</span><span class="s3">\n          </span><span class="s1">// Module resolution failures are expected, as we're walking</span><span class="s3">\n          </span><span class="s1">// up our require stack to look for eslint. All other errors</span><span class="s3">\n          </span><span class="s1">// are re-thrown.</span><span class="s3">\n          </span><span class="s1">if (!isModuleResolutionError(ex)) {</span><span class="s3">\n            </span><span class="s1">throw ex;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// Next look for a file in ESLint's folder</span><span class="s3">\n      </span><span class="s1">//   .../eslint/lib/cli-engine/cli-engine.js</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">const eslintCandidateFolder: string = path.dirname(</span><span class="s3">\n          </span><span class="s1">require.resolve('eslint/package.json', {</span><span class="s3">\n            </span><span class="s1">paths: [currentModule.path]</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">// Make sure we actually resolved the module in our call path</span><span class="s3">\n        </span><span class="s1">// and not some other spurious dependency.</span><span class="s3">\n        </span><span class="s1">if (currentModule.filename.startsWith(eslintCandidateFolder + path.sep)) {</span><span class="s3">\n          </span><span class="s1">eslintFolder = eslintCandidateFolder;</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} catch (ex: unknown) {</span><span class="s3">\n        </span><span class="s1">// Module resolution failures are expected, as we're walking</span><span class="s3">\n        </span><span class="s1">// up our require stack to look for eslint. All other errors</span><span class="s3">\n        </span><span class="s1">// are re-thrown.</span><span class="s3">\n        </span><span class="s1">if (!isModuleResolutionError(ex)) {</span><span class="s3">\n          </span><span class="s1">throw ex;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!currentModule.parent) {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">currentModule = currentModule.parent;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">if (!eslintFolder) {</span><span class="s3">\n  </span><span class="s1">// Probe for the ESLint &gt;=7.12.0 layout:</span><span class="s3">\n  </span><span class="s1">for (let currentModule: NodeModule = module; ; ) {</span><span class="s3">\n    </span><span class="s1">if (!configArrayFactoryPath) {</span><span class="s3">\n      </span><span class="s1">// For ESLint &gt;=7.12.0, config-array-factory.js is at this path:</span><span class="s3">\n      </span><span class="s1">//   .../@eslint/eslintrc/lib/config-array-factory.js</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">const eslintrcFolder: string = path.dirname(</span><span class="s3">\n          </span><span class="s1">require.resolve('@eslint/eslintrc/package.json', {</span><span class="s3">\n            </span><span class="s1">paths: [currentModule.path]</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">const resolvedConfigArrayFactoryPath: string = path.join(</span><span class="s3">\n          </span><span class="s1">eslintrcFolder,</span><span class="s3">\n          </span><span class="s1">'/lib/config-array-factory.js'</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">if (resolvedConfigArrayFactoryPath === currentModule.filename) {</span><span class="s3">\n          </span><span class="s1">configArrayFactoryPath = resolvedConfigArrayFactoryPath;</span><span class="s3">\n          </span><span class="s1">moduleResolverPath = `${eslintrcFolder}/lib/shared/relative-module-resolver`;</span><span class="s3">\n          </span><span class="s1">namingPath = `${eslintrcFolder}/lib/shared/naming`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} catch (ex: unknown) {</span><span class="s3">\n        </span><span class="s1">// Module resolution failures are expected, as we're walking</span><span class="s3">\n        </span><span class="s1">// up our require stack to look for eslint. All other errors</span><span class="s3">\n        </span><span class="s1">// are re-thrown.</span><span class="s3">\n        </span><span class="s1">if (!isModuleResolutionError(ex)) {</span><span class="s3">\n          </span><span class="s1">throw ex;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (currentModule.filename.endsWith('cli-engine.js')) {</span><span class="s3">\n      </span><span class="s1">// Next look for a file in ESLint's folder</span><span class="s3">\n      </span><span class="s1">//   .../eslint/lib/cli-engine/cli-engine.js</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">const eslintCandidateFolder: string = path.dirname(</span><span class="s3">\n          </span><span class="s1">require.resolve('eslint/package.json', {</span><span class="s3">\n            </span><span class="s1">paths: [currentModule.path]</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">if (path.join(eslintCandidateFolder, 'lib/cli-engine/cli-engine.js') === currentModule.filename) {</span><span class="s3">\n          </span><span class="s1">eslintFolder = eslintCandidateFolder;</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} catch (ex: unknown) {</span><span class="s3">\n        </span><span class="s1">// Module resolution failures are expected, as we're walking</span><span class="s3">\n        </span><span class="s1">// up our require stack to look for eslint. All other errors</span><span class="s3">\n        </span><span class="s1">// are rethrown.</span><span class="s3">\n        </span><span class="s1">if (!isModuleResolutionError(ex)) {</span><span class="s3">\n          </span><span class="s1">throw ex;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!currentModule.parent) {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">currentModule = currentModule.parent;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">if (!eslintFolder) {</span><span class="s3">\n  </span><span class="s1">// Probe for the &lt;7.12.0 layout:</span><span class="s3">\n  </span><span class="s1">for (let currentModule: NodeModule = module; ; ) {</span><span class="s3">\n    </span><span class="s1">// For ESLint &lt;7.12.0, config-array-factory.js was at this path:</span><span class="s3">\n    </span><span class="s1">//   .../eslint/lib/cli-engine/config-array-factory.js</span><span class="s3">\n    </span><span class="s1">if (/[</span><span class="s3">\\\\</span><span class="s1">/]eslint[</span><span class="s3">\\\\</span><span class="s1">/]lib[</span><span class="s3">\\\\</span><span class="s1">/]cli-engine[</span><span class="s3">\\\\</span><span class="s1">/]config-array-factory</span><span class="s3">\\</span><span class="s1">.js$/i.test(currentModule.filename)) {</span><span class="s3">\n      </span><span class="s1">eslintFolder = path.join(path.dirname(currentModule.filename), '../..');</span><span class="s3">\n      </span><span class="s1">configArrayFactoryPath = `${eslintFolder}/lib/cli-engine/config-array-factory`;</span><span class="s3">\n      </span><span class="s1">moduleResolverPath = `${eslintFolder}/lib/shared/relative-module-resolver`;</span><span class="s3">\n\n      </span><span class="s1">// The naming module was moved to @eslint/eslintrc in ESLint 7.8.0, which is also when the @eslint/eslintrc</span><span class="s3">\n      </span><span class="s1">// package was created and added to ESLint, so we need to probe for whether it's in the old or new location.</span><span class="s3">\n      </span><span class="s1">let eslintrcFolder: string | undefined;</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">eslintrcFolder = path.dirname(</span><span class="s3">\n          </span><span class="s1">require.resolve('@eslint/eslintrc/package.json', {</span><span class="s3">\n            </span><span class="s1">paths: [currentModule.path]</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} catch (ex: unknown) {</span><span class="s3">\n        </span><span class="s1">if (!isModuleResolutionError(ex)) {</span><span class="s3">\n          </span><span class="s1">throw ex;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">namingPath = `${eslintrcFolder ?? eslintFolder}/lib/shared/naming`;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!currentModule.parent) {</span><span class="s3">\n      </span><span class="s1">// This was tested with ESLint 6.1.0 .. 7.12.1.</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        </span><span class="s1">'Failed to patch ESLint because the calling module was not recognized.</span><span class="s3">\\</span><span class="s1">n' +</span><span class="s3">\n          </span><span class="s1">'If you are using a newer ESLint version that may be unsupported, please create a GitHub issue:</span><span class="s3">\\</span><span class="s1">n' +</span><span class="s3">\n          </span><span class="s1">'https://github.com/microsoft/rushstack/issues'</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">currentModule = currentModule.parent;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Detect the ESLint package version</span><span class="s3">\n</span><span class="s1">const eslintPackageJsonPath: string = `${eslintFolder}/package.json`;</span><span class="s3">\n</span><span class="s1">const eslintPackageObject: { version: string } = require(eslintPackageJsonPath);</span><span class="s3">\n</span><span class="s1">export const eslintPackageVersion: string = eslintPackageObject.version;</span><span class="s3">\n</span><span class="s1">const ESLINT_MAJOR_VERSION: number = parseInt(eslintPackageVersion, 10);</span><span class="s3">\n</span><span class="s1">if (isNaN(ESLINT_MAJOR_VERSION)) {</span><span class="s3">\n  </span><span class="s1">throw new Error(</span><span class="s3">\n    </span><span class="s1">`Unable to parse ESLint version </span><span class="s3">\&quot;</span><span class="s1">${eslintPackageVersion}</span><span class="s3">\&quot; </span><span class="s1">in file </span><span class="s3">\&quot;</span><span class="s1">${eslintPackageJsonPath}</span><span class="s3">\&quot;</span><span class="s1">`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">if (!(ESLINT_MAJOR_VERSION &gt;= 6 &amp;&amp; ESLINT_MAJOR_VERSION &lt;= 9)) {</span><span class="s3">\n  </span><span class="s1">throw new Error(</span><span class="s3">\n    </span><span class="s1">'The ESLint patch script has only been tested with ESLint version 6.x, 7.x, 8.x, and 9.x.' +</span><span class="s3">\n      </span><span class="s1">` (Your version: ${eslintPackageVersion})</span><span class="s3">\\</span><span class="s1">n` +</span><span class="s3">\n      </span><span class="s1">'Consider reporting a GitHub issue:</span><span class="s3">\\</span><span class="s1">n' +</span><span class="s3">\n      </span><span class="s1">'https://github.com/microsoft/rushstack/issues'</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// eslint-disable-next-line @typescript-eslint/no-explicit-any</span><span class="s3">\n</span><span class="s1">let configArrayFactory: any;</span><span class="s3">\n</span><span class="s1">if (ESLINT_MAJOR_VERSION &gt;= 8 &amp;&amp; eslintrcBundlePath) {</span><span class="s3">\n  </span><span class="s1">configArrayFactory = require(eslintrcBundlePath).Legacy.ConfigArrayFactory;</span><span class="s3">\n</span><span class="s1">} else if (configArrayFactoryPath) {</span><span class="s3">\n  </span><span class="s1">configArrayFactory = require(configArrayFactoryPath).ConfigArrayFactory;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// eslint-disable-next-line @typescript-eslint/no-explicit-any</span><span class="s3">\n</span><span class="s1">let ModuleResolver: { resolve: any };</span><span class="s3">\n</span><span class="s1">// eslint-disable-next-line @typescript-eslint/no-explicit-any</span><span class="s3">\n</span><span class="s1">let Naming: { normalizePackageName: any };</span><span class="s3">\n</span><span class="s1">if (ESLINT_MAJOR_VERSION &gt;= 8 &amp;&amp; eslintrcBundlePath) {</span><span class="s3">\n  </span><span class="s1">ModuleResolver = require(eslintrcBundlePath).Legacy.ModuleResolver;</span><span class="s3">\n  </span><span class="s1">Naming = require(eslintrcBundlePath).Legacy.naming;</span><span class="s3">\n</span><span class="s1">} else if (moduleResolverPath &amp;&amp; namingPath) {</span><span class="s3">\n  </span><span class="s1">ModuleResolver = require(moduleResolverPath);</span><span class="s3">\n  </span><span class="s1">Naming = require(namingPath);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">eslintFolder,</span><span class="s3">\n  </span><span class="s1">configArrayFactory,</span><span class="s3">\n  </span><span class="s1">ModuleResolver,</span><span class="s3">\n  </span><span class="s1">Naming,</span><span class="s3">\n  </span><span class="s1">ESLINT_MAJOR_VERSION,</span><span class="s3">\n  </span><span class="s1">isModuleResolutionError</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">]}</span></pre>
</body>
</html>