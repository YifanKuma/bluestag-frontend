<html>
<head>
<title>extractCountryCallingCode.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
extractCountryCallingCode.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;extractCountryCallingCode.js&quot;</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_stripIddPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;_interopRequireDefault&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;_extractCountryCallingCodeFromInternationalNumberWithoutPlusSign&quot;</span><span class="s0">,</span><span class="s1">&quot;_metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;_constants&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,</span><span class="s1">&quot;extractCountryCallingCode&quot;</span><span class="s0">,</span><span class="s1">&quot;number&quot;</span><span class="s0">,</span><span class="s1">&quot;country&quot;</span><span class="s0">,</span><span class="s1">&quot;defaultCountry&quot;</span><span class="s0">,</span><span class="s1">&quot;defaultCallingCode&quot;</span><span class="s0">,</span><span class="s1">&quot;metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;isNumberWithIddPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;numberWithoutIDD&quot;</span><span class="s0">,</span><span class="s1">&quot;stripIddPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;_extractCountryCallin&quot;</span><span class="s0">,</span><span class="s1">&quot;extractCountryCallingCodeFromInternationalNumberWithoutPlusSign&quot;</span><span class="s0">,</span><span class="s1">&quot;countryCallingCode&quot;</span><span class="s0">,</span><span class="s1">&quot;shorterNumber&quot;</span><span class="s0">,</span><span class="s1">&quot;countryCallingCodeSource&quot;</span><span class="s0">,</span><span class="s1">&quot;Metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;i&quot;</span><span class="s0">,</span><span class="s1">&quot;MAX_LENGTH_COUNTRY_CODE&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">,</span><span class="s1">&quot;hasCallingCode&quot;</span><span class="s0">,</span><span class="s1">&quot;selectNumberingPlan&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../source/helpers/extractCountryCallingCode.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import stripIddPrefix from './stripIddPrefix.js'</span><span class="s3">\r\n</span><span class="s1">import extractCountryCallingCodeFromInternationalNumberWithoutPlusSign from './extractCountryCallingCodeFromInternationalNumberWithoutPlusSign.js'</span><span class="s3">\r\n</span><span class="s1">import Metadata from '../metadata.js'</span><span class="s3">\r\n</span><span class="s1">import { MAX_LENGTH_COUNTRY_CODE } from '../constants.js'</span><span class="s3">\r\n\r\n</span><span class="s1">/**</span><span class="s3">\r\n </span><span class="s1">* Converts a phone number digits (possibly with a `+`)</span><span class="s3">\r\n </span><span class="s1">* into a calling code and the rest phone number digits.</span><span class="s3">\r\n </span><span class="s1">* The </span><span class="s3">\&quot;</span><span class="s1">rest phone number digits</span><span class="s3">\&quot; </span><span class="s1">could include</span><span class="s3">\r\n </span><span class="s1">* a national prefix, carrier code, and national</span><span class="s3">\r\n </span><span class="s1">* (significant) number.</span><span class="s3">\r\n </span><span class="s1">* @param  {string} number — Phone number digits (possibly with a `+`).</span><span class="s3">\r\n </span><span class="s1">* @param  {string} [country] — Country.</span><span class="s3">\r\n </span><span class="s1">* @param  {string} [defaultCountry] — Default country.</span><span class="s3">\r\n </span><span class="s1">* @param  {string} [defaultCallingCode] — Default calling code (some phone numbering plans are non-geographic).</span><span class="s3">\r\n </span><span class="s1">* @param  {object} metadata</span><span class="s3">\r\n </span><span class="s1">* @return {object} `{ countryCallingCodeSource: string?, countryCallingCode: string?, number: string }`</span><span class="s3">\r\n </span><span class="s1">* @example</span><span class="s3">\r\n </span><span class="s1">* // Returns `{ countryCallingCode: </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">, number: </span><span class="s3">\&quot;</span><span class="s1">2133734253</span><span class="s3">\&quot; </span><span class="s1">}`.</span><span class="s3">\r\n </span><span class="s1">* extractCountryCallingCode('2133734253', null, 'US', null, metadata)</span><span class="s3">\r\n </span><span class="s1">* extractCountryCallingCode('2133734253', null, null, '1', metadata)</span><span class="s3">\r\n </span><span class="s1">* extractCountryCallingCode('+12133734253', null, null, null, metadata)</span><span class="s3">\r\n </span><span class="s1">* extractCountryCallingCode('+12133734253', null, 'RU', null, metadata)</span><span class="s3">\r\n </span><span class="s1">*/</span><span class="s3">\r\n</span><span class="s1">export default function extractCountryCallingCode(</span><span class="s3">\r\n\t</span><span class="s1">number,</span><span class="s3">\r\n\t</span><span class="s1">country,</span><span class="s3">\r\n\t</span><span class="s1">defaultCountry,</span><span class="s3">\r\n\t</span><span class="s1">defaultCallingCode,</span><span class="s3">\r\n\t</span><span class="s1">metadata</span><span class="s3">\r\n</span><span class="s1">) {</span><span class="s3">\r\n\t</span><span class="s1">if (!number) {</span><span class="s3">\r\n\t\t</span><span class="s1">return {}</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">let isNumberWithIddPrefix</span><span class="s3">\r\n\r\n\t</span><span class="s1">// If this is not an international phone number,</span><span class="s3">\r\n\t</span><span class="s1">// then either extract an </span><span class="s3">\&quot;</span><span class="s1">IDD</span><span class="s3">\&quot; </span><span class="s1">prefix, or extract a</span><span class="s3">\r\n\t</span><span class="s1">// country calling code from a number by autocorrecting it</span><span class="s3">\r\n\t</span><span class="s1">// by prepending a leading `+` in cases when it starts</span><span class="s3">\r\n\t</span><span class="s1">// with the country calling code.</span><span class="s3">\r\n\t</span><span class="s1">// https://wikitravel.org/en/International_dialling_prefix</span><span class="s3">\r\n\t</span><span class="s1">// https://github.com/catamphetamine/libphonenumber-js/issues/376</span><span class="s3">\r\n\t</span><span class="s1">if (number[0] !== '+') {</span><span class="s3">\r\n\t\t</span><span class="s1">// Convert an </span><span class="s3">\&quot;</span><span class="s1">out-of-country</span><span class="s3">\&quot; </span><span class="s1">dialing phone number</span><span class="s3">\r\n\t\t</span><span class="s1">// to a proper international phone number.</span><span class="s3">\r\n\t\t</span><span class="s1">const numberWithoutIDD = stripIddPrefix(number, country || defaultCountry, defaultCallingCode, metadata)</span><span class="s3">\r\n\t\t</span><span class="s1">// If an IDD prefix was stripped then</span><span class="s3">\r\n\t\t</span><span class="s1">// convert the number to international one</span><span class="s3">\r\n\t\t</span><span class="s1">// for subsequent parsing.</span><span class="s3">\r\n\t\t</span><span class="s1">if (numberWithoutIDD &amp;&amp; numberWithoutIDD !== number) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">isNumberWithIddPrefix = true</span><span class="s3">\r\n\t\t\t</span><span class="s1">number = '+' + numberWithoutIDD</span><span class="s3">\r\n\t\t</span><span class="s1">} else {</span><span class="s3">\r\n\t\t\t</span><span class="s1">// Check to see if the number starts with the country calling code</span><span class="s3">\r\n\t\t\t</span><span class="s1">// for the default country. If so, we remove the country calling code,</span><span class="s3">\r\n\t\t\t</span><span class="s1">// and do some checks on the validity of the number before and after.</span><span class="s3">\r\n\t\t\t</span><span class="s1">// https://github.com/catamphetamine/libphonenumber-js/issues/376</span><span class="s3">\r\n\t\t\t</span><span class="s1">if (country || defaultCountry || defaultCallingCode) {</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">const {</span><span class="s3">\r\n\t\t\t\t\t</span><span class="s1">countryCallingCode,</span><span class="s3">\r\n\t\t\t\t\t</span><span class="s1">number: shorterNumber</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">} = extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(</span><span class="s3">\r\n\t\t\t\t\t</span><span class="s1">number,</span><span class="s3">\r\n\t\t\t\t\t</span><span class="s1">country,</span><span class="s3">\r\n\t\t\t\t\t</span><span class="s1">defaultCountry,</span><span class="s3">\r\n\t\t\t\t\t</span><span class="s1">defaultCallingCode,</span><span class="s3">\r\n\t\t\t\t\t</span><span class="s1">metadata</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">)</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">if (countryCallingCode) {</span><span class="s3">\r\n\t\t\t\t\t</span><span class="s1">return {</span><span class="s3">\r\n\t\t\t\t\t\t</span><span class="s1">countryCallingCodeSource: 'FROM_NUMBER_WITHOUT_PLUS_SIGN',</span><span class="s3">\r\n\t\t\t\t\t\t</span><span class="s1">countryCallingCode,</span><span class="s3">\r\n\t\t\t\t\t\t</span><span class="s1">number: shorterNumber</span><span class="s3">\r\n\t\t\t\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t\t</span><span class="s1">return {</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">// No need to set it to `UNSPECIFIED`. It can be just `undefined`.</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">// countryCallingCodeSource: 'UNSPECIFIED',</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">number</span><span class="s3">\r\n\t\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">// `number` can only be international at this point.</span><span class="s3">\r\n\r\n\t</span><span class="s1">// Fast abortion: country codes do not begin with a '0'</span><span class="s3">\r\n\t</span><span class="s1">if (number[1] === '0') {</span><span class="s3">\r\n\t\t</span><span class="s1">return {}</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">metadata = new Metadata(metadata)</span><span class="s3">\r\n\r\n\t</span><span class="s1">// The thing with country phone codes</span><span class="s3">\r\n\t</span><span class="s1">// is that they are orthogonal to each other</span><span class="s3">\r\n\t</span><span class="s1">// i.e. there's no such country phone code A</span><span class="s3">\r\n\t</span><span class="s1">// for which country phone code B exists</span><span class="s3">\r\n\t</span><span class="s1">// where B starts with A.</span><span class="s3">\r\n\t</span><span class="s1">// Therefore, while scanning digits,</span><span class="s3">\r\n\t</span><span class="s1">// if a valid country code is found,</span><span class="s3">\r\n\t</span><span class="s1">// that means that it is the country code.</span><span class="s3">\r\n\t</span><span class="s1">//</span><span class="s3">\r\n\t</span><span class="s1">let i = 2</span><span class="s3">\r\n\t</span><span class="s1">while (i - 1 &lt;= MAX_LENGTH_COUNTRY_CODE &amp;&amp; i &lt;= number.length) {</span><span class="s3">\r\n\t\t</span><span class="s1">const countryCallingCode = number.slice(1, i)</span><span class="s3">\r\n\t\t</span><span class="s1">if (metadata.hasCallingCode(countryCallingCode)) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">metadata.selectNumberingPlan(countryCallingCode)</span><span class="s3">\r\n\t\t\t</span><span class="s1">return {</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">countryCallingCodeSource: isNumberWithIddPrefix ? 'FROM_NUMBER_WITH_IDD' : 'FROM_NUMBER_WITH_PLUS_SIGN',</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">countryCallingCode,</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">number: number.slice(i)</span><span class="s3">\r\n\t\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t</span><span class="s1">i++</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">return {}</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">// The possible values for the returned `countryCallingCodeSource` are:</span><span class="s3">\r\n</span><span class="s1">//</span><span class="s3">\r\n</span><span class="s1">// Copy-pasted from:</span><span class="s3">\r\n</span><span class="s1">// https://github.com/google/libphonenumber/blob/master/resources/phonenumber.proto</span><span class="s3">\r\n</span><span class="s1">//</span><span class="s3">\r\n</span><span class="s1">// // The source from which the country_code is derived. This is not set in the</span><span class="s3">\r\n</span><span class="s1">// // general parsing method, but in the method that parses and keeps raw_input.</span><span class="s3">\r\n</span><span class="s1">// // New fields could be added upon request.</span><span class="s3">\r\n</span><span class="s1">// enum CountryCodeSource {</span><span class="s3">\r\n</span><span class="s1">//  // Default value returned if this is not set, because the phone number was</span><span class="s3">\r\n</span><span class="s1">//  // created using parse, not parseAndKeepRawInput. hasCountryCodeSource will</span><span class="s3">\r\n</span><span class="s1">//  // return false if this is the case.</span><span class="s3">\r\n</span><span class="s1">//  UNSPECIFIED = 0;</span><span class="s3">\r\n</span><span class="s1">//</span><span class="s3">\r\n</span><span class="s1">//  // The country_code is derived based on a phone number with a leading </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\r\n</span><span class="s1">//  // e.g. the French number </span><span class="s3">\&quot;</span><span class="s1">+33 1 42 68 53 00</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\r\n</span><span class="s1">//  FROM_NUMBER_WITH_PLUS_SIGN = 1;</span><span class="s3">\r\n</span><span class="s1">//</span><span class="s3">\r\n</span><span class="s1">//  // The country_code is derived based on a phone number with a leading IDD,</span><span class="s3">\r\n</span><span class="s1">//  // e.g. the French number </span><span class="s3">\&quot;</span><span class="s1">011 33 1 42 68 53 00</span><span class="s3">\&quot;</span><span class="s1">, as it is dialled from US.</span><span class="s3">\r\n</span><span class="s1">//  FROM_NUMBER_WITH_IDD = 5;</span><span class="s3">\r\n</span><span class="s1">//</span><span class="s3">\r\n</span><span class="s1">//  // The country_code is derived based on a phone number without a leading</span><span class="s3">\r\n</span><span class="s1">//  // </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">, e.g. the French number </span><span class="s3">\&quot;</span><span class="s1">33 1 42 68 53 00</span><span class="s3">\&quot; </span><span class="s1">when defaultCountry is</span><span class="s3">\r\n</span><span class="s1">//  // supplied as France.</span><span class="s3">\r\n</span><span class="s1">//  FROM_NUMBER_WITHOUT_PLUS_SIGN = 10;</span><span class="s3">\r\n</span><span class="s1">//</span><span class="s3">\r\n</span><span class="s1">//  // The country_code is derived NOT based on the phone number itself, but</span><span class="s3">\r\n</span><span class="s1">//  // from the defaultCountry parameter provided in the parsing function by the</span><span class="s3">\r\n</span><span class="s1">//  // clients. This happens mostly for numbers written in the national format</span><span class="s3">\r\n</span><span class="s1">//  // (without country code). For example, this would be set when parsing the</span><span class="s3">\r\n</span><span class="s1">//  // French number </span><span class="s3">\&quot;</span><span class="s1">01 42 68 53 00</span><span class="s3">\&quot;</span><span class="s1">, when defaultCountry is supplied as</span><span class="s3">\r\n</span><span class="s1">//  // France.</span><span class="s3">\r\n</span><span class="s1">//  FROM_DEFAULT_COUNTRY = 20;</span><span class="s3">\r\n</span><span class="s1">// }&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA,IAAAA,eAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,gEAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,SAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,UAAA,GAAAH,OAAA;AAAyD,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASE,yBAAyBA,CAChDC,MAAM,EACNC,OAAO,EACPC,cAAc,EACdC,kBAAkB,EAClBC,QAAQ,EACP;EACD,IAAI,CAACJ,MAAM,EAAE;IACZ,OAAO,CAAC,CAAC;EACV;EAEA,IAAIK,qBAAqB;;EAEzB;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAIL,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IACtB;IACA;IACA,IAAMM,gBAAgB,GAAG,IAAAC,0BAAc,EAACP,MAAM,EAAEC,OAAO,IAAIC,cAAc,EAAEC,kBAAkB,EAAEC,QAAQ,CAAC;IACxG;IACA;IACA;IACA,IAAIE,gBAAgB,IAAIA,gBAAgB,KAAKN,MAAM,EAAE;MACpDK,qBAAqB,GAAG,IAAI;MAC5BL,MAAM,GAAG,GAAG,GAAGM,gBAAgB;IAChC,CAAC,MAAM;MACN;MACA;MACA;MACA;MACA,IAAIL,OAAO,IAAIC,cAAc,IAAIC,kBAAkB,EAAE;QACpD,IAAAK,qBAAA,GAGI,IAAAC,2EAA+D,EAClET,MAAM,EACNC,OAAO,EACPC,cAAc,EACdC,kBAAkB,EAClBC,QACD,CAAC;UARAM,kBAAkB,GAAAF,qBAAA,CAAlBE,kBAAkB;UACVC,aAAa,GAAAH,qBAAA,CAArBR,MAAM;QAQP,IAAIU,kBAAkB,EAAE;UACvB,OAAO;YACNE,wBAAwB,EAAE,+BAA+B;YACzDF,kBAAkB,EAAlBA,kBAAkB;YAClBV,MAAM,EAAEW;UACT,CAAC;QACF;MACD;MACA,OAAO;QACN;QACA;QACAX,MAAM,EAANA;MACD,CAAC;IACF;EACD;;EAEA;;EAEA;EACA,IAAIA,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IACtB,OAAO,CAAC,CAAC;EACV;EAEAI,QAAQ,GAAG,IAAIS,oBAAQ,CAACT,QAAQ,CAAC;;EAEjC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAIU,CAAC,GAAG,CAAC;EACT,OAAOA,CAAC,GAAG,CAAC,IAAIC,kCAAuB,IAAID,CAAC,IAAId,MAAM,CAACgB,MAAM,EAAE;IAC9D,IAAMN,mBAAkB,GAAGV,MAAM,CAACiB,KAAK,CAAC,CAAC,EAAEH,CAAC,CAAC;IAC7C,IAAIV,QAAQ,CAACc,cAAc,CAACR,mBAAkB,CAAC,EAAE;MAChDN,QAAQ,CAACe,mBAAmB,CAACT,mBAAkB,CAAC;MAChD,OAAO;QACNE,wBAAwB,EAAEP,qBAAqB,GAAG,sBAAsB,GAAG,4BAA4B;QACvGK,kBAAkB,EAAlBA,mBAAkB;QAClBV,MAAM,EAAEA,MAAM,CAACiB,KAAK,CAACH,CAAC;MACvB,CAAC;IACF;IACAA,CAAC,EAAE;EACJ;EAEA,OAAO,CAAC,CAAC;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>