<html>
<head>
<title>next.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
next.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/server/next.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { Options as DevServerOptions } from './dev/next-dev-server'</span><span class="s3">\n</span><span class="s1">import type {</span><span class="s3">\n  </span><span class="s1">NodeRequestHandler,</span><span class="s3">\n  </span><span class="s1">Options as ServerOptions,</span><span class="s3">\n</span><span class="s1">} from './next-server'</span><span class="s3">\n</span><span class="s1">import type { UrlWithParsedQuery } from 'url'</span><span class="s3">\n</span><span class="s1">import type { IncomingMessage, ServerResponse } from 'http'</span><span class="s3">\n</span><span class="s1">import type { Duplex } from 'stream'</span><span class="s3">\n</span><span class="s1">import type { NextUrlWithParsedQuery } from './request-meta'</span><span class="s3">\n\n</span><span class="s1">import './require-hook'</span><span class="s3">\n</span><span class="s1">import './node-polyfill-crypto'</span><span class="s3">\n\n</span><span class="s1">import type { default as NextNodeServer } from './next-server'</span><span class="s3">\n</span><span class="s1">import * as log from '../build/output/log'</span><span class="s3">\n</span><span class="s1">import loadConfig from './config'</span><span class="s3">\n</span><span class="s1">import path, { resolve } from 'path'</span><span class="s3">\n</span><span class="s1">import { NON_STANDARD_NODE_ENV } from '../lib/constants'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">PHASE_DEVELOPMENT_SERVER,</span><span class="s3">\n  </span><span class="s1">SERVER_FILES_MANIFEST,</span><span class="s3">\n</span><span class="s1">} from '../shared/lib/constants'</span><span class="s3">\n</span><span class="s1">import { PHASE_PRODUCTION_SERVER } from '../shared/lib/constants'</span><span class="s3">\n</span><span class="s1">import { getTracer } from './lib/trace/tracer'</span><span class="s3">\n</span><span class="s1">import { NextServerSpan } from './lib/trace/constants'</span><span class="s3">\n</span><span class="s1">import { formatUrl } from '../shared/lib/router/utils/format-url'</span><span class="s3">\n</span><span class="s1">import type { ServerFields } from './lib/router-utils/setup-dev-bundler'</span><span class="s3">\n</span><span class="s1">import type { ServerInitResult } from './lib/render-server'</span><span class="s3">\n</span><span class="s1">import { AsyncCallbackSet } from './lib/async-callback-set'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">RouterServerContextSymbol,</span><span class="s3">\n  </span><span class="s1">routerServerGlobal,</span><span class="s3">\n</span><span class="s1">} from './lib/router-utils/router-server-context'</span><span class="s3">\n\n</span><span class="s1">let ServerImpl: typeof NextNodeServer</span><span class="s3">\n\n</span><span class="s1">const getServerImpl = async () =&gt; {</span><span class="s3">\n  </span><span class="s1">if (ServerImpl === undefined) {</span><span class="s3">\n    </span><span class="s1">ServerImpl = (</span><span class="s3">\n      </span><span class="s1">await Promise.resolve(</span><span class="s3">\n        </span><span class="s1">require('./next-server') as typeof import('./next-server')</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">).default</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return ServerImpl</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export type NextServerOptions = Omit&lt;</span><span class="s3">\n  </span><span class="s1">ServerOptions | DevServerOptions,</span><span class="s3">\n  </span><span class="s1">// This is assigned in this server abstraction.</span><span class="s3">\n  </span><span class="s1">'conf'</span><span class="s3">\n</span><span class="s1">&gt; &amp;</span><span class="s3">\n  </span><span class="s1">Partial&lt;Pick&lt;ServerOptions | DevServerOptions, 'conf'&gt;&gt;</span><span class="s3">\n\n</span><span class="s1">export type RequestHandler = (</span><span class="s3">\n  </span><span class="s1">req: IncomingMessage,</span><span class="s3">\n  </span><span class="s1">res: ServerResponse,</span><span class="s3">\n  </span><span class="s1">parsedUrl?: NextUrlWithParsedQuery | undefined</span><span class="s3">\n</span><span class="s1">) =&gt; Promise&lt;void&gt;</span><span class="s3">\n\n</span><span class="s1">export type UpgradeHandler = (</span><span class="s3">\n  </span><span class="s1">req: IncomingMessage,</span><span class="s3">\n  </span><span class="s1">socket: Duplex,</span><span class="s3">\n  </span><span class="s1">head: Buffer</span><span class="s3">\n</span><span class="s1">) =&gt; Promise&lt;void&gt;</span><span class="s3">\n\n</span><span class="s1">const SYMBOL_LOAD_CONFIG = Symbol('next.load_config')</span><span class="s3">\n\n</span><span class="s1">interface NextWrapperServer {</span><span class="s3">\n  </span><span class="s1">// NOTE: the methods/properties here are the public API for custom servers.</span><span class="s3">\n  </span><span class="s1">// Consider backwards compatibilty when changing something here!</span><span class="s3">\n\n  </span><span class="s1">options: NextServerOptions</span><span class="s3">\n  </span><span class="s1">hostname: string | undefined</span><span class="s3">\n  </span><span class="s1">port: number | undefined</span><span class="s3">\n\n  </span><span class="s1">getRequestHandler(): RequestHandler</span><span class="s3">\n  </span><span class="s1">prepare(serverFields?: ServerFields): Promise&lt;void&gt;</span><span class="s3">\n  </span><span class="s1">setAssetPrefix(assetPrefix: string): void</span><span class="s3">\n  </span><span class="s1">close(): Promise&lt;void&gt;</span><span class="s3">\n\n  </span><span class="s1">// used internally</span><span class="s3">\n  </span><span class="s1">getUpgradeHandler(): UpgradeHandler</span><span class="s3">\n\n  </span><span class="s1">// legacy methods that we left exposed in the past</span><span class="s3">\n\n  </span><span class="s1">logError(...args: Parameters&lt;NextNodeServer['logError']&gt;): void</span><span class="s3">\n\n  </span><span class="s1">revalidate(</span><span class="s3">\n    </span><span class="s1">...args: Parameters&lt;NextNodeServer['revalidate']&gt;</span><span class="s3">\n  </span><span class="s1">): ReturnType&lt;NextNodeServer['revalidate']&gt;</span><span class="s3">\n\n  </span><span class="s1">logErrorWithOriginalStack(err: unknown, type: string): void</span><span class="s3">\n\n  </span><span class="s1">render(</span><span class="s3">\n    </span><span class="s1">...args: Parameters&lt;NextNodeServer['render']&gt;</span><span class="s3">\n  </span><span class="s1">): ReturnType&lt;NextNodeServer['render']&gt;</span><span class="s3">\n\n  </span><span class="s1">renderToHTML(</span><span class="s3">\n    </span><span class="s1">...args: Parameters&lt;NextNodeServer['renderToHTML']&gt;</span><span class="s3">\n  </span><span class="s1">): ReturnType&lt;NextNodeServer['renderToHTML']&gt;</span><span class="s3">\n\n  </span><span class="s1">renderError(</span><span class="s3">\n    </span><span class="s1">...args: Parameters&lt;NextNodeServer['renderError']&gt;</span><span class="s3">\n  </span><span class="s1">): ReturnType&lt;NextNodeServer['renderError']&gt;</span><span class="s3">\n\n  </span><span class="s1">renderErrorToHTML(</span><span class="s3">\n    </span><span class="s1">...args: Parameters&lt;NextNodeServer['renderErrorToHTML']&gt;</span><span class="s3">\n  </span><span class="s1">): ReturnType&lt;NextNodeServer['renderErrorToHTML']&gt;</span><span class="s3">\n\n  </span><span class="s1">render404(</span><span class="s3">\n    </span><span class="s1">...args: Parameters&lt;NextNodeServer['render404']&gt;</span><span class="s3">\n  </span><span class="s1">): ReturnType&lt;NextNodeServer['render404']&gt;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/** The wrapper server used by `next start` */</span><span class="s3">\n</span><span class="s1">export class NextServer implements NextWrapperServer {</span><span class="s3">\n  </span><span class="s1">private serverPromise?: Promise&lt;NextNodeServer&gt;</span><span class="s3">\n  </span><span class="s1">private server?: NextNodeServer</span><span class="s3">\n  </span><span class="s1">private reqHandler?: NodeRequestHandler</span><span class="s3">\n  </span><span class="s1">private reqHandlerPromise?: Promise&lt;NodeRequestHandler&gt;</span><span class="s3">\n  </span><span class="s1">private preparedAssetPrefix?: string</span><span class="s3">\n\n  </span><span class="s1">public options: NextServerOptions</span><span class="s3">\n\n  </span><span class="s1">constructor(options: NextServerOptions) {</span><span class="s3">\n    </span><span class="s1">this.options = options</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get hostname() {</span><span class="s3">\n    </span><span class="s1">return this.options.hostname</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get port() {</span><span class="s3">\n    </span><span class="s1">return this.options.port</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">getRequestHandler(): RequestHandler {</span><span class="s3">\n    </span><span class="s1">return async (</span><span class="s3">\n      </span><span class="s1">req: IncomingMessage,</span><span class="s3">\n      </span><span class="s1">res: ServerResponse,</span><span class="s3">\n      </span><span class="s1">parsedUrl?: UrlWithParsedQuery</span><span class="s3">\n    </span><span class="s1">) =&gt; {</span><span class="s3">\n      </span><span class="s1">return getTracer().trace(NextServerSpan.getRequestHandler, async () =&gt; {</span><span class="s3">\n        </span><span class="s1">const requestHandler = await this.getServerRequestHandler()</span><span class="s3">\n        </span><span class="s1">return requestHandler(req, res, parsedUrl)</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">getUpgradeHandler(): UpgradeHandler {</span><span class="s3">\n    </span><span class="s1">return async (req: IncomingMessage, socket: any, head: any) =&gt; {</span><span class="s3">\n      </span><span class="s1">const server = await this.getServer()</span><span class="s3">\n      </span><span class="s1">// @ts-expect-error we mark this as protected so it</span><span class="s3">\n      </span><span class="s1">// causes an error here</span><span class="s3">\n      </span><span class="s1">return server.handleUpgrade.apply(server, [req, socket, head])</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">setAssetPrefix(assetPrefix: string) {</span><span class="s3">\n    </span><span class="s1">if (this.server) {</span><span class="s3">\n      </span><span class="s1">this.server.setAssetPrefix(assetPrefix)</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">this.preparedAssetPrefix = assetPrefix</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">logError(...args: Parameters&lt;NextWrapperServer['logError']&gt;) {</span><span class="s3">\n    </span><span class="s1">if (this.server) {</span><span class="s3">\n      </span><span class="s1">this.server.logError(...args)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async logErrorWithOriginalStack(err: unknown, type: string) {</span><span class="s3">\n    </span><span class="s1">const server = await this.getServer()</span><span class="s3">\n    </span><span class="s1">// this is only available on dev server</span><span class="s3">\n    </span><span class="s1">if ((server as any).logErrorWithOriginalStack) {</span><span class="s3">\n      </span><span class="s1">return (server as any).logErrorWithOriginalStack(err, type)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async revalidate(...args: Parameters&lt;NextWrapperServer['revalidate']&gt;) {</span><span class="s3">\n    </span><span class="s1">const server = await this.getServer()</span><span class="s3">\n    </span><span class="s1">return server.revalidate(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async render(...args: Parameters&lt;NextWrapperServer['render']&gt;) {</span><span class="s3">\n    </span><span class="s1">const server = await this.getServer()</span><span class="s3">\n    </span><span class="s1">return server.render(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async renderToHTML(...args: Parameters&lt;NextWrapperServer['renderToHTML']&gt;) {</span><span class="s3">\n    </span><span class="s1">const server = await this.getServer()</span><span class="s3">\n    </span><span class="s1">return server.renderToHTML(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async renderError(...args: Parameters&lt;NextWrapperServer['renderError']&gt;) {</span><span class="s3">\n    </span><span class="s1">const server = await this.getServer()</span><span class="s3">\n    </span><span class="s1">return server.renderError(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async renderErrorToHTML(</span><span class="s3">\n    </span><span class="s1">...args: Parameters&lt;NextWrapperServer['renderErrorToHTML']&gt;</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const server = await this.getServer()</span><span class="s3">\n    </span><span class="s1">return server.renderErrorToHTML(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async render404(...args: Parameters&lt;NextWrapperServer['render404']&gt;) {</span><span class="s3">\n    </span><span class="s1">const server = await this.getServer()</span><span class="s3">\n    </span><span class="s1">return server.render404(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async prepare(serverFields?: ServerFields) {</span><span class="s3">\n    </span><span class="s1">const server = await this.getServer()</span><span class="s3">\n\n    </span><span class="s1">if (serverFields) {</span><span class="s3">\n      </span><span class="s1">Object.assign(server, serverFields)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// We shouldn't prepare the server in production,</span><span class="s3">\n    </span><span class="s1">// because this code won't be executed when deployed</span><span class="s3">\n    </span><span class="s1">if (this.options.dev) {</span><span class="s3">\n      </span><span class="s1">await server.prepare()</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async close() {</span><span class="s3">\n    </span><span class="s1">if (this.server) {</span><span class="s3">\n      </span><span class="s1">await this.server.close()</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">private async createServer(</span><span class="s3">\n    </span><span class="s1">options: ServerOptions | DevServerOptions</span><span class="s3">\n  </span><span class="s1">): Promise&lt;NextNodeServer&gt; {</span><span class="s3">\n    </span><span class="s1">let ServerImplementation: typeof NextNodeServer</span><span class="s3">\n    </span><span class="s1">if (options.dev) {</span><span class="s3">\n      </span><span class="s1">ServerImplementation = (</span><span class="s3">\n        </span><span class="s1">require('./dev/next-dev-server') as typeof import('./dev/next-dev-server')</span><span class="s3">\n      </span><span class="s1">).default as typeof import('./dev/next-dev-server').default</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">ServerImplementation = await getServerImpl()</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const server = new ServerImplementation(options)</span><span class="s3">\n\n    </span><span class="s1">return server</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">private async [SYMBOL_LOAD_CONFIG]() {</span><span class="s3">\n    </span><span class="s1">const dir = resolve(this.options.dir || '.')</span><span class="s3">\n\n    </span><span class="s1">const config = await loadConfig(</span><span class="s3">\n      </span><span class="s1">this.options.dev ? PHASE_DEVELOPMENT_SERVER : PHASE_PRODUCTION_SERVER,</span><span class="s3">\n      </span><span class="s1">dir,</span><span class="s3">\n      </span><span class="s1">{</span><span class="s3">\n        </span><span class="s1">customConfig: this.options.conf,</span><span class="s3">\n        </span><span class="s1">silent: true,</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">// check serialized build config when available</span><span class="s3">\n    </span><span class="s1">if (!this.options.dev) {</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">const serializedConfig = require(</span><span class="s3">\n          </span><span class="s1">path.join(dir, config.distDir, SERVER_FILES_MANIFEST)</span><span class="s3">\n        </span><span class="s1">).config</span><span class="s3">\n\n        </span><span class="s1">config.experimental.isExperimentalCompile =</span><span class="s3">\n          </span><span class="s1">serializedConfig.experimental.isExperimentalCompile</span><span class="s3">\n      </span><span class="s1">} catch (_) {</span><span class="s3">\n        </span><span class="s1">// if distDir is customized we don't know until we</span><span class="s3">\n        </span><span class="s1">// load the config so fallback to loading the config</span><span class="s3">\n        </span><span class="s1">// from next.config.js</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return config</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">private async getServer() {</span><span class="s3">\n    </span><span class="s1">if (!this.serverPromise) {</span><span class="s3">\n      </span><span class="s1">this.serverPromise = this[SYMBOL_LOAD_CONFIG]().then(async (conf) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (!this.options.dev) {</span><span class="s3">\n          </span><span class="s1">if (conf.output === 'standalone') {</span><span class="s3">\n            </span><span class="s1">if (!process.env.__NEXT_PRIVATE_STANDALONE_CONFIG) {</span><span class="s3">\n              </span><span class="s1">log.warn(</span><span class="s3">\n                </span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">next start</span><span class="s3">\&quot; </span><span class="s1">does not work with </span><span class="s3">\&quot;</span><span class="s1">output: standalone</span><span class="s3">\&quot; </span><span class="s1">configuration. Use </span><span class="s3">\&quot;</span><span class="s1">node .next/standalone/server.js</span><span class="s3">\&quot; </span><span class="s1">instead.`</span><span class="s3">\n              </span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">} else if (conf.output === 'export') {</span><span class="s3">\n            </span><span class="s1">throw new Error(</span><span class="s3">\n              </span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">next start</span><span class="s3">\&quot; </span><span class="s1">does not work with </span><span class="s3">\&quot;</span><span class="s1">output: export</span><span class="s3">\&quot; </span><span class="s1">configuration. Use </span><span class="s3">\&quot;</span><span class="s1">npx serve@latest out</span><span class="s3">\&quot; </span><span class="s1">instead.`</span><span class="s3">\n            </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">this.server = await this.createServer({</span><span class="s3">\n          </span><span class="s1">...this.options,</span><span class="s3">\n          </span><span class="s1">conf,</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">if (this.preparedAssetPrefix) {</span><span class="s3">\n          </span><span class="s1">this.server.setAssetPrefix(this.preparedAssetPrefix)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this.server</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return this.serverPromise</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">private async getServerRequestHandler() {</span><span class="s3">\n    </span><span class="s1">if (this.reqHandler) return this.reqHandler</span><span class="s3">\n\n    </span><span class="s1">// Memoize request handler creation</span><span class="s3">\n    </span><span class="s1">if (!this.reqHandlerPromise) {</span><span class="s3">\n      </span><span class="s1">this.reqHandlerPromise = this.getServer().then((server) =&gt; {</span><span class="s3">\n        </span><span class="s1">this.reqHandler = getTracer().wrap(</span><span class="s3">\n          </span><span class="s1">NextServerSpan.getServerRequestHandler,</span><span class="s3">\n          </span><span class="s1">server.getRequestHandler().bind(server)</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">delete this.reqHandlerPromise</span><span class="s3">\n        </span><span class="s1">return this.reqHandler</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return this.reqHandlerPromise</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/** The wrapper server used for `import next from </span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot; </span><span class="s1">(in a custom server)` */</span><span class="s3">\n</span><span class="s1">class NextCustomServer implements NextWrapperServer {</span><span class="s3">\n  </span><span class="s1">private didWebSocketSetup: boolean = false</span><span class="s3">\n  </span><span class="s1">protected cleanupListeners?: AsyncCallbackSet</span><span class="s3">\n\n  </span><span class="s1">protected init?: ServerInitResult</span><span class="s3">\n\n  </span><span class="s1">public options: NextServerOptions</span><span class="s3">\n\n  </span><span class="s1">constructor(options: NextServerOptions) {</span><span class="s3">\n    </span><span class="s1">this.options = options</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">protected getInit() {</span><span class="s3">\n    </span><span class="s1">if (!this.init) {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        </span><span class="s1">'prepare() must be called before performing this operation'</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return this.init</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">protected get requestHandler() {</span><span class="s3">\n    </span><span class="s1">return this.getInit().requestHandler</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">protected get upgradeHandler() {</span><span class="s3">\n    </span><span class="s1">return this.getInit().upgradeHandler</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">protected get server() {</span><span class="s3">\n    </span><span class="s1">return this.getInit().server</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get hostname() {</span><span class="s3">\n    </span><span class="s1">return this.options.hostname</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get port() {</span><span class="s3">\n    </span><span class="s1">return this.options.port</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async prepare() {</span><span class="s3">\n    </span><span class="s1">const { getRequestHandlers } =</span><span class="s3">\n      </span><span class="s1">require('./lib/start-server') as typeof import('./lib/start-server')</span><span class="s3">\n\n    </span><span class="s1">let onDevServerCleanup: AsyncCallbackSet['add'] | undefined</span><span class="s3">\n    </span><span class="s1">if (this.options.dev) {</span><span class="s3">\n      </span><span class="s1">this.cleanupListeners = new AsyncCallbackSet()</span><span class="s3">\n      </span><span class="s1">onDevServerCleanup = this.cleanupListeners.add.bind(this.cleanupListeners)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const initResult = await getRequestHandlers({</span><span class="s3">\n      </span><span class="s1">dir: this.options.dir!,</span><span class="s3">\n      </span><span class="s1">port: this.options.port || 3000,</span><span class="s3">\n      </span><span class="s1">isDev: !!this.options.dev,</span><span class="s3">\n      </span><span class="s1">onDevServerCleanup,</span><span class="s3">\n      </span><span class="s1">hostname: this.options.hostname || 'localhost',</span><span class="s3">\n      </span><span class="s1">minimalMode: this.options.minimalMode,</span><span class="s3">\n      </span><span class="s1">quiet: this.options.quiet,</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">this.init = initResult</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">private setupWebSocketHandler(</span><span class="s3">\n    </span><span class="s1">customServer?: import('http').Server,</span><span class="s3">\n    </span><span class="s1">_req?: IncomingMessage</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (!this.didWebSocketSetup) {</span><span class="s3">\n      </span><span class="s1">this.didWebSocketSetup = true</span><span class="s3">\n      </span><span class="s1">customServer = customServer || (_req?.socket as any)?.server</span><span class="s3">\n\n      </span><span class="s1">if (customServer) {</span><span class="s3">\n        </span><span class="s1">customServer.on('upgrade', async (req, socket, head) =&gt; {</span><span class="s3">\n          </span><span class="s1">this.upgradeHandler(req, socket, head)</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">getRequestHandler(): RequestHandler {</span><span class="s3">\n    </span><span class="s1">return async (</span><span class="s3">\n      </span><span class="s1">req: IncomingMessage,</span><span class="s3">\n      </span><span class="s1">res: ServerResponse,</span><span class="s3">\n      </span><span class="s1">parsedUrl?: UrlWithParsedQuery</span><span class="s3">\n    </span><span class="s1">) =&gt; {</span><span class="s3">\n      </span><span class="s1">this.setupWebSocketHandler(this.options.httpServer, req)</span><span class="s3">\n\n      </span><span class="s1">if (parsedUrl) {</span><span class="s3">\n        </span><span class="s1">req.url = formatUrl(parsedUrl)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return this.requestHandler(req, res)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async render(...args: Parameters&lt;NextWrapperServer['render']&gt;) {</span><span class="s3">\n    </span><span class="s1">let [req, res, pathname, query, parsedUrl] = args</span><span class="s3">\n    </span><span class="s1">this.setupWebSocketHandler(this.options.httpServer, req as IncomingMessage)</span><span class="s3">\n\n    </span><span class="s1">if (!pathname.startsWith('/')) {</span><span class="s3">\n      </span><span class="s1">console.error(`Cannot render page with path </span><span class="s3">\&quot;</span><span class="s1">${pathname}</span><span class="s3">\&quot;</span><span class="s1">`)</span><span class="s3">\n      </span><span class="s1">pathname = `/${pathname}`</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">pathname = pathname === '/index' ? '/' : pathname</span><span class="s3">\n\n    </span><span class="s1">req.url = formatUrl({</span><span class="s3">\n      </span><span class="s1">...parsedUrl,</span><span class="s3">\n      </span><span class="s1">pathname,</span><span class="s3">\n      </span><span class="s1">query,</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n\n    </span><span class="s1">await this.requestHandler(req as IncomingMessage, res as ServerResponse)</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">setAssetPrefix(assetPrefix: string): void {</span><span class="s3">\n    </span><span class="s1">this.server.setAssetPrefix(assetPrefix)</span><span class="s3">\n\n    </span><span class="s1">// update the router-server nextConfig instance as</span><span class="s3">\n    </span><span class="s1">// this is the source of truth for </span><span class="s3">\&quot;</span><span class="s1">handler</span><span class="s3">\&quot; </span><span class="s1">in serverful</span><span class="s3">\n    </span><span class="s1">const relativeProjectDir = path.relative(</span><span class="s3">\n      </span><span class="s1">process.cwd(),</span><span class="s3">\n      </span><span class="s1">this.options.dir || ''</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">routerServerGlobal[RouterServerContextSymbol]?.[relativeProjectDir]</span><span class="s3">\n        </span><span class="s1">?.nextConfig</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">routerServerGlobal[RouterServerContextSymbol][</span><span class="s3">\n        </span><span class="s1">relativeProjectDir</span><span class="s3">\n      </span><span class="s1">].nextConfig.assetPrefix = assetPrefix</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">getUpgradeHandler(): UpgradeHandler {</span><span class="s3">\n    </span><span class="s1">return this.server.getUpgradeHandler()</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">logError(...args: Parameters&lt;NextWrapperServer['logError']&gt;) {</span><span class="s3">\n    </span><span class="s1">this.server.logError(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">logErrorWithOriginalStack(err: unknown, type: string) {</span><span class="s3">\n    </span><span class="s1">return this.server.logErrorWithOriginalStack(err, type)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async revalidate(...args: Parameters&lt;NextWrapperServer['revalidate']&gt;) {</span><span class="s3">\n    </span><span class="s1">return this.server.revalidate(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async renderToHTML(...args: Parameters&lt;NextWrapperServer['renderToHTML']&gt;) {</span><span class="s3">\n    </span><span class="s1">return this.server.renderToHTML(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async renderError(...args: Parameters&lt;NextWrapperServer['renderError']&gt;) {</span><span class="s3">\n    </span><span class="s1">return this.server.renderError(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async renderErrorToHTML(</span><span class="s3">\n    </span><span class="s1">...args: Parameters&lt;NextWrapperServer['renderErrorToHTML']&gt;</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return this.server.renderErrorToHTML(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async render404(...args: Parameters&lt;NextWrapperServer['render404']&gt;) {</span><span class="s3">\n    </span><span class="s1">return this.server.render404(...args)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async close() {</span><span class="s3">\n    </span><span class="s1">await Promise.allSettled([</span><span class="s3">\n      </span><span class="s1">this.init?.server.close(),</span><span class="s3">\n      </span><span class="s1">this.cleanupListeners?.runAll(),</span><span class="s3">\n    </span><span class="s1">])</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// This file is used for when users run `require('next')`</span><span class="s3">\n</span><span class="s1">function createServer(</span><span class="s3">\n  </span><span class="s1">options: NextServerOptions &amp; {</span><span class="s3">\n    </span><span class="s1">turbo?: boolean</span><span class="s3">\n    </span><span class="s1">turbopack?: boolean</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">): NextWrapperServer {</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">options &amp;&amp;</span><span class="s3">\n    </span><span class="s1">(options.turbo || options.turbopack || process.env.IS_TURBOPACK_TEST)</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">process.env.TURBOPACK = '1'</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">// The package is used as a TypeScript plugin.</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">options &amp;&amp;</span><span class="s3">\n    </span><span class="s1">'typescript' in options &amp;&amp;</span><span class="s3">\n    </span><span class="s1">'version' in (options as any).typescript</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const pluginMod: typeof import('./next-typescript') =</span><span class="s3">\n      </span><span class="s1">require('./next-typescript') as typeof import('./next-typescript')</span><span class="s3">\n    </span><span class="s1">return pluginMod.createTSPlugin(</span><span class="s3">\n      </span><span class="s1">options as any</span><span class="s3">\n    </span><span class="s1">) as unknown as NextWrapperServer</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (options == null) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\n      </span><span class="s1">'The server has not been instantiated properly. https://nextjs.org/docs/messages/invalid-server-options'</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">!('isNextDevCommand' in options) &amp;&amp;</span><span class="s3">\n    </span><span class="s1">process.env.NODE_ENV &amp;&amp;</span><span class="s3">\n    </span><span class="s1">!['production', 'development', 'test'].includes(process.env.NODE_ENV)</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">log.warn(NON_STANDARD_NODE_ENV)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (options.dev &amp;&amp; typeof options.dev !== 'boolean') {</span><span class="s3">\n    </span><span class="s1">console.warn(</span><span class="s3">\n      \&quot;</span><span class="s1">Warning: 'dev' is not a boolean which could introduce unexpected behavior. https://nextjs.org/docs/messages/invalid-server-options</span><span class="s3">\&quot;\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// When the caller is a custom server (using next()).</span><span class="s3">\n  </span><span class="s1">if (options.customServer !== false) {</span><span class="s3">\n    </span><span class="s1">const dir = resolve(options.dir || '.')</span><span class="s3">\n\n    </span><span class="s1">return new NextCustomServer({</span><span class="s3">\n      </span><span class="s1">...options,</span><span class="s3">\n      </span><span class="s1">dir,</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// When the caller is Next.js internals (i.e. render worker, start server, etc)</span><span class="s3">\n  </span><span class="s1">return new NextServer(options)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Support commonjs `require('next')`</span><span class="s3">\n</span><span class="s1">module.exports = createServer</span><span class="s3">\n</span><span class="s1">// exports = module.exports</span><span class="s3">\n\n</span><span class="s1">// Support `import next from 'next'`</span><span class="s3">\n</span><span class="s1">export default createServer</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;NextServer&quot;</span><span class="s0">,</span><span class="s1">&quot;ServerImpl&quot;</span><span class="s0">,</span><span class="s1">&quot;getServerImpl&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;default&quot;</span><span class="s0">,</span><span class="s1">&quot;SYMBOL_LOAD_CONFIG&quot;</span><span class="s0">,</span><span class="s1">&quot;Symbol&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;hostname&quot;</span><span class="s0">,</span><span class="s1">&quot;port&quot;</span><span class="s0">,</span><span class="s1">&quot;getRequestHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;req&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;parsedUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;getTracer&quot;</span><span class="s0">,</span><span class="s1">&quot;trace&quot;</span><span class="s0">,</span><span class="s1">&quot;NextServerSpan&quot;</span><span class="s0">,</span><span class="s1">&quot;requestHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;getServerRequestHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;getUpgradeHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;socket&quot;</span><span class="s0">,</span><span class="s1">&quot;head&quot;</span><span class="s0">,</span><span class="s1">&quot;server&quot;</span><span class="s0">,</span><span class="s1">&quot;getServer&quot;</span><span class="s0">,</span><span class="s1">&quot;handleUpgrade&quot;</span><span class="s0">,</span><span class="s1">&quot;apply&quot;</span><span class="s0">,</span><span class="s1">&quot;setAssetPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;assetPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;preparedAssetPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;logError&quot;</span><span class="s0">,</span><span class="s1">&quot;args&quot;</span><span class="s0">,</span><span class="s1">&quot;logErrorWithOriginalStack&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;revalidate&quot;</span><span class="s0">,</span><span class="s1">&quot;render&quot;</span><span class="s0">,</span><span class="s1">&quot;renderToHTML&quot;</span><span class="s0">,</span><span class="s1">&quot;renderError&quot;</span><span class="s0">,</span><span class="s1">&quot;renderErrorToHTML&quot;</span><span class="s0">,</span><span class="s1">&quot;render404&quot;</span><span class="s0">,</span><span class="s1">&quot;prepare&quot;</span><span class="s0">,</span><span class="s1">&quot;serverFields&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;assign&quot;</span><span class="s0">,</span><span class="s1">&quot;dev&quot;</span><span class="s0">,</span><span class="s1">&quot;close&quot;</span><span class="s0">,</span><span class="s1">&quot;createServer&quot;</span><span class="s0">,</span><span class="s1">&quot;ServerImplementation&quot;</span><span class="s0">,</span><span class="s1">&quot;dir&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;loadConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;PHASE_DEVELOPMENT_SERVER&quot;</span><span class="s0">,</span><span class="s1">&quot;PHASE_PRODUCTION_SERVER&quot;</span><span class="s0">,</span><span class="s1">&quot;customConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;conf&quot;</span><span class="s0">,</span><span class="s1">&quot;silent&quot;</span><span class="s0">,</span><span class="s1">&quot;serializedConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;distDir&quot;</span><span class="s0">,</span><span class="s1">&quot;SERVER_FILES_MANIFEST&quot;</span><span class="s0">,</span><span class="s1">&quot;experimental&quot;</span><span class="s0">,</span><span class="s1">&quot;isExperimentalCompile&quot;</span><span class="s0">,</span><span class="s1">&quot;_&quot;</span><span class="s0">,</span><span class="s1">&quot;serverPromise&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;output&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;__NEXT_PRIVATE_STANDALONE_CONFIG&quot;</span><span class="s0">,</span><span class="s1">&quot;log&quot;</span><span class="s0">,</span><span class="s1">&quot;warn&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;reqHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;reqHandlerPromise&quot;</span><span class="s0">,</span><span class="s1">&quot;wrap&quot;</span><span class="s0">,</span><span class="s1">&quot;bind&quot;</span><span class="s0">,</span><span class="s1">&quot;NextCustomServer&quot;</span><span class="s0">,</span><span class="s1">&quot;didWebSocketSetup&quot;</span><span class="s0">,</span><span class="s1">&quot;getInit&quot;</span><span class="s0">,</span><span class="s1">&quot;init&quot;</span><span class="s0">,</span><span class="s1">&quot;upgradeHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;getRequestHandlers&quot;</span><span class="s0">,</span><span class="s1">&quot;onDevServerCleanup&quot;</span><span class="s0">,</span><span class="s1">&quot;cleanupListeners&quot;</span><span class="s0">,</span><span class="s1">&quot;AsyncCallbackSet&quot;</span><span class="s0">,</span><span class="s1">&quot;add&quot;</span><span class="s0">,</span><span class="s1">&quot;initResult&quot;</span><span class="s0">,</span><span class="s1">&quot;isDev&quot;</span><span class="s0">,</span><span class="s1">&quot;minimalMode&quot;</span><span class="s0">,</span><span class="s1">&quot;quiet&quot;</span><span class="s0">,</span><span class="s1">&quot;setupWebSocketHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;customServer&quot;</span><span class="s0">,</span><span class="s1">&quot;_req&quot;</span><span class="s0">,</span><span class="s1">&quot;on&quot;</span><span class="s0">,</span><span class="s1">&quot;httpServer&quot;</span><span class="s0">,</span><span class="s1">&quot;url&quot;</span><span class="s0">,</span><span class="s1">&quot;formatUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;query&quot;</span><span class="s0">,</span><span class="s1">&quot;startsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;routerServerGlobal&quot;</span><span class="s0">,</span><span class="s1">&quot;relativeProjectDir&quot;</span><span class="s0">,</span><span class="s1">&quot;relative&quot;</span><span class="s0">,</span><span class="s1">&quot;cwd&quot;</span><span class="s0">,</span><span class="s1">&quot;RouterServerContextSymbol&quot;</span><span class="s0">,</span><span class="s1">&quot;nextConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;allSettled&quot;</span><span class="s0">,</span><span class="s1">&quot;runAll&quot;</span><span class="s0">,</span><span class="s1">&quot;turbo&quot;</span><span class="s0">,</span><span class="s1">&quot;turbopack&quot;</span><span class="s0">,</span><span class="s1">&quot;IS_TURBOPACK_TEST&quot;</span><span class="s0">,</span><span class="s1">&quot;TURBOPACK&quot;</span><span class="s0">,</span><span class="s1">&quot;typescript&quot;</span><span class="s0">,</span><span class="s1">&quot;pluginMod&quot;</span><span class="s0">,</span><span class="s1">&quot;createTSPlugin&quot;</span><span class="s0">,</span><span class="s1">&quot;NODE_ENV&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;NON_STANDARD_NODE_ENV&quot;</span><span class="s0">,</span><span class="s1">&quot;module&quot;</span><span class="s0">,</span><span class="s1">&quot;exports&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>