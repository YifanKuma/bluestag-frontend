<html>
<head>
<title>render.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #067d17;}
.s1 { color: #080808;}
.s2 { color: #0033b3;}
.s3 { color: #1750eb;}
.s4 { color: #8c8c8c; font-style: italic;}
.s5 { color: #264eff;}
.s6 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
render.js</font>
</center></td></tr></table>
<pre><span class="s0">&quot;use strict&quot;</span><span class="s1">;</span>
<span class="s1">Object.defineProperty(exports, </span><span class="s0">&quot;__esModule&quot;</span><span class="s1">, {</span>
    <span class="s1">value: </span><span class="s2">true</span>
<span class="s1">});</span>
<span class="s3">0 </span><span class="s1">&amp;&amp; (module.exports = {</span>
    <span class="s1">errorToJSON: </span><span class="s2">null</span><span class="s1">,</span>
    <span class="s1">renderToHTML: </span><span class="s2">null</span><span class="s1">,</span>
    <span class="s1">renderToHTMLImpl: </span><span class="s2">null</span>
<span class="s1">});</span>
<span class="s2">function </span><span class="s1">_export(target, all) {</span>
    <span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">name </span><span class="s2">in </span><span class="s1">all)Object.defineProperty(target, name, {</span>
        <span class="s1">enumerable: </span><span class="s2">true</span><span class="s1">,</span>
        <span class="s1">get: all[name]</span>
    <span class="s1">});</span>
<span class="s1">}</span>
<span class="s1">_export(exports, {</span>
    <span class="s1">errorToJSON: </span><span class="s2">function</span><span class="s1">() {</span>
        <span class="s2">return </span><span class="s1">errorToJSON;</span>
    <span class="s1">},</span>
    <span class="s1">renderToHTML: </span><span class="s2">function</span><span class="s1">() {</span>
        <span class="s2">return </span><span class="s1">renderToHTML;</span>
    <span class="s1">},</span>
    <span class="s1">renderToHTMLImpl: </span><span class="s2">function</span><span class="s1">() {</span>
        <span class="s2">return </span><span class="s1">renderToHTMLImpl;</span>
    <span class="s1">}</span>
<span class="s1">});</span>
<span class="s2">const </span><span class="s1">_jsxruntime = require(</span><span class="s0">&quot;react/jsx-runtime&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_apiutils = require(</span><span class="s0">&quot;./api-utils&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_getcookieparser = require(</span><span class="s0">&quot;./api-utils/get-cookie-parser&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_react = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_default(require(</span><span class="s0">&quot;react&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_ReactDOMServerPages = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_default(require(</span><span class="s0">&quot;next/dist/server/ReactDOMServerPages&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_styledjsx = require(</span><span class="s0">&quot;styled-jsx&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_constants = require(</span><span class="s0">&quot;../lib/constants&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_constants1 = require(</span><span class="s0">&quot;../shared/lib/constants&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_isserializableprops = require(</span><span class="s0">&quot;../lib/is-serializable-props&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_ampmode = require(</span><span class="s0">&quot;../shared/lib/amp-mode&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_ampcontextsharedruntime = require(</span><span class="s0">&quot;../shared/lib/amp-context.shared-runtime&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_head = require(</span><span class="s0">&quot;../shared/lib/head&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_headmanagercontextsharedruntime = require(</span><span class="s0">&quot;../shared/lib/head-manager-context.shared-runtime&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_loadablesharedruntime = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_default(require(</span><span class="s0">&quot;../shared/lib/loadable.shared-runtime&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_loadablecontextsharedruntime = require(</span><span class="s0">&quot;../shared/lib/loadable-context.shared-runtime&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_routercontextsharedruntime = require(</span><span class="s0">&quot;../shared/lib/router-context.shared-runtime&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_isdynamic = require(</span><span class="s0">&quot;../shared/lib/router/utils/is-dynamic&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_utils = require(</span><span class="s0">&quot;../shared/lib/utils&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_htmlcontextsharedruntime = require(</span><span class="s0">&quot;../shared/lib/html-context.shared-runtime&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_normalizepagepath = require(</span><span class="s0">&quot;../shared/lib/page-path/normalize-page-path&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_denormalizepagepath = require(</span><span class="s0">&quot;../shared/lib/page-path/denormalize-page-path&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_requestmeta = require(</span><span class="s0">&quot;./request-meta&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_redirectstatus = require(</span><span class="s0">&quot;../lib/redirect-status&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_renderresult = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_default(require(</span><span class="s0">&quot;./render-result&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_iserror = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_default(require(</span><span class="s0">&quot;../lib/is-error&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_nodewebstreamshelper = require(</span><span class="s0">&quot;./stream-utils/node-web-streams-helper&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_imageconfigcontextsharedruntime = require(</span><span class="s0">&quot;../shared/lib/image-config-context.shared-runtime&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_stripansi = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_default(require(</span><span class="s0">&quot;next/dist/compiled/strip-ansi&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_internalutils = require(</span><span class="s0">&quot;./internal-utils&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_adapters = require(</span><span class="s0">&quot;../shared/lib/router/adapters&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_approutercontextsharedruntime = require(</span><span class="s0">&quot;../shared/lib/app-router-context.shared-runtime&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_hooksclientcontextsharedruntime = require(</span><span class="s0">&quot;../shared/lib/hooks-client-context.shared-runtime&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_tracer = require(</span><span class="s0">&quot;./lib/trace/tracer&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_constants2 = require(</span><span class="s0">&quot;./lib/trace/constants&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_reflect = require(</span><span class="s0">&quot;./web/spec-extension/adapters/reflect&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_cachecontrol = require(</span><span class="s0">&quot;./lib/cache-control&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_errorsource = require(</span><span class="s0">&quot;../shared/lib/error-source&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_getscriptnoncefromheader = require(</span><span class="s0">&quot;./app-render/get-script-nonce-from-header&quot;</span><span class="s1">);</span>
<span class="s2">function </span><span class="s1">_interop_require_default(obj) {</span>
    <span class="s2">return </span><span class="s1">obj &amp;&amp; obj.__esModule ? obj : {</span>
        <span class="s2">default</span><span class="s1">: obj</span>
    <span class="s1">};</span>
<span class="s1">}</span>
<span class="s2">let </span><span class="s1">tryGetPreviewData;</span>
<span class="s2">let </span><span class="s1">warn;</span>
<span class="s2">let </span><span class="s1">postProcessHTML;</span>
<span class="s2">const </span><span class="s1">DOCTYPE = </span><span class="s0">'&lt;!DOCTYPE html&gt;'</span><span class="s1">;</span>
<span class="s2">if </span><span class="s1">(process.env.NEXT_RUNTIME !== </span><span class="s0">'edge'</span><span class="s1">) {</span>
    <span class="s1">tryGetPreviewData = require(</span><span class="s0">'./api-utils/node/try-get-preview-data'</span><span class="s1">).tryGetPreviewData;</span>
    <span class="s1">warn = require(</span><span class="s0">'../build/output/log'</span><span class="s1">).warn;</span>
    <span class="s1">postProcessHTML = require(</span><span class="s0">'./post-process'</span><span class="s1">).postProcessHTML;</span>
<span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
    <span class="s1">warn = console.warn.bind(console);</span>
    <span class="s1">postProcessHTML = async (_pathname, html)=&gt;html;</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">noRouter() {</span>
    <span class="s2">const </span><span class="s1">message = </span><span class="s0">'No router instance found. you should only use &quot;next/router&quot; inside the client side of your app. https://nextjs.org/docs/messages/no-router-instance'</span><span class="s1">;</span>
    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(message), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
        <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
        <span class="s1">configurable: </span><span class="s2">true</span>
    <span class="s1">});</span>
<span class="s1">}</span>
<span class="s1">async </span><span class="s2">function </span><span class="s1">renderToString(element) {</span>
    <span class="s2">const </span><span class="s1">renderStream = </span><span class="s2">await </span><span class="s1">_ReactDOMServerPages.default.renderToReadableStream(element);</span>
    <span class="s2">await </span><span class="s1">renderStream.allReady;</span>
    <span class="s2">return </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _nodewebstreamshelper.streamToString)(renderStream);</span>
<span class="s1">}</span>
<span class="s2">class </span><span class="s1">ServerRouter {</span>
    <span class="s1">constructor(pathname, query, as, { isFallback }, isReady, basePath, locale, locales, defaultLocale, domainLocales, isPreview, isLocaleDomain){</span>
        <span class="s2">this</span><span class="s1">.route = pathname.replace(</span><span class="s5">/\/$/</span><span class="s1">, </span><span class="s0">''</span><span class="s1">) || </span><span class="s0">'/'</span><span class="s1">;</span>
        <span class="s2">this</span><span class="s1">.pathname = pathname;</span>
        <span class="s2">this</span><span class="s1">.query = query;</span>
        <span class="s2">this</span><span class="s1">.asPath = as;</span>
        <span class="s2">this</span><span class="s1">.isFallback = isFallback;</span>
        <span class="s2">this</span><span class="s1">.basePath = basePath;</span>
        <span class="s2">this</span><span class="s1">.locale = locale;</span>
        <span class="s2">this</span><span class="s1">.locales = locales;</span>
        <span class="s2">this</span><span class="s1">.defaultLocale = defaultLocale;</span>
        <span class="s2">this</span><span class="s1">.isReady = isReady;</span>
        <span class="s2">this</span><span class="s1">.domainLocales = domainLocales;</span>
        <span class="s2">this</span><span class="s1">.isPreview = !!isPreview;</span>
        <span class="s2">this</span><span class="s1">.isLocaleDomain = !!isLocaleDomain;</span>
    <span class="s1">}</span>
    <span class="s1">push() {</span>
        <span class="s1">noRouter();</span>
    <span class="s1">}</span>
    <span class="s1">replace() {</span>
        <span class="s1">noRouter();</span>
    <span class="s1">}</span>
    <span class="s1">reload() {</span>
        <span class="s1">noRouter();</span>
    <span class="s1">}</span>
    <span class="s1">back() {</span>
        <span class="s1">noRouter();</span>
    <span class="s1">}</span>
    <span class="s1">forward() {</span>
        <span class="s1">noRouter();</span>
    <span class="s1">}</span>
    <span class="s1">prefetch() {</span>
        <span class="s1">noRouter();</span>
    <span class="s1">}</span>
    <span class="s1">beforePopState() {</span>
        <span class="s1">noRouter();</span>
    <span class="s1">}</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">enhanceComponents(options, App, Component) {</span>
    <span class="s4">// For backwards compatibility</span>
    <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">options === </span><span class="s0">'function'</span><span class="s1">) {</span>
        <span class="s2">return </span><span class="s1">{</span>
            <span class="s1">App,</span>
            <span class="s1">Component: options(Component)</span>
        <span class="s1">};</span>
    <span class="s1">}</span>
    <span class="s2">return </span><span class="s1">{</span>
        <span class="s1">App: options.enhanceApp ? options.enhanceApp(App) : App,</span>
        <span class="s1">Component: options.enhanceComponent ? options.enhanceComponent(Component) : Component</span>
    <span class="s1">};</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">renderPageTree(App, Component, props) {</span>
    <span class="s2">return </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(App, {</span>
        <span class="s1">Component: Component,</span>
        <span class="s1">...props</span>
    <span class="s1">});</span>
<span class="s1">}</span>
<span class="s2">const </span><span class="s1">invalidKeysMsg = (methodName, invalidKeys)=&gt;{</span>
    <span class="s2">const </span><span class="s1">docsPathname = </span><span class="s0">`invalid-</span><span class="s1">${methodName.toLocaleLowerCase()}</span><span class="s0">-value`</span><span class="s1">;</span>
    <span class="s2">return </span><span class="s0">`Additional keys were returned from </span><span class="s6">\`</span><span class="s1">${methodName}</span><span class="s6">\`</span><span class="s0">. Properties intended for your component must be nested under the </span><span class="s6">\`</span><span class="s0">props</span><span class="s6">\` </span><span class="s0">key, e.g.:` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n\n\t</span><span class="s0">return { props: { title: 'My Title', content: '...' } }` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n\n</span><span class="s0">Keys that need to be moved: </span><span class="s1">${invalidKeys.join(</span><span class="s0">', '</span><span class="s1">)}</span><span class="s0">.` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/</span><span class="s1">${docsPathname}</span><span class="s0">`</span><span class="s1">;</span>
<span class="s1">};</span>
<span class="s2">function </span><span class="s1">checkRedirectValues(redirect, req, method) {</span>
    <span class="s2">const </span><span class="s1">{ destination, permanent, statusCode, basePath } = redirect;</span>
    <span class="s2">let </span><span class="s1">errors = [];</span>
    <span class="s2">const </span><span class="s1">hasStatusCode = </span><span class="s2">typeof </span><span class="s1">statusCode !== </span><span class="s0">'undefined'</span><span class="s1">;</span>
    <span class="s2">const </span><span class="s1">hasPermanent = </span><span class="s2">typeof </span><span class="s1">permanent !== </span><span class="s0">'undefined'</span><span class="s1">;</span>
    <span class="s2">if </span><span class="s1">(hasPermanent &amp;&amp; hasStatusCode) {</span>
        <span class="s1">errors.push(</span><span class="s0">`</span><span class="s6">\`</span><span class="s0">permanent</span><span class="s6">\` </span><span class="s0">and </span><span class="s6">\`</span><span class="s0">statusCode</span><span class="s6">\` </span><span class="s0">can not both be provided`</span><span class="s1">);</span>
    <span class="s1">} </span><span class="s2">else if </span><span class="s1">(hasPermanent &amp;&amp; </span><span class="s2">typeof </span><span class="s1">permanent !== </span><span class="s0">'boolean'</span><span class="s1">) {</span>
        <span class="s1">errors.push(</span><span class="s0">`</span><span class="s6">\`</span><span class="s0">permanent</span><span class="s6">\` </span><span class="s0">must be </span><span class="s6">\`</span><span class="s0">true</span><span class="s6">\` </span><span class="s0">or </span><span class="s6">\`</span><span class="s0">false</span><span class="s6">\`</span><span class="s0">`</span><span class="s1">);</span>
    <span class="s1">} </span><span class="s2">else if </span><span class="s1">(hasStatusCode &amp;&amp; !_redirectstatus.allowedStatusCodes.has(statusCode)) {</span>
        <span class="s1">errors.push(</span><span class="s0">`</span><span class="s6">\`</span><span class="s0">statusCode</span><span class="s6">\` </span><span class="s0">must undefined or one of </span><span class="s1">${[</span>
            <span class="s1">..._redirectstatus.allowedStatusCodes</span>
        <span class="s1">].join(</span><span class="s0">', '</span><span class="s1">)}</span><span class="s0">`</span><span class="s1">);</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">destinationType = </span><span class="s2">typeof </span><span class="s1">destination;</span>
    <span class="s2">if </span><span class="s1">(destinationType !== </span><span class="s0">'string'</span><span class="s1">) {</span>
        <span class="s1">errors.push(</span><span class="s0">`</span><span class="s6">\`</span><span class="s0">destination</span><span class="s6">\` </span><span class="s0">should be string but received </span><span class="s1">${destinationType}</span><span class="s0">`</span><span class="s1">);</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">basePathType = </span><span class="s2">typeof </span><span class="s1">basePath;</span>
    <span class="s2">if </span><span class="s1">(basePathType !== </span><span class="s0">'undefined' </span><span class="s1">&amp;&amp; basePathType !== </span><span class="s0">'boolean'</span><span class="s1">) {</span>
        <span class="s1">errors.push(</span><span class="s0">`</span><span class="s6">\`</span><span class="s0">basePath</span><span class="s6">\` </span><span class="s0">should be undefined or a false, received </span><span class="s1">${basePathType}</span><span class="s0">`</span><span class="s1">);</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(errors.length &gt; </span><span class="s3">0</span><span class="s1">) {</span>
        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`Invalid redirect object returned from </span><span class="s1">${method} </span><span class="s0">for </span><span class="s1">${req.url}</span><span class="s6">\n</span><span class="s0">` </span><span class="s1">+ errors.join(</span><span class="s0">' and '</span><span class="s1">) + </span><span class="s0">'</span><span class="s6">\n</span><span class="s0">' </span><span class="s1">+ </span><span class="s0">`See more info here: https://nextjs.org/docs/messages/invalid-redirect-gssp`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
            <span class="s1">value: </span><span class="s0">&quot;E185&quot;</span><span class="s1">,</span>
            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">configurable: </span><span class="s2">true</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">errorToJSON(err) {</span>
    <span class="s2">let </span><span class="s1">source = </span><span class="s0">'server'</span><span class="s1">;</span>
    <span class="s2">if </span><span class="s1">(process.env.NEXT_RUNTIME !== </span><span class="s0">'edge'</span><span class="s1">) {</span>
        <span class="s1">source = (</span><span class="s3">0</span><span class="s1">, _errorsource.getErrorSource)(err) || </span><span class="s0">'server'</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s2">return </span><span class="s1">{</span>
        <span class="s1">name: err.name,</span>
        <span class="s1">source,</span>
        <span class="s1">message: (</span><span class="s3">0</span><span class="s1">, _stripansi.default)(err.message),</span>
        <span class="s1">stack: err.stack,</span>
        <span class="s1">digest: err.digest</span>
    <span class="s1">};</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">serializeError(dev, err) {</span>
    <span class="s2">if </span><span class="s1">(dev) {</span>
        <span class="s2">return </span><span class="s1">errorToJSON(err);</span>
    <span class="s1">}</span>
    <span class="s2">return </span><span class="s1">{</span>
        <span class="s1">name: </span><span class="s0">'Internal Server Error.'</span><span class="s1">,</span>
        <span class="s1">message: </span><span class="s0">'500 - Internal Server Error.'</span><span class="s1">,</span>
        <span class="s1">statusCode: </span><span class="s3">500</span>
    <span class="s1">};</span>
<span class="s1">}</span>
<span class="s1">async </span><span class="s2">function </span><span class="s1">renderToHTMLImpl(req, res, pathname, query, renderOpts, extra, sharedContext, renderContext) {</span>
    <span class="s4">// Adds support for reading `cookies` in `getServerSideProps` when SSR.</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s1">, _apiutils.setLazyProp)({</span>
        <span class="s1">req: req</span>
    <span class="s1">}, </span><span class="s0">'cookies'</span><span class="s1">, (</span><span class="s3">0</span><span class="s1">, _getcookieparser.getCookieParser)(req.headers));</span>
    <span class="s2">const </span><span class="s1">metadata = {};</span>
    <span class="s1">metadata.assetQueryString = renderOpts.dev &amp;&amp; renderOpts.assetQueryString || </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s2">if </span><span class="s1">(renderOpts.dev &amp;&amp; !metadata.assetQueryString) {</span>
        <span class="s2">const </span><span class="s1">userAgent = (req.headers[</span><span class="s0">'user-agent'</span><span class="s1">] || </span><span class="s0">''</span><span class="s1">).toLowerCase();</span>
        <span class="s2">if </span><span class="s1">(userAgent.includes(</span><span class="s0">'safari'</span><span class="s1">) &amp;&amp; !userAgent.includes(</span><span class="s0">'chrome'</span><span class="s1">)) {</span>
            <span class="s4">// In dev we invalidate the cache by appending a timestamp to the resource URL.</span>
            <span class="s4">// This is a workaround to fix https://github.com/vercel/next.js/issues/5860</span>
            <span class="s4">// TODO: remove this workaround when https://bugs.webkit.org/show_bug.cgi?id=187726 is fixed.</span>
            <span class="s4">// Note: The workaround breaks breakpoints on reload since the script url always changes,</span>
            <span class="s4">// so we only apply it to Safari.</span>
            <span class="s1">metadata.assetQueryString = </span><span class="s0">`?ts=</span><span class="s1">${Date.now()}</span><span class="s0">`</span><span class="s1">;</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s4">// if deploymentId is provided we append it to all asset requests</span>
    <span class="s2">if </span><span class="s1">(sharedContext.deploymentId) {</span>
        <span class="s1">metadata.assetQueryString += </span><span class="s0">`</span><span class="s1">${metadata.assetQueryString ? </span><span class="s0">'&amp;' </span><span class="s1">: </span><span class="s0">'?'</span><span class="s1">}</span><span class="s0">dpl=</span><span class="s1">${sharedContext.deploymentId}</span><span class="s0">`</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s4">// don't modify original query object</span>
    <span class="s1">query = Object.assign({}, query);</span>
    <span class="s2">const </span><span class="s1">{ err, dev = </span><span class="s2">false</span><span class="s1">, ampPath = </span><span class="s0">''</span><span class="s1">, pageConfig = {}, buildManifest, reactLoadableManifest, ErrorDebug, getStaticProps, getStaticPaths, getServerSideProps, isNextDataRequest, params, previewProps, basePath, images, runtime: globalRuntime, isExperimentalCompile, expireTime } = renderOpts;</span>
    <span class="s2">const </span><span class="s1">{ App } = extra;</span>
    <span class="s2">const </span><span class="s1">assetQueryString = metadata.assetQueryString;</span>
    <span class="s2">let </span><span class="s1">Document = extra.Document;</span>
    <span class="s2">let </span><span class="s1">Component = renderOpts.Component;</span>
    <span class="s2">const </span><span class="s1">OriginComponent = Component;</span>
    <span class="s2">const </span><span class="s1">isFallback = renderContext.isFallback ?? </span><span class="s2">false</span><span class="s1">;</span>
    <span class="s2">const </span><span class="s1">notFoundSrcPage = renderContext.developmentNotFoundSourcePage;</span>
    <span class="s4">// next internal queries should be stripped out</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s1">, _internalutils.stripInternalQueries)(query);</span>
    <span class="s2">const </span><span class="s1">isSSG = !!getStaticProps;</span>
    <span class="s2">const </span><span class="s1">isBuildTimeSSG = isSSG &amp;&amp; renderOpts.nextExport;</span>
    <span class="s2">const </span><span class="s1">defaultAppGetInitialProps = App.getInitialProps === App.origGetInitialProps;</span>
    <span class="s2">const </span><span class="s1">hasPageGetInitialProps = !!(Component == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s3">0 </span><span class="s1">: Component.getInitialProps);</span>
    <span class="s2">const </span><span class="s1">hasPageScripts = Component == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s3">0 </span><span class="s1">: Component.unstable_scriptLoader;</span>
    <span class="s2">const </span><span class="s1">pageIsDynamic = (</span><span class="s3">0</span><span class="s1">, _isdynamic.isDynamicRoute)(pathname);</span>
    <span class="s2">const </span><span class="s1">defaultErrorGetInitialProps = pathname === </span><span class="s0">'/_error' </span><span class="s1">&amp;&amp; Component.getInitialProps === Component.origGetInitialProps;</span>
    <span class="s2">if </span><span class="s1">(renderOpts.nextExport &amp;&amp; hasPageGetInitialProps &amp;&amp; !defaultErrorGetInitialProps) {</span>
        <span class="s1">warn(</span><span class="s0">`Detected getInitialProps on page '</span><span class="s1">${pathname}</span><span class="s0">'` </span><span class="s1">+ </span><span class="s0">` while running export. It's recommended to use getStaticProps` </span><span class="s1">+ </span><span class="s0">` which has a more correct behavior for static exporting.` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/get-initial-props-export`</span><span class="s1">);</span>
    <span class="s1">}</span>
    <span class="s2">let </span><span class="s1">isAutoExport = !hasPageGetInitialProps &amp;&amp; defaultAppGetInitialProps &amp;&amp; !isSSG &amp;&amp; !getServerSideProps;</span>
    <span class="s4">// if we are running from experimental compile and the page</span>
    <span class="s4">// would normally be automatically statically optimized</span>
    <span class="s4">// ensure we set cache header so it's not rendered on-demand</span>
    <span class="s4">// every request</span>
    <span class="s2">if </span><span class="s1">(isAutoExport &amp;&amp; !dev &amp;&amp; isExperimentalCompile) {</span>
        <span class="s1">res.setHeader(</span><span class="s0">'Cache-Control'</span><span class="s1">, (</span><span class="s3">0</span><span class="s1">, _cachecontrol.getCacheControlHeader)({</span>
            <span class="s1">revalidate: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">expire: expireTime</span>
        <span class="s1">}));</span>
        <span class="s1">isAutoExport = </span><span class="s2">false</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(hasPageGetInitialProps &amp;&amp; isSSG) {</span>
        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(_constants.SSG_GET_INITIAL_PROPS_CONFLICT + </span><span class="s0">` </span><span class="s1">${pathname}</span><span class="s0">`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
            <span class="s1">value: </span><span class="s0">&quot;E262&quot;</span><span class="s1">,</span>
            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">configurable: </span><span class="s2">true</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(hasPageGetInitialProps &amp;&amp; getServerSideProps) {</span>
        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(_constants.SERVER_PROPS_GET_INIT_PROPS_CONFLICT + </span><span class="s0">` </span><span class="s1">${pathname}</span><span class="s0">`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
            <span class="s1">value: </span><span class="s0">&quot;E262&quot;</span><span class="s1">,</span>
            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">configurable: </span><span class="s2">true</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(getServerSideProps &amp;&amp; isSSG) {</span>
        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(_constants.SERVER_PROPS_SSG_CONFLICT + </span><span class="s0">` </span><span class="s1">${pathname}</span><span class="s0">`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
            <span class="s1">value: </span><span class="s0">&quot;E262&quot;</span><span class="s1">,</span>
            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">configurable: </span><span class="s2">true</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(getServerSideProps &amp;&amp; renderOpts.nextConfigOutput === </span><span class="s0">'export'</span><span class="s1">) {</span>
        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'getServerSideProps cannot be used with &quot;output: export&quot;. See more info here: https://nextjs.org/docs/advanced-features/static-html-export'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
            <span class="s1">value: </span><span class="s0">&quot;E369&quot;</span><span class="s1">,</span>
            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">configurable: </span><span class="s2">true</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(getStaticPaths &amp;&amp; !pageIsDynamic) {</span>
        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`getStaticPaths is only allowed for dynamic SSG pages and was found on '</span><span class="s1">${pathname}</span><span class="s0">'.` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/non-dynamic-getstaticpaths-usage`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
            <span class="s1">value: </span><span class="s0">&quot;E187&quot;</span><span class="s1">,</span>
            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">configurable: </span><span class="s2">true</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(!!getStaticPaths &amp;&amp; !isSSG) {</span>
        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`getStaticPaths was added without a getStaticProps in </span><span class="s1">${pathname}</span><span class="s0">. Without getStaticProps, getStaticPaths does nothing`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
            <span class="s1">value: </span><span class="s0">&quot;E447&quot;</span><span class="s1">,</span>
            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">configurable: </span><span class="s2">true</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(isSSG &amp;&amp; pageIsDynamic &amp;&amp; !getStaticPaths) {</span>
        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`getStaticPaths is required for dynamic SSG pages and is missing for '</span><span class="s1">${pathname}</span><span class="s0">'.` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/invalid-getstaticpaths-value`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
            <span class="s1">value: </span><span class="s0">&quot;E255&quot;</span><span class="s1">,</span>
            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">configurable: </span><span class="s2">true</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s2">let </span><span class="s1">asPath = renderOpts.resolvedAsPath || req.url;</span>
    <span class="s2">if </span><span class="s1">(dev) {</span>
        <span class="s2">const </span><span class="s1">{ isValidElementType } = require(</span><span class="s0">'next/dist/compiled/react-is'</span><span class="s1">);</span>
        <span class="s2">if </span><span class="s1">(!isValidElementType(Component)) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`The default export is not a React Component in page: &quot;</span><span class="s1">${pathname}</span><span class="s0">&quot;`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E286&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(!isValidElementType(App)) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`The default export is not a React Component in page: &quot;/_app&quot;`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E464&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(!isValidElementType(Document)) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`The default export is not a React Component in page: &quot;/_document&quot;`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E511&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(isAutoExport || isFallback) {</span>
            <span class="s4">// remove query values except ones that will be set during export</span>
            <span class="s1">query = {</span>
                <span class="s1">...query.amp ? {</span>
                    <span class="s1">amp: query.amp</span>
                <span class="s1">} : {}</span>
            <span class="s1">};</span>
            <span class="s1">asPath = </span><span class="s0">`</span><span class="s1">${pathname}${</span><span class="s4">// ensure trailing slash is present for non-dynamic auto-export pages</span>
            <span class="s1">req.url.endsWith(</span><span class="s0">'/'</span><span class="s1">) &amp;&amp; pathname !== </span><span class="s0">'/' </span><span class="s1">&amp;&amp; !pageIsDynamic ? </span><span class="s0">'/' </span><span class="s1">: </span><span class="s0">''</span><span class="s1">}</span><span class="s0">`</span><span class="s1">;</span>
            <span class="s1">req.url = pathname;</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(pathname === </span><span class="s0">'/404' </span><span class="s1">&amp;&amp; (hasPageGetInitialProps || getServerSideProps)) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`</span><span class="s6">\`</span><span class="s0">pages/404</span><span class="s6">\` </span><span class="s1">${_constants.STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR}</span><span class="s0">`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E134&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(_constants1.STATIC_STATUS_PAGES.includes(pathname) &amp;&amp; (hasPageGetInitialProps || getServerSideProps)) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`</span><span class="s6">\`</span><span class="s0">pages</span><span class="s1">${pathname}</span><span class="s6">\` </span><span class="s1">${_constants.STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR}</span><span class="s0">`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E125&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(renderOpts == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s3">0 </span><span class="s1">: renderOpts.setIsrStatus) {</span>
            <span class="s1">renderOpts.setIsrStatus(asPath, isSSG || isAutoExport ? </span><span class="s2">true </span><span class="s1">: </span><span class="s2">null</span><span class="s1">);</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s2">for </span><span class="s1">(</span><span class="s2">const </span><span class="s1">methodName of [</span>
        <span class="s0">'getStaticProps'</span><span class="s1">,</span>
        <span class="s0">'getServerSideProps'</span><span class="s1">,</span>
        <span class="s0">'getStaticPaths'</span>
    <span class="s1">]){</span>
        <span class="s2">if </span><span class="s1">(Component == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s3">0 </span><span class="s1">: Component[methodName]) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`page </span><span class="s1">${pathname} ${methodName} ${_constants.GSSP_COMPONENT_MEMBER_ERROR}</span><span class="s0">`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E417&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s2">await </span><span class="s1">_loadablesharedruntime.default.preloadAll() </span><span class="s4">// Make sure all dynamic imports are loaded</span>
    <span class="s1">;</span>
    <span class="s2">let </span><span class="s1">isPreview = undefined;</span>
    <span class="s2">let </span><span class="s1">previewData;</span>
    <span class="s2">if </span><span class="s1">((isSSG || getServerSideProps) &amp;&amp; !isFallback &amp;&amp; process.env.NEXT_RUNTIME !== </span><span class="s0">'edge' </span><span class="s1">&amp;&amp; previewProps) {</span>
        <span class="s4">// Reads of this are cached on the `req` object, so this should resolve</span>
        <span class="s4">// instantly. There's no need to pass this data down from a previous</span>
        <span class="s4">// invoke.</span>
        <span class="s1">previewData = tryGetPreviewData(req, res, previewProps, !!renderOpts.multiZoneDraftMode);</span>
        <span class="s1">isPreview = previewData !== </span><span class="s2">false</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s4">// url will always be set</span>
    <span class="s2">const </span><span class="s1">routerIsReady = !!(getServerSideProps || hasPageGetInitialProps || !defaultAppGetInitialProps &amp;&amp; !isSSG || isExperimentalCompile);</span>
    <span class="s2">const </span><span class="s1">router = </span><span class="s2">new </span><span class="s1">ServerRouter(pathname, query, asPath, {</span>
        <span class="s1">isFallback: isFallback</span>
    <span class="s1">}, routerIsReady, basePath, renderOpts.locale, renderOpts.locales, renderOpts.defaultLocale, renderOpts.domainLocales, isPreview, (</span><span class="s3">0</span><span class="s1">, _requestmeta.getRequestMeta)(req, </span><span class="s0">'isLocaleDomain'</span><span class="s1">));</span>
    <span class="s2">const </span><span class="s1">appRouter = (</span><span class="s3">0</span><span class="s1">, _adapters.adaptForAppRouterInstance)(router);</span>
    <span class="s2">let </span><span class="s1">scriptLoader = {};</span>
    <span class="s2">const </span><span class="s1">jsxStyleRegistry = (</span><span class="s3">0</span><span class="s1">, _styledjsx.createStyleRegistry)();</span>
    <span class="s2">const </span><span class="s1">ampState = {</span>
        <span class="s1">ampFirst: pageConfig.amp === </span><span class="s2">true</span><span class="s1">,</span>
        <span class="s1">hasQuery: Boolean(query.amp),</span>
        <span class="s1">hybrid: pageConfig.amp === </span><span class="s0">'hybrid'</span>
    <span class="s1">};</span>
    <span class="s4">// Disable AMP under the web environment</span>
    <span class="s2">const </span><span class="s1">inAmpMode = process.env.NEXT_RUNTIME !== </span><span class="s0">'edge' </span><span class="s1">&amp;&amp; (</span><span class="s3">0</span><span class="s1">, _ampmode.isInAmpMode)(ampState);</span>
    <span class="s2">let </span><span class="s1">head = (</span><span class="s3">0</span><span class="s1">, _head.defaultHead)(inAmpMode);</span>
    <span class="s2">const </span><span class="s1">reactLoadableModules = [];</span>
    <span class="s2">let </span><span class="s1">initialScripts = {};</span>
    <span class="s2">if </span><span class="s1">(hasPageScripts) {</span>
        <span class="s1">initialScripts.beforeInteractive = [].concat(hasPageScripts()).filter((script)=&gt;script.props.strategy === </span><span class="s0">'beforeInteractive'</span><span class="s1">).map((script)=&gt;script.props);</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">csp = req.headers[</span><span class="s0">'content-security-policy'</span><span class="s1">] || req.headers[</span><span class="s0">'content-security-policy-report-only'</span><span class="s1">];</span>
    <span class="s2">const </span><span class="s1">nonce = </span><span class="s2">typeof </span><span class="s1">csp === </span><span class="s0">'string' </span><span class="s1">? (</span><span class="s3">0</span><span class="s1">, _getscriptnoncefromheader.getScriptNonceFromHeader)(csp) : undefined;</span>
    <span class="s2">const </span><span class="s1">AppContainer = ({ children })=&gt;</span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_approutercontextsharedruntime.AppRouterContext.Provider, {</span>
            <span class="s1">value: appRouter,</span>
            <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_hooksclientcontextsharedruntime.SearchParamsContext.Provider, {</span>
                <span class="s1">value: (</span><span class="s3">0</span><span class="s1">, _adapters.adaptForSearchParams)(router),</span>
                <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_adapters.PathnameContextProviderAdapter, {</span>
                    <span class="s1">router: router,</span>
                    <span class="s1">isAutoExport: isAutoExport,</span>
                    <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_hooksclientcontextsharedruntime.PathParamsContext.Provider, {</span>
                        <span class="s1">value: (</span><span class="s3">0</span><span class="s1">, _adapters.adaptForPathParams)(router),</span>
                        <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_routercontextsharedruntime.RouterContext.Provider, {</span>
                            <span class="s1">value: router,</span>
                            <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_ampcontextsharedruntime.AmpStateContext.Provider, {</span>
                                <span class="s1">value: ampState,</span>
                                <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_headmanagercontextsharedruntime.HeadManagerContext.Provider, {</span>
                                    <span class="s1">value: {</span>
                                        <span class="s1">updateHead: (state)=&gt;{</span>
                                            <span class="s1">head = state;</span>
                                        <span class="s1">},</span>
                                        <span class="s1">updateScripts: (scripts)=&gt;{</span>
                                            <span class="s1">scriptLoader = scripts;</span>
                                        <span class="s1">},</span>
                                        <span class="s1">scripts: initialScripts,</span>
                                        <span class="s1">mountedInstances: </span><span class="s2">new </span><span class="s1">Set(),</span>
                                        <span class="s1">nonce</span>
                                    <span class="s1">},</span>
                                    <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_loadablecontextsharedruntime.LoadableContext.Provider, {</span>
                                        <span class="s1">value: (moduleName)=&gt;reactLoadableModules.push(moduleName),</span>
                                        <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_styledjsx.StyleRegistry, {</span>
                                            <span class="s1">registry: jsxStyleRegistry,</span>
                                            <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_imageconfigcontextsharedruntime.ImageConfigContext.Provider, {</span>
                                                <span class="s1">value: images,</span>
                                                <span class="s1">children: children</span>
                                            <span class="s1">})</span>
                                        <span class="s1">})</span>
                                    <span class="s1">})</span>
                                <span class="s1">})</span>
                            <span class="s1">})</span>
                        <span class="s1">})</span>
                    <span class="s1">})</span>
                <span class="s1">})</span>
            <span class="s1">})</span>
        <span class="s1">});</span>
    <span class="s4">// The `useId` API uses the path indexes to generate an ID for each node.</span>
    <span class="s4">// To guarantee the match of hydration, we need to ensure that the structure</span>
    <span class="s4">// of wrapper nodes is isomorphic in server and client.</span>
    <span class="s4">// TODO: With `enhanceApp` and `enhanceComponents` options, this approach may</span>
    <span class="s4">// not be useful.</span>
    <span class="s4">// https://github.com/facebook/react/pull/22644</span>
    <span class="s2">const </span><span class="s1">Noop = ()=&gt;</span><span class="s2">null</span><span class="s1">;</span>
    <span class="s2">const </span><span class="s1">AppContainerWithIsomorphicFiberStructure = ({ children })=&gt;{</span>
        <span class="s2">return </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsxs)(_jsxruntime.Fragment, {</span>
            <span class="s1">children: [</span>
                <span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(Noop, {}),</span>
                <span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(AppContainer, {</span>
                    <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsxs)(_jsxruntime.Fragment, {</span>
                        <span class="s1">children: [</span>
                            <span class="s1">children,</span>
                            <span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(Noop, {})</span>
                        <span class="s1">]</span>
                    <span class="s1">})</span>
                <span class="s1">})</span>
            <span class="s1">]</span>
        <span class="s1">});</span>
    <span class="s1">};</span>
    <span class="s2">const </span><span class="s1">ctx = {</span>
        <span class="s1">err,</span>
        <span class="s1">req: isAutoExport ? undefined : req,</span>
        <span class="s1">res: isAutoExport ? undefined : res,</span>
        <span class="s1">pathname,</span>
        <span class="s1">query,</span>
        <span class="s1">asPath,</span>
        <span class="s1">locale: renderOpts.locale,</span>
        <span class="s1">locales: renderOpts.locales,</span>
        <span class="s1">defaultLocale: renderOpts.defaultLocale,</span>
        <span class="s1">AppTree: (props)=&gt;{</span>
            <span class="s2">return </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(AppContainerWithIsomorphicFiberStructure, {</span>
                <span class="s1">children: renderPageTree(App, OriginComponent, {</span>
                    <span class="s1">...props,</span>
                    <span class="s1">router</span>
                <span class="s1">})</span>
            <span class="s1">});</span>
        <span class="s1">},</span>
        <span class="s1">defaultGetInitialProps: async (docCtx, options = {})=&gt;{</span>
            <span class="s2">const </span><span class="s1">enhanceApp = (AppComp)=&gt;{</span>
                <span class="s2">return </span><span class="s1">(props)=&gt;</span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(AppComp, {</span>
                        <span class="s1">...props</span>
                    <span class="s1">});</span>
            <span class="s1">};</span>
            <span class="s2">const </span><span class="s1">{ html, head: renderPageHead } = </span><span class="s2">await </span><span class="s1">docCtx.renderPage({</span>
                <span class="s1">enhanceApp</span>
            <span class="s1">});</span>
            <span class="s2">const </span><span class="s1">styles = jsxStyleRegistry.styles({</span>
                <span class="s1">nonce: options.nonce || nonce</span>
            <span class="s1">});</span>
            <span class="s1">jsxStyleRegistry.flush();</span>
            <span class="s2">return </span><span class="s1">{</span>
                <span class="s1">html,</span>
                <span class="s1">head: renderPageHead,</span>
                <span class="s1">styles</span>
            <span class="s1">};</span>
        <span class="s1">}</span>
    <span class="s1">};</span>
    <span class="s2">let </span><span class="s1">props;</span>
    <span class="s2">const </span><span class="s1">nextExport = !isSSG &amp;&amp; (renderOpts.nextExport || dev &amp;&amp; (isAutoExport || isFallback));</span>
    <span class="s2">const </span><span class="s1">styledJsxInsertedHTML = ()=&gt;{</span>
        <span class="s2">const </span><span class="s1">styles = jsxStyleRegistry.styles();</span>
        <span class="s1">jsxStyleRegistry.flush();</span>
        <span class="s2">return </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_jsxruntime.Fragment, {</span>
            <span class="s1">children: styles</span>
        <span class="s1">});</span>
    <span class="s1">};</span>
    <span class="s1">props = </span><span class="s2">await </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _utils.loadGetInitialProps)(App, {</span>
        <span class="s1">AppTree: ctx.AppTree,</span>
        <span class="s1">Component,</span>
        <span class="s1">router,</span>
        <span class="s1">ctx</span>
    <span class="s1">});</span>
    <span class="s2">if </span><span class="s1">((isSSG || getServerSideProps) &amp;&amp; isPreview) {</span>
        <span class="s1">props.__N_PREVIEW = </span><span class="s2">true</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(isSSG) {</span>
        <span class="s1">props[_constants1.STATIC_PROPS_ID] = </span><span class="s2">true</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(isSSG &amp;&amp; !isFallback) {</span>
        <span class="s2">let </span><span class="s1">data;</span>
        <span class="s2">try </span><span class="s1">{</span>
            <span class="s1">data = </span><span class="s2">await </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _tracer.getTracer)().trace(_constants2.RenderSpan.getStaticProps, {</span>
                <span class="s1">spanName: </span><span class="s0">`getStaticProps </span><span class="s1">${pathname}</span><span class="s0">`</span><span class="s1">,</span>
                <span class="s1">attributes: {</span>
                    <span class="s0">'next.route'</span><span class="s1">: pathname</span>
                <span class="s1">}</span>
            <span class="s1">}, ()=&gt;getStaticProps({</span>
                    <span class="s1">...pageIsDynamic ? {</span>
                        <span class="s1">params</span>
                    <span class="s1">} : undefined,</span>
                    <span class="s1">...isPreview ? {</span>
                        <span class="s1">draftMode: </span><span class="s2">true</span><span class="s1">,</span>
                        <span class="s1">preview: </span><span class="s2">true</span><span class="s1">,</span>
                        <span class="s1">previewData: previewData</span>
                    <span class="s1">} : undefined,</span>
                    <span class="s1">locales: [</span>
                        <span class="s1">...renderOpts.locales ?? []</span>
                    <span class="s1">],</span>
                    <span class="s1">locale: renderOpts.locale,</span>
                    <span class="s1">defaultLocale: renderOpts.defaultLocale,</span>
                    <span class="s1">revalidateReason: renderOpts.isOnDemandRevalidate ? </span><span class="s0">'on-demand' </span><span class="s1">: isBuildTimeSSG ? </span><span class="s0">'build' </span><span class="s1">: </span><span class="s0">'stale'</span>
                <span class="s1">}));</span>
        <span class="s1">} </span><span class="s2">catch </span><span class="s1">(staticPropsError) {</span>
            <span class="s4">// remove not found error code to prevent triggering legacy</span>
            <span class="s4">// 404 rendering</span>
            <span class="s2">if </span><span class="s1">(staticPropsError &amp;&amp; staticPropsError.code === </span><span class="s0">'ENOENT'</span><span class="s1">) {</span>
                <span class="s2">delete </span><span class="s1">staticPropsError.code;</span>
            <span class="s1">}</span>
            <span class="s2">throw </span><span class="s1">staticPropsError;</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(data == </span><span class="s2">null</span><span class="s1">) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(_constants.GSP_NO_RETURNED_VALUE), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">const </span><span class="s1">invalidKeys = Object.keys(data).filter((key)=&gt;key !== </span><span class="s0">'revalidate' </span><span class="s1">&amp;&amp; key !== </span><span class="s0">'props' </span><span class="s1">&amp;&amp; key !== </span><span class="s0">'redirect' </span><span class="s1">&amp;&amp; key !== </span><span class="s0">'notFound'</span><span class="s1">);</span>
        <span class="s2">if </span><span class="s1">(invalidKeys.includes(</span><span class="s0">'unstable_revalidate'</span><span class="s1">)) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(_constants.UNSTABLE_REVALIDATE_RENAME_ERROR), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(invalidKeys.length) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(invalidKeysMsg(</span><span class="s0">'getStaticProps'</span><span class="s1">, invalidKeys)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(process.env.NODE_ENV !== </span><span class="s0">'production'</span><span class="s1">) {</span>
            <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">data.notFound !== </span><span class="s0">'undefined' </span><span class="s1">&amp;&amp; </span><span class="s2">typeof </span><span class="s1">data.redirect !== </span><span class="s0">'undefined'</span><span class="s1">) {</span>
                <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`</span><span class="s6">\`</span><span class="s0">redirect</span><span class="s6">\` </span><span class="s0">and </span><span class="s6">\`</span><span class="s0">notFound</span><span class="s6">\` </span><span class="s0">can not both be returned from </span><span class="s1">${isSSG ? </span><span class="s0">'getStaticProps' </span><span class="s1">: </span><span class="s0">'getServerSideProps'</span><span class="s1">} </span><span class="s0">at the same time. Page: </span><span class="s1">${pathname}</span><span class="s6">\n</span><span class="s0">See more info here: https://nextjs.org/docs/messages/gssp-mixed-not-found-redirect`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                    <span class="s1">value: </span><span class="s0">&quot;E454&quot;</span><span class="s1">,</span>
                    <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                    <span class="s1">configurable: </span><span class="s2">true</span>
                <span class="s1">});</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(</span><span class="s0">'notFound' </span><span class="s2">in </span><span class="s1">data &amp;&amp; data.notFound) {</span>
            <span class="s2">if </span><span class="s1">(pathname === </span><span class="s0">'/404'</span><span class="s1">) {</span>
                <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`The /404 page can not return notFound in &quot;getStaticProps&quot;, please remove it to continue!`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                    <span class="s1">value: </span><span class="s0">&quot;E121&quot;</span><span class="s1">,</span>
                    <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                    <span class="s1">configurable: </span><span class="s2">true</span>
                <span class="s1">});</span>
            <span class="s1">}</span>
            <span class="s1">metadata.isNotFound = </span><span class="s2">true</span><span class="s1">;</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(</span><span class="s0">'redirect' </span><span class="s2">in </span><span class="s1">data &amp;&amp; data.redirect &amp;&amp; </span><span class="s2">typeof </span><span class="s1">data.redirect === </span><span class="s0">'object'</span><span class="s1">) {</span>
            <span class="s1">checkRedirectValues(data.redirect, req, </span><span class="s0">'getStaticProps'</span><span class="s1">);</span>
            <span class="s2">if </span><span class="s1">(isBuildTimeSSG) {</span>
                <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`</span><span class="s6">\`</span><span class="s0">redirect</span><span class="s6">\` </span><span class="s0">can not be returned from getStaticProps during prerendering (</span><span class="s1">${req.url}</span><span class="s0">)</span><span class="s6">\n</span><span class="s0">` </span><span class="s1">+ </span><span class="s0">`See more info here: https://nextjs.org/docs/messages/gsp-redirect-during-prerender`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                    <span class="s1">value: </span><span class="s0">&quot;E497&quot;</span><span class="s1">,</span>
                    <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                    <span class="s1">configurable: </span><span class="s2">true</span>
                <span class="s1">});</span>
            <span class="s1">}</span>
            <span class="s1">;</span>
            <span class="s1">data.props = {</span>
                <span class="s1">__N_REDIRECT: data.redirect.destination,</span>
                <span class="s1">__N_REDIRECT_STATUS: (</span><span class="s3">0</span><span class="s1">, _redirectstatus.getRedirectStatus)(data.redirect)</span>
            <span class="s1">};</span>
            <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">data.redirect.basePath !== </span><span class="s0">'undefined'</span><span class="s1">) {</span>
                <span class="s1">;</span>
                <span class="s1">data.props.__N_REDIRECT_BASE_PATH = data.redirect.basePath;</span>
            <span class="s1">}</span>
            <span class="s1">metadata.isRedirect = </span><span class="s2">true</span><span class="s1">;</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">((dev || isBuildTimeSSG) &amp;&amp; !metadata.isNotFound &amp;&amp; !(</span><span class="s3">0</span><span class="s1">, _isserializableprops.isSerializableProps)(pathname, </span><span class="s0">'getStaticProps'</span><span class="s1">, data.props)) {</span>
            <span class="s4">// this fn should throw an error instead of ever returning `false`</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'invariant: getStaticProps did not return valid props. Please report this.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E129&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">let </span><span class="s1">revalidate;</span>
        <span class="s2">if </span><span class="s1">(</span><span class="s0">'revalidate' </span><span class="s2">in </span><span class="s1">data) {</span>
            <span class="s2">if </span><span class="s1">(data.revalidate &amp;&amp; renderOpts.nextConfigOutput === </span><span class="s0">'export'</span><span class="s1">) {</span>
                <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'ISR cannot be used with &quot;output: export&quot;. See more info here: https://nextjs.org/docs/advanced-features/static-html-export'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                    <span class="s1">value: </span><span class="s0">&quot;E201&quot;</span><span class="s1">,</span>
                    <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                    <span class="s1">configurable: </span><span class="s2">true</span>
                <span class="s1">});</span>
            <span class="s1">}</span>
            <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">data.revalidate === </span><span class="s0">'number'</span><span class="s1">) {</span>
                <span class="s2">if </span><span class="s1">(!Number.isInteger(data.revalidate)) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`A page's revalidate option must be seconds expressed as a natural number for </span><span class="s1">${req.url}</span><span class="s0">. Mixed numbers, such as '</span><span class="s1">${data.revalidate}</span><span class="s0">', cannot be used.` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n</span><span class="s0">Try changing the value to '</span><span class="s1">${Math.ceil(data.revalidate)}</span><span class="s0">' or using </span><span class="s6">\`</span><span class="s0">Math.ceil()</span><span class="s6">\` </span><span class="s0">if you're computing the value.`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E438&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">} </span><span class="s2">else if </span><span class="s1">(data.revalidate &lt;= </span><span class="s3">0</span><span class="s1">) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`A page's revalidate option can not be less than or equal to zero for </span><span class="s1">${req.url}</span><span class="s0">. A revalidate option of zero means to revalidate after _every_ request, and implies stale data cannot be tolerated.` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n\n</span><span class="s0">To never revalidate, you can set revalidate to </span><span class="s6">\`</span><span class="s0">false</span><span class="s6">\` </span><span class="s0">(only ran once at build-time).` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n</span><span class="s0">To revalidate as soon as possible, you can set the value to </span><span class="s6">\`</span><span class="s0">1</span><span class="s6">\`</span><span class="s0">.`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E311&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s2">if </span><span class="s1">(data.revalidate &gt; </span><span class="s3">31536000</span><span class="s1">) {</span>
                        <span class="s4">// if it's greater than a year for some reason error</span>
                        <span class="s1">console.warn(</span><span class="s0">`Warning: A page's revalidate option was set to more than a year for </span><span class="s1">${req.url}</span><span class="s0">. This may have been done in error.` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n</span><span class="s0">To only run getStaticProps at build-time and not revalidate at runtime, you can set </span><span class="s6">\`</span><span class="s0">revalidate</span><span class="s6">\` </span><span class="s0">to </span><span class="s6">\`</span><span class="s0">false</span><span class="s6">\`</span><span class="s0">!`</span><span class="s1">);</span>
                    <span class="s1">}</span>
                    <span class="s1">revalidate = data.revalidate;</span>
                <span class="s1">}</span>
            <span class="s1">} </span><span class="s2">else if </span><span class="s1">(data.revalidate === </span><span class="s2">true</span><span class="s1">) {</span>
                <span class="s4">// When enabled, revalidate after 1 second. This value is optimal for</span>
                <span class="s4">// the most up-to-date page possible, but without a 1-to-1</span>
                <span class="s4">// request-refresh ratio.</span>
                <span class="s1">revalidate = </span><span class="s3">1</span><span class="s1">;</span>
            <span class="s1">} </span><span class="s2">else if </span><span class="s1">(data.revalidate === </span><span class="s2">false </span><span class="s1">|| </span><span class="s2">typeof </span><span class="s1">data.revalidate === </span><span class="s0">'undefined'</span><span class="s1">) {</span>
                <span class="s4">// By default, we never revalidate.</span>
                <span class="s1">revalidate = </span><span class="s2">false</span><span class="s1">;</span>
            <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`A page's revalidate option must be seconds expressed as a natural number. Mixed numbers and strings cannot be used. Received '</span><span class="s1">${JSON.stringify(data.revalidate)}</span><span class="s0">' for </span><span class="s1">${req.url}</span><span class="s0">`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                    <span class="s1">value: </span><span class="s0">&quot;E161&quot;</span><span class="s1">,</span>
                    <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                    <span class="s1">configurable: </span><span class="s2">true</span>
                <span class="s1">});</span>
            <span class="s1">}</span>
        <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
            <span class="s4">// By default, we never revalidate.</span>
            <span class="s1">revalidate = </span><span class="s2">false</span><span class="s1">;</span>
        <span class="s1">}</span>
        <span class="s1">props.pageProps = Object.assign({}, props.pageProps, </span><span class="s0">'props' </span><span class="s2">in </span><span class="s1">data ? data.props : undefined);</span>
        <span class="s4">// pass up cache control and props for export</span>
        <span class="s1">metadata.cacheControl = {</span>
            <span class="s1">revalidate,</span>
            <span class="s1">expire: undefined</span>
        <span class="s1">};</span>
        <span class="s1">metadata.pageData = props;</span>
        <span class="s4">// this must come after revalidate is added to renderResultMeta</span>
        <span class="s2">if </span><span class="s1">(metadata.isNotFound) {</span>
            <span class="s2">return new </span><span class="s1">_renderresult.default(</span><span class="s2">null</span><span class="s1">, {</span>
                <span class="s1">metadata,</span>
                <span class="s1">contentType: </span><span class="s2">null</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(getServerSideProps) {</span>
        <span class="s1">props[_constants1.SERVER_PROPS_ID] = </span><span class="s2">true</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(getServerSideProps &amp;&amp; !isFallback) {</span>
        <span class="s2">let </span><span class="s1">data;</span>
        <span class="s2">let </span><span class="s1">canAccessRes = </span><span class="s2">true</span><span class="s1">;</span>
        <span class="s2">let </span><span class="s1">resOrProxy = res;</span>
        <span class="s2">let </span><span class="s1">deferredContent = </span><span class="s2">false</span><span class="s1">;</span>
        <span class="s2">if </span><span class="s1">(process.env.NODE_ENV !== </span><span class="s0">'production'</span><span class="s1">) {</span>
            <span class="s1">resOrProxy = </span><span class="s2">new </span><span class="s1">Proxy(res, {</span>
                <span class="s1">get: </span><span class="s2">function</span><span class="s1">(obj, prop) {</span>
                    <span class="s2">if </span><span class="s1">(!canAccessRes) {</span>
                        <span class="s2">const </span><span class="s1">message = </span><span class="s0">`You should not access 'res' after getServerSideProps resolves.` </span><span class="s1">+ </span><span class="s0">`</span><span class="s6">\n</span><span class="s0">Read more: https://nextjs.org/docs/messages/gssp-no-mutating-res`</span><span class="s1">;</span>
                        <span class="s2">if </span><span class="s1">(deferredContent) {</span>
                            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(message), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                                <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                                <span class="s1">configurable: </span><span class="s2">true</span>
                            <span class="s1">});</span>
                        <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                            <span class="s1">warn(message);</span>
                        <span class="s1">}</span>
                    <span class="s1">}</span>
                    <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">prop === </span><span class="s0">'symbol'</span><span class="s1">) {</span>
                        <span class="s2">return </span><span class="s1">_reflect.ReflectAdapter.get(obj, prop, res);</span>
                    <span class="s1">}</span>
                    <span class="s2">return </span><span class="s1">_reflect.ReflectAdapter.get(obj, prop, res);</span>
                <span class="s1">}</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">try </span><span class="s1">{</span>
            <span class="s1">data = </span><span class="s2">await </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _tracer.getTracer)().trace(_constants2.RenderSpan.getServerSideProps, {</span>
                <span class="s1">spanName: </span><span class="s0">`getServerSideProps </span><span class="s1">${pathname}</span><span class="s0">`</span><span class="s1">,</span>
                <span class="s1">attributes: {</span>
                    <span class="s0">'next.route'</span><span class="s1">: pathname</span>
                <span class="s1">}</span>
            <span class="s1">}, async ()=&gt;getServerSideProps({</span>
                    <span class="s1">req: req,</span>
                    <span class="s1">res: resOrProxy,</span>
                    <span class="s1">query,</span>
                    <span class="s1">resolvedUrl: renderOpts.resolvedUrl,</span>
                    <span class="s1">...pageIsDynamic ? {</span>
                        <span class="s1">params</span>
                    <span class="s1">} : undefined,</span>
                    <span class="s1">...previewData !== </span><span class="s2">false </span><span class="s1">? {</span>
                        <span class="s1">draftMode: </span><span class="s2">true</span><span class="s1">,</span>
                        <span class="s1">preview: </span><span class="s2">true</span><span class="s1">,</span>
                        <span class="s1">previewData: previewData</span>
                    <span class="s1">} : undefined,</span>
                    <span class="s4">// We create a copy here to avoid having the types of</span>
                    <span class="s4">// `getServerSideProps` change. This ensures that users can't</span>
                    <span class="s4">// mutate this array and have it poison the reference.</span>
                    <span class="s1">locales: [</span>
                        <span class="s1">...renderOpts.locales ?? []</span>
                    <span class="s1">],</span>
                    <span class="s1">locale: renderOpts.locale,</span>
                    <span class="s1">defaultLocale: renderOpts.defaultLocale</span>
                <span class="s1">}));</span>
            <span class="s1">canAccessRes = </span><span class="s2">false</span><span class="s1">;</span>
            <span class="s1">metadata.cacheControl = {</span>
                <span class="s1">revalidate: </span><span class="s3">0</span><span class="s1">,</span>
                <span class="s1">expire: undefined</span>
            <span class="s1">};</span>
        <span class="s1">} </span><span class="s2">catch </span><span class="s1">(serverSidePropsError) {</span>
            <span class="s4">// remove not found error code to prevent triggering legacy</span>
            <span class="s4">// 404 rendering</span>
            <span class="s2">if </span><span class="s1">((</span><span class="s3">0</span><span class="s1">, _iserror.default)(serverSidePropsError) &amp;&amp; serverSidePropsError.code === </span><span class="s0">'ENOENT'</span><span class="s1">) {</span>
                <span class="s2">delete </span><span class="s1">serverSidePropsError.code;</span>
            <span class="s1">}</span>
            <span class="s2">throw </span><span class="s1">serverSidePropsError;</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(data == </span><span class="s2">null</span><span class="s1">) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(_constants.GSSP_NO_RETURNED_VALUE), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(data.props </span><span class="s2">instanceof </span><span class="s1">Promise) {</span>
            <span class="s1">deferredContent = </span><span class="s2">true</span><span class="s1">;</span>
        <span class="s1">}</span>
        <span class="s2">const </span><span class="s1">invalidKeys = Object.keys(data).filter((key)=&gt;key !== </span><span class="s0">'props' </span><span class="s1">&amp;&amp; key !== </span><span class="s0">'redirect' </span><span class="s1">&amp;&amp; key !== </span><span class="s0">'notFound'</span><span class="s1">);</span>
        <span class="s2">if </span><span class="s1">(data.unstable_notFound) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`unstable_notFound has been renamed to notFound, please update the field to continue. Page: </span><span class="s1">${pathname}</span><span class="s0">`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E516&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(data.unstable_redirect) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`unstable_redirect has been renamed to redirect, please update the field to continue. Page: </span><span class="s1">${pathname}</span><span class="s0">`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E284&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(invalidKeys.length) {</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(invalidKeysMsg(</span><span class="s0">'getServerSideProps'</span><span class="s1">, invalidKeys)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(</span><span class="s0">'notFound' </span><span class="s2">in </span><span class="s1">data &amp;&amp; data.notFound) {</span>
            <span class="s2">if </span><span class="s1">(pathname === </span><span class="s0">'/404'</span><span class="s1">) {</span>
                <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`The /404 page can not return notFound in &quot;getStaticProps&quot;, please remove it to continue!`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                    <span class="s1">value: </span><span class="s0">&quot;E121&quot;</span><span class="s1">,</span>
                    <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                    <span class="s1">configurable: </span><span class="s2">true</span>
                <span class="s1">});</span>
            <span class="s1">}</span>
            <span class="s1">metadata.isNotFound = </span><span class="s2">true</span><span class="s1">;</span>
            <span class="s2">return new </span><span class="s1">_renderresult.default(</span><span class="s2">null</span><span class="s1">, {</span>
                <span class="s1">metadata,</span>
                <span class="s1">contentType: </span><span class="s2">null</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(</span><span class="s0">'redirect' </span><span class="s2">in </span><span class="s1">data &amp;&amp; </span><span class="s2">typeof </span><span class="s1">data.redirect === </span><span class="s0">'object'</span><span class="s1">) {</span>
            <span class="s1">checkRedirectValues(data.redirect, req, </span><span class="s0">'getServerSideProps'</span><span class="s1">);</span>
            <span class="s1">data.props = {</span>
                <span class="s1">__N_REDIRECT: data.redirect.destination,</span>
                <span class="s1">__N_REDIRECT_STATUS: (</span><span class="s3">0</span><span class="s1">, _redirectstatus.getRedirectStatus)(data.redirect)</span>
            <span class="s1">};</span>
            <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">data.redirect.basePath !== </span><span class="s0">'undefined'</span><span class="s1">) {</span>
                <span class="s1">;</span>
                <span class="s1">data.props.__N_REDIRECT_BASE_PATH = data.redirect.basePath;</span>
            <span class="s1">}</span>
            <span class="s1">metadata.isRedirect = </span><span class="s2">true</span><span class="s1">;</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(deferredContent) {</span>
            <span class="s1">;</span>
            <span class="s1">data.props = </span><span class="s2">await </span><span class="s1">data.props;</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">((dev || isBuildTimeSSG) &amp;&amp; !(</span><span class="s3">0</span><span class="s1">, _isserializableprops.isSerializableProps)(pathname, </span><span class="s0">'getServerSideProps'</span><span class="s1">, data.props)) {</span>
            <span class="s4">// this fn should throw an error instead of ever returning `false`</span>
            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'invariant: getServerSideProps did not return valid props. Please report this.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                <span class="s1">value: </span><span class="s0">&quot;E31&quot;</span><span class="s1">,</span>
                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                <span class="s1">configurable: </span><span class="s2">true</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s1">props.pageProps = Object.assign({}, props.pageProps, data.props);</span>
        <span class="s1">metadata.pageData = props;</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(!isSSG &amp;&amp; </span><span class="s4">// we only show this warning for legacy pages</span>
    <span class="s1">!getServerSideProps &amp;&amp; process.env.NODE_ENV !== </span><span class="s0">'production' </span><span class="s1">&amp;&amp; Object.keys((props == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s3">0 </span><span class="s1">: props.pageProps) || {}).includes(</span><span class="s0">'url'</span><span class="s1">)) {</span>
        <span class="s1">console.warn(</span><span class="s0">`The prop </span><span class="s6">\`</span><span class="s0">url</span><span class="s6">\` </span><span class="s0">is a reserved prop in Next.js for legacy reasons and will be overridden on page </span><span class="s1">${pathname}</span><span class="s6">\n</span><span class="s0">` </span><span class="s1">+ </span><span class="s0">`See more info here: https://nextjs.org/docs/messages/reserved-page-prop`</span><span class="s1">);</span>
    <span class="s1">}</span>
    <span class="s4">// Avoid rendering page un-necessarily for getServerSideProps data request</span>
    <span class="s4">// and getServerSideProps/getStaticProps redirects</span>
    <span class="s2">if </span><span class="s1">(isNextDataRequest &amp;&amp; !isSSG || metadata.isRedirect) {</span>
        <span class="s2">return new </span><span class="s1">_renderresult.default(JSON.stringify(props), {</span>
            <span class="s1">metadata,</span>
            <span class="s1">contentType: _constants.JSON_CONTENT_TYPE_HEADER</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s4">// We don't call getStaticProps or getServerSideProps while generating</span>
    <span class="s4">// the fallback so make sure to set pageProps to an empty object</span>
    <span class="s2">if </span><span class="s1">(isFallback) {</span>
        <span class="s1">props.pageProps = {};</span>
    <span class="s1">}</span>
    <span class="s4">// the response might be finished on the getInitialProps call</span>
    <span class="s2">if </span><span class="s1">((</span><span class="s3">0</span><span class="s1">, _utils.isResSent)(res) &amp;&amp; !isSSG) </span><span class="s2">return </span><span class="s1">_renderresult.default.EMPTY;</span>
    <span class="s4">// we preload the buildManifest for auto-export dynamic pages</span>
    <span class="s4">// to speed up hydrating query values</span>
    <span class="s2">let </span><span class="s1">filteredBuildManifest = buildManifest;</span>
    <span class="s2">if </span><span class="s1">(isAutoExport &amp;&amp; pageIsDynamic) {</span>
        <span class="s2">const </span><span class="s1">page = (</span><span class="s3">0</span><span class="s1">, _denormalizepagepath.denormalizePagePath)((</span><span class="s3">0</span><span class="s1">, _normalizepagepath.normalizePagePath)(pathname));</span>
        <span class="s4">// This code would be much cleaner using `immer` and directly pushing into</span>
        <span class="s4">// the result from `getPageFiles`, we could maybe consider that in the</span>
        <span class="s4">// future.</span>
        <span class="s2">if </span><span class="s1">(page </span><span class="s2">in </span><span class="s1">filteredBuildManifest.pages) {</span>
            <span class="s1">filteredBuildManifest = {</span>
                <span class="s1">...filteredBuildManifest,</span>
                <span class="s1">pages: {</span>
                    <span class="s1">...filteredBuildManifest.pages,</span>
                    <span class="s1">[page]: [</span>
                        <span class="s1">...filteredBuildManifest.pages[page],</span>
                        <span class="s1">...filteredBuildManifest.lowPriorityFiles.filter((f)=&gt;f.includes(</span><span class="s0">'_buildManifest'</span><span class="s1">))</span>
                    <span class="s1">]</span>
                <span class="s1">},</span>
                <span class="s1">lowPriorityFiles: filteredBuildManifest.lowPriorityFiles.filter((f)=&gt;!f.includes(</span><span class="s0">'_buildManifest'</span><span class="s1">))</span>
            <span class="s1">};</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">Body = ({ children })=&gt;{</span>
        <span class="s2">return </span><span class="s1">inAmpMode ? children : </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(</span><span class="s0">&quot;div&quot;</span><span class="s1">, {</span>
            <span class="s1">id: </span><span class="s0">&quot;__next&quot;</span><span class="s1">,</span>
            <span class="s1">children: children</span>
        <span class="s1">});</span>
    <span class="s1">};</span>
    <span class="s2">const </span><span class="s1">renderDocument = async ()=&gt;{</span>
        <span class="s4">// For `Document`, there are two cases that we don't support:</span>
        <span class="s4">// 1. Using `Document.getInitialProps` in the Edge runtime.</span>
        <span class="s4">// 2. Using the class component `Document` with concurrent features.</span>
        <span class="s2">const </span><span class="s1">BuiltinFunctionalDocument = Document[_constants1.NEXT_BUILTIN_DOCUMENT];</span>
        <span class="s2">if </span><span class="s1">(process.env.NEXT_RUNTIME === </span><span class="s0">'edge' </span><span class="s1">&amp;&amp; Document.getInitialProps) {</span>
            <span class="s4">// In the Edge runtime, `Document.getInitialProps` isn't supported.</span>
            <span class="s4">// We throw an error here if it's customized.</span>
            <span class="s2">if </span><span class="s1">(BuiltinFunctionalDocument) {</span>
                <span class="s1">Document = BuiltinFunctionalDocument;</span>
            <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">'`getInitialProps` in Document component is not supported with the Edge Runtime.'</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                    <span class="s1">value: </span><span class="s0">&quot;E386&quot;</span><span class="s1">,</span>
                    <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                    <span class="s1">configurable: </span><span class="s2">true</span>
                <span class="s1">});</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s1">async </span><span class="s2">function </span><span class="s1">loadDocumentInitialProps(renderShell) {</span>
            <span class="s2">const </span><span class="s1">renderPage = async (options = {})=&gt;{</span>
                <span class="s2">if </span><span class="s1">(ctx.err &amp;&amp; ErrorDebug) {</span>
                    <span class="s4">// Always start rendering the shell even if there's an error.</span>
                    <span class="s2">if </span><span class="s1">(renderShell) {</span>
                        <span class="s1">renderShell(App, Component);</span>
                    <span class="s1">}</span>
                    <span class="s2">const </span><span class="s1">html = </span><span class="s2">await </span><span class="s1">renderToString(</span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(Body, {</span>
                        <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(ErrorDebug, {})</span>
                    <span class="s1">}));</span>
                    <span class="s2">return </span><span class="s1">{</span>
                        <span class="s1">html,</span>
                        <span class="s1">head</span>
                    <span class="s1">};</span>
                <span class="s1">}</span>
                <span class="s2">if </span><span class="s1">(dev &amp;&amp; (props.router || props.Component)) {</span>
                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(</span><span class="s0">`'router' and 'Component' can not be returned in getInitialProps from _app.js https://nextjs.org/docs/messages/cant-override-next-props`</span><span class="s1">), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                        <span class="s1">value: </span><span class="s0">&quot;E230&quot;</span><span class="s1">,</span>
                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                        <span class="s1">configurable: </span><span class="s2">true</span>
                    <span class="s1">});</span>
                <span class="s1">}</span>
                <span class="s2">const </span><span class="s1">{ App: EnhancedApp, Component: EnhancedComponent } = enhanceComponents(options, App, Component);</span>
                <span class="s2">const </span><span class="s1">stream = </span><span class="s2">await </span><span class="s1">renderShell(EnhancedApp, EnhancedComponent);</span>
                <span class="s2">await </span><span class="s1">stream.allReady;</span>
                <span class="s2">const </span><span class="s1">html = </span><span class="s2">await </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _nodewebstreamshelper.streamToString)(stream);</span>
                <span class="s2">return </span><span class="s1">{</span>
                    <span class="s1">html,</span>
                    <span class="s1">head</span>
                <span class="s1">};</span>
            <span class="s1">};</span>
            <span class="s2">const </span><span class="s1">documentCtx = {</span>
                <span class="s1">...ctx,</span>
                <span class="s1">renderPage</span>
            <span class="s1">};</span>
            <span class="s2">const </span><span class="s1">docProps = </span><span class="s2">await </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _utils.loadGetInitialProps)(Document, documentCtx);</span>
            <span class="s4">// the response might be finished on the getInitialProps call</span>
            <span class="s2">if </span><span class="s1">((</span><span class="s3">0</span><span class="s1">, _utils.isResSent)(res) &amp;&amp; !isSSG) </span><span class="s2">return null</span><span class="s1">;</span>
            <span class="s2">if </span><span class="s1">(!docProps || </span><span class="s2">typeof </span><span class="s1">docProps.html !== </span><span class="s0">'string'</span><span class="s1">) {</span>
                <span class="s2">const </span><span class="s1">message = </span><span class="s0">`&quot;</span><span class="s1">${(</span><span class="s3">0</span><span class="s1">, _utils.getDisplayName)(Document)}</span><span class="s0">.getInitialProps()&quot; should resolve to an object with a &quot;html&quot; prop set with a valid html string`</span><span class="s1">;</span>
                <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(message), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                    <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                    <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                    <span class="s1">configurable: </span><span class="s2">true</span>
                <span class="s1">});</span>
            <span class="s1">}</span>
            <span class="s2">return </span><span class="s1">{</span>
                <span class="s1">docProps,</span>
                <span class="s1">documentCtx</span>
            <span class="s1">};</span>
        <span class="s1">}</span>
        <span class="s2">const </span><span class="s1">renderContent = (_App, _Component)=&gt;{</span>
            <span class="s2">const </span><span class="s1">EnhancedApp = _App || App;</span>
            <span class="s2">const </span><span class="s1">EnhancedComponent = _Component || Component;</span>
            <span class="s2">return </span><span class="s1">ctx.err &amp;&amp; ErrorDebug ? </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(Body, {</span>
                <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(ErrorDebug, {})</span>
            <span class="s1">}) : </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(Body, {</span>
                <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(AppContainerWithIsomorphicFiberStructure, {</span>
                    <span class="s1">children: renderPageTree(EnhancedApp, EnhancedComponent, {</span>
                        <span class="s1">...props,</span>
                        <span class="s1">router</span>
                    <span class="s1">})</span>
                <span class="s1">})</span>
            <span class="s1">});</span>
        <span class="s1">};</span>
        <span class="s4">// Always using react concurrent rendering mode with required react version 18.x</span>
        <span class="s2">const </span><span class="s1">renderShell = async (EnhancedApp, EnhancedComponent)=&gt;{</span>
            <span class="s2">const </span><span class="s1">content = renderContent(EnhancedApp, EnhancedComponent);</span>
            <span class="s2">return await </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _nodewebstreamshelper.renderToInitialFizzStream)({</span>
                <span class="s1">ReactDOMServer: _ReactDOMServerPages.default,</span>
                <span class="s1">element: content</span>
            <span class="s1">});</span>
        <span class="s1">};</span>
        <span class="s2">const </span><span class="s1">hasDocumentGetInitialProps = process.env.NEXT_RUNTIME !== </span><span class="s0">'edge' </span><span class="s1">&amp;&amp; !!Document.getInitialProps;</span>
        <span class="s4">// If it has getInitialProps, we will render the shell in `renderPage`.</span>
        <span class="s4">// Otherwise we do it right now.</span>
        <span class="s2">let </span><span class="s1">documentInitialPropsRes;</span>
        <span class="s2">const </span><span class="s1">[rawStyledJsxInsertedHTML, content] = </span><span class="s2">await </span><span class="s1">Promise.all([</span>
            <span class="s1">renderToString(styledJsxInsertedHTML()),</span>
            <span class="s1">(async ()=&gt;{</span>
                <span class="s2">if </span><span class="s1">(hasDocumentGetInitialProps) {</span>
                    <span class="s1">documentInitialPropsRes = </span><span class="s2">await </span><span class="s1">loadDocumentInitialProps(renderShell);</span>
                    <span class="s2">if </span><span class="s1">(documentInitialPropsRes === </span><span class="s2">null</span><span class="s1">) </span><span class="s2">return null</span><span class="s1">;</span>
                    <span class="s2">const </span><span class="s1">{ docProps } = documentInitialPropsRes;</span>
                    <span class="s2">return </span><span class="s1">docProps.html;</span>
                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">documentInitialPropsRes = {};</span>
                    <span class="s2">const </span><span class="s1">stream = </span><span class="s2">await </span><span class="s1">renderShell(App, Component);</span>
                    <span class="s2">await </span><span class="s1">stream.allReady;</span>
                    <span class="s2">return </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _nodewebstreamshelper.streamToString)(stream);</span>
                <span class="s1">}</span>
            <span class="s1">})()</span>
        <span class="s1">]);</span>
        <span class="s2">if </span><span class="s1">(content === </span><span class="s2">null</span><span class="s1">) {</span>
            <span class="s2">return null</span><span class="s1">;</span>
        <span class="s1">}</span>
        <span class="s2">const </span><span class="s1">contentHTML = rawStyledJsxInsertedHTML + content;</span>
        <span class="s4">// @ts-ignore: documentInitialPropsRes is set</span>
        <span class="s2">const </span><span class="s1">{ docProps } = documentInitialPropsRes || {};</span>
        <span class="s2">const </span><span class="s1">documentElement = (htmlProps)=&gt;{</span>
            <span class="s2">if </span><span class="s1">(process.env.NEXT_RUNTIME === </span><span class="s0">'edge'</span><span class="s1">) {</span>
                <span class="s2">return </span><span class="s1">Document();</span>
            <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                <span class="s2">return </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(Document, {</span>
                    <span class="s1">...htmlProps,</span>
                    <span class="s1">...docProps</span>
                <span class="s1">});</span>
            <span class="s1">}</span>
        <span class="s1">};</span>
        <span class="s2">let </span><span class="s1">styles;</span>
        <span class="s2">if </span><span class="s1">(hasDocumentGetInitialProps) {</span>
            <span class="s1">styles = docProps.styles;</span>
            <span class="s1">head = docProps.head;</span>
        <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
            <span class="s1">styles = jsxStyleRegistry.styles();</span>
            <span class="s1">jsxStyleRegistry.flush();</span>
        <span class="s1">}</span>
        <span class="s2">return </span><span class="s1">{</span>
            <span class="s1">contentHTML,</span>
            <span class="s1">documentElement,</span>
            <span class="s1">head,</span>
            <span class="s1">headTags: [],</span>
            <span class="s1">styles</span>
        <span class="s1">};</span>
    <span class="s1">};</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s1">, _tracer.getTracer)().setRootSpanAttribute(</span><span class="s0">'next.route'</span><span class="s1">, renderOpts.page);</span>
    <span class="s2">const </span><span class="s1">documentResult = </span><span class="s2">await </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _tracer.getTracer)().trace(_constants2.RenderSpan.renderDocument, {</span>
        <span class="s1">spanName: </span><span class="s0">`render route (pages) </span><span class="s1">${renderOpts.page}</span><span class="s0">`</span><span class="s1">,</span>
        <span class="s1">attributes: {</span>
            <span class="s0">'next.route'</span><span class="s1">: renderOpts.page</span>
        <span class="s1">}</span>
    <span class="s1">}, async ()=&gt;renderDocument());</span>
    <span class="s2">if </span><span class="s1">(!documentResult) {</span>
        <span class="s2">return new </span><span class="s1">_renderresult.default(</span><span class="s2">null</span><span class="s1">, {</span>
            <span class="s1">metadata,</span>
            <span class="s1">contentType: _constants.HTML_CONTENT_TYPE_HEADER</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">dynamicImportsIds = </span><span class="s2">new </span><span class="s1">Set();</span>
    <span class="s2">const </span><span class="s1">dynamicImports = </span><span class="s2">new </span><span class="s1">Set();</span>
    <span class="s2">for </span><span class="s1">(</span><span class="s2">const </span><span class="s1">mod of reactLoadableModules){</span>
        <span class="s2">const </span><span class="s1">manifestItem = reactLoadableManifest[mod];</span>
        <span class="s2">if </span><span class="s1">(manifestItem) {</span>
            <span class="s1">dynamicImportsIds.add(manifestItem.id);</span>
            <span class="s1">manifestItem.files.forEach((item)=&gt;{</span>
                <span class="s1">dynamicImports.add(item);</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">hybridAmp = ampState.hybrid;</span>
    <span class="s2">const </span><span class="s1">docComponentsRendered = {};</span>
    <span class="s2">const </span><span class="s1">{ assetPrefix, defaultLocale, disableOptimizedLoading, domainLocales, locale, locales, runtimeConfig } = renderOpts;</span>
    <span class="s2">const </span><span class="s1">htmlProps = {</span>
        <span class="s1">__NEXT_DATA__: {</span>
            <span class="s1">props,</span>
            <span class="s1">page: pathname,</span>
            <span class="s1">query,</span>
            <span class="s1">buildId: sharedContext.buildId,</span>
            <span class="s1">assetPrefix: assetPrefix === </span><span class="s0">'' </span><span class="s1">? undefined : assetPrefix,</span>
            <span class="s1">runtimeConfig,</span>
            <span class="s1">nextExport: nextExport === </span><span class="s2">true </span><span class="s1">? </span><span class="s2">true </span><span class="s1">: undefined,</span>
            <span class="s1">autoExport: isAutoExport === </span><span class="s2">true </span><span class="s1">? </span><span class="s2">true </span><span class="s1">: undefined,</span>
            <span class="s1">isFallback,</span>
            <span class="s1">isExperimentalCompile,</span>
            <span class="s1">dynamicIds: dynamicImportsIds.size === </span><span class="s3">0 </span><span class="s1">? undefined : Array.from(dynamicImportsIds),</span>
            <span class="s1">err: renderOpts.err ? serializeError(dev, renderOpts.err) : undefined,</span>
            <span class="s1">gsp: !!getStaticProps ? </span><span class="s2">true </span><span class="s1">: undefined,</span>
            <span class="s1">gssp: !!getServerSideProps ? </span><span class="s2">true </span><span class="s1">: undefined,</span>
            <span class="s1">customServer: sharedContext.customServer,</span>
            <span class="s1">gip: hasPageGetInitialProps ? </span><span class="s2">true </span><span class="s1">: undefined,</span>
            <span class="s1">appGip: !defaultAppGetInitialProps ? </span><span class="s2">true </span><span class="s1">: undefined,</span>
            <span class="s1">locale,</span>
            <span class="s1">locales,</span>
            <span class="s1">defaultLocale,</span>
            <span class="s1">domainLocales,</span>
            <span class="s1">isPreview: isPreview === </span><span class="s2">true </span><span class="s1">? </span><span class="s2">true </span><span class="s1">: undefined,</span>
            <span class="s1">notFoundSrcPage: notFoundSrcPage &amp;&amp; dev ? notFoundSrcPage : undefined</span>
        <span class="s1">},</span>
        <span class="s1">nonce,</span>
        <span class="s1">buildManifest: filteredBuildManifest,</span>
        <span class="s1">docComponentsRendered,</span>
        <span class="s1">dangerousAsPath: router.asPath,</span>
        <span class="s1">canonicalBase: !renderOpts.ampPath &amp;&amp; (</span><span class="s3">0</span><span class="s1">, _requestmeta.getRequestMeta)(req, </span><span class="s0">'didStripLocale'</span><span class="s1">) ? </span><span class="s0">`</span><span class="s1">${renderOpts.canonicalBase || </span><span class="s0">''</span><span class="s1">}</span><span class="s0">/</span><span class="s1">${renderOpts.locale}</span><span class="s0">` </span><span class="s1">: renderOpts.canonicalBase,</span>
        <span class="s1">ampPath,</span>
        <span class="s1">inAmpMode,</span>
        <span class="s1">isDevelopment: !!dev,</span>
        <span class="s1">hybridAmp,</span>
        <span class="s1">dynamicImports: Array.from(dynamicImports),</span>
        <span class="s1">dynamicCssManifest: </span><span class="s2">new </span><span class="s1">Set(renderOpts.dynamicCssManifest || []),</span>
        <span class="s1">assetPrefix,</span>
        <span class="s4">// Only enabled in production as development mode has features relying on HMR (style injection for example)</span>
        <span class="s1">unstable_runtimeJS: process.env.NODE_ENV === </span><span class="s0">'production' </span><span class="s1">? pageConfig.unstable_runtimeJS : undefined,</span>
        <span class="s1">unstable_JsPreload: pageConfig.unstable_JsPreload,</span>
        <span class="s1">assetQueryString,</span>
        <span class="s1">scriptLoader,</span>
        <span class="s1">locale,</span>
        <span class="s1">disableOptimizedLoading,</span>
        <span class="s1">head: documentResult.head,</span>
        <span class="s1">headTags: documentResult.headTags,</span>
        <span class="s1">styles: documentResult.styles,</span>
        <span class="s1">crossOrigin: renderOpts.crossOrigin,</span>
        <span class="s1">optimizeCss: renderOpts.optimizeCss,</span>
        <span class="s1">nextConfigOutput: renderOpts.nextConfigOutput,</span>
        <span class="s1">nextScriptWorkers: renderOpts.nextScriptWorkers,</span>
        <span class="s1">runtime: globalRuntime,</span>
        <span class="s1">largePageDataBytes: renderOpts.largePageDataBytes,</span>
        <span class="s1">nextFontManifest: renderOpts.nextFontManifest,</span>
        <span class="s1">experimentalClientTraceMetadata: renderOpts.experimental.clientTraceMetadata</span>
    <span class="s1">};</span>
    <span class="s2">const </span><span class="s1">document = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_ampcontextsharedruntime.AmpStateContext.Provider, {</span>
        <span class="s1">value: ampState,</span>
        <span class="s1">children: </span><span class="s4">/*#__PURE__*/ </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _jsxruntime.jsx)(_htmlcontextsharedruntime.HtmlContext.Provider, {</span>
            <span class="s1">value: htmlProps,</span>
            <span class="s1">children: documentResult.documentElement(htmlProps)</span>
        <span class="s1">})</span>
    <span class="s1">});</span>
    <span class="s2">const </span><span class="s1">documentHTML = </span><span class="s2">await </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _tracer.getTracer)().trace(_constants2.RenderSpan.renderToString, async ()=&gt;renderToString(document));</span>
    <span class="s2">if </span><span class="s1">(process.env.NODE_ENV !== </span><span class="s0">'production'</span><span class="s1">) {</span>
        <span class="s2">const </span><span class="s1">nonRenderedComponents = [];</span>
        <span class="s2">const </span><span class="s1">expectedDocComponents = [</span>
            <span class="s0">'Main'</span><span class="s1">,</span>
            <span class="s0">'Head'</span><span class="s1">,</span>
            <span class="s0">'NextScript'</span><span class="s1">,</span>
            <span class="s0">'Html'</span>
        <span class="s1">];</span>
        <span class="s2">for </span><span class="s1">(</span><span class="s2">const </span><span class="s1">comp of expectedDocComponents){</span>
            <span class="s2">if </span><span class="s1">(!docComponentsRendered[comp]) {</span>
                <span class="s1">nonRenderedComponents.push(comp);</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s2">if </span><span class="s1">(nonRenderedComponents.length) {</span>
            <span class="s2">const </span><span class="s1">missingComponentList = nonRenderedComponents.map((e)=&gt;</span><span class="s0">`&lt;</span><span class="s1">${e} </span><span class="s0">/&gt;`</span><span class="s1">).join(</span><span class="s0">', '</span><span class="s1">);</span>
            <span class="s2">const </span><span class="s1">plural = nonRenderedComponents.length !== </span><span class="s3">1 </span><span class="s1">? </span><span class="s0">'s' </span><span class="s1">: </span><span class="s0">''</span><span class="s1">;</span>
            <span class="s1">console.warn(</span><span class="s0">`Your custom Document (pages/_document) did not render all the required subcomponent</span><span class="s1">${plural}</span><span class="s0">.</span><span class="s6">\n</span><span class="s0">` </span><span class="s1">+ </span><span class="s0">`Missing component</span><span class="s1">${plural}</span><span class="s0">: </span><span class="s1">${missingComponentList}</span><span class="s6">\n</span><span class="s0">` </span><span class="s1">+ </span><span class="s0">'Read how to fix here: https://nextjs.org/docs/messages/missing-document-component'</span><span class="s1">);</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">[renderTargetPrefix, renderTargetSuffix] = documentHTML.split(</span><span class="s0">'&lt;next-js-internal-body-render-target&gt;&lt;/next-js-internal-body-render-target&gt;'</span><span class="s1">, </span><span class="s3">2</span><span class="s1">);</span>
    <span class="s2">let </span><span class="s1">prefix = </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s2">if </span><span class="s1">(!documentHTML.startsWith(DOCTYPE)) {</span>
        <span class="s1">prefix += DOCTYPE;</span>
    <span class="s1">}</span>
    <span class="s1">prefix += renderTargetPrefix;</span>
    <span class="s2">if </span><span class="s1">(inAmpMode) {</span>
        <span class="s1">prefix += </span><span class="s0">'&lt;!-- __NEXT_DATA__ --&gt;'</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">content = prefix + documentResult.contentHTML + renderTargetSuffix;</span>
    <span class="s2">const </span><span class="s1">optimizedHtml = </span><span class="s2">await </span><span class="s1">postProcessHTML(pathname, content, renderOpts, {</span>
        <span class="s1">inAmpMode,</span>
        <span class="s1">hybridAmp</span>
    <span class="s1">});</span>
    <span class="s2">return new </span><span class="s1">_renderresult.default(optimizedHtml, {</span>
        <span class="s1">metadata,</span>
        <span class="s1">contentType: _constants.HTML_CONTENT_TYPE_HEADER</span>
    <span class="s1">});</span>
<span class="s1">}</span>
<span class="s2">const </span><span class="s1">renderToHTML = (req, res, pathname, query, renderOpts, sharedContext, renderContext)=&gt;{</span>
    <span class="s2">return </span><span class="s1">renderToHTMLImpl(req, res, pathname, query, renderOpts, renderOpts, sharedContext, renderContext);</span>
<span class="s1">};</span>

<span class="s4">//# sourceMappingURL=render.js.map</span></pre>
</body>
</html>