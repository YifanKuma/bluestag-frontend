<html>
<head>
<title>client-boundary.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
client-boundary.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../src/server/typescript/rules/client-boundary.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// This module provides intellisense for all components that has the `</span><span class="s3">\&quot;</span><span class="s1">use client</span><span class="s3">\&quot;</span><span class="s1">` directive.</span><span class="s3">\n\n</span><span class="s1">import { NEXT_TS_ERRORS } from '../constant'</span><span class="s3">\n</span><span class="s1">import { getTs, getTypeChecker } from '../utils'</span><span class="s3">\n</span><span class="s1">import type tsModule from 'typescript/lib/tsserverlibrary'</span><span class="s3">\n\n</span><span class="s1">const clientBoundary = {</span><span class="s3">\n  </span><span class="s1">getSemanticDiagnosticsForExportVariableStatement(</span><span class="s3">\n    </span><span class="s1">source: tsModule.SourceFile,</span><span class="s3">\n    </span><span class="s1">node: tsModule.VariableStatement</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const ts = getTs()</span><span class="s3">\n\n    </span><span class="s1">const diagnostics: tsModule.Diagnostic[] = []</span><span class="s3">\n\n    </span><span class="s1">if (ts.isVariableDeclarationList(node.declarationList)) {</span><span class="s3">\n      </span><span class="s1">for (const declaration of node.declarationList.declarations) {</span><span class="s3">\n        </span><span class="s1">const initializer = declaration.initializer</span><span class="s3">\n        </span><span class="s1">if (initializer &amp;&amp; ts.isArrowFunction(initializer)) {</span><span class="s3">\n          </span><span class="s1">diagnostics.push(</span><span class="s3">\n            </span><span class="s1">...clientBoundary.getSemanticDiagnosticsForFunctionExport(</span><span class="s3">\n              </span><span class="s1">source,</span><span class="s3">\n              </span><span class="s1">initializer</span><span class="s3">\n            </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return diagnostics</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">getSemanticDiagnosticsForFunctionExport(</span><span class="s3">\n    </span><span class="s1">source: tsModule.SourceFile,</span><span class="s3">\n    </span><span class="s1">node: tsModule.FunctionDeclaration | tsModule.ArrowFunction</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const ts = getTs()</span><span class="s3">\n    </span><span class="s1">const typeChecker = getTypeChecker()</span><span class="s3">\n    </span><span class="s1">if (!typeChecker) return []</span><span class="s3">\n\n    </span><span class="s1">const diagnostics: tsModule.Diagnostic[] = []</span><span class="s3">\n\n    </span><span class="s1">const isErrorFile = /[</span><span class="s3">\\\\</span><span class="s1">/]error</span><span class="s3">\\</span><span class="s1">.tsx?$/.test(source.fileName)</span><span class="s3">\n    </span><span class="s1">const isGlobalErrorFile = /[</span><span class="s3">\\\\</span><span class="s1">/]global-error</span><span class="s3">\\</span><span class="s1">.tsx?$/.test(source.fileName)</span><span class="s3">\n\n    </span><span class="s1">const props = node.parameters?.[0]</span><span class="s3">\n    </span><span class="s1">if (props) {</span><span class="s3">\n      </span><span class="s1">const propsType = typeChecker.getTypeAtLocation(props)</span><span class="s3">\n      </span><span class="s1">const typeNode = propsType.symbol?.getDeclarations()?.[0]</span><span class="s3">\n\n      </span><span class="s1">if (typeNode &amp;&amp; ts.isTypeLiteralNode(typeNode)) {</span><span class="s3">\n        </span><span class="s1">for (const member of typeNode.members) {</span><span class="s3">\n          </span><span class="s1">if (ts.isPropertySignature(member)) {</span><span class="s3">\n            </span><span class="s1">const propName = member.name.getText()</span><span class="s3">\n            </span><span class="s1">const propType = member.type</span><span class="s3">\n\n            </span><span class="s1">if (propType) {</span><span class="s3">\n              </span><span class="s1">const propTypeInfo = typeChecker.getTypeAtLocation(propType)</span><span class="s3">\n              </span><span class="s1">const typeDeclarationNode =</span><span class="s3">\n                </span><span class="s1">propTypeInfo.symbol?.getDeclarations()?.[0]</span><span class="s3">\n\n              </span><span class="s1">if (typeDeclarationNode) {</span><span class="s3">\n                </span><span class="s1">if (</span><span class="s3">\n                  </span><span class="s1">ts.isFunctionTypeNode(typeDeclarationNode) ||</span><span class="s3">\n                  </span><span class="s1">// someFunc(): void</span><span class="s3">\n                  </span><span class="s1">ts.isMethodSignature(typeDeclarationNode)</span><span class="s3">\n                </span><span class="s1">) {</span><span class="s3">\n                  </span><span class="s1">// By convention, props named </span><span class="s3">\&quot;</span><span class="s1">action</span><span class="s3">\&quot; </span><span class="s1">can accept functions since we</span><span class="s3">\n                  </span><span class="s1">// assume these are Server Actions. Structurally, there's no</span><span class="s3">\n                  </span><span class="s1">// difference between a Server Action and a normal function until</span><span class="s3">\n                  </span><span class="s1">// TypeScript exposes directives in the type of a function. This</span><span class="s3">\n                  </span><span class="s1">// will miss accidentally passing normal functions but a false</span><span class="s3">\n                  </span><span class="s1">// negative is better than a false positive given how frequent the</span><span class="s3">\n                  </span><span class="s1">// false-positive would be.</span><span class="s3">\n                  </span><span class="s1">const maybeServerAction =</span><span class="s3">\n                    </span><span class="s1">propName === 'action' || /.+Action$/.test(propName)</span><span class="s3">\n\n                  </span><span class="s1">// There's a special case for the error file that the `reset` prop</span><span class="s3">\n                  </span><span class="s1">// is allowed to be a function:</span><span class="s3">\n                  </span><span class="s1">// https://github.com/vercel/next.js/issues/46573</span><span class="s3">\n                  </span><span class="s1">const isErrorReset =</span><span class="s3">\n                    </span><span class="s1">(isErrorFile || isGlobalErrorFile) &amp;&amp; propName === 'reset'</span><span class="s3">\n\n                  </span><span class="s1">if (!maybeServerAction &amp;&amp; !isErrorReset) {</span><span class="s3">\n                    </span><span class="s1">diagnostics.push({</span><span class="s3">\n                      </span><span class="s1">file: source,</span><span class="s3">\n                      </span><span class="s1">category: ts.DiagnosticCategory.Warning,</span><span class="s3">\n                      </span><span class="s1">code: NEXT_TS_ERRORS.INVALID_CLIENT_ENTRY_PROP,</span><span class="s3">\n                      </span><span class="s1">messageText:</span><span class="s3">\n                        </span><span class="s1">`Props must be serializable for components in the </span><span class="s3">\&quot;</span><span class="s1">use client</span><span class="s3">\&quot; </span><span class="s1">entry file. ` +</span><span class="s3">\n                        </span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">${propName}</span><span class="s3">\&quot; </span><span class="s1">is a function that's not a Server Action. ` +</span><span class="s3">\n                        </span><span class="s1">`Rename </span><span class="s3">\&quot;</span><span class="s1">${propName}</span><span class="s3">\&quot; </span><span class="s1">either to </span><span class="s3">\&quot;</span><span class="s1">action</span><span class="s3">\&quot; </span><span class="s1">or have its name end with </span><span class="s3">\&quot;</span><span class="s1">Action</span><span class="s3">\&quot; </span><span class="s1">e.g. </span><span class="s3">\&quot;</span><span class="s1">${propName}Action</span><span class="s3">\&quot; </span><span class="s1">to indicate it is a Server Action.`,</span><span class="s3">\n                      </span><span class="s1">start: propType.getStart(),</span><span class="s3">\n                      </span><span class="s1">length: propType.getWidth(),</span><span class="s3">\n                    </span><span class="s1">})</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">} else if (</span><span class="s3">\n                  </span><span class="s1">// Show warning for not serializable props.</span><span class="s3">\n                  </span><span class="s1">ts.isConstructorTypeNode(typeDeclarationNode) ||</span><span class="s3">\n                  </span><span class="s1">ts.isClassDeclaration(typeDeclarationNode)</span><span class="s3">\n                </span><span class="s1">) {</span><span class="s3">\n                  </span><span class="s1">diagnostics.push({</span><span class="s3">\n                    </span><span class="s1">file: source,</span><span class="s3">\n                    </span><span class="s1">category: ts.DiagnosticCategory.Warning,</span><span class="s3">\n                    </span><span class="s1">code: NEXT_TS_ERRORS.INVALID_CLIENT_ENTRY_PROP,</span><span class="s3">\n                    </span><span class="s1">messageText: `Props must be serializable for components in the </span><span class="s3">\&quot;</span><span class="s1">use client</span><span class="s3">\&quot; </span><span class="s1">entry file, </span><span class="s3">\&quot;</span><span class="s1">${propName}</span><span class="s3">\&quot; </span><span class="s1">is invalid.`,</span><span class="s3">\n                    </span><span class="s1">start: propType.getStart(),</span><span class="s3">\n                    </span><span class="s1">length: propType.getWidth(),</span><span class="s3">\n                  </span><span class="s1">})</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return diagnostics</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default clientBoundary</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;clientBoundary&quot;</span><span class="s0">,</span><span class="s1">&quot;getSemanticDiagnosticsForExportVariableStatement&quot;</span><span class="s0">,</span><span class="s1">&quot;source&quot;</span><span class="s0">,</span><span class="s1">&quot;node&quot;</span><span class="s0">,</span><span class="s1">&quot;ts&quot;</span><span class="s0">,</span><span class="s1">&quot;getTs&quot;</span><span class="s0">,</span><span class="s1">&quot;diagnostics&quot;</span><span class="s0">,</span><span class="s1">&quot;isVariableDeclarationList&quot;</span><span class="s0">,</span><span class="s1">&quot;declarationList&quot;</span><span class="s0">,</span><span class="s1">&quot;declaration&quot;</span><span class="s0">,</span><span class="s1">&quot;declarations&quot;</span><span class="s0">,</span><span class="s1">&quot;initializer&quot;</span><span class="s0">,</span><span class="s1">&quot;isArrowFunction&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;getSemanticDiagnosticsForFunctionExport&quot;</span><span class="s0">,</span><span class="s1">&quot;typeChecker&quot;</span><span class="s0">,</span><span class="s1">&quot;getTypeChecker&quot;</span><span class="s0">,</span><span class="s1">&quot;isErrorFile&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">,</span><span class="s1">&quot;fileName&quot;</span><span class="s0">,</span><span class="s1">&quot;isGlobalErrorFile&quot;</span><span class="s0">,</span><span class="s1">&quot;props&quot;</span><span class="s0">,</span><span class="s1">&quot;parameters&quot;</span><span class="s0">,</span><span class="s1">&quot;propsType&quot;</span><span class="s0">,</span><span class="s1">&quot;getTypeAtLocation&quot;</span><span class="s0">,</span><span class="s1">&quot;typeNode&quot;</span><span class="s0">,</span><span class="s1">&quot;symbol&quot;</span><span class="s0">,</span><span class="s1">&quot;getDeclarations&quot;</span><span class="s0">,</span><span class="s1">&quot;isTypeLiteralNode&quot;</span><span class="s0">,</span><span class="s1">&quot;member&quot;</span><span class="s0">,</span><span class="s1">&quot;members&quot;</span><span class="s0">,</span><span class="s1">&quot;isPropertySignature&quot;</span><span class="s0">,</span><span class="s1">&quot;propName&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;getText&quot;</span><span class="s0">,</span><span class="s1">&quot;propType&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;propTypeInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;typeDeclarationNode&quot;</span><span class="s0">,</span><span class="s1">&quot;isFunctionTypeNode&quot;</span><span class="s0">,</span><span class="s1">&quot;isMethodSignature&quot;</span><span class="s0">,</span><span class="s1">&quot;maybeServerAction&quot;</span><span class="s0">,</span><span class="s1">&quot;isErrorReset&quot;</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">,</span><span class="s1">&quot;category&quot;</span><span class="s0">,</span><span class="s1">&quot;DiagnosticCategory&quot;</span><span class="s0">,</span><span class="s1">&quot;Warning&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;NEXT_TS_ERRORS&quot;</span><span class="s0">,</span><span class="s1">&quot;INVALID_CLIENT_ENTRY_PROP&quot;</span><span class="s0">,</span><span class="s1">&quot;messageText&quot;</span><span class="s0">,</span><span class="s1">&quot;start&quot;</span><span class="s0">,</span><span class="s1">&quot;getStart&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;getWidth&quot;</span><span class="s0">,</span><span class="s1">&quot;isConstructorTypeNode&quot;</span><span class="s0">,</span><span class="s1">&quot;isClassDeclaration&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>