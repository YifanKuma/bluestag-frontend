<html>
<head>
<title>size-rollup-dom-animation.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
.s3 { color: #264eff;}
.s4 { color: #1750eb;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
size-rollup-dom-animation.js</font>
</center></td></tr></table>
<pre><span class="s0">import</span><span class="s1">{n as t,p as e,q as n,t as s,u as i,v as r,w as o,x as a,y as u,z as l,A as h,r as c,b as d,o as p,B as m,a as f,C as y,j as v,D as g,l as b,i as w,h as T,m as S,E as A,d as M,s as V,F as x,k as C,e as k,f as P,g as E}from</span><span class="s2">&quot;./size-rollup-dom-animation-assets.js&quot;</span><span class="s1">;</span><span class="s0">import</span><span class="s1">{Fragment as F}from</span><span class="s2">&quot;react&quot;</span><span class="s1">;</span><span class="s0">const </span><span class="s1">D={},O=t=&gt;</span><span class="s3">/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u</span><span class="s1">.test(t);</span><span class="s0">const </span><span class="s1">I=t=&gt;</span><span class="s3">/^0[^.\s]+$/u</span><span class="s1">.test(t);</span><span class="s0">function </span><span class="s1">R(t){</span><span class="s0">let </span><span class="s1">e;</span><span class="s0">return</span><span class="s1">()=&gt;(</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===e&amp;&amp;(e=t()),e)}</span><span class="s0">const </span><span class="s1">N=t=&gt;t,K=(t,e)=&gt;n=&gt;e(t(n)),B=(...t)=&gt;t.reduce(K),L=(t,e,n)=&gt;{</span><span class="s0">const </span><span class="s1">s=e-t;</span><span class="s0">return </span><span class="s4">0</span><span class="s1">===s?</span><span class="s4">1</span><span class="s1">:(n-t)/s};</span><span class="s0">class </span><span class="s1">j{constructor(){</span><span class="s0">this</span><span class="s1">.subscriptions=[]}add(t){</span><span class="s0">var </span><span class="s1">e,n;</span><span class="s0">return </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.subscriptions,n=t,-</span><span class="s4">1</span><span class="s1">===e.indexOf(n)&amp;&amp;e.push(n),()=&gt;</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">const </span><span class="s1">n=t.indexOf(e);n&gt;-</span><span class="s4">1</span><span class="s1">&amp;&amp;t.splice(n,</span><span class="s4">1</span><span class="s1">)}(</span><span class="s0">this</span><span class="s1">.subscriptions,t)}notify(t,e,n){</span><span class="s0">const </span><span class="s1">s=</span><span class="s0">this</span><span class="s1">.subscriptions.length;</span><span class="s0">if</span><span class="s1">(s)</span><span class="s0">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">===s)</span><span class="s0">this</span><span class="s1">.subscriptions[</span><span class="s4">0</span><span class="s1">](t,e,n);</span><span class="s0">else for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">i=</span><span class="s4">0</span><span class="s1">;i&lt;s;i++){</span><span class="s0">const </span><span class="s1">s=</span><span class="s0">this</span><span class="s1">.subscriptions[i];s&amp;&amp;s(t,e,n)}}getSize(){</span><span class="s0">return this</span><span class="s1">.subscriptions.length}clear(){</span><span class="s0">this</span><span class="s1">.subscriptions.length=</span><span class="s4">0</span><span class="s1">}}</span><span class="s0">const </span><span class="s1">U=t=&gt;</span><span class="s4">1e3</span><span class="s1">*t,q=t=&gt;t/</span><span class="s4">1e3</span><span class="s1">;</span><span class="s0">function </span><span class="s1">W(t,e){</span><span class="s0">return </span><span class="s1">e?t*(</span><span class="s4">1e3</span><span class="s1">/e):</span><span class="s4">0</span><span class="s1">}</span><span class="s0">const </span><span class="s1">Y=(t,e,n)=&gt;(((</span><span class="s4">1</span><span class="s1">-</span><span class="s4">3</span><span class="s1">*n+</span><span class="s4">3</span><span class="s1">*e)*t+(</span><span class="s4">3</span><span class="s1">*n-</span><span class="s4">6</span><span class="s1">*e))*t+</span><span class="s4">3</span><span class="s1">*e)*t;</span><span class="s0">function </span><span class="s1">$(t,e,n,s){</span><span class="s0">if</span><span class="s1">(t===e&amp;&amp;n===s)</span><span class="s0">return </span><span class="s1">N;</span><span class="s0">const </span><span class="s1">i=e=&gt;</span><span class="s0">function</span><span class="s1">(t,e,n,s,i){</span><span class="s0">let </span><span class="s1">r,o,a=</span><span class="s4">0</span><span class="s1">;</span><span class="s0">do</span><span class="s1">{o=e+(n-e)/</span><span class="s4">2</span><span class="s1">,r=Y(o,s,i)-t,r&gt;</span><span class="s4">0</span><span class="s1">?n=o:e=o}</span><span class="s0">while</span><span class="s1">(Math.abs(r)&gt;</span><span class="s4">1e-7</span><span class="s1">&amp;&amp;++a&lt;</span><span class="s4">12</span><span class="s1">);</span><span class="s0">return </span><span class="s1">o}(e,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">,t,n);</span><span class="s0">return </span><span class="s1">t=&gt;</span><span class="s4">0</span><span class="s1">===t||</span><span class="s4">1</span><span class="s1">===t?t:Y(i(t),e,s)}</span><span class="s0">const </span><span class="s1">z=t=&gt;e=&gt;e&lt;=</span><span class="s4">.5</span><span class="s1">?t(</span><span class="s4">2</span><span class="s1">*e)/</span><span class="s4">2</span><span class="s1">:(</span><span class="s4">2</span><span class="s1">-t(</span><span class="s4">2</span><span class="s1">*(</span><span class="s4">1</span><span class="s1">-e)))/</span><span class="s4">2</span><span class="s1">,H=t=&gt;e=&gt;</span><span class="s4">1</span><span class="s1">-t(</span><span class="s4">1</span><span class="s1">-e),X=$(</span><span class="s4">.33</span><span class="s1">,</span><span class="s4">1.53</span><span class="s1">,</span><span class="s4">.69</span><span class="s1">,</span><span class="s4">.99</span><span class="s1">),_=H(X),G=z(_),Z=t=&gt;(t*=</span><span class="s4">2</span><span class="s1">)&lt;</span><span class="s4">1</span><span class="s1">?</span><span class="s4">.5</span><span class="s1">*_(t):</span><span class="s4">.5</span><span class="s1">*(</span><span class="s4">2</span><span class="s1">-Math.pow(</span><span class="s4">2</span><span class="s1">,-</span><span class="s4">10</span><span class="s1">*(t-</span><span class="s4">1</span><span class="s1">))),J=t=&gt;</span><span class="s4">1</span><span class="s1">-Math.sin(Math.acos(t)),Q=H(J),tt=z(J),et=$(</span><span class="s4">.42</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">,</span><span class="s4">1</span><span class="s1">),nt=$(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">.58</span><span class="s1">,</span><span class="s4">1</span><span class="s1">),st=$(</span><span class="s4">.42</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">.58</span><span class="s1">,</span><span class="s4">1</span><span class="s1">),it=t=&gt;Array.isArray(t)&amp;&amp;</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t[</span><span class="s4">0</span><span class="s1">],rt={linear:N,easeIn:et,easeInOut:st,easeOut:nt,circIn:J,circInOut:tt,circOut:Q,backIn:_,backInOut:G,backOut:X,anticipate:Z},ot=t=&gt;{</span><span class="s0">if</span><span class="s1">(it(t)){t.length;</span><span class="s0">const</span><span class="s1">[e,n,s,i]=t;</span><span class="s0">return </span><span class="s1">$(e,n,s,i)}</span><span class="s0">return</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?rt[t]:t},at=[</span><span class="s2">&quot;setup&quot;</span><span class="s1">,</span><span class="s2">&quot;read&quot;</span><span class="s1">,</span><span class="s2">&quot;resolveKeyframes&quot;</span><span class="s1">,</span><span class="s2">&quot;preUpdate&quot;</span><span class="s1">,</span><span class="s2">&quot;update&quot;</span><span class="s1">,</span><span class="s2">&quot;preRender&quot;</span><span class="s1">,</span><span class="s2">&quot;render&quot;</span><span class="s1">,</span><span class="s2">&quot;postRender&quot;</span><span class="s1">],ut={value:</span><span class="s0">null</span><span class="s1">,addProjectionMetrics:</span><span class="s0">null</span><span class="s1">};</span><span class="s0">function </span><span class="s1">lt(t,e){</span><span class="s0">let </span><span class="s1">n=!</span><span class="s4">1</span><span class="s1">,s=!</span><span class="s4">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">i={delta:</span><span class="s4">0</span><span class="s1">,timestamp:</span><span class="s4">0</span><span class="s1">,isProcessing:!</span><span class="s4">1</span><span class="s1">},r=()=&gt;n=!</span><span class="s4">0</span><span class="s1">,o=at.reduce((t,n)=&gt;(t[n]=</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">let </span><span class="s1">n=</span><span class="s0">new </span><span class="s1">Set,s=</span><span class="s0">new </span><span class="s1">Set,i=!</span><span class="s4">1</span><span class="s1">,r=!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">const </span><span class="s1">o=</span><span class="s0">new </span><span class="s1">WeakSet;</span><span class="s0">let </span><span class="s1">a={delta:</span><span class="s4">0</span><span class="s1">,timestamp:</span><span class="s4">0</span><span class="s1">,isProcessing:!</span><span class="s4">1</span><span class="s1">},u=</span><span class="s4">0</span><span class="s1">;</span><span class="s0">function </span><span class="s1">l(e){o.has(e)&amp;&amp;(h.schedule(e),t()),u++,e(a)}</span><span class="s0">const </span><span class="s1">h={schedule:(t,e=!</span><span class="s4">1</span><span class="s1">,r=!</span><span class="s4">1</span><span class="s1">)=&gt;{</span><span class="s0">const </span><span class="s1">a=r&amp;&amp;i?n:s;</span><span class="s0">return </span><span class="s1">e&amp;&amp;o.add(t),a.has(t)||a.add(t),t},cancel:t=&gt;{s.delete(t),o.delete(t)},process:t=&gt;{a=t,i?r=!</span><span class="s4">0</span><span class="s1">:(i=!</span><span class="s4">0</span><span class="s1">,[n,s]=[s,n],n.forEach(l),e&amp;&amp;ut.value&amp;&amp;ut.value.frameloop[e].push(u),u=</span><span class="s4">0</span><span class="s1">,n.clear(),i=!</span><span class="s4">1</span><span class="s1">,r&amp;&amp;(r=!</span><span class="s4">1</span><span class="s1">,h.process(t)))}};</span><span class="s0">return </span><span class="s1">h}(r,e?n:</span><span class="s0">void </span><span class="s4">0</span><span class="s1">),t),{}),{setup:a,read:u,resolveKeyframes:l,preUpdate:h,update:c,preRender:d,render:p,postRender:m}=o,f=()=&gt;{</span><span class="s0">const </span><span class="s1">r=D.useManualTiming?i.timestamp:performance.now();n=!</span><span class="s4">1</span><span class="s1">,D.useManualTiming||(i.delta=s?</span><span class="s4">1e3</span><span class="s1">/</span><span class="s4">60</span><span class="s1">:Math.max(Math.min(r-i.timestamp,</span><span class="s4">40</span><span class="s1">),</span><span class="s4">1</span><span class="s1">)),i.timestamp=r,i.isProcessing=!</span><span class="s4">0</span><span class="s1">,a.process(i),u.process(i),l.process(i),h.process(i),c.process(i),d.process(i),p.process(i),m.process(i),i.isProcessing=!</span><span class="s4">1</span><span class="s1">,n&amp;&amp;e&amp;&amp;(s=!</span><span class="s4">1</span><span class="s1">,t(f))};</span><span class="s0">return</span><span class="s1">{schedule:at.reduce((e,r)=&gt;{</span><span class="s0">const </span><span class="s1">a=o[r];</span><span class="s0">return </span><span class="s1">e[r]=(e,r=!</span><span class="s4">1</span><span class="s1">,o=!</span><span class="s4">1</span><span class="s1">)=&gt;(n||(n=!</span><span class="s4">0</span><span class="s1">,s=!</span><span class="s4">0</span><span class="s1">,i.isProcessing||t(f)),a.schedule(e,r,o)),e},{}),cancel:t=&gt;{</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;at.length;e++)o[at[e]].cancel(t)},state:i,steps:o}}</span><span class="s0">const</span><span class="s1">{schedule:ht,cancel:ct,state:dt,steps:pt}=lt(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">requestAnimationFrame?requestAnimationFrame:N,!</span><span class="s4">0</span><span class="s1">);</span><span class="s0">let </span><span class="s1">mt;</span><span class="s0">function </span><span class="s1">ft(){mt=</span><span class="s0">void </span><span class="s4">0</span><span class="s1">}</span><span class="s0">const </span><span class="s1">yt={now:()=&gt;(</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===mt&amp;&amp;yt.set(dt.isProcessing||D.useManualTiming?dt.timestamp:performance.now()),mt),set:t=&gt;{mt=t,queueMicrotask(ft)}},vt=t=&gt;Math.round(</span><span class="s4">1e5</span><span class="s1">*t)/</span><span class="s4">1e5</span><span class="s1">,gt=</span><span class="s3">/-?(?:\d+(?:\.\d+)?|\.\d+)/gu</span><span class="s1">;</span><span class="s0">const </span><span class="s1">bt=</span><span class="s3">/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu</span><span class="s1">,wt=(t,e)=&gt;n=&gt;Boolean(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n&amp;&amp;bt.test(n)&amp;&amp;n.startsWith(t)||e&amp;&amp;!</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">return null</span><span class="s1">==t}(n)&amp;&amp;Object.prototype.hasOwnProperty.call(n,e)),Tt=(t,e,n)=&gt;s=&gt;{</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">s)</span><span class="s0">return </span><span class="s1">s;</span><span class="s0">const</span><span class="s1">[i,r,o,a]=s.match(gt);</span><span class="s0">return</span><span class="s1">{[t]:parseFloat(i),[e]:parseFloat(r),[n]:parseFloat(o),alpha:</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==a?parseFloat(a):</span><span class="s4">1</span><span class="s1">}},St={...t,transform:t=&gt;Math.round((t=&gt;n(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">255</span><span class="s1">,t))(t))},At={test:wt(</span><span class="s2">&quot;rgb&quot;</span><span class="s1">,</span><span class="s2">&quot;red&quot;</span><span class="s1">),parse:Tt(</span><span class="s2">&quot;red&quot;</span><span class="s1">,</span><span class="s2">&quot;green&quot;</span><span class="s1">,</span><span class="s2">&quot;blue&quot;</span><span class="s1">),transform:({red:t,green:n,blue:s,alpha:i=</span><span class="s4">1</span><span class="s1">})=&gt;</span><span class="s2">&quot;rgba(&quot;</span><span class="s1">+St.transform(t)+</span><span class="s2">&quot;, &quot;</span><span class="s1">+St.transform(n)+</span><span class="s2">&quot;, &quot;</span><span class="s1">+St.transform(s)+</span><span class="s2">&quot;, &quot;</span><span class="s1">+vt(e.transform(i))+</span><span class="s2">&quot;)&quot;</span><span class="s1">};</span><span class="s0">const </span><span class="s1">Mt={test:wt(</span><span class="s2">&quot;#&quot;</span><span class="s1">),parse:</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">let </span><span class="s1">e=</span><span class="s2">&quot;&quot;</span><span class="s1">,n=</span><span class="s2">&quot;&quot;</span><span class="s1">,s=</span><span class="s2">&quot;&quot;</span><span class="s1">,i=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s0">return </span><span class="s1">t.length&gt;</span><span class="s4">5</span><span class="s1">?(e=t.substring(</span><span class="s4">1</span><span class="s1">,</span><span class="s4">3</span><span class="s1">),n=t.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">5</span><span class="s1">),s=t.substring(</span><span class="s4">5</span><span class="s1">,</span><span class="s4">7</span><span class="s1">),i=t.substring(</span><span class="s4">7</span><span class="s1">,</span><span class="s4">9</span><span class="s1">)):(e=t.substring(</span><span class="s4">1</span><span class="s1">,</span><span class="s4">2</span><span class="s1">),n=t.substring(</span><span class="s4">2</span><span class="s1">,</span><span class="s4">3</span><span class="s1">),s=t.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">4</span><span class="s1">),i=t.substring(</span><span class="s4">4</span><span class="s1">,</span><span class="s4">5</span><span class="s1">),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,</span><span class="s4">16</span><span class="s1">),green:parseInt(n,</span><span class="s4">16</span><span class="s1">),blue:parseInt(s,</span><span class="s4">16</span><span class="s1">),alpha:i?parseInt(i,</span><span class="s4">16</span><span class="s1">)/</span><span class="s4">255</span><span class="s1">:</span><span class="s4">1</span><span class="s1">}},transform:At.transform},Vt={test:wt(</span><span class="s2">&quot;hsl&quot;</span><span class="s1">,</span><span class="s2">&quot;hue&quot;</span><span class="s1">),parse:Tt(</span><span class="s2">&quot;hue&quot;</span><span class="s1">,</span><span class="s2">&quot;saturation&quot;</span><span class="s1">,</span><span class="s2">&quot;lightness&quot;</span><span class="s1">),transform:({hue:t,saturation:n,lightness:i,alpha:r=</span><span class="s4">1</span><span class="s1">})=&gt;</span><span class="s2">&quot;hsla(&quot;</span><span class="s1">+Math.round(t)+</span><span class="s2">&quot;, &quot;</span><span class="s1">+s.transform(vt(n))+</span><span class="s2">&quot;, &quot;</span><span class="s1">+s.transform(vt(i))+</span><span class="s2">&quot;, &quot;</span><span class="s1">+vt(e.transform(r))+</span><span class="s2">&quot;)&quot;</span><span class="s1">},xt={test:t=&gt;At.test(t)||Mt.test(t)||Vt.test(t),parse:t=&gt;At.test(t)?At.parse(t):Vt.test(t)?Vt.parse(t):Mt.parse(t),transform:t=&gt;</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?t:t.hasOwnProperty(</span><span class="s2">&quot;red&quot;</span><span class="s1">)?At.transform(t):Vt.transform(t),getAnimatableNone:t=&gt;{</span><span class="s0">const </span><span class="s1">e=xt.parse(t);</span><span class="s0">return </span><span class="s1">e.alpha=</span><span class="s4">0</span><span class="s1">,xt.transform(e)}},Ct=</span><span class="s3">/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu</span><span class="s1">;</span><span class="s0">const </span><span class="s1">kt=</span><span class="s2">&quot;number&quot;</span><span class="s1">,Pt=</span><span class="s2">&quot;color&quot;</span><span class="s1">,Et=</span><span class="s3">/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu</span><span class="s1">;</span><span class="s0">function </span><span class="s1">Ft(t){</span><span class="s0">const </span><span class="s1">e=t.toString(),n=[],s={color:[],number:[],</span><span class="s0">var</span><span class="s1">:[]},i=[];</span><span class="s0">let </span><span class="s1">r=</span><span class="s4">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">o=e.replace(Et,t=&gt;(xt.test(t)?(s.color.push(r),i.push(Pt),n.push(xt.parse(t))):t.startsWith(</span><span class="s2">&quot;var(&quot;</span><span class="s1">)?(s.var.push(r),i.push(</span><span class="s2">&quot;var&quot;</span><span class="s1">),n.push(t)):(s.number.push(r),i.push(kt),n.push(parseFloat(t))),++r,</span><span class="s2">&quot;${}&quot;</span><span class="s1">)).split(</span><span class="s2">&quot;${}&quot;</span><span class="s1">);</span><span class="s0">return</span><span class="s1">{values:n,split:o,indexes:s,types:i}}</span><span class="s0">function </span><span class="s1">Dt(t){</span><span class="s0">return </span><span class="s1">Ft(t).values}</span><span class="s0">function </span><span class="s1">Ot(t){</span><span class="s0">const</span><span class="s1">{split:e,types:n}=Ft(t),s=e.length;</span><span class="s0">return </span><span class="s1">t=&gt;{</span><span class="s0">let </span><span class="s1">i=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">r=</span><span class="s4">0</span><span class="s1">;r&lt;s;r++)</span><span class="s0">if</span><span class="s1">(i+=e[r],</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==t[r]){</span><span class="s0">const </span><span class="s1">e=n[r];i+=e===kt?vt(t[r]):e===Pt?xt.transform(t[r]):t[r]}</span><span class="s0">return </span><span class="s1">i}}</span><span class="s0">const </span><span class="s1">It=t=&gt;</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?</span><span class="s4">0</span><span class="s1">:xt.test(t)?xt.getAnimatableNone(t):t;</span><span class="s0">const </span><span class="s1">Rt={test:</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">return </span><span class="s1">isNaN(t)&amp;&amp;</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;(t.match(gt)?.length||</span><span class="s4">0</span><span class="s1">)+(t.match(Ct)?.length||</span><span class="s4">0</span><span class="s1">)&gt;</span><span class="s4">0</span><span class="s1">},parse:Dt,createTransformer:Ot,getAnimatableNone:</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">const </span><span class="s1">e=Dt(t);</span><span class="s0">return </span><span class="s1">Ot(t)(e.map(It))}};</span><span class="s0">function </span><span class="s1">Nt(t,e,n){</span><span class="s0">return </span><span class="s1">n&lt;</span><span class="s4">0</span><span class="s1">&amp;&amp;(n+=</span><span class="s4">1</span><span class="s1">),n&gt;</span><span class="s4">1</span><span class="s1">&amp;&amp;(n-=</span><span class="s4">1</span><span class="s1">),n&lt;</span><span class="s4">1</span><span class="s1">/</span><span class="s4">6</span><span class="s1">?t+</span><span class="s4">6</span><span class="s1">*(e-t)*n:n&lt;</span><span class="s4">.5</span><span class="s1">?e:n&lt;</span><span class="s4">2</span><span class="s1">/</span><span class="s4">3</span><span class="s1">?t+(e-t)*(</span><span class="s4">2</span><span class="s1">/</span><span class="s4">3</span><span class="s1">-n)*</span><span class="s4">6</span><span class="s1">:t}</span><span class="s0">function </span><span class="s1">Kt(t,e){</span><span class="s0">return </span><span class="s1">n=&gt;n&gt;</span><span class="s4">0</span><span class="s1">?e:t}</span><span class="s0">const </span><span class="s1">Bt=(t,e,n)=&gt;t+(e-t)*n,Lt=(t,e,n)=&gt;{</span><span class="s0">const </span><span class="s1">s=t*t,i=n*(e*e-s)+s;</span><span class="s0">return </span><span class="s1">i&lt;</span><span class="s4">0</span><span class="s1">?</span><span class="s4">0</span><span class="s1">:Math.sqrt(i)},jt=[Mt,At,Vt];</span><span class="s0">function </span><span class="s1">Ut(t){</span><span class="s0">const </span><span class="s1">e=(n=t,jt.find(t=&gt;t.test(n)));</span><span class="s0">var </span><span class="s1">n;</span><span class="s0">if</span><span class="s1">(!Boolean(e))</span><span class="s0">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">let </span><span class="s1">s=e.parse(t);</span><span class="s0">return </span><span class="s1">e===Vt&amp;&amp;(s=</span><span class="s0">function</span><span class="s1">({hue:t,saturation:e,lightness:n,alpha:s}){t/=</span><span class="s4">360</span><span class="s1">,n/=</span><span class="s4">100</span><span class="s1">;</span><span class="s0">let </span><span class="s1">i=</span><span class="s4">0</span><span class="s1">,r=</span><span class="s4">0</span><span class="s1">,o=</span><span class="s4">0</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(e/=</span><span class="s4">100</span><span class="s1">){</span><span class="s0">const </span><span class="s1">s=n&lt;</span><span class="s4">.5</span><span class="s1">?n*(</span><span class="s4">1</span><span class="s1">+e):n+e-n*e,a=</span><span class="s4">2</span><span class="s1">*n-s;i=Nt(a,s,t+</span><span class="s4">1</span><span class="s1">/</span><span class="s4">3</span><span class="s1">),r=Nt(a,s,t),o=Nt(a,s,t-</span><span class="s4">1</span><span class="s1">/</span><span class="s4">3</span><span class="s1">)}</span><span class="s0">else </span><span class="s1">i=r=o=n;</span><span class="s0">return</span><span class="s1">{red:Math.round(</span><span class="s4">255</span><span class="s1">*i),green:Math.round(</span><span class="s4">255</span><span class="s1">*r),blue:Math.round(</span><span class="s4">255</span><span class="s1">*o),alpha:s}}(s)),s}</span><span class="s0">const </span><span class="s1">qt=(t,e)=&gt;{</span><span class="s0">const </span><span class="s1">n=Ut(t),s=Ut(e);</span><span class="s0">if</span><span class="s1">(!n||!s)</span><span class="s0">return </span><span class="s1">Kt(t,e);</span><span class="s0">const </span><span class="s1">i={...n};</span><span class="s0">return </span><span class="s1">t=&gt;(i.red=Lt(n.red,s.red,t),i.green=Lt(n.green,s.green,t),i.blue=Lt(n.blue,s.blue,t),i.alpha=Bt(n.alpha,s.alpha,t),At.transform(i))},Wt=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s2">&quot;none&quot;</span><span class="s1">,</span><span class="s2">&quot;hidden&quot;</span><span class="s1">]);</span><span class="s0">function </span><span class="s1">Yt(t,e){</span><span class="s0">return </span><span class="s1">n=&gt;Bt(t,e,n)}</span><span class="s0">function </span><span class="s1">$t(t){</span><span class="s0">return</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?Yt:</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?i(t)?Kt:xt.test(t)?qt:Xt:Array.isArray(t)?zt:</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?xt.test(t)?qt:Ht:Kt}</span><span class="s0">function </span><span class="s1">zt(t,e){</span><span class="s0">const </span><span class="s1">n=[...t],s=n.length,i=t.map((t,n)=&gt;$t(t)(t,e[n]));</span><span class="s0">return </span><span class="s1">t=&gt;{</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;s;e++)n[e]=i[e](t);</span><span class="s0">return </span><span class="s1">n}}</span><span class="s0">function </span><span class="s1">Ht(t,e){</span><span class="s0">const </span><span class="s1">n={...t,...e},s={};</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">i </span><span class="s0">in </span><span class="s1">n)</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==t[i]&amp;&amp;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==e[i]&amp;&amp;(s[i]=$t(t[i])(t[i],e[i]));</span><span class="s0">return </span><span class="s1">t=&gt;{</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">e </span><span class="s0">in </span><span class="s1">s)n[e]=s[e](t);</span><span class="s0">return </span><span class="s1">n}}</span><span class="s0">const </span><span class="s1">Xt=(t,e)=&gt;{</span><span class="s0">const </span><span class="s1">n=Rt.createTransformer(e),s=Ft(t),i=Ft(e);</span><span class="s0">return </span><span class="s1">s.indexes.var.length===i.indexes.var.length&amp;&amp;s.indexes.color.length===i.indexes.color.length&amp;&amp;s.indexes.number.length&gt;=i.indexes.number.length?Wt.has(t)&amp;&amp;!i.values.length||Wt.has(e)&amp;&amp;!s.values.length?</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">return </span><span class="s1">Wt.has(t)?n=&gt;n&lt;=</span><span class="s4">0</span><span class="s1">?t:e:n=&gt;n&gt;=</span><span class="s4">1</span><span class="s1">?e:t}(t,e):B(zt(</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">const </span><span class="s1">n=[],s={color:</span><span class="s4">0</span><span class="s1">,</span><span class="s0">var</span><span class="s1">:</span><span class="s4">0</span><span class="s1">,number:</span><span class="s4">0</span><span class="s1">};</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">i=</span><span class="s4">0</span><span class="s1">;i&lt;e.values.length;i++){</span><span class="s0">const </span><span class="s1">r=e.types[i],o=t.indexes[r][s[r]],a=t.values[o]??</span><span class="s4">0</span><span class="s1">;n[i]=a,s[r]++}</span><span class="s0">return </span><span class="s1">n}(s,i),i.values),n):Kt(t,e)};</span><span class="s0">function </span><span class="s1">_t(t,e,n){</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e&amp;&amp;</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n)</span><span class="s0">return </span><span class="s1">Bt(t,e,n);</span><span class="s0">return </span><span class="s1">$t(t)(t,e)}</span><span class="s0">const </span><span class="s1">Gt=t=&gt;{</span><span class="s0">const </span><span class="s1">e=({timestamp:e})=&gt;t(e);</span><span class="s0">return</span><span class="s1">{start:(t=!</span><span class="s4">0</span><span class="s1">)=&gt;ht.update(e,t),stop:()=&gt;ct(e),now:()=&gt;dt.isProcessing?dt.timestamp:yt.now()}},Zt=(t,e,n=</span><span class="s4">10</span><span class="s1">)=&gt;{</span><span class="s0">let </span><span class="s1">s=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s0">const </span><span class="s1">i=Math.max(Math.round(e/n),</span><span class="s4">2</span><span class="s1">);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;i;e++)s+=Math.round(</span><span class="s4">1e4</span><span class="s1">*t(e/(i-</span><span class="s4">1</span><span class="s1">)))/</span><span class="s4">1e4</span><span class="s1">+</span><span class="s2">&quot;, &quot;</span><span class="s1">;</span><span class="s0">return</span><span class="s2">`linear(</span><span class="s1">${s.substring(</span><span class="s4">0</span><span class="s1">,s.length-</span><span class="s4">2</span><span class="s1">)}</span><span class="s2">)`</span><span class="s1">},Jt=</span><span class="s4">2e4</span><span class="s1">;</span><span class="s0">function </span><span class="s1">Qt(t){</span><span class="s0">let </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;</span><span class="s0">let </span><span class="s1">n=t.next(e);</span><span class="s0">for</span><span class="s1">(;!n.done&amp;&amp;e&lt;Jt;)e+=</span><span class="s4">50</span><span class="s1">,n=t.next(e);</span><span class="s0">return </span><span class="s1">e&gt;=Jt?</span><span class="s4">1</span><span class="s1">/</span><span class="s4">0</span><span class="s1">:e}</span><span class="s0">function </span><span class="s1">te(t,e,n){</span><span class="s0">const </span><span class="s1">s=Math.max(e-</span><span class="s4">5</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);</span><span class="s0">return </span><span class="s1">W(n-t(s),e-s)}</span><span class="s0">const </span><span class="s1">ee=</span><span class="s4">100</span><span class="s1">,ne=</span><span class="s4">10</span><span class="s1">,se=</span><span class="s4">1</span><span class="s1">,ie=</span><span class="s4">0</span><span class="s1">,re=</span><span class="s4">800</span><span class="s1">,oe=</span><span class="s4">.3</span><span class="s1">,ae=</span><span class="s4">.3</span><span class="s1">,ue={granular:</span><span class="s4">.01</span><span class="s1">,</span><span class="s0">default</span><span class="s1">:</span><span class="s4">2</span><span class="s1">},le={granular:</span><span class="s4">.005</span><span class="s1">,</span><span class="s0">default</span><span class="s1">:</span><span class="s4">.5</span><span class="s1">},he=</span><span class="s4">.01</span><span class="s1">,ce=</span><span class="s4">10</span><span class="s1">,de=</span><span class="s4">.05</span><span class="s1">,pe=</span><span class="s4">1</span><span class="s1">,me=</span><span class="s4">.001</span><span class="s1">;</span><span class="s0">function </span><span class="s1">fe({duration:t=re,bounce:e=oe,velocity:s=ie,mass:i=se}){</span><span class="s0">let </span><span class="s1">r,o,a=</span><span class="s4">1</span><span class="s1">-e;a=n(de,pe,a),t=n(he,ce,q(t)),a&lt;</span><span class="s4">1</span><span class="s1">?(r=e=&gt;{</span><span class="s0">const </span><span class="s1">n=e*a,i=n*t,r=n-s,o=ve(e,a),u=Math.exp(-i);</span><span class="s0">return </span><span class="s1">me-r/o*u},o=e=&gt;{</span><span class="s0">const </span><span class="s1">n=e*a*t,i=n*s+s,o=Math.pow(a,</span><span class="s4">2</span><span class="s1">)*Math.pow(e,</span><span class="s4">2</span><span class="s1">)*t,u=Math.exp(-n),l=ve(Math.pow(e,</span><span class="s4">2</span><span class="s1">),a);</span><span class="s0">return</span><span class="s1">(-r(e)+me&gt;</span><span class="s4">0</span><span class="s1">?-</span><span class="s4">1</span><span class="s1">:</span><span class="s4">1</span><span class="s1">)*((i-o)*u)/l}):(r=e=&gt;Math.exp(-e*t)*((e-s)*t+</span><span class="s4">1</span><span class="s1">)-</span><span class="s4">.001</span><span class="s1">,o=e=&gt;Math.exp(-e*t)*(t*t*(s-e)));</span><span class="s0">const </span><span class="s1">u=</span><span class="s0">function</span><span class="s1">(t,e,n){</span><span class="s0">let </span><span class="s1">s=n;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s4">1</span><span class="s1">;n&lt;ye;n++)s-=t(s)/e(s);</span><span class="s0">return </span><span class="s1">s}(r,o,</span><span class="s4">5</span><span class="s1">/t);</span><span class="s0">if</span><span class="s1">(t=U(t),isNaN(u))</span><span class="s0">return</span><span class="s1">{stiffness:ee,damping:ne,duration:t};{</span><span class="s0">const </span><span class="s1">e=Math.pow(u,</span><span class="s4">2</span><span class="s1">)*i;</span><span class="s0">return</span><span class="s1">{stiffness:e,damping:</span><span class="s4">2</span><span class="s1">*a*Math.sqrt(i*e),duration:t}}}</span><span class="s0">const </span><span class="s1">ye=</span><span class="s4">12</span><span class="s1">;</span><span class="s0">function </span><span class="s1">ve(t,e){</span><span class="s0">return </span><span class="s1">t*Math.sqrt(</span><span class="s4">1</span><span class="s1">-e*e)}</span><span class="s0">const </span><span class="s1">ge=[</span><span class="s2">&quot;duration&quot;</span><span class="s1">,</span><span class="s2">&quot;bounce&quot;</span><span class="s1">],be=[</span><span class="s2">&quot;stiffness&quot;</span><span class="s1">,</span><span class="s2">&quot;damping&quot;</span><span class="s1">,</span><span class="s2">&quot;mass&quot;</span><span class="s1">];</span><span class="s0">function </span><span class="s1">we(t,e){</span><span class="s0">return </span><span class="s1">e.some(e=&gt;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==t[e])}</span><span class="s0">function </span><span class="s1">Te(t=ae,e=oe){</span><span class="s0">const </span><span class="s1">s=</span><span class="s2">&quot;object&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">t?{visualDuration:t,keyframes:[</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">],bounce:e}:t;</span><span class="s0">let</span><span class="s1">{restSpeed:i,restDelta:r}=s;</span><span class="s0">const </span><span class="s1">o=s.keyframes[</span><span class="s4">0</span><span class="s1">],a=s.keyframes[s.keyframes.length-</span><span class="s4">1</span><span class="s1">],u={done:!</span><span class="s4">1</span><span class="s1">,value:o},{stiffness:l,damping:h,mass:c,duration:d,velocity:p,isResolvedFromDuration:m}=</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">let </span><span class="s1">e={velocity:ie,stiffness:ee,damping:ne,mass:se,isResolvedFromDuration:!</span><span class="s4">1</span><span class="s1">,...t};</span><span class="s0">if</span><span class="s1">(!we(t,be)&amp;&amp;we(t,ge))</span><span class="s0">if</span><span class="s1">(t.visualDuration){</span><span class="s0">const </span><span class="s1">s=t.visualDuration,i=</span><span class="s4">2</span><span class="s1">*Math.PI/(</span><span class="s4">1.2</span><span class="s1">*s),r=i*i,o=</span><span class="s4">2</span><span class="s1">*n(</span><span class="s4">.05</span><span class="s1">,</span><span class="s4">1</span><span class="s1">,</span><span class="s4">1</span><span class="s1">-(t.bounce||</span><span class="s4">0</span><span class="s1">))*Math.sqrt(r);e={...e,mass:se,stiffness:r,damping:o}}</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">n=fe(t);e={...e,...n,mass:se},e.isResolvedFromDuration=!</span><span class="s4">0</span><span class="s1">}</span><span class="s0">return </span><span class="s1">e}({...s,velocity:-q(s.velocity||</span><span class="s4">0</span><span class="s1">)}),f=p||</span><span class="s4">0</span><span class="s1">,y=h/(</span><span class="s4">2</span><span class="s1">*Math.sqrt(l*c)),v=a-o,g=q(Math.sqrt(l/c)),b=Math.abs(v)&lt;</span><span class="s4">5</span><span class="s1">;</span><span class="s0">let </span><span class="s1">w;</span><span class="s0">if</span><span class="s1">(i||(i=b?ue.granular:ue.default),r||(r=b?le.granular:le.default),y&lt;</span><span class="s4">1</span><span class="s1">){</span><span class="s0">const </span><span class="s1">t=ve(g,y);w=e=&gt;{</span><span class="s0">const </span><span class="s1">n=Math.exp(-y*g*e);</span><span class="s0">return </span><span class="s1">a-n*((f+y*g*v)/t*Math.sin(t*e)+v*Math.cos(t*e))}}</span><span class="s0">else if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">===y)w=t=&gt;a-Math.exp(-g*t)*(v+(f+g*v)*t);</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">t=g*Math.sqrt(y*y-</span><span class="s4">1</span><span class="s1">);w=e=&gt;{</span><span class="s0">const </span><span class="s1">n=Math.exp(-y*g*e),s=Math.min(t*e,</span><span class="s4">300</span><span class="s1">);</span><span class="s0">return </span><span class="s1">a-n*((f+y*g*v)*Math.sinh(s)+t*v*Math.cosh(s))/t}}</span><span class="s0">const </span><span class="s1">T={calculatedDuration:m&amp;&amp;d||</span><span class="s0">null</span><span class="s1">,next:t=&gt;{</span><span class="s0">const </span><span class="s1">e=w(t);</span><span class="s0">if</span><span class="s1">(m)u.done=t&gt;=d;</span><span class="s0">else</span><span class="s1">{</span><span class="s0">let </span><span class="s1">n=</span><span class="s4">0</span><span class="s1">===t?f:</span><span class="s4">0</span><span class="s1">;y&lt;</span><span class="s4">1</span><span class="s1">&amp;&amp;(n=</span><span class="s4">0</span><span class="s1">===t?U(f):te(w,t,e));</span><span class="s0">const </span><span class="s1">s=Math.abs(n)&lt;=i,o=Math.abs(a-e)&lt;=r;u.done=s&amp;&amp;o}</span><span class="s0">return </span><span class="s1">u.value=u.done?a:e,u},toString:()=&gt;{</span><span class="s0">const </span><span class="s1">t=Math.min(Qt(T),Jt),e=Zt(e=&gt;T.next(t*e).value,t,</span><span class="s4">30</span><span class="s1">);</span><span class="s0">return </span><span class="s1">t+</span><span class="s2">&quot;ms &quot;</span><span class="s1">+e},toTransition:()=&gt;{}};</span><span class="s0">return </span><span class="s1">T}</span><span class="s0">function </span><span class="s1">Se({keyframes:t,velocity:e=</span><span class="s4">0</span><span class="s1">,power:n=</span><span class="s4">.8</span><span class="s1">,timeConstant:s=</span><span class="s4">325</span><span class="s1">,bounceDamping:i=</span><span class="s4">10</span><span class="s1">,bounceStiffness:r=</span><span class="s4">500</span><span class="s1">,modifyTarget:o,min:a,max:u,restDelta:l=</span><span class="s4">.5</span><span class="s1">,restSpeed:h}){</span><span class="s0">const </span><span class="s1">c=t[</span><span class="s4">0</span><span class="s1">],d={done:!</span><span class="s4">1</span><span class="s1">,value:c},p=t=&gt;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===a?u:</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===u||Math.abs(a-t)&lt;Math.abs(u-t)?a:u;</span><span class="s0">let </span><span class="s1">m=n*e;</span><span class="s0">const </span><span class="s1">f=c+m,y=</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===o?f:o(f);y!==f&amp;&amp;(m=y-c);</span><span class="s0">const </span><span class="s1">v=t=&gt;-m*Math.exp(-t/s),g=t=&gt;y+v(t),b=t=&gt;{</span><span class="s0">const </span><span class="s1">e=v(t),n=g(t);d.done=Math.abs(e)&lt;=l,d.value=d.done?y:n};</span><span class="s0">let </span><span class="s1">w,T;</span><span class="s0">const </span><span class="s1">S=t=&gt;{</span><span class="s0">var </span><span class="s1">e;(e=d.value,</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==a&amp;&amp;e&lt;a||</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==u&amp;&amp;e&gt;u)&amp;&amp;(w=t,T=Te({keyframes:[d.value,p(d.value)],velocity:te(g,t,d.value),damping:i,stiffness:r,restDelta:l,restSpeed:h}))};</span><span class="s0">return </span><span class="s1">S(</span><span class="s4">0</span><span class="s1">),{calculatedDuration:</span><span class="s0">null</span><span class="s1">,next:t=&gt;{</span><span class="s0">let </span><span class="s1">e=!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">return </span><span class="s1">T||</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==w||(e=!</span><span class="s4">0</span><span class="s1">,b(t),S(t)),</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==w&amp;&amp;t&gt;=w?T.next(t-w):(!e&amp;&amp;b(t),d)}}}</span><span class="s0">function </span><span class="s1">Ae(t,e,{clamp:s=!</span><span class="s4">0</span><span class="s1">,ease:i,mixer:r}={}){</span><span class="s0">const </span><span class="s1">o=t.length;</span><span class="s0">if</span><span class="s1">(e.length,</span><span class="s4">1</span><span class="s1">===o)</span><span class="s0">return</span><span class="s1">()=&gt;e[</span><span class="s4">0</span><span class="s1">];</span><span class="s0">if</span><span class="s1">(</span><span class="s4">2</span><span class="s1">===o&amp;&amp;e[</span><span class="s4">0</span><span class="s1">]===e[</span><span class="s4">1</span><span class="s1">])</span><span class="s0">return</span><span class="s1">()=&gt;e[</span><span class="s4">1</span><span class="s1">];</span><span class="s0">const </span><span class="s1">a=t[</span><span class="s4">0</span><span class="s1">]===t[</span><span class="s4">1</span><span class="s1">];t[</span><span class="s4">0</span><span class="s1">]&gt;t[o-</span><span class="s4">1</span><span class="s1">]&amp;&amp;(t=[...t].reverse(),e=[...e].reverse());</span><span class="s0">const </span><span class="s1">u=</span><span class="s0">function</span><span class="s1">(t,e,n){</span><span class="s0">const </span><span class="s1">s=[],i=n||D.mix||_t,r=t.length-</span><span class="s4">1</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s4">0</span><span class="s1">;n&lt;r;n++){</span><span class="s0">let </span><span class="s1">r=i(t[n],t[n+</span><span class="s4">1</span><span class="s1">]);</span><span class="s0">if</span><span class="s1">(e){</span><span class="s0">const </span><span class="s1">t=Array.isArray(e)?e[n]||N:e;r=B(t,r)}s.push(r)}</span><span class="s0">return </span><span class="s1">s}(e,i,r),l=u.length,h=n=&gt;{</span><span class="s0">if</span><span class="s1">(a&amp;&amp;n&lt;t[</span><span class="s4">0</span><span class="s1">])</span><span class="s0">return </span><span class="s1">e[</span><span class="s4">0</span><span class="s1">];</span><span class="s0">let </span><span class="s1">s=</span><span class="s4">0</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(l&gt;</span><span class="s4">1</span><span class="s1">)</span><span class="s0">for</span><span class="s1">(;s&lt;t.length-</span><span class="s4">2</span><span class="s1">&amp;&amp;!(n&lt;t[s+</span><span class="s4">1</span><span class="s1">]);s++);</span><span class="s0">const </span><span class="s1">i=L(t[s],t[s+</span><span class="s4">1</span><span class="s1">],n);</span><span class="s0">return </span><span class="s1">u[s](i)};</span><span class="s0">return </span><span class="s1">s?e=&gt;h(n(t[</span><span class="s4">0</span><span class="s1">],t[o-</span><span class="s4">1</span><span class="s1">],e)):h}</span><span class="s0">function </span><span class="s1">Me(t){</span><span class="s0">const </span><span class="s1">e=[</span><span class="s4">0</span><span class="s1">];</span><span class="s0">return function</span><span class="s1">(t,e){</span><span class="s0">const </span><span class="s1">n=t[t.length-</span><span class="s4">1</span><span class="s1">];</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">s=</span><span class="s4">1</span><span class="s1">;s&lt;=e;s++){</span><span class="s0">const </span><span class="s1">i=L(</span><span class="s4">0</span><span class="s1">,e,s);t.push(Bt(n,</span><span class="s4">1</span><span class="s1">,i))}}(e,t.length-</span><span class="s4">1</span><span class="s1">),e}</span><span class="s0">function </span><span class="s1">Ve({duration:t=</span><span class="s4">300</span><span class="s1">,keyframes:e,times:n,ease:s=</span><span class="s2">&quot;easeInOut&quot;</span><span class="s1">}){</span><span class="s0">const </span><span class="s1">i=(t=&gt;Array.isArray(t)&amp;&amp;</span><span class="s2">&quot;number&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">t[</span><span class="s4">0</span><span class="s1">])(s)?s.map(ot):ot(s),r={done:!</span><span class="s4">1</span><span class="s1">,value:e[</span><span class="s4">0</span><span class="s1">]},o=</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">return </span><span class="s1">t.map(t=&gt;t*e)}(n&amp;&amp;n.length===e.length?n:Me(e),t),a=Ae(o,e,{ease:Array.isArray(i)?i:(u=e,l=i,u.map(()=&gt;l||st).splice(</span><span class="s4">0</span><span class="s1">,u.length-</span><span class="s4">1</span><span class="s1">))});</span><span class="s0">var </span><span class="s1">u,l;</span><span class="s0">return</span><span class="s1">{calculatedDuration:t,next:e=&gt;(r.value=a(e),r.done=e&gt;=t,r)}}Te.applyToOptions=t=&gt;{</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">function</span><span class="s1">(t,e=</span><span class="s4">100</span><span class="s1">,n){</span><span class="s0">const </span><span class="s1">s=n({...t,keyframes:[</span><span class="s4">0</span><span class="s1">,e]}),i=Math.min(Qt(s),Jt);</span><span class="s0">return</span><span class="s1">{type:</span><span class="s2">&quot;keyframes&quot;</span><span class="s1">,ease:t=&gt;s.next(i*t).value/e,duration:q(i)}}(t,</span><span class="s4">100</span><span class="s1">,Te);</span><span class="s0">return </span><span class="s1">t.ease=e.ease,t.duration=U(e.duration),t.type=</span><span class="s2">&quot;keyframes&quot;</span><span class="s1">,t};</span><span class="s0">const </span><span class="s1">xe=t=&gt;</span><span class="s0">null</span><span class="s1">!==t;</span><span class="s0">function </span><span class="s1">Ce(t,{repeat:e,repeatType:n=</span><span class="s2">&quot;loop&quot;</span><span class="s1">},s,i=</span><span class="s4">1</span><span class="s1">){</span><span class="s0">const </span><span class="s1">r=t.filter(xe),o=i&lt;</span><span class="s4">0</span><span class="s1">||e&amp;&amp;</span><span class="s2">&quot;loop&quot;</span><span class="s1">!==n&amp;&amp;e%</span><span class="s4">2</span><span class="s1">==</span><span class="s4">1</span><span class="s1">?</span><span class="s4">0</span><span class="s1">:r.length-</span><span class="s4">1</span><span class="s1">;</span><span class="s0">return </span><span class="s1">o&amp;&amp;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==s?s:r[o]}</span><span class="s0">const </span><span class="s1">ke={decay:Se,inertia:Se,tween:Ve,keyframes:Ve,spring:Te};</span><span class="s0">function </span><span class="s1">Pe(t){</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t.type&amp;&amp;(t.type=ke[t.type])}</span><span class="s0">class </span><span class="s1">Ee{constructor(){</span><span class="s0">this</span><span class="s1">.updateFinished()}get finished(){</span><span class="s0">return this</span><span class="s1">._finished}updateFinished(){</span><span class="s0">this</span><span class="s1">._finished=</span><span class="s0">new </span><span class="s1">Promise(t=&gt;{</span><span class="s0">this</span><span class="s1">.resolve=t})}notifyFinished(){</span><span class="s0">this</span><span class="s1">.resolve()}then(t,e){</span><span class="s0">return this</span><span class="s1">.finished.then(t,e)}}</span><span class="s0">const </span><span class="s1">Fe=t=&gt;t/</span><span class="s4">100</span><span class="s1">;</span><span class="s0">class </span><span class="s1">De </span><span class="s0">extends </span><span class="s1">Ee{constructor(t){</span><span class="s0">super</span><span class="s1">(),</span><span class="s0">this</span><span class="s1">.state=</span><span class="s2">&quot;idle&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.startTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isStopped=!</span><span class="s4">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.currentTime=</span><span class="s4">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.playbackSpeed=</span><span class="s4">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.stop=()=&gt;{</span><span class="s0">const</span><span class="s1">{motionValue:t}=</span><span class="s0">this</span><span class="s1">.options;t&amp;&amp;t.updatedAt!==yt.now()&amp;&amp;</span><span class="s0">this</span><span class="s1">.tick(yt.now()),</span><span class="s0">this</span><span class="s1">.isStopped=!</span><span class="s4">0</span><span class="s1">,</span><span class="s2">&quot;idle&quot;</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.state&amp;&amp;(</span><span class="s0">this</span><span class="s1">.teardown(),</span><span class="s0">this</span><span class="s1">.options.onStop?.())},</span><span class="s0">this</span><span class="s1">.options=t,</span><span class="s0">this</span><span class="s1">.initAnimation(),</span><span class="s0">this</span><span class="s1">.play(),!</span><span class="s4">1</span><span class="s1">===t.autoplay&amp;&amp;</span><span class="s0">this</span><span class="s1">.pause()}initAnimation(){</span><span class="s0">const</span><span class="s1">{options:t}=</span><span class="s0">this</span><span class="s1">;Pe(t);</span><span class="s0">const</span><span class="s1">{type:e=Ve,repeat:n=</span><span class="s4">0</span><span class="s1">,repeatDelay:s=</span><span class="s4">0</span><span class="s1">,repeatType:i,velocity:r=</span><span class="s4">0</span><span class="s1">}=t;</span><span class="s0">let</span><span class="s1">{keyframes:o}=t;</span><span class="s0">const </span><span class="s1">a=e||Ve;a!==Ve&amp;&amp;</span><span class="s2">&quot;number&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">o[</span><span class="s4">0</span><span class="s1">]&amp;&amp;(</span><span class="s0">this</span><span class="s1">.mixKeyframes=B(Fe,_t(o[</span><span class="s4">0</span><span class="s1">],o[</span><span class="s4">1</span><span class="s1">])),o=[</span><span class="s4">0</span><span class="s1">,</span><span class="s4">100</span><span class="s1">]);</span><span class="s0">const </span><span class="s1">u=a({...t,keyframes:o});</span><span class="s2">&quot;mirror&quot;</span><span class="s1">===i&amp;&amp;(</span><span class="s0">this</span><span class="s1">.mirroredGenerator=a({...t,keyframes:[...o].reverse(),velocity:-r})),</span><span class="s0">null</span><span class="s1">===u.calculatedDuration&amp;&amp;(u.calculatedDuration=Qt(u));</span><span class="s0">const</span><span class="s1">{calculatedDuration:l}=u;</span><span class="s0">this</span><span class="s1">.calculatedDuration=l,</span><span class="s0">this</span><span class="s1">.resolvedDuration=l+s,</span><span class="s0">this</span><span class="s1">.totalDuration=</span><span class="s0">this</span><span class="s1">.resolvedDuration*(n+</span><span class="s4">1</span><span class="s1">)-s,</span><span class="s0">this</span><span class="s1">.generator=u}updateTime(t){</span><span class="s0">const </span><span class="s1">e=Math.round(t-</span><span class="s0">this</span><span class="s1">.startTime)*</span><span class="s0">this</span><span class="s1">.playbackSpeed;</span><span class="s0">null</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.holdTime?</span><span class="s0">this</span><span class="s1">.currentTime=</span><span class="s0">this</span><span class="s1">.holdTime:</span><span class="s0">this</span><span class="s1">.currentTime=e}tick(t,e=!</span><span class="s4">1</span><span class="s1">){</span><span class="s0">const</span><span class="s1">{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:u}=</span><span class="s0">this</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.startTime)</span><span class="s0">return </span><span class="s1">s.next(</span><span class="s4">0</span><span class="s1">);</span><span class="s0">const</span><span class="s1">{delay:l=</span><span class="s4">0</span><span class="s1">,keyframes:h,repeat:c,repeatType:d,repeatDelay:p,type:m,onUpdate:f,finalKeyframe:y}=</span><span class="s0">this</span><span class="s1">.options;</span><span class="s0">this</span><span class="s1">.speed&gt;</span><span class="s4">0</span><span class="s1">?</span><span class="s0">this</span><span class="s1">.startTime=Math.min(</span><span class="s0">this</span><span class="s1">.startTime,t):</span><span class="s0">this</span><span class="s1">.speed&lt;</span><span class="s4">0</span><span class="s1">&amp;&amp;(</span><span class="s0">this</span><span class="s1">.startTime=Math.min(t-i/</span><span class="s0">this</span><span class="s1">.speed,</span><span class="s0">this</span><span class="s1">.startTime)),e?</span><span class="s0">this</span><span class="s1">.currentTime=t:</span><span class="s0">this</span><span class="s1">.updateTime(t);</span><span class="s0">const </span><span class="s1">v=</span><span class="s0">this</span><span class="s1">.currentTime-l*(</span><span class="s0">this</span><span class="s1">.playbackSpeed&gt;=</span><span class="s4">0</span><span class="s1">?</span><span class="s4">1</span><span class="s1">:-</span><span class="s4">1</span><span class="s1">),g=</span><span class="s0">this</span><span class="s1">.playbackSpeed&gt;=</span><span class="s4">0</span><span class="s1">?v&lt;</span><span class="s4">0</span><span class="s1">:v&gt;i;</span><span class="s0">this</span><span class="s1">.currentTime=Math.max(v,</span><span class="s4">0</span><span class="s1">),</span><span class="s2">&quot;finished&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.holdTime&amp;&amp;(</span><span class="s0">this</span><span class="s1">.currentTime=i);</span><span class="s0">let </span><span class="s1">b=</span><span class="s0">this</span><span class="s1">.currentTime,w=s;</span><span class="s0">if</span><span class="s1">(c){</span><span class="s0">const </span><span class="s1">t=Math.min(</span><span class="s0">this</span><span class="s1">.currentTime,i)/a;</span><span class="s0">let </span><span class="s1">e=Math.floor(t),s=t%</span><span class="s4">1</span><span class="s1">;!s&amp;&amp;t&gt;=</span><span class="s4">1</span><span class="s1">&amp;&amp;(s=</span><span class="s4">1</span><span class="s1">),</span><span class="s4">1</span><span class="s1">===s&amp;&amp;e--,e=Math.min(e,c+</span><span class="s4">1</span><span class="s1">);Boolean(e%</span><span class="s4">2</span><span class="s1">)&amp;&amp;(</span><span class="s2">&quot;reverse&quot;</span><span class="s1">===d?(s=</span><span class="s4">1</span><span class="s1">-s,p&amp;&amp;(s-=p/a)):</span><span class="s2">&quot;mirror&quot;</span><span class="s1">===d&amp;&amp;(w=o)),b=n(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">,s)*a}</span><span class="s0">const </span><span class="s1">T=g?{done:!</span><span class="s4">1</span><span class="s1">,value:h[</span><span class="s4">0</span><span class="s1">]}:w.next(b);r&amp;&amp;(T.value=r(T.value));</span><span class="s0">let</span><span class="s1">{done:S}=T;g||</span><span class="s0">null</span><span class="s1">===u||(S=</span><span class="s0">this</span><span class="s1">.playbackSpeed&gt;=</span><span class="s4">0</span><span class="s1">?</span><span class="s0">this</span><span class="s1">.currentTime&gt;=i:</span><span class="s0">this</span><span class="s1">.currentTime&lt;=</span><span class="s4">0</span><span class="s1">);</span><span class="s0">const </span><span class="s1">A=</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.holdTime&amp;&amp;(</span><span class="s2">&quot;finished&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state||</span><span class="s2">&quot;running&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;S);</span><span class="s0">return </span><span class="s1">A&amp;&amp;m!==Se&amp;&amp;(T.value=Ce(h,</span><span class="s0">this</span><span class="s1">.options,y,</span><span class="s0">this</span><span class="s1">.speed)),f&amp;&amp;f(T.value),A&amp;&amp;</span><span class="s0">this</span><span class="s1">.finish(),T}then(t,e){</span><span class="s0">return this</span><span class="s1">.finished.then(t,e)}get duration(){</span><span class="s0">return </span><span class="s1">q(</span><span class="s0">this</span><span class="s1">.calculatedDuration)}get iterationDuration(){</span><span class="s0">const</span><span class="s1">{delay:t=</span><span class="s4">0</span><span class="s1">}=</span><span class="s0">this</span><span class="s1">.options||{};</span><span class="s0">return this</span><span class="s1">.duration+q(t)}get time(){</span><span class="s0">return </span><span class="s1">q(</span><span class="s0">this</span><span class="s1">.currentTime)}set time(t){t=U(t),</span><span class="s0">this</span><span class="s1">.currentTime=t,</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.startTime||</span><span class="s0">null</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.holdTime||</span><span class="s4">0</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.playbackSpeed?</span><span class="s0">this</span><span class="s1">.holdTime=t:</span><span class="s0">this</span><span class="s1">.driver&amp;&amp;(</span><span class="s0">this</span><span class="s1">.startTime=</span><span class="s0">this</span><span class="s1">.driver.now()-t/</span><span class="s0">this</span><span class="s1">.playbackSpeed),</span><span class="s0">this</span><span class="s1">.driver?.start(!</span><span class="s4">1</span><span class="s1">)}get speed(){</span><span class="s0">return this</span><span class="s1">.playbackSpeed}set speed(t){</span><span class="s0">this</span><span class="s1">.updateTime(yt.now());</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.playbackSpeed!==t;</span><span class="s0">this</span><span class="s1">.playbackSpeed=t,e&amp;&amp;(</span><span class="s0">this</span><span class="s1">.time=q(</span><span class="s0">this</span><span class="s1">.currentTime))}play(){</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.isStopped)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{driver:t=Gt,startTime:e}=</span><span class="s0">this</span><span class="s1">.options;</span><span class="s0">this</span><span class="s1">.driver||(</span><span class="s0">this</span><span class="s1">.driver=t(t=&gt;</span><span class="s0">this</span><span class="s1">.tick(t))),</span><span class="s0">this</span><span class="s1">.options.onPlay?.();</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.driver.now();</span><span class="s2">&quot;finished&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state?(</span><span class="s0">this</span><span class="s1">.updateFinished(),</span><span class="s0">this</span><span class="s1">.startTime=n):</span><span class="s0">null</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.holdTime?</span><span class="s0">this</span><span class="s1">.startTime=n-</span><span class="s0">this</span><span class="s1">.holdTime:</span><span class="s0">this</span><span class="s1">.startTime||(</span><span class="s0">this</span><span class="s1">.startTime=e??n),</span><span class="s2">&quot;finished&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;</span><span class="s0">this</span><span class="s1">.speed&lt;</span><span class="s4">0</span><span class="s1">&amp;&amp;(</span><span class="s0">this</span><span class="s1">.startTime+=</span><span class="s0">this</span><span class="s1">.calculatedDuration),</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.state=</span><span class="s2">&quot;running&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.driver.start()}pause(){</span><span class="s0">this</span><span class="s1">.state=</span><span class="s2">&quot;paused&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.updateTime(yt.now()),</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">this</span><span class="s1">.currentTime}complete(){</span><span class="s2">&quot;running&quot;</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.state&amp;&amp;</span><span class="s0">this</span><span class="s1">.play(),</span><span class="s0">this</span><span class="s1">.state=</span><span class="s2">&quot;finished&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">null</span><span class="s1">}finish(){</span><span class="s0">this</span><span class="s1">.notifyFinished(),</span><span class="s0">this</span><span class="s1">.teardown(),</span><span class="s0">this</span><span class="s1">.state=</span><span class="s2">&quot;finished&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.options.onComplete?.()}cancel(){</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.startTime=</span><span class="s4">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.tick(</span><span class="s4">0</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.teardown(),</span><span class="s0">this</span><span class="s1">.options.onCancel?.()}teardown(){</span><span class="s0">this</span><span class="s1">.state=</span><span class="s2">&quot;idle&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.stopDriver(),</span><span class="s0">this</span><span class="s1">.startTime=</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">null</span><span class="s1">}stopDriver(){</span><span class="s0">this</span><span class="s1">.driver&amp;&amp;(</span><span class="s0">this</span><span class="s1">.driver.stop(),</span><span class="s0">this</span><span class="s1">.driver=</span><span class="s0">void </span><span class="s4">0</span><span class="s1">)}sample(t){</span><span class="s0">return this</span><span class="s1">.startTime=</span><span class="s4">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.tick(t,!</span><span class="s4">0</span><span class="s1">)}attachTimeline(t){</span><span class="s0">return this</span><span class="s1">.options.allowFlatten&amp;&amp;(</span><span class="s0">this</span><span class="s1">.options.type=</span><span class="s2">&quot;keyframes&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.options.ease=</span><span class="s2">&quot;linear&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.initAnimation()),</span><span class="s0">this</span><span class="s1">.driver?.stop(),t.observe(</span><span class="s0">this</span><span class="s1">)}}</span><span class="s0">const </span><span class="s1">Oe=t=&gt;</span><span class="s4">180</span><span class="s1">*t/Math.PI,Ie=t=&gt;{</span><span class="s0">const </span><span class="s1">e=Oe(Math.atan2(t[</span><span class="s4">1</span><span class="s1">],t[</span><span class="s4">0</span><span class="s1">]));</span><span class="s0">return </span><span class="s1">Ne(e)},Re={x:</span><span class="s4">4</span><span class="s1">,y:</span><span class="s4">5</span><span class="s1">,translateX:</span><span class="s4">4</span><span class="s1">,translateY:</span><span class="s4">5</span><span class="s1">,scaleX:</span><span class="s4">0</span><span class="s1">,scaleY:</span><span class="s4">3</span><span class="s1">,scale:t=&gt;(Math.abs(t[</span><span class="s4">0</span><span class="s1">])+Math.abs(t[</span><span class="s4">3</span><span class="s1">]))/</span><span class="s4">2</span><span class="s1">,rotate:Ie,rotateZ:Ie,skewX:t=&gt;Oe(Math.atan(t[</span><span class="s4">1</span><span class="s1">])),skewY:t=&gt;Oe(Math.atan(t[</span><span class="s4">2</span><span class="s1">])),skew:t=&gt;(Math.abs(t[</span><span class="s4">1</span><span class="s1">])+Math.abs(t[</span><span class="s4">2</span><span class="s1">]))/</span><span class="s4">2</span><span class="s1">},Ne=t=&gt;((t%=</span><span class="s4">360</span><span class="s1">)&lt;</span><span class="s4">0</span><span class="s1">&amp;&amp;(t+=</span><span class="s4">360</span><span class="s1">),t),Ke=t=&gt;Math.sqrt(t[</span><span class="s4">0</span><span class="s1">]*t[</span><span class="s4">0</span><span class="s1">]+t[</span><span class="s4">1</span><span class="s1">]*t[</span><span class="s4">1</span><span class="s1">]),Be=t=&gt;Math.sqrt(t[</span><span class="s4">4</span><span class="s1">]*t[</span><span class="s4">4</span><span class="s1">]+t[</span><span class="s4">5</span><span class="s1">]*t[</span><span class="s4">5</span><span class="s1">]),Le={x:</span><span class="s4">12</span><span class="s1">,y:</span><span class="s4">13</span><span class="s1">,z:</span><span class="s4">14</span><span class="s1">,translateX:</span><span class="s4">12</span><span class="s1">,translateY:</span><span class="s4">13</span><span class="s1">,translateZ:</span><span class="s4">14</span><span class="s1">,scaleX:Ke,scaleY:Be,scale:t=&gt;(Ke(t)+Be(t))/</span><span class="s4">2</span><span class="s1">,rotateX:t=&gt;Ne(Oe(Math.atan2(t[</span><span class="s4">6</span><span class="s1">],t[</span><span class="s4">5</span><span class="s1">]))),rotateY:t=&gt;Ne(Oe(Math.atan2(-t[</span><span class="s4">2</span><span class="s1">],t[</span><span class="s4">0</span><span class="s1">]))),rotateZ:Ie,rotate:Ie,skewX:t=&gt;Oe(Math.atan(t[</span><span class="s4">4</span><span class="s1">])),skewY:t=&gt;Oe(Math.atan(t[</span><span class="s4">1</span><span class="s1">])),skew:t=&gt;(Math.abs(t[</span><span class="s4">1</span><span class="s1">])+Math.abs(t[</span><span class="s4">4</span><span class="s1">]))/</span><span class="s4">2</span><span class="s1">};</span><span class="s0">function </span><span class="s1">je(t){</span><span class="s0">return </span><span class="s1">t.includes(</span><span class="s2">&quot;scale&quot;</span><span class="s1">)?</span><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">}</span><span class="s0">function </span><span class="s1">Ue(t,e){</span><span class="s0">if</span><span class="s1">(!t||</span><span class="s2">&quot;none&quot;</span><span class="s1">===t)</span><span class="s0">return </span><span class="s1">je(e);</span><span class="s0">const </span><span class="s1">n=t.match(</span><span class="s3">/^matrix3d\(([-\d.e\s,]+)\)$/u</span><span class="s1">);</span><span class="s0">let </span><span class="s1">s,i;</span><span class="s0">if</span><span class="s1">(n)s=Le,i=n;</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">e=t.match(</span><span class="s3">/^matrix\(([-\d.e\s,]+)\)$/u</span><span class="s1">);s=Re,i=e}</span><span class="s0">if</span><span class="s1">(!i)</span><span class="s0">return </span><span class="s1">je(e);</span><span class="s0">const </span><span class="s1">r=s[e],o=i[</span><span class="s4">1</span><span class="s1">].split(</span><span class="s2">&quot;,&quot;</span><span class="s1">).map(qe);</span><span class="s0">return</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">r?r(o):o[r]}</span><span class="s0">function </span><span class="s1">qe(t){</span><span class="s0">return </span><span class="s1">parseFloat(t.trim())}</span><span class="s0">const </span><span class="s1">We=e=&gt;e===t||e===r,Ye=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s2">&quot;x&quot;</span><span class="s1">,</span><span class="s2">&quot;y&quot;</span><span class="s1">,</span><span class="s2">&quot;z&quot;</span><span class="s1">]),$e=o.filter(t=&gt;!Ye.has(t));</span><span class="s0">const </span><span class="s1">ze={width:({x:t},{paddingLeft:e=</span><span class="s2">&quot;0&quot;</span><span class="s1">,paddingRight:n=</span><span class="s2">&quot;0&quot;</span><span class="s1">})=&gt;t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e=</span><span class="s2">&quot;0&quot;</span><span class="s1">,paddingBottom:n=</span><span class="s2">&quot;0&quot;</span><span class="s1">})=&gt;t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=&gt;parseFloat(e),left:(t,{left:e})=&gt;parseFloat(e),bottom:({y:t},{top:e})=&gt;parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=&gt;parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=&gt;Ue(e,</span><span class="s2">&quot;x&quot;</span><span class="s1">),y:(t,{transform:e})=&gt;Ue(e,</span><span class="s2">&quot;y&quot;</span><span class="s1">)};ze.translateX=ze.x,ze.translateY=ze.y;</span><span class="s0">const </span><span class="s1">He=</span><span class="s0">new </span><span class="s1">Set;</span><span class="s0">let </span><span class="s1">Xe=!</span><span class="s4">1</span><span class="s1">,_e=!</span><span class="s4">1</span><span class="s1">,Ge=!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">function </span><span class="s1">Ze(){</span><span class="s0">if</span><span class="s1">(_e){</span><span class="s0">const </span><span class="s1">t=Array.from(He).filter(t=&gt;t.needsMeasurement),e=</span><span class="s0">new </span><span class="s1">Set(t.map(t=&gt;t.element)),n=</span><span class="s0">new </span><span class="s1">Map;e.forEach(t=&gt;{</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">const </span><span class="s1">e=[];</span><span class="s0">return </span><span class="s1">$e.forEach(n=&gt;{</span><span class="s0">const </span><span class="s1">s=t.getValue(n);</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==s&amp;&amp;(e.push([n,s.get()]),s.set(n.startsWith(</span><span class="s2">&quot;scale&quot;</span><span class="s1">)?</span><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">))}),e}(t);e.length&amp;&amp;(n.set(t,e),t.render())}),t.forEach(t=&gt;t.measureInitialState()),e.forEach(t=&gt;{t.render();</span><span class="s0">const </span><span class="s1">e=n.get(t);e&amp;&amp;e.forEach(([e,n])=&gt;{t.getValue(e)?.set(n)})}),t.forEach(t=&gt;t.measureEndState()),t.forEach(t=&gt;{</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==t.suspendedScrollY&amp;&amp;window.scrollTo(</span><span class="s4">0</span><span class="s1">,t.suspendedScrollY)})}_e=!</span><span class="s4">1</span><span class="s1">,Xe=!</span><span class="s4">1</span><span class="s1">,He.forEach(t=&gt;t.complete(Ge)),He.clear()}</span><span class="s0">function </span><span class="s1">Je(){He.forEach(t=&gt;{t.readKeyframes(),t.needsMeasurement&amp;&amp;(_e=!</span><span class="s4">0</span><span class="s1">)})}</span><span class="s0">class </span><span class="s1">Qe{constructor(t,e,n,s,i,r=!</span><span class="s4">1</span><span class="s1">){</span><span class="s0">this</span><span class="s1">.state=</span><span class="s2">&quot;pending&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isAsync=!</span><span class="s4">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.needsMeasurement=!</span><span class="s4">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.unresolvedKeyframes=[...t],</span><span class="s0">this</span><span class="s1">.onComplete=e,</span><span class="s0">this</span><span class="s1">.name=n,</span><span class="s0">this</span><span class="s1">.motionValue=s,</span><span class="s0">this</span><span class="s1">.element=i,</span><span class="s0">this</span><span class="s1">.isAsync=r}scheduleResolve(){</span><span class="s0">this</span><span class="s1">.state=</span><span class="s2">&quot;scheduled&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isAsync?(He.add(</span><span class="s0">this</span><span class="s1">),Xe||(Xe=!</span><span class="s4">0</span><span class="s1">,ht.read(Je),ht.resolveKeyframes(Ze))):(</span><span class="s0">this</span><span class="s1">.readKeyframes(),</span><span class="s0">this</span><span class="s1">.complete())}readKeyframes(){</span><span class="s0">const</span><span class="s1">{unresolvedKeyframes:t,name:e,element:n,motionValue:s}=</span><span class="s0">this</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(</span><span class="s0">null</span><span class="s1">===t[</span><span class="s4">0</span><span class="s1">]){</span><span class="s0">const </span><span class="s1">i=s?.get(),r=t[t.length-</span><span class="s4">1</span><span class="s1">];</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==i)t[</span><span class="s4">0</span><span class="s1">]=i;</span><span class="s0">else if</span><span class="s1">(n&amp;&amp;e){</span><span class="s0">const </span><span class="s1">s=n.readValue(e,r);</span><span class="s0">null</span><span class="s1">!=s&amp;&amp;(t[</span><span class="s4">0</span><span class="s1">]=s)}</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===t[</span><span class="s4">0</span><span class="s1">]&amp;&amp;(t[</span><span class="s4">0</span><span class="s1">]=r),s&amp;&amp;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===i&amp;&amp;s.set(t[</span><span class="s4">0</span><span class="s1">])}!</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s4">1</span><span class="s1">;e&lt;t.length;e++)t[e]??(t[e]=t[e-</span><span class="s4">1</span><span class="s1">])}(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!</span><span class="s4">1</span><span class="s1">){</span><span class="s0">this</span><span class="s1">.state=</span><span class="s2">&quot;complete&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.onComplete(</span><span class="s0">this</span><span class="s1">.unresolvedKeyframes,</span><span class="s0">this</span><span class="s1">.finalKeyframe,t),He.delete(</span><span class="s0">this</span><span class="s1">)}cancel(){</span><span class="s2">&quot;scheduled&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;(He.delete(</span><span class="s0">this</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.state=</span><span class="s2">&quot;pending&quot;</span><span class="s1">)}resume(){</span><span class="s2">&quot;pending&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;</span><span class="s0">this</span><span class="s1">.scheduleResolve()}}</span><span class="s0">const </span><span class="s1">tn=R(()=&gt;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==window.ScrollTimeline),en={};</span><span class="s0">function </span><span class="s1">nn(t,e){</span><span class="s0">const </span><span class="s1">n=R(t);</span><span class="s0">return</span><span class="s1">()=&gt;en[e]??n()}</span><span class="s0">const </span><span class="s1">sn=nn(()=&gt;{</span><span class="s0">try</span><span class="s1">{document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">).animate({opacity:</span><span class="s4">0</span><span class="s1">},{easing:</span><span class="s2">&quot;linear(0, 1)&quot;</span><span class="s1">})}</span><span class="s0">catch</span><span class="s1">(t){</span><span class="s0">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s0">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">},</span><span class="s2">&quot;linearEasing&quot;</span><span class="s1">),rn=([t,e,n,s])=&gt;</span><span class="s2">`cubic-bezier(</span><span class="s1">${t}</span><span class="s2">, </span><span class="s1">${e}</span><span class="s2">, </span><span class="s1">${n}</span><span class="s2">, </span><span class="s1">${s}</span><span class="s2">)`</span><span class="s1">,on={linear:</span><span class="s2">&quot;linear&quot;</span><span class="s1">,ease:</span><span class="s2">&quot;ease&quot;</span><span class="s1">,easeIn:</span><span class="s2">&quot;ease-in&quot;</span><span class="s1">,easeOut:</span><span class="s2">&quot;ease-out&quot;</span><span class="s1">,easeInOut:</span><span class="s2">&quot;ease-in-out&quot;</span><span class="s1">,circIn:rn([</span><span class="s4">0</span><span class="s1">,</span><span class="s4">.65</span><span class="s1">,</span><span class="s4">.55</span><span class="s1">,</span><span class="s4">1</span><span class="s1">]),circOut:rn([</span><span class="s4">.55</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">,</span><span class="s4">.45</span><span class="s1">]),backIn:rn([</span><span class="s4">.31</span><span class="s1">,</span><span class="s4">.01</span><span class="s1">,</span><span class="s4">.66</span><span class="s1">,-</span><span class="s4">.59</span><span class="s1">]),backOut:rn([</span><span class="s4">.33</span><span class="s1">,</span><span class="s4">1.53</span><span class="s1">,</span><span class="s4">.69</span><span class="s1">,</span><span class="s4">.99</span><span class="s1">])};</span><span class="s0">function </span><span class="s1">an(t,e){</span><span class="s0">return </span><span class="s1">t?</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?sn()?Zt(t,e):</span><span class="s2">&quot;ease-out&quot;</span><span class="s1">:it(t)?rn(t):Array.isArray(t)?t.map(t=&gt;an(t,e)||on.easeOut):on[t]:</span><span class="s0">void </span><span class="s4">0</span><span class="s1">}</span><span class="s0">function </span><span class="s1">un(t,e,n,{delay:s=</span><span class="s4">0</span><span class="s1">,duration:i=</span><span class="s4">300</span><span class="s1">,repeat:r=</span><span class="s4">0</span><span class="s1">,repeatType:o=</span><span class="s2">&quot;loop&quot;</span><span class="s1">,ease:a=</span><span class="s2">&quot;easeOut&quot;</span><span class="s1">,times:u}={},l=</span><span class="s0">void </span><span class="s4">0</span><span class="s1">){</span><span class="s0">const </span><span class="s1">h={[e]:n};u&amp;&amp;(h.offset=u);</span><span class="s0">const </span><span class="s1">c=an(a,i);Array.isArray(c)&amp;&amp;(h.easing=c);</span><span class="s0">const </span><span class="s1">d={delay:s,duration:i,easing:Array.isArray(c)?</span><span class="s2">&quot;linear&quot;</span><span class="s1">:c,fill:</span><span class="s2">&quot;both&quot;</span><span class="s1">,iterations:r+</span><span class="s4">1</span><span class="s1">,direction:</span><span class="s2">&quot;reverse&quot;</span><span class="s1">===o?</span><span class="s2">&quot;alternate&quot;</span><span class="s1">:</span><span class="s2">&quot;normal&quot;</span><span class="s1">};l&amp;&amp;(d.pseudoElement=l);</span><span class="s0">return </span><span class="s1">t.animate(h,d)}</span><span class="s0">function </span><span class="s1">ln(t){</span><span class="s0">return</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;</span><span class="s2">&quot;applyToOptions&quot;</span><span class="s0">in </span><span class="s1">t}</span><span class="s0">class </span><span class="s1">hn </span><span class="s0">extends </span><span class="s1">Ee{constructor(t){</span><span class="s0">if</span><span class="s1">(</span><span class="s0">super</span><span class="s1">(),</span><span class="s0">this</span><span class="s1">.finishedTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isStopped=!</span><span class="s4">1</span><span class="s1">,!t)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{element:e,name:n,keyframes:s,pseudoElement:i,allowFlatten:r=!</span><span class="s4">1</span><span class="s1">,finalKeyframe:o,onComplete:a}=t;</span><span class="s0">this</span><span class="s1">.isPseudoElement=Boolean(i),</span><span class="s0">this</span><span class="s1">.allowFlatten=r,</span><span class="s0">this</span><span class="s1">.options=t,t.type;</span><span class="s0">const </span><span class="s1">u=</span><span class="s0">function</span><span class="s1">({type:t,...e}){</span><span class="s0">return </span><span class="s1">ln(t)&amp;&amp;sn()?t.applyToOptions(e):(e.duration??(e.duration=</span><span class="s4">300</span><span class="s1">),e.ease??(e.ease=</span><span class="s2">&quot;easeOut&quot;</span><span class="s1">),e)}(t);</span><span class="s0">this</span><span class="s1">.animation=un(e,n,s,u,i),!</span><span class="s4">1</span><span class="s1">===u.autoplay&amp;&amp;</span><span class="s0">this</span><span class="s1">.animation.pause(),</span><span class="s0">this</span><span class="s1">.animation.onfinish=()=&gt;{</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.finishedTime=</span><span class="s0">this</span><span class="s1">.time,!i){</span><span class="s0">const </span><span class="s1">t=Ce(s,</span><span class="s0">this</span><span class="s1">.options,o,</span><span class="s0">this</span><span class="s1">.speed);</span><span class="s0">this</span><span class="s1">.updateMotionValue?</span><span class="s0">this</span><span class="s1">.updateMotionValue(t):</span><span class="s0">function</span><span class="s1">(t,e,n){(t=&gt;t.startsWith(</span><span class="s2">&quot;--&quot;</span><span class="s1">))(e)?t.style.setProperty(e,n):t.style[e]=n}(e,n,t),</span><span class="s0">this</span><span class="s1">.animation.cancel()}a?.(),</span><span class="s0">this</span><span class="s1">.notifyFinished()}}play(){</span><span class="s0">this</span><span class="s1">.isStopped||(</span><span class="s0">this</span><span class="s1">.animation.play(),</span><span class="s2">&quot;finished&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;</span><span class="s0">this</span><span class="s1">.updateFinished())}pause(){</span><span class="s0">this</span><span class="s1">.animation.pause()}complete(){</span><span class="s0">this</span><span class="s1">.animation.finish?.()}cancel(){</span><span class="s0">try</span><span class="s1">{</span><span class="s0">this</span><span class="s1">.animation.cancel()}</span><span class="s0">catch</span><span class="s1">(t){}}stop(){</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.isStopped)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">this</span><span class="s1">.isStopped=!</span><span class="s4">0</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{state:t}=</span><span class="s0">this</span><span class="s1">;</span><span class="s2">&quot;idle&quot;</span><span class="s1">!==t&amp;&amp;</span><span class="s2">&quot;finished&quot;</span><span class="s1">!==t&amp;&amp;(</span><span class="s0">this</span><span class="s1">.updateMotionValue?</span><span class="s0">this</span><span class="s1">.updateMotionValue():</span><span class="s0">this</span><span class="s1">.commitStyles(),</span><span class="s0">this</span><span class="s1">.isPseudoElement||</span><span class="s0">this</span><span class="s1">.cancel())}commitStyles(){</span><span class="s0">this</span><span class="s1">.isPseudoElement||</span><span class="s0">this</span><span class="s1">.animation.commitStyles?.()}get duration(){</span><span class="s0">const </span><span class="s1">t=</span><span class="s0">this</span><span class="s1">.animation.effect?.getComputedTiming?.().duration||</span><span class="s4">0</span><span class="s1">;</span><span class="s0">return </span><span class="s1">q(Number(t))}get iterationDuration(){</span><span class="s0">const</span><span class="s1">{delay:t=</span><span class="s4">0</span><span class="s1">}=</span><span class="s0">this</span><span class="s1">.options||{};</span><span class="s0">return this</span><span class="s1">.duration+q(t)}get time(){</span><span class="s0">return </span><span class="s1">q(Number(</span><span class="s0">this</span><span class="s1">.animation.currentTime)||</span><span class="s4">0</span><span class="s1">)}set time(t){</span><span class="s0">this</span><span class="s1">.finishedTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.animation.currentTime=U(t)}get speed(){</span><span class="s0">return this</span><span class="s1">.animation.playbackRate}set speed(t){t&lt;</span><span class="s4">0</span><span class="s1">&amp;&amp;(</span><span class="s0">this</span><span class="s1">.finishedTime=</span><span class="s0">null</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.animation.playbackRate=t}get state(){</span><span class="s0">return null</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.finishedTime?</span><span class="s2">&quot;finished&quot;</span><span class="s1">:</span><span class="s0">this</span><span class="s1">.animation.playState}get startTime(){</span><span class="s0">return </span><span class="s1">Number(</span><span class="s0">this</span><span class="s1">.animation.startTime)}set startTime(t){</span><span class="s0">this</span><span class="s1">.animation.startTime=t}attachTimeline({timeline:t,observe:e}){</span><span class="s0">return this</span><span class="s1">.allowFlatten&amp;&amp;</span><span class="s0">this</span><span class="s1">.animation.effect?.updateTiming({easing:</span><span class="s2">&quot;linear&quot;</span><span class="s1">}),</span><span class="s0">this</span><span class="s1">.animation.onfinish=</span><span class="s0">null</span><span class="s1">,t&amp;&amp;tn()?(</span><span class="s0">this</span><span class="s1">.animation.timeline=t,N):e(</span><span class="s0">this</span><span class="s1">)}}</span><span class="s0">const </span><span class="s1">cn={anticipate:Z,backInOut:G,circInOut:tt};</span><span class="s0">function </span><span class="s1">dn(t){</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t.ease&amp;&amp;t.ease </span><span class="s0">in </span><span class="s1">cn&amp;&amp;(t.ease=cn[t.ease])}</span><span class="s0">class </span><span class="s1">pn </span><span class="s0">extends </span><span class="s1">hn{constructor(t){dn(t),Pe(t),</span><span class="s0">super</span><span class="s1">(t),t.startTime&amp;&amp;(</span><span class="s0">this</span><span class="s1">.startTime=t.startTime),</span><span class="s0">this</span><span class="s1">.options=t}updateMotionValue(t){</span><span class="s0">const</span><span class="s1">{motionValue:e,onUpdate:n,onComplete:s,element:i,...r}=</span><span class="s0">this</span><span class="s1">.options;</span><span class="s0">if</span><span class="s1">(!e)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==t)</span><span class="s0">return void </span><span class="s1">e.set(t);</span><span class="s0">const </span><span class="s1">o=</span><span class="s0">new </span><span class="s1">De({...r,autoplay:!</span><span class="s4">1</span><span class="s1">}),a=U(</span><span class="s0">this</span><span class="s1">.finishedTime??</span><span class="s0">this</span><span class="s1">.time);e.setWithVelocity(o.sample(a-</span><span class="s4">10</span><span class="s1">).value,o.sample(a).value,</span><span class="s4">10</span><span class="s1">),o.stop()}}</span><span class="s0">const </span><span class="s1">mn=(t,e)=&gt;</span><span class="s2">&quot;zIndex&quot;</span><span class="s1">!==e&amp;&amp;(!(</span><span class="s2">&quot;number&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;!Array.isArray(t))||!(</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">t||!Rt.test(t)&amp;&amp;</span><span class="s2">&quot;0&quot;</span><span class="s1">!==t||t.startsWith(</span><span class="s2">&quot;url(&quot;</span><span class="s1">)));</span><span class="s0">function </span><span class="s1">fn(t){t.duration=</span><span class="s4">0</span><span class="s1">,t.type=</span><span class="s2">&quot;keyframes&quot;</span><span class="s1">}</span><span class="s0">const </span><span class="s1">yn=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s2">&quot;opacity&quot;</span><span class="s1">,</span><span class="s2">&quot;clipPath&quot;</span><span class="s1">,</span><span class="s2">&quot;filter&quot;</span><span class="s1">,</span><span class="s2">&quot;transform&quot;</span><span class="s1">]),vn=R(()=&gt;Object.hasOwnProperty.call(Element.prototype,</span><span class="s2">&quot;animate&quot;</span><span class="s1">));</span><span class="s0">class </span><span class="s1">gn </span><span class="s0">extends </span><span class="s1">Ee{constructor({autoplay:t=!</span><span class="s4">0</span><span class="s1">,delay:e=</span><span class="s4">0</span><span class="s1">,type:n=</span><span class="s2">&quot;keyframes&quot;</span><span class="s1">,repeat:s=</span><span class="s4">0</span><span class="s1">,repeatDelay:i=</span><span class="s4">0</span><span class="s1">,repeatType:r=</span><span class="s2">&quot;loop&quot;</span><span class="s1">,keyframes:o,name:a,motionValue:u,element:l,...h}){</span><span class="s0">super</span><span class="s1">(),</span><span class="s0">this</span><span class="s1">.stop=()=&gt;{</span><span class="s0">this</span><span class="s1">._animation&amp;&amp;(</span><span class="s0">this</span><span class="s1">._animation.stop(),</span><span class="s0">this</span><span class="s1">.stopTimeline?.()),</span><span class="s0">this</span><span class="s1">.keyframeResolver?.cancel()},</span><span class="s0">this</span><span class="s1">.createdAt=yt.now();</span><span class="s0">const </span><span class="s1">c={autoplay:t,delay:e,type:n,repeat:s,repeatDelay:i,repeatType:r,name:a,motionValue:u,element:l,...h},d=l?.KeyframeResolver||Qe;</span><span class="s0">this</span><span class="s1">.keyframeResolver=</span><span class="s0">new </span><span class="s1">d(o,(t,e,n)=&gt;</span><span class="s0">this</span><span class="s1">.onKeyframesResolved(t,e,c,!n),a,u,l),</span><span class="s0">this</span><span class="s1">.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,n,s){</span><span class="s0">this</span><span class="s1">.keyframeResolver=</span><span class="s0">void </span><span class="s4">0</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{name:i,type:r,velocity:o,delay:a,isHandoff:u,onUpdate:l}=n;</span><span class="s0">this</span><span class="s1">.resolvedAt=yt.now(),</span><span class="s0">function</span><span class="s1">(t,e,n,s){</span><span class="s0">const </span><span class="s1">i=t[</span><span class="s4">0</span><span class="s1">];</span><span class="s0">if</span><span class="s1">(</span><span class="s0">null</span><span class="s1">===i)</span><span class="s0">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;display&quot;</span><span class="s1">===e||</span><span class="s2">&quot;visibility&quot;</span><span class="s1">===e)</span><span class="s0">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">r=t[t.length-</span><span class="s4">1</span><span class="s1">],o=mn(i,e),a=mn(r,e);</span><span class="s0">return</span><span class="s1">!(!o||!a)&amp;&amp;(</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">const </span><span class="s1">e=t[</span><span class="s4">0</span><span class="s1">];</span><span class="s0">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">===t.length)</span><span class="s0">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s4">0</span><span class="s1">;n&lt;t.length;n++)</span><span class="s0">if</span><span class="s1">(t[n]!==e)</span><span class="s0">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}(t)||(</span><span class="s2">&quot;spring&quot;</span><span class="s1">===n||ln(n))&amp;&amp;s)}(t,i,r,o)||(!D.instantAnimations&amp;&amp;a||l?.(Ce(t,n,e)),t[</span><span class="s4">0</span><span class="s1">]=t[t.length-</span><span class="s4">1</span><span class="s1">],fn(n),n.repeat=</span><span class="s4">0</span><span class="s1">);</span><span class="s0">const </span><span class="s1">h={startTime:s?</span><span class="s0">this</span><span class="s1">.resolvedAt&amp;&amp;</span><span class="s0">this</span><span class="s1">.resolvedAt-</span><span class="s0">this</span><span class="s1">.createdAt&gt;</span><span class="s4">40</span><span class="s1">?</span><span class="s0">this</span><span class="s1">.resolvedAt:</span><span class="s0">this</span><span class="s1">.createdAt:</span><span class="s0">void </span><span class="s4">0</span><span class="s1">,finalKeyframe:e,...n,keyframes:t},c=!u&amp;&amp;</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">const</span><span class="s1">{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:r,type:o}=t,a=e?.owner?.current;</span><span class="s0">if</span><span class="s1">(!(a </span><span class="s0">instanceof </span><span class="s1">HTMLElement))</span><span class="s0">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{onUpdate:u,transformTemplate:l}=e.owner.getProps();</span><span class="s0">return </span><span class="s1">vn()&amp;&amp;n&amp;&amp;yn.has(n)&amp;&amp;(</span><span class="s2">&quot;transform&quot;</span><span class="s1">!==n||!l)&amp;&amp;!u&amp;&amp;!s&amp;&amp;</span><span class="s2">&quot;mirror&quot;</span><span class="s1">!==i&amp;&amp;</span><span class="s4">0</span><span class="s1">!==r&amp;&amp;</span><span class="s2">&quot;inertia&quot;</span><span class="s1">!==o}(h)?</span><span class="s0">new </span><span class="s1">pn({...h,element:h.motionValue.owner.current}):</span><span class="s0">new </span><span class="s1">De(h);c.finished.then(()=&gt;</span><span class="s0">this</span><span class="s1">.notifyFinished()).catch(N),</span><span class="s0">this</span><span class="s1">.pendingTimeline&amp;&amp;(</span><span class="s0">this</span><span class="s1">.stopTimeline=c.attachTimeline(</span><span class="s0">this</span><span class="s1">.pendingTimeline),</span><span class="s0">this</span><span class="s1">.pendingTimeline=</span><span class="s0">void </span><span class="s4">0</span><span class="s1">),</span><span class="s0">this</span><span class="s1">._animation=c}get finished(){</span><span class="s0">return this</span><span class="s1">._animation?</span><span class="s0">this</span><span class="s1">.animation.finished:</span><span class="s0">this</span><span class="s1">._finished}then(t,e){</span><span class="s0">return this</span><span class="s1">.finished.finally(t).then(()=&gt;{})}get animation(){</span><span class="s0">return this</span><span class="s1">._animation||(</span><span class="s0">this</span><span class="s1">.keyframeResolver?.resume(),Ge=!</span><span class="s4">0</span><span class="s1">,Je(),Ze(),Ge=!</span><span class="s4">1</span><span class="s1">),</span><span class="s0">this</span><span class="s1">._animation}get duration(){</span><span class="s0">return this</span><span class="s1">.animation.duration}get iterationDuration(){</span><span class="s0">return this</span><span class="s1">.animation.iterationDuration}get time(){</span><span class="s0">return this</span><span class="s1">.animation.time}set time(t){</span><span class="s0">this</span><span class="s1">.animation.time=t}get speed(){</span><span class="s0">return this</span><span class="s1">.animation.speed}get state(){</span><span class="s0">return this</span><span class="s1">.animation.state}set speed(t){</span><span class="s0">this</span><span class="s1">.animation.speed=t}get startTime(){</span><span class="s0">return this</span><span class="s1">.animation.startTime}attachTimeline(t){</span><span class="s0">return this</span><span class="s1">._animation?</span><span class="s0">this</span><span class="s1">.stopTimeline=</span><span class="s0">this</span><span class="s1">.animation.attachTimeline(t):</span><span class="s0">this</span><span class="s1">.pendingTimeline=t,()=&gt;</span><span class="s0">this</span><span class="s1">.stop()}play(){</span><span class="s0">this</span><span class="s1">.animation.play()}pause(){</span><span class="s0">this</span><span class="s1">.animation.pause()}complete(){</span><span class="s0">this</span><span class="s1">.animation.complete()}cancel(){</span><span class="s0">this</span><span class="s1">._animation&amp;&amp;</span><span class="s0">this</span><span class="s1">.animation.cancel(),</span><span class="s0">this</span><span class="s1">.keyframeResolver?.cancel()}}</span><span class="s0">const </span><span class="s1">bn=</span><span class="s3">/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u</span><span class="s1">;</span><span class="s0">function </span><span class="s1">wn(t,e,n=</span><span class="s4">1</span><span class="s1">){</span><span class="s0">const</span><span class="s1">[s,r]=</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">const </span><span class="s1">e=bn.exec(t);</span><span class="s0">if</span><span class="s1">(!e)</span><span class="s0">return</span><span class="s1">[,];</span><span class="s0">const</span><span class="s1">[,n,s,i]=e;</span><span class="s0">return</span><span class="s1">[</span><span class="s2">`--</span><span class="s1">${n??s}</span><span class="s2">`</span><span class="s1">,i]}(t);</span><span class="s0">if</span><span class="s1">(!s)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const </span><span class="s1">o=window.getComputedStyle(e).getPropertyValue(s);</span><span class="s0">if</span><span class="s1">(o){</span><span class="s0">const </span><span class="s1">t=o.trim();</span><span class="s0">return </span><span class="s1">O(t)?parseFloat(t):t}</span><span class="s0">return </span><span class="s1">i(r)?wn(r,e,n+</span><span class="s4">1</span><span class="s1">):r}</span><span class="s0">function </span><span class="s1">Tn(t,e){</span><span class="s0">return </span><span class="s1">t?.[e]??t?.default??t}</span><span class="s0">const </span><span class="s1">Sn=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s2">&quot;width&quot;</span><span class="s1">,</span><span class="s2">&quot;height&quot;</span><span class="s1">,</span><span class="s2">&quot;top&quot;</span><span class="s1">,</span><span class="s2">&quot;left&quot;</span><span class="s1">,</span><span class="s2">&quot;right&quot;</span><span class="s1">,</span><span class="s2">&quot;bottom&quot;</span><span class="s1">,...o]),An=t=&gt;e=&gt;e.test(t),Mn=[t,r,s,a,u,l,{test:t=&gt;</span><span class="s2">&quot;auto&quot;</span><span class="s1">===t,parse:t=&gt;t}],Vn=t=&gt;Mn.find(An(t));</span><span class="s0">function </span><span class="s1">xn(t){</span><span class="s0">return</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?</span><span class="s4">0</span><span class="s1">===t:</span><span class="s0">null</span><span class="s1">===t||(</span><span class="s2">&quot;none&quot;</span><span class="s1">===t||</span><span class="s2">&quot;0&quot;</span><span class="s1">===t||I(t))}</span><span class="s0">const </span><span class="s1">Cn=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s2">&quot;brightness&quot;</span><span class="s1">,</span><span class="s2">&quot;contrast&quot;</span><span class="s1">,</span><span class="s2">&quot;saturate&quot;</span><span class="s1">,</span><span class="s2">&quot;opacity&quot;</span><span class="s1">]);</span><span class="s0">function </span><span class="s1">kn(t){</span><span class="s0">const</span><span class="s1">[e,n]=t.slice(</span><span class="s4">0</span><span class="s1">,-</span><span class="s4">1</span><span class="s1">).split(</span><span class="s2">&quot;(&quot;</span><span class="s1">);</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;drop-shadow&quot;</span><span class="s1">===e)</span><span class="s0">return </span><span class="s1">t;</span><span class="s0">const</span><span class="s1">[s]=n.match(gt)||[];</span><span class="s0">if</span><span class="s1">(!s)</span><span class="s0">return </span><span class="s1">t;</span><span class="s0">const </span><span class="s1">i=n.replace(s,</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s0">let </span><span class="s1">r=Cn.has(e)?</span><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">;</span><span class="s0">return </span><span class="s1">s!==n&amp;&amp;(r*=</span><span class="s4">100</span><span class="s1">),e+</span><span class="s2">&quot;(&quot;</span><span class="s1">+r+i+</span><span class="s2">&quot;)&quot;</span><span class="s1">}</span><span class="s0">const </span><span class="s1">Pn=</span><span class="s3">/\b([a-z-]*)\(.*?\)/gu</span><span class="s1">,En={...Rt,getAnimatableNone:t=&gt;{</span><span class="s0">const </span><span class="s1">e=t.match(Pn);</span><span class="s0">return </span><span class="s1">e?e.map(kn).join(</span><span class="s2">&quot; &quot;</span><span class="s1">):t}},Fn={...h,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:En,WebkitFilter:En},Dn=t=&gt;Fn[t];</span><span class="s0">function </span><span class="s1">On(t,e){</span><span class="s0">let </span><span class="s1">n=Dn(t);</span><span class="s0">return </span><span class="s1">n!==En&amp;&amp;(n=Rt),n.getAnimatableNone?n.getAnimatableNone(e):</span><span class="s0">void </span><span class="s4">0</span><span class="s1">}</span><span class="s0">const </span><span class="s1">In=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s2">&quot;auto&quot;</span><span class="s1">,</span><span class="s2">&quot;none&quot;</span><span class="s1">,</span><span class="s2">&quot;0&quot;</span><span class="s1">]);</span><span class="s0">class </span><span class="s1">Rn </span><span class="s0">extends </span><span class="s1">Qe{constructor(t,e,n,s,i){</span><span class="s0">super</span><span class="s1">(t,e,n,s,i,!</span><span class="s4">0</span><span class="s1">)}readKeyframes(){</span><span class="s0">const</span><span class="s1">{unresolvedKeyframes:t,element:e,name:n}=</span><span class="s0">this</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(!e||!e.current)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">super</span><span class="s1">.readKeyframes();</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s4">0</span><span class="s1">;n&lt;t.length;n++){</span><span class="s0">let </span><span class="s1">s=t[n];</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">s&amp;&amp;(s=s.trim(),i(s))){</span><span class="s0">const </span><span class="s1">i=wn(s,e.current);</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==i&amp;&amp;(t[n]=i),n===t.length-</span><span class="s4">1</span><span class="s1">&amp;&amp;(</span><span class="s0">this</span><span class="s1">.finalKeyframe=s)}}</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.resolveNoneKeyframes(),!Sn.has(n)||</span><span class="s4">2</span><span class="s1">!==t.length)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const</span><span class="s1">[s,r]=t,o=Vn(s),a=Vn(r);</span><span class="s0">if</span><span class="s1">(o!==a)</span><span class="s0">if</span><span class="s1">(We(o)&amp;&amp;We(a))</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;t.length;e++){</span><span class="s0">const </span><span class="s1">n=t[e];</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n&amp;&amp;(t[e]=parseFloat(n))}</span><span class="s0">else </span><span class="s1">ze[n]&amp;&amp;(</span><span class="s0">this</span><span class="s1">.needsMeasurement=!</span><span class="s4">0</span><span class="s1">)}resolveNoneKeyframes(){</span><span class="s0">const</span><span class="s1">{unresolvedKeyframes:t,name:e}=</span><span class="s0">this</span><span class="s1">,n=[];</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;t.length;e++)(</span><span class="s0">null</span><span class="s1">===t[e]||xn(t[e]))&amp;&amp;n.push(e);n.length&amp;&amp;</span><span class="s0">function</span><span class="s1">(t,e,n){</span><span class="s0">let </span><span class="s1">s,i=</span><span class="s4">0</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(;i&lt;t.length&amp;&amp;!s;){</span><span class="s0">const </span><span class="s1">e=t[i];</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e&amp;&amp;!In.has(e)&amp;&amp;Ft(e).values.length&amp;&amp;(s=t[i]),i++}</span><span class="s0">if</span><span class="s1">(s&amp;&amp;n)</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">i of e)t[i]=On(n,s)}(t,n,e)}measureInitialState(){</span><span class="s0">const</span><span class="s1">{element:t,unresolvedKeyframes:e,name:n}=</span><span class="s0">this</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(!t||!t.current)</span><span class="s0">return</span><span class="s1">;</span><span class="s2">&quot;height&quot;</span><span class="s1">===n&amp;&amp;(</span><span class="s0">this</span><span class="s1">.suspendedScrollY=window.pageYOffset),</span><span class="s0">this</span><span class="s1">.measuredOrigin=ze[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[</span><span class="s4">0</span><span class="s1">]=</span><span class="s0">this</span><span class="s1">.measuredOrigin;</span><span class="s0">const </span><span class="s1">s=e[e.length-</span><span class="s4">1</span><span class="s1">];</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==s&amp;&amp;t.getValue(n,s).jump(s,!</span><span class="s4">1</span><span class="s1">)}measureEndState(){</span><span class="s0">const</span><span class="s1">{element:t,name:e,unresolvedKeyframes:n}=</span><span class="s0">this</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(!t||!t.current)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const </span><span class="s1">s=t.getValue(e);s&amp;&amp;s.jump(</span><span class="s0">this</span><span class="s1">.measuredOrigin,!</span><span class="s4">1</span><span class="s1">);</span><span class="s0">const </span><span class="s1">i=n.length-</span><span class="s4">1</span><span class="s1">,r=n[i];n[i]=ze[e](t.measureViewportBox(),window.getComputedStyle(t.current)),</span><span class="s0">null</span><span class="s1">!==r&amp;&amp;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.finalKeyframe&amp;&amp;(</span><span class="s0">this</span><span class="s1">.finalKeyframe=r),</span><span class="s0">this</span><span class="s1">.removedTransforms?.length&amp;&amp;</span><span class="s0">this</span><span class="s1">.removedTransforms.forEach(([e,n])=&gt;{t.getValue(e).set(n)}),</span><span class="s0">this</span><span class="s1">.resolveNoneKeyframes()}}</span><span class="s0">class </span><span class="s1">Nn{constructor(t,e={}){</span><span class="s0">this</span><span class="s1">.canTrackVelocity=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.events={},</span><span class="s0">this</span><span class="s1">.updateAndNotify=t=&gt;{</span><span class="s0">const </span><span class="s1">e=yt.now();</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.updatedAt!==e&amp;&amp;</span><span class="s0">this</span><span class="s1">.setPrevFrameValue(),</span><span class="s0">this</span><span class="s1">.prev=</span><span class="s0">this</span><span class="s1">.current,</span><span class="s0">this</span><span class="s1">.setCurrent(t),</span><span class="s0">this</span><span class="s1">.current!==</span><span class="s0">this</span><span class="s1">.prev&amp;&amp;(</span><span class="s0">this</span><span class="s1">.events.change?.notify(</span><span class="s0">this</span><span class="s1">.current),</span><span class="s0">this</span><span class="s1">.dependents))</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t of </span><span class="s0">this</span><span class="s1">.dependents)t.dirty()},</span><span class="s0">this</span><span class="s1">.hasAnimated=!</span><span class="s4">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.setCurrent(t),</span><span class="s0">this</span><span class="s1">.owner=e.owner}setCurrent(t){</span><span class="s0">var </span><span class="s1">e;</span><span class="s0">this</span><span class="s1">.current=t,</span><span class="s0">this</span><span class="s1">.updatedAt=yt.now(),</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.canTrackVelocity&amp;&amp;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==t&amp;&amp;(</span><span class="s0">this</span><span class="s1">.canTrackVelocity=(e=</span><span class="s0">this</span><span class="s1">.current,!isNaN(parseFloat(e))))}setPrevFrameValue(t=</span><span class="s0">this</span><span class="s1">.current){</span><span class="s0">this</span><span class="s1">.prevFrameValue=t,</span><span class="s0">this</span><span class="s1">.prevUpdatedAt=</span><span class="s0">this</span><span class="s1">.updatedAt}onChange(t){</span><span class="s0">return this</span><span class="s1">.on(</span><span class="s2">&quot;change&quot;</span><span class="s1">,t)}on(t,e){</span><span class="s0">this</span><span class="s1">.events[t]||(</span><span class="s0">this</span><span class="s1">.events[t]=</span><span class="s0">new </span><span class="s1">j);</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.events[t].add(e);</span><span class="s0">return</span><span class="s2">&quot;change&quot;</span><span class="s1">===t?()=&gt;{n(),ht.read(()=&gt;{</span><span class="s0">this</span><span class="s1">.events.change.getSize()||</span><span class="s0">this</span><span class="s1">.stop()})}:n}clearListeners(){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in this</span><span class="s1">.events)</span><span class="s0">this</span><span class="s1">.events[t].clear()}attach(t,e){</span><span class="s0">this</span><span class="s1">.passiveEffect=t,</span><span class="s0">this</span><span class="s1">.stopPassiveEffect=e}set(t){</span><span class="s0">this</span><span class="s1">.passiveEffect?</span><span class="s0">this</span><span class="s1">.passiveEffect(t,</span><span class="s0">this</span><span class="s1">.updateAndNotify):</span><span class="s0">this</span><span class="s1">.updateAndNotify(t)}setWithVelocity(t,e,n){</span><span class="s0">this</span><span class="s1">.set(e),</span><span class="s0">this</span><span class="s1">.prev=</span><span class="s0">void </span><span class="s4">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.prevFrameValue=t,</span><span class="s0">this</span><span class="s1">.prevUpdatedAt=</span><span class="s0">this</span><span class="s1">.updatedAt-n}jump(t,e=!</span><span class="s4">0</span><span class="s1">){</span><span class="s0">this</span><span class="s1">.updateAndNotify(t),</span><span class="s0">this</span><span class="s1">.prev=t,</span><span class="s0">this</span><span class="s1">.prevUpdatedAt=</span><span class="s0">this</span><span class="s1">.prevFrameValue=</span><span class="s0">void </span><span class="s4">0</span><span class="s1">,e&amp;&amp;</span><span class="s0">this</span><span class="s1">.stop(),</span><span class="s0">this</span><span class="s1">.stopPassiveEffect&amp;&amp;</span><span class="s0">this</span><span class="s1">.stopPassiveEffect()}dirty(){</span><span class="s0">this</span><span class="s1">.events.change?.notify(</span><span class="s0">this</span><span class="s1">.current)}addDependent(t){</span><span class="s0">this</span><span class="s1">.dependents||(</span><span class="s0">this</span><span class="s1">.dependents=</span><span class="s0">new </span><span class="s1">Set),</span><span class="s0">this</span><span class="s1">.dependents.add(t)}removeDependent(t){</span><span class="s0">this</span><span class="s1">.dependents&amp;&amp;</span><span class="s0">this</span><span class="s1">.dependents.delete(t)}get(){</span><span class="s0">return this</span><span class="s1">.current}getPrevious(){</span><span class="s0">return this</span><span class="s1">.prev}getVelocity(){</span><span class="s0">const </span><span class="s1">t=yt.now();</span><span class="s0">if</span><span class="s1">(!</span><span class="s0">this</span><span class="s1">.canTrackVelocity||</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.prevFrameValue||t-</span><span class="s0">this</span><span class="s1">.updatedAt&gt;</span><span class="s4">30</span><span class="s1">)</span><span class="s0">return </span><span class="s4">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">e=Math.min(</span><span class="s0">this</span><span class="s1">.updatedAt-</span><span class="s0">this</span><span class="s1">.prevUpdatedAt,</span><span class="s4">30</span><span class="s1">);</span><span class="s0">return </span><span class="s1">W(parseFloat(</span><span class="s0">this</span><span class="s1">.current)-parseFloat(</span><span class="s0">this</span><span class="s1">.prevFrameValue),e)}start(t){</span><span class="s0">return this</span><span class="s1">.stop(),</span><span class="s0">new </span><span class="s1">Promise(e=&gt;{</span><span class="s0">this</span><span class="s1">.hasAnimated=!</span><span class="s4">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.animation=t(e),</span><span class="s0">this</span><span class="s1">.events.animationStart&amp;&amp;</span><span class="s0">this</span><span class="s1">.events.animationStart.notify()}).then(()=&gt;{</span><span class="s0">this</span><span class="s1">.events.animationComplete&amp;&amp;</span><span class="s0">this</span><span class="s1">.events.animationComplete.notify(),</span><span class="s0">this</span><span class="s1">.clearAnimation()})}stop(){</span><span class="s0">this</span><span class="s1">.animation&amp;&amp;(</span><span class="s0">this</span><span class="s1">.animation.stop(),</span><span class="s0">this</span><span class="s1">.events.animationCancel&amp;&amp;</span><span class="s0">this</span><span class="s1">.events.animationCancel.notify()),</span><span class="s0">this</span><span class="s1">.clearAnimation()}isAnimating(){</span><span class="s0">return</span><span class="s1">!!</span><span class="s0">this</span><span class="s1">.animation}clearAnimation(){</span><span class="s0">delete this</span><span class="s1">.animation}destroy(){</span><span class="s0">this</span><span class="s1">.dependents?.clear(),</span><span class="s0">this</span><span class="s1">.events.destroy?.notify(),</span><span class="s0">this</span><span class="s1">.clearListeners(),</span><span class="s0">this</span><span class="s1">.stop(),</span><span class="s0">this</span><span class="s1">.stopPassiveEffect&amp;&amp;</span><span class="s0">this</span><span class="s1">.stopPassiveEffect()}}</span><span class="s0">function </span><span class="s1">Kn(t,e){</span><span class="s0">return new </span><span class="s1">Nn(t,e)}</span><span class="s0">const</span><span class="s1">{schedule:Bn,cancel:Ln}=lt(queueMicrotask,!</span><span class="s4">1</span><span class="s1">),jn=!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">function </span><span class="s1">Un(){</span><span class="s0">return </span><span class="s1">jn}</span><span class="s0">function </span><span class="s1">qn(t,e){</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">if</span><span class="s1">(t </span><span class="s0">instanceof </span><span class="s1">EventTarget)</span><span class="s0">return</span><span class="s1">[t];</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t){</span><span class="s0">const </span><span class="s1">e=document.querySelectorAll(t);</span><span class="s0">return </span><span class="s1">e?Array.from(e):[]}</span><span class="s0">return </span><span class="s1">Array.from(t)}(t),s=</span><span class="s0">new </span><span class="s1">AbortController;</span><span class="s0">return</span><span class="s1">[n,{passive:!</span><span class="s4">0</span><span class="s1">,...e,signal:s.signal},()=&gt;s.abort()]}</span><span class="s0">function </span><span class="s1">Wn(t){</span><span class="s0">return</span><span class="s1">!(</span><span class="s2">&quot;touch&quot;</span><span class="s1">===t.pointerType||Un())}</span><span class="s0">const </span><span class="s1">Yn=(t,e)=&gt;!!e&amp;&amp;(t===e||Yn(t,e.parentElement)),$n=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s2">&quot;BUTTON&quot;</span><span class="s1">,</span><span class="s2">&quot;INPUT&quot;</span><span class="s1">,</span><span class="s2">&quot;SELECT&quot;</span><span class="s1">,</span><span class="s2">&quot;TEXTAREA&quot;</span><span class="s1">,</span><span class="s2">&quot;A&quot;</span><span class="s1">]);</span><span class="s0">const </span><span class="s1">zn=</span><span class="s0">new </span><span class="s1">WeakSet;</span><span class="s0">function </span><span class="s1">Hn(t){</span><span class="s0">return </span><span class="s1">e=&gt;{</span><span class="s2">&quot;Enter&quot;</span><span class="s1">===e.key&amp;&amp;t(e)}}</span><span class="s0">function </span><span class="s1">Xn(t,e){t.dispatchEvent(</span><span class="s0">new </span><span class="s1">PointerEvent(</span><span class="s2">&quot;pointer&quot;</span><span class="s1">+e,{isPrimary:!</span><span class="s4">0</span><span class="s1">,bubbles:!</span><span class="s4">0</span><span class="s1">}))}</span><span class="s0">function </span><span class="s1">_n(t){</span><span class="s0">return</span><span class="s1">(t=&gt;</span><span class="s2">&quot;mouse&quot;</span><span class="s1">===t.pointerType?</span><span class="s2">&quot;number&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">t.button||t.button&lt;=</span><span class="s4">0</span><span class="s1">:!</span><span class="s4">1</span><span class="s1">!==t.isPrimary)(t)&amp;&amp;!Un()}</span><span class="s0">function </span><span class="s1">Gn(t,e,n={}){</span><span class="s0">const</span><span class="s1">[s,i,r]=qn(t,n),o=t=&gt;{</span><span class="s0">const </span><span class="s1">s=t.currentTarget;</span><span class="s0">if</span><span class="s1">(!_n(t))</span><span class="s0">return</span><span class="s1">;zn.add(s);</span><span class="s0">const </span><span class="s1">r=e(s,t),o=(t,e)=&gt;{window.removeEventListener(</span><span class="s2">&quot;pointerup&quot;</span><span class="s1">,a),window.removeEventListener(</span><span class="s2">&quot;pointercancel&quot;</span><span class="s1">,u),zn.has(s)&amp;&amp;zn.delete(s),_n(t)&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">r&amp;&amp;r(t,{success:e})},a=t=&gt;{o(t,s===window||s===document||n.useGlobalTarget||Yn(s,t.target))},u=t=&gt;{o(t,!</span><span class="s4">1</span><span class="s1">)};window.addEventListener(</span><span class="s2">&quot;pointerup&quot;</span><span class="s1">,a,i),window.addEventListener(</span><span class="s2">&quot;pointercancel&quot;</span><span class="s1">,u,i)};</span><span class="s0">return </span><span class="s1">s.forEach(t=&gt;{</span><span class="s0">var </span><span class="s1">e,s;(n.useGlobalTarget?window:t).addEventListener(</span><span class="s2">&quot;pointerdown&quot;</span><span class="s1">,o,i),</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s0">typeof</span><span class="s1">(s=e=t)&amp;&amp;</span><span class="s0">null</span><span class="s1">!==s&amp;&amp;</span><span class="s2">&quot;offsetHeight&quot;</span><span class="s0">in </span><span class="s1">e&amp;&amp;(t.addEventListener(</span><span class="s2">&quot;focus&quot;</span><span class="s1">,t=&gt;((t,e)=&gt;{</span><span class="s0">const </span><span class="s1">n=t.currentTarget;</span><span class="s0">if</span><span class="s1">(!n)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const </span><span class="s1">s=Hn(()=&gt;{</span><span class="s0">if</span><span class="s1">(zn.has(n))</span><span class="s0">return</span><span class="s1">;Xn(n,</span><span class="s2">&quot;down&quot;</span><span class="s1">);</span><span class="s0">const </span><span class="s1">t=Hn(()=&gt;{Xn(n,</span><span class="s2">&quot;up&quot;</span><span class="s1">)});n.addEventListener(</span><span class="s2">&quot;keyup&quot;</span><span class="s1">,t,e),n.addEventListener(</span><span class="s2">&quot;blur&quot;</span><span class="s1">,()=&gt;Xn(n,</span><span class="s2">&quot;cancel&quot;</span><span class="s1">),e)});n.addEventListener(</span><span class="s2">&quot;keydown&quot;</span><span class="s1">,s,e),n.addEventListener(</span><span class="s2">&quot;blur&quot;</span><span class="s1">,()=&gt;n.removeEventListener(</span><span class="s2">&quot;keydown&quot;</span><span class="s1">,s),e)})(t,i)),</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">return </span><span class="s1">$n.has(t.tagName)||-</span><span class="s4">1</span><span class="s1">!==t.tabIndex}(t)||t.hasAttribute(</span><span class="s2">&quot;tabindex&quot;</span><span class="s1">)||(t.tabIndex=</span><span class="s4">0</span><span class="s1">))}),r}</span><span class="s0">const </span><span class="s1">Zn=[...Mn,xt,Rt];</span><span class="s0">function </span><span class="s1">Jn(t,e,n){</span><span class="s0">const </span><span class="s1">s=t.getProps();</span><span class="s0">return </span><span class="s1">c(s,e,</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==n?n:s.custom,t)}</span><span class="s0">const </span><span class="s1">Qn=t=&gt;Array.isArray(t);</span><span class="s0">function </span><span class="s1">ts(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Kn(n))}</span><span class="s0">function </span><span class="s1">es(t){</span><span class="s0">return </span><span class="s1">Qn(t)?t[t.length-</span><span class="s4">1</span><span class="s1">]||</span><span class="s4">0</span><span class="s1">:t}</span><span class="s0">function </span><span class="s1">ns(t,e){</span><span class="s0">const </span><span class="s1">n=t.getValue(</span><span class="s2">&quot;willChange&quot;</span><span class="s1">);</span><span class="s0">if</span><span class="s1">(s=n,Boolean(d(s)&amp;&amp;s.add))</span><span class="s0">return </span><span class="s1">n.add(e);</span><span class="s0">if</span><span class="s1">(!n&amp;&amp;D.WillChange){</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">new </span><span class="s1">D.WillChange(</span><span class="s2">&quot;auto&quot;</span><span class="s1">);t.addValue(</span><span class="s2">&quot;willChange&quot;</span><span class="s1">,n),n.add(e)}</span><span class="s0">var </span><span class="s1">s}</span><span class="s0">function </span><span class="s1">ss(t){</span><span class="s0">return </span><span class="s1">t.props[p]}</span><span class="s0">const </span><span class="s1">is=t=&gt;</span><span class="s0">null</span><span class="s1">!==t;</span><span class="s0">const </span><span class="s1">rs={type:</span><span class="s2">&quot;spring&quot;</span><span class="s1">,stiffness:</span><span class="s4">500</span><span class="s1">,damping:</span><span class="s4">25</span><span class="s1">,restSpeed:</span><span class="s4">10</span><span class="s1">},os={type:</span><span class="s2">&quot;keyframes&quot;</span><span class="s1">,duration:</span><span class="s4">.8</span><span class="s1">},as={type:</span><span class="s2">&quot;keyframes&quot;</span><span class="s1">,ease:[</span><span class="s4">.25</span><span class="s1">,</span><span class="s4">.1</span><span class="s1">,</span><span class="s4">.35</span><span class="s1">,</span><span class="s4">1</span><span class="s1">],duration:</span><span class="s4">.3</span><span class="s1">},us=(t,{keyframes:e})=&gt;e.length&gt;</span><span class="s4">2</span><span class="s1">?os:m.has(t)?t.startsWith(</span><span class="s2">&quot;scale&quot;</span><span class="s1">)?{type:</span><span class="s2">&quot;spring&quot;</span><span class="s1">,stiffness:</span><span class="s4">550</span><span class="s1">,damping:</span><span class="s4">0</span><span class="s1">===e[</span><span class="s4">1</span><span class="s1">]?</span><span class="s4">2</span><span class="s1">*Math.sqrt(</span><span class="s4">550</span><span class="s1">):</span><span class="s4">30</span><span class="s1">,restSpeed:</span><span class="s4">10</span><span class="s1">}:rs:as;</span><span class="s0">const </span><span class="s1">ls=(t,e,n,s={},i,r)=&gt;o=&gt;{</span><span class="s0">const </span><span class="s1">a=Tn(s,t)||{},u=a.delay||s.delay||</span><span class="s4">0</span><span class="s1">;</span><span class="s0">let</span><span class="s1">{elapsed:l=</span><span class="s4">0</span><span class="s1">}=s;l-=U(u);</span><span class="s0">const </span><span class="s1">h={keyframes:Array.isArray(n)?n:[</span><span class="s0">null</span><span class="s1">,n],ease:</span><span class="s2">&quot;easeOut&quot;</span><span class="s1">,velocity:e.getVelocity(),...a,delay:-l,onUpdate:t=&gt;{e.set(t),a.onUpdate&amp;&amp;a.onUpdate(t)},onComplete:()=&gt;{o(),a.onComplete&amp;&amp;a.onComplete()},name:t,motionValue:e,element:r?</span><span class="s0">void </span><span class="s4">0</span><span class="s1">:i};(</span><span class="s0">function</span><span class="s1">({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:a,from:u,elapsed:l,...h}){</span><span class="s0">return</span><span class="s1">!!Object.keys(h).length})(a)||Object.assign(h,us(t,h)),h.duration&amp;&amp;(h.duration=U(h.duration)),h.repeatDelay&amp;&amp;(h.repeatDelay=U(h.repeatDelay)),</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==h.from&amp;&amp;(h.keyframes[</span><span class="s4">0</span><span class="s1">]=h.from);</span><span class="s0">let </span><span class="s1">c=!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">if</span><span class="s1">((!</span><span class="s4">1</span><span class="s1">===h.type||</span><span class="s4">0</span><span class="s1">===h.duration&amp;&amp;!h.repeatDelay)&amp;&amp;(fn(h),</span><span class="s4">0</span><span class="s1">===h.delay&amp;&amp;(c=!</span><span class="s4">0</span><span class="s1">)),(D.instantAnimations||D.skipAnimations)&amp;&amp;(c=!</span><span class="s4">0</span><span class="s1">,fn(h),h.delay=</span><span class="s4">0</span><span class="s1">),h.allowFlatten=!a.type&amp;&amp;!a.ease,c&amp;&amp;!r&amp;&amp;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==e.get()){</span><span class="s0">const </span><span class="s1">t=</span><span class="s0">function</span><span class="s1">(t,{repeat:e,repeatType:n=</span><span class="s2">&quot;loop&quot;</span><span class="s1">},s){</span><span class="s0">const </span><span class="s1">i=t.filter(is),r=e&amp;&amp;</span><span class="s2">&quot;loop&quot;</span><span class="s1">!==n&amp;&amp;e%</span><span class="s4">2</span><span class="s1">==</span><span class="s4">1</span><span class="s1">?</span><span class="s4">0</span><span class="s1">:i.length-</span><span class="s4">1</span><span class="s1">;</span><span class="s0">return </span><span class="s1">r&amp;&amp;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==s?s:i[r]}(h.keyframes,a);</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==t)</span><span class="s0">return void </span><span class="s1">ht.update(()=&gt;{h.onUpdate(t),h.onComplete()})}</span><span class="s0">return </span><span class="s1">a.isSync?</span><span class="s0">new </span><span class="s1">De(h):</span><span class="s0">new </span><span class="s1">gn(h)};</span><span class="s0">function </span><span class="s1">hs({protectedKeys:t,needsAnimating:e},n){</span><span class="s0">const </span><span class="s1">s=t.hasOwnProperty(n)&amp;&amp;!</span><span class="s4">0</span><span class="s1">!==e[n];</span><span class="s0">return </span><span class="s1">e[n]=!</span><span class="s4">1</span><span class="s1">,s}</span><span class="s0">function </span><span class="s1">cs(t,e,{delay:n=</span><span class="s4">0</span><span class="s1">,transitionOverride:s,type:i}={}){</span><span class="s0">let</span><span class="s1">{transition:r=t.getDefaultTransition(),transitionEnd:o,...a}=e;s&amp;&amp;(r=s);</span><span class="s0">const </span><span class="s1">u=[],l=i&amp;&amp;t.animationState&amp;&amp;t.animationState.getState()[i];</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">e </span><span class="s0">in </span><span class="s1">a){</span><span class="s0">const </span><span class="s1">s=t.getValue(e,t.latestValues[e]??</span><span class="s0">null</span><span class="s1">),i=a[e];</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===i||l&amp;&amp;hs(l,e))</span><span class="s0">continue</span><span class="s1">;</span><span class="s0">const </span><span class="s1">o={delay:n,...Tn(r||{},e)},h=s.get();</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==h&amp;&amp;!s.isAnimating&amp;&amp;!Array.isArray(i)&amp;&amp;i===h&amp;&amp;!o.velocity)</span><span class="s0">continue</span><span class="s1">;</span><span class="s0">let </span><span class="s1">c=!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(window.MotionHandoffAnimation){</span><span class="s0">const </span><span class="s1">n=ss(t);</span><span class="s0">if</span><span class="s1">(n){</span><span class="s0">const </span><span class="s1">t=window.MotionHandoffAnimation(n,e,ht);</span><span class="s0">null</span><span class="s1">!==t&amp;&amp;(o.startTime=t,c=!</span><span class="s4">0</span><span class="s1">)}}ns(t,e),s.start(ls(e,s,i,t.shouldReduceMotion&amp;&amp;Sn.has(e)?{type:!</span><span class="s4">1</span><span class="s1">}:o,t,c));</span><span class="s0">const </span><span class="s1">d=s.animation;d&amp;&amp;u.push(d)}</span><span class="s0">return </span><span class="s1">o&amp;&amp;Promise.all(u).then(()=&gt;{ht.update(()=&gt;{o&amp;&amp;</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">const </span><span class="s1">n=Jn(t,e);</span><span class="s0">let</span><span class="s1">{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">e </span><span class="s0">in </span><span class="s1">r)ts(t,e,es(r[e]))}(t,o)})}),u}</span><span class="s0">function </span><span class="s1">ds(t,e,n,s=</span><span class="s4">0</span><span class="s1">,i=</span><span class="s4">1</span><span class="s1">){</span><span class="s0">const </span><span class="s1">r=Array.from(t).sort((t,e)=&gt;t.sortNodePosition(e)).indexOf(e),o=t.size,a=(o-</span><span class="s4">1</span><span class="s1">)*s;</span><span class="s0">return</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n?n(r,o):</span><span class="s4">1</span><span class="s1">===i?r*s:a-r*s}</span><span class="s0">function </span><span class="s1">ps(t,e,n={}){</span><span class="s0">const </span><span class="s1">s=Jn(t,e,</span><span class="s2">&quot;exit&quot;</span><span class="s1">===n.type?t.presenceContext?.custom:</span><span class="s0">void </span><span class="s4">0</span><span class="s1">);</span><span class="s0">let</span><span class="s1">{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&amp;&amp;(i=n.transitionOverride);</span><span class="s0">const </span><span class="s1">r=s?()=&gt;Promise.all(cs(t,s,n)):()=&gt;Promise.resolve(),o=t.variantChildren&amp;&amp;t.variantChildren.size?(s=</span><span class="s4">0</span><span class="s1">)=&gt;{</span><span class="s0">const</span><span class="s1">{delayChildren:r=</span><span class="s4">0</span><span class="s1">,staggerChildren:o,staggerDirection:a}=i;</span><span class="s0">return function</span><span class="s1">(t,e,n=</span><span class="s4">0</span><span class="s1">,s=</span><span class="s4">0</span><span class="s1">,i=</span><span class="s4">0</span><span class="s1">,r=</span><span class="s4">1</span><span class="s1">,o){</span><span class="s0">const </span><span class="s1">a=[];</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">u of t.variantChildren)u.notify(</span><span class="s2">&quot;AnimationStart&quot;</span><span class="s1">,e),a.push(ps(u,e,{...o,delay:n+(</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">s?</span><span class="s4">0</span><span class="s1">:s)+ds(t.variantChildren,u,s,i,r)}).then(()=&gt;u.notify(</span><span class="s2">&quot;AnimationComplete&quot;</span><span class="s1">,e)));</span><span class="s0">return </span><span class="s1">Promise.all(a)}(t,e,s,r,o,a,n)}:()=&gt;Promise.resolve(),{when:a}=i;</span><span class="s0">if</span><span class="s1">(a){</span><span class="s0">const</span><span class="s1">[t,e]=</span><span class="s2">&quot;beforeChildren&quot;</span><span class="s1">===a?[r,o]:[o,r];</span><span class="s0">return </span><span class="s1">t().then(()=&gt;e())}</span><span class="s0">return </span><span class="s1">Promise.all([r(),o(n.delay)])}</span><span class="s0">function </span><span class="s1">ms(t,e){</span><span class="s0">if</span><span class="s1">(!Array.isArray(e))</span><span class="s0">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">const </span><span class="s1">n=e.length;</span><span class="s0">if</span><span class="s1">(n!==t.length)</span><span class="s0">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">s=</span><span class="s4">0</span><span class="s1">;s&lt;n;s++)</span><span class="s0">if</span><span class="s1">(e[s]!==t[s])</span><span class="s0">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}</span><span class="s0">const </span><span class="s1">fs=y.length;</span><span class="s0">function </span><span class="s1">ys(t){</span><span class="s0">if</span><span class="s1">(!t)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(!t.isControllingVariants){</span><span class="s0">const </span><span class="s1">e=t.parent&amp;&amp;ys(t.parent)||{};</span><span class="s0">return void </span><span class="s4">0</span><span class="s1">!==t.props.initial&amp;&amp;(e.initial=t.props.initial),e}</span><span class="s0">const </span><span class="s1">e={};</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s4">0</span><span class="s1">;n&lt;fs;n++){</span><span class="s0">const </span><span class="s1">s=y[n],i=t.props[s];(f(i)||!</span><span class="s4">1</span><span class="s1">===i)&amp;&amp;(e[s]=i)}</span><span class="s0">return </span><span class="s1">e}</span><span class="s0">const </span><span class="s1">vs=[...g].reverse(),gs=g.length;</span><span class="s0">function </span><span class="s1">bs(t){</span><span class="s0">return </span><span class="s1">e=&gt;Promise.all(e.map(({animation:e,options:n})=&gt;</span><span class="s0">function</span><span class="s1">(t,e,n={}){</span><span class="s0">let </span><span class="s1">s;</span><span class="s0">if</span><span class="s1">(t.notify(</span><span class="s2">&quot;AnimationStart&quot;</span><span class="s1">,e),Array.isArray(e)){</span><span class="s0">const </span><span class="s1">i=e.map(e=&gt;ps(t,e,n));s=Promise.all(i)}</span><span class="s0">else if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e)s=ps(t,e,n);</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">i=</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e?Jn(t,e,n.custom):e;s=Promise.all(cs(t,i,n))}</span><span class="s0">return </span><span class="s1">s.then(()=&gt;{t.notify(</span><span class="s2">&quot;AnimationComplete&quot;</span><span class="s1">,e)})}(t,e,n)))}</span><span class="s0">function </span><span class="s1">ws(t){</span><span class="s0">let </span><span class="s1">e=bs(t),n=As(),s=!</span><span class="s4">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">i=e=&gt;(n,s)=&gt;{</span><span class="s0">const </span><span class="s1">i=Jn(t,s,</span><span class="s2">&quot;exit&quot;</span><span class="s1">===e?t.presenceContext?.custom:</span><span class="s0">void </span><span class="s4">0</span><span class="s1">);</span><span class="s0">if</span><span class="s1">(i){</span><span class="s0">const</span><span class="s1">{transition:t,transitionEnd:e,...s}=i;n={...n,...s,...e}}</span><span class="s0">return </span><span class="s1">n};</span><span class="s0">function </span><span class="s1">r(r){</span><span class="s0">const</span><span class="s1">{props:o}=t,a=ys(t.parent)||{},u=[],l=</span><span class="s0">new </span><span class="s1">Set;</span><span class="s0">let </span><span class="s1">h={},c=</span><span class="s4">1</span><span class="s1">/</span><span class="s4">0</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;gs;e++){</span><span class="s0">const </span><span class="s1">d=vs[e],p=n[d],m=</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==o[d]?o[d]:a[d],y=f(m),g=d===r?p.isActive:</span><span class="s0">null</span><span class="s1">;!</span><span class="s4">1</span><span class="s1">===g&amp;&amp;(c=e);</span><span class="s0">let </span><span class="s1">b=m===a[d]&amp;&amp;m!==o[d]&amp;&amp;y;</span><span class="s0">if</span><span class="s1">(b&amp;&amp;s&amp;&amp;t.manuallyAnimateOnMount&amp;&amp;(b=!</span><span class="s4">1</span><span class="s1">),p.protectedKeys={...h},!p.isActive&amp;&amp;</span><span class="s0">null</span><span class="s1">===g||!m&amp;&amp;!p.prevProp||v(m)||</span><span class="s2">&quot;boolean&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">m)</span><span class="s0">continue</span><span class="s1">;</span><span class="s0">const </span><span class="s1">w=Ts(p.prevProp,m);</span><span class="s0">let </span><span class="s1">T=w||d===r&amp;&amp;p.isActive&amp;&amp;!b&amp;&amp;y||e&gt;c&amp;&amp;y,S=!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">const </span><span class="s1">A=Array.isArray(m)?m:[m];</span><span class="s0">let </span><span class="s1">M=A.reduce(i(d),{});!</span><span class="s4">1</span><span class="s1">===g&amp;&amp;(M={});</span><span class="s0">const</span><span class="s1">{prevResolvedValues:V={}}=p,x={...V,...M},C=e=&gt;{T=!</span><span class="s4">0</span><span class="s1">,l.has(e)&amp;&amp;(S=!</span><span class="s4">0</span><span class="s1">,l.delete(e)),p.needsAnimating[e]=!</span><span class="s4">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">n=t.getValue(e);n&amp;&amp;(n.liveStyle=!</span><span class="s4">1</span><span class="s1">)};</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in </span><span class="s1">x){</span><span class="s0">const </span><span class="s1">e=M[t],n=V[t];</span><span class="s0">if</span><span class="s1">(h.hasOwnProperty(t))</span><span class="s0">continue</span><span class="s1">;</span><span class="s0">let </span><span class="s1">s=!</span><span class="s4">1</span><span class="s1">;s=Qn(e)&amp;&amp;Qn(n)?!ms(e,n):e!==n,s?</span><span class="s0">null</span><span class="s1">!=e?C(t):l.add(t):</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==e&amp;&amp;l.has(t)?C(t):p.protectedKeys[t]=!</span><span class="s4">0</span><span class="s1">}p.prevProp=m,p.prevResolvedValues=M,p.isActive&amp;&amp;(h={...h,...M}),s&amp;&amp;t.blockInitialAnimation&amp;&amp;(T=!</span><span class="s4">1</span><span class="s1">);</span><span class="s0">const </span><span class="s1">k=b&amp;&amp;w;T&amp;&amp;(!k||S)&amp;&amp;u.push(...A.map(e=&gt;{</span><span class="s0">const </span><span class="s1">n={type:d};</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e&amp;&amp;s&amp;&amp;!k&amp;&amp;t.manuallyAnimateOnMount&amp;&amp;t.parent){</span><span class="s0">const</span><span class="s1">{parent:s}=t,i=Jn(s,e);</span><span class="s0">if</span><span class="s1">(s.enteringChildren&amp;&amp;i){</span><span class="s0">const</span><span class="s1">{delayChildren:e}=i.transition||{};n.delay=ds(s.enteringChildren,t,e)}}</span><span class="s0">return</span><span class="s1">{animation:e,options:n}}))}</span><span class="s0">if</span><span class="s1">(l.size){</span><span class="s0">const </span><span class="s1">e={};</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;boolean&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">o.initial){</span><span class="s0">const </span><span class="s1">n=Jn(t,Array.isArray(o.initial)?o.initial[</span><span class="s4">0</span><span class="s1">]:o.initial);n&amp;&amp;n.transition&amp;&amp;(e.transition=n.transition)}l.forEach(n=&gt;{</span><span class="s0">const </span><span class="s1">s=t.getBaseTarget(n),i=t.getValue(n);i&amp;&amp;(i.liveStyle=!</span><span class="s4">0</span><span class="s1">),e[n]=s??</span><span class="s0">null</span><span class="s1">}),u.push({animation:e})}</span><span class="s0">let </span><span class="s1">d=Boolean(u.length);</span><span class="s0">return</span><span class="s1">!s||!</span><span class="s4">1</span><span class="s1">!==o.initial&amp;&amp;o.initial!==o.animate||t.manuallyAnimateOnMount||(d=!</span><span class="s4">1</span><span class="s1">),s=!</span><span class="s4">1</span><span class="s1">,d?e(u):Promise.resolve()}</span><span class="s0">return</span><span class="s1">{animateChanges:r,setActive:</span><span class="s0">function</span><span class="s1">(e,s){</span><span class="s0">if</span><span class="s1">(n[e].isActive===s)</span><span class="s0">return </span><span class="s1">Promise.resolve();t.variantChildren?.forEach(t=&gt;t.animationState?.setActive(e,s)),n[e].isActive=s;</span><span class="s0">const </span><span class="s1">i=r(e);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in </span><span class="s1">n)n[t].protectedKeys={};</span><span class="s0">return </span><span class="s1">i},setAnimateFunction:</span><span class="s0">function</span><span class="s1">(n){e=n(t)},getState:()=&gt;n,reset:()=&gt;{n=As(),s=!</span><span class="s4">0</span><span class="s1">}}}</span><span class="s0">function </span><span class="s1">Ts(t,e){</span><span class="s0">return</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e?e!==t:!!Array.isArray(e)&amp;&amp;!ms(e,t)}</span><span class="s0">function </span><span class="s1">Ss(t=!</span><span class="s4">1</span><span class="s1">){</span><span class="s0">return</span><span class="s1">{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}</span><span class="s0">function </span><span class="s1">As(){</span><span class="s0">return</span><span class="s1">{animate:Ss(!</span><span class="s4">0</span><span class="s1">),whileInView:Ss(),whileHover:Ss(),whileTap:Ss(),whileDrag:Ss(),whileFocus:Ss(),exit:Ss()}}</span><span class="s0">class </span><span class="s1">Ms{constructor(t){</span><span class="s0">this</span><span class="s1">.isMounted=!</span><span class="s4">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.node=t}update(){}}</span><span class="s0">let </span><span class="s1">Vs=</span><span class="s4">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">xs={animation:{Feature:</span><span class="s0">class extends </span><span class="s1">Ms{constructor(t){</span><span class="s0">super</span><span class="s1">(t),t.animationState||(t.animationState=ws(t))}updateAnimationControlsSubscription(){</span><span class="s0">const</span><span class="s1">{animate:t}=</span><span class="s0">this</span><span class="s1">.node.getProps();v(t)&amp;&amp;(</span><span class="s0">this</span><span class="s1">.unmountControls=t.subscribe(</span><span class="s0">this</span><span class="s1">.node))}mount(){</span><span class="s0">this</span><span class="s1">.updateAnimationControlsSubscription()}update(){</span><span class="s0">const</span><span class="s1">{animate:t}=</span><span class="s0">this</span><span class="s1">.node.getProps(),{animate:e}=</span><span class="s0">this</span><span class="s1">.node.prevProps||{};t!==e&amp;&amp;</span><span class="s0">this</span><span class="s1">.updateAnimationControlsSubscription()}unmount(){</span><span class="s0">this</span><span class="s1">.node.animationState.reset(),</span><span class="s0">this</span><span class="s1">.unmountControls?.()}}},exit:{Feature:</span><span class="s0">class extends </span><span class="s1">Ms{constructor(){</span><span class="s0">super</span><span class="s1">(...arguments),</span><span class="s0">this</span><span class="s1">.id=Vs++}update(){</span><span class="s0">if</span><span class="s1">(!</span><span class="s0">this</span><span class="s1">.node.presenceContext)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{isPresent:t,onExitComplete:e}=</span><span class="s0">this</span><span class="s1">.node.presenceContext,{isPresent:n}=</span><span class="s0">this</span><span class="s1">.node.prevPresenceContext||{};</span><span class="s0">if</span><span class="s1">(!</span><span class="s0">this</span><span class="s1">.node.animationState||t===n)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const </span><span class="s1">s=</span><span class="s0">this</span><span class="s1">.node.animationState.setActive(</span><span class="s2">&quot;exit&quot;</span><span class="s1">,!t);e&amp;&amp;!t&amp;&amp;s.then(()=&gt;{e(</span><span class="s0">this</span><span class="s1">.id)})}mount(){</span><span class="s0">const</span><span class="s1">{register:t,onExitComplete:e}=</span><span class="s0">this</span><span class="s1">.node.presenceContext||{};e&amp;&amp;e(</span><span class="s0">this</span><span class="s1">.id),t&amp;&amp;(</span><span class="s0">this</span><span class="s1">.unmount=t(</span><span class="s0">this</span><span class="s1">.id))}unmount(){}}}};</span><span class="s0">function </span><span class="s1">Cs(t){</span><span class="s0">return</span><span class="s1">{point:{x:t.pageX,y:t.pageY}}}</span><span class="s0">function </span><span class="s1">ks(t,e,n){</span><span class="s0">const</span><span class="s1">{props:s}=t;t.animationState&amp;&amp;s.whileHover&amp;&amp;t.animationState.setActive(</span><span class="s2">&quot;whileHover&quot;</span><span class="s1">,</span><span class="s2">&quot;Start&quot;</span><span class="s1">===n);</span><span class="s0">const </span><span class="s1">i=s[</span><span class="s2">&quot;onHover&quot;</span><span class="s1">+n];i&amp;&amp;ht.postRender(()=&gt;i(e,Cs(e)))}</span><span class="s0">function </span><span class="s1">Ps(t,e,n,s={passive:!</span><span class="s4">0</span><span class="s1">}){</span><span class="s0">return </span><span class="s1">t.addEventListener(e,n,s),()=&gt;t.removeEventListener(e,n)}</span><span class="s0">function </span><span class="s1">Es(t,e,n){</span><span class="s0">const</span><span class="s1">{props:s}=t;</span><span class="s0">if</span><span class="s1">(t.current </span><span class="s0">instanceof </span><span class="s1">HTMLButtonElement&amp;&amp;t.current.disabled)</span><span class="s0">return</span><span class="s1">;t.animationState&amp;&amp;s.whileTap&amp;&amp;t.animationState.setActive(</span><span class="s2">&quot;whileTap&quot;</span><span class="s1">,</span><span class="s2">&quot;Start&quot;</span><span class="s1">===n);</span><span class="s0">const </span><span class="s1">i=s[</span><span class="s2">&quot;onTap&quot;</span><span class="s1">+(</span><span class="s2">&quot;End&quot;</span><span class="s1">===n?</span><span class="s2">&quot;&quot;</span><span class="s1">:n)];i&amp;&amp;ht.postRender(()=&gt;i(e,Cs(e)))}</span><span class="s0">const </span><span class="s1">Fs=</span><span class="s0">new </span><span class="s1">WeakMap,Ds=</span><span class="s0">new </span><span class="s1">WeakMap,Os=t=&gt;{</span><span class="s0">const </span><span class="s1">e=Fs.get(t.target);e&amp;&amp;e(t)},Is=t=&gt;{t.forEach(Os)};</span><span class="s0">function </span><span class="s1">Rs(t,e,n){</span><span class="s0">const </span><span class="s1">s=</span><span class="s0">function</span><span class="s1">({root:t,...e}){</span><span class="s0">const </span><span class="s1">n=t||document;Ds.has(n)||Ds.set(n,{});</span><span class="s0">const </span><span class="s1">s=Ds.get(n),i=JSON.stringify(e);</span><span class="s0">return </span><span class="s1">s[i]||(s[i]=</span><span class="s0">new </span><span class="s1">IntersectionObserver(Is,{root:t,...e})),s[i]}(e);</span><span class="s0">return </span><span class="s1">Fs.set(t,n),s.observe(t),()=&gt;{Fs.delete(t),s.unobserve(t)}}</span><span class="s0">const </span><span class="s1">Ns={some:</span><span class="s4">0</span><span class="s1">,all:</span><span class="s4">1</span><span class="s1">};</span><span class="s0">const </span><span class="s1">Ks={inView:{Feature:</span><span class="s0">class extends </span><span class="s1">Ms{constructor(){</span><span class="s0">super</span><span class="s1">(...arguments),</span><span class="s0">this</span><span class="s1">.hasEnteredView=!</span><span class="s4">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isInView=!</span><span class="s4">1</span><span class="s1">}startObserver(){</span><span class="s0">this</span><span class="s1">.unmount();</span><span class="s0">const</span><span class="s1">{viewport:t={}}=</span><span class="s0">this</span><span class="s1">.node.getProps(),{root:e,margin:n,amount:s=</span><span class="s2">&quot;some&quot;</span><span class="s1">,once:i}=t,r={root:e?e.current:</span><span class="s0">void </span><span class="s4">0</span><span class="s1">,rootMargin:n,threshold:</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">s?s:Ns[s]};</span><span class="s0">return </span><span class="s1">Rs(</span><span class="s0">this</span><span class="s1">.node.current,r,t=&gt;{</span><span class="s0">const</span><span class="s1">{isIntersecting:e}=t;</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.isInView===e)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.isInView=e,i&amp;&amp;!e&amp;&amp;</span><span class="s0">this</span><span class="s1">.hasEnteredView)</span><span class="s0">return</span><span class="s1">;e&amp;&amp;(</span><span class="s0">this</span><span class="s1">.hasEnteredView=!</span><span class="s4">0</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.node.animationState&amp;&amp;</span><span class="s0">this</span><span class="s1">.node.animationState.setActive(</span><span class="s2">&quot;whileInView&quot;</span><span class="s1">,e);</span><span class="s0">const</span><span class="s1">{onViewportEnter:n,onViewportLeave:s}=</span><span class="s0">this</span><span class="s1">.node.getProps(),r=e?n:s;r&amp;&amp;r(t)})}mount(){</span><span class="s0">this</span><span class="s1">.startObserver()}update(){</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">IntersectionObserver)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{props:t,prevProps:e}=</span><span class="s0">this</span><span class="s1">.node;[</span><span class="s2">&quot;amount&quot;</span><span class="s1">,</span><span class="s2">&quot;margin&quot;</span><span class="s1">,</span><span class="s2">&quot;root&quot;</span><span class="s1">].some(</span><span class="s0">function</span><span class="s1">({viewport:t={}},{viewport:e={}}={}){</span><span class="s0">return </span><span class="s1">n=&gt;t[n]!==e[n]}(t,e))&amp;&amp;</span><span class="s0">this</span><span class="s1">.startObserver()}unmount(){}}},tap:{Feature:</span><span class="s0">class extends </span><span class="s1">Ms{mount(){</span><span class="s0">const</span><span class="s1">{current:t}=</span><span class="s0">this</span><span class="s1">.node;t&amp;&amp;(</span><span class="s0">this</span><span class="s1">.unmount=Gn(t,(t,e)=&gt;(Es(</span><span class="s0">this</span><span class="s1">.node,e,</span><span class="s2">&quot;Start&quot;</span><span class="s1">),(t,{success:e})=&gt;Es(</span><span class="s0">this</span><span class="s1">.node,t,e?</span><span class="s2">&quot;End&quot;</span><span class="s1">:</span><span class="s2">&quot;Cancel&quot;</span><span class="s1">)),{useGlobalTarget:</span><span class="s0">this</span><span class="s1">.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:</span><span class="s0">class extends </span><span class="s1">Ms{constructor(){</span><span class="s0">super</span><span class="s1">(...arguments),</span><span class="s0">this</span><span class="s1">.isActive=!</span><span class="s4">1</span><span class="s1">}onFocus(){</span><span class="s0">let </span><span class="s1">t=!</span><span class="s4">1</span><span class="s1">;</span><span class="s0">try</span><span class="s1">{t=</span><span class="s0">this</span><span class="s1">.node.current.matches(</span><span class="s2">&quot;:focus-visible&quot;</span><span class="s1">)}</span><span class="s0">catch</span><span class="s1">(e){t=!</span><span class="s4">0</span><span class="s1">}t&amp;&amp;</span><span class="s0">this</span><span class="s1">.node.animationState&amp;&amp;(</span><span class="s0">this</span><span class="s1">.node.animationState.setActive(</span><span class="s2">&quot;whileFocus&quot;</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.isActive=!</span><span class="s4">0</span><span class="s1">)}onBlur(){</span><span class="s0">this</span><span class="s1">.isActive&amp;&amp;</span><span class="s0">this</span><span class="s1">.node.animationState&amp;&amp;(</span><span class="s0">this</span><span class="s1">.node.animationState.setActive(</span><span class="s2">&quot;whileFocus&quot;</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.isActive=!</span><span class="s4">1</span><span class="s1">)}mount(){</span><span class="s0">this</span><span class="s1">.unmount=B(Ps(</span><span class="s0">this</span><span class="s1">.node.current,</span><span class="s2">&quot;focus&quot;</span><span class="s1">,()=&gt;</span><span class="s0">this</span><span class="s1">.onFocus()),Ps(</span><span class="s0">this</span><span class="s1">.node.current,</span><span class="s2">&quot;blur&quot;</span><span class="s1">,()=&gt;</span><span class="s0">this</span><span class="s1">.onBlur()))}unmount(){}}},hover:{Feature:</span><span class="s0">class extends </span><span class="s1">Ms{mount(){</span><span class="s0">const</span><span class="s1">{current:t}=</span><span class="s0">this</span><span class="s1">.node;t&amp;&amp;(</span><span class="s0">this</span><span class="s1">.unmount=</span><span class="s0">function</span><span class="s1">(t,e,n={}){</span><span class="s0">const</span><span class="s1">[s,i,r]=qn(t,n),o=t=&gt;{</span><span class="s0">if</span><span class="s1">(!Wn(t))</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{target:n}=t,s=e(n,t);</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">s||!n)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const </span><span class="s1">r=t=&gt;{Wn(t)&amp;&amp;(s(t),n.removeEventListener(</span><span class="s2">&quot;pointerleave&quot;</span><span class="s1">,r))};n.addEventListener(</span><span class="s2">&quot;pointerleave&quot;</span><span class="s1">,r,i)};</span><span class="s0">return </span><span class="s1">s.forEach(t=&gt;{t.addEventListener(</span><span class="s2">&quot;pointerenter&quot;</span><span class="s1">,o,i)}),r}(t,(t,e)=&gt;(ks(</span><span class="s0">this</span><span class="s1">.node,e,</span><span class="s2">&quot;Start&quot;</span><span class="s1">),t=&gt;ks(</span><span class="s0">this</span><span class="s1">.node,t,</span><span class="s2">&quot;End&quot;</span><span class="s1">))))}unmount(){}}}};</span><span class="s0">const </span><span class="s1">Bs=()=&gt;({x:{min:</span><span class="s4">0</span><span class="s1">,max:</span><span class="s4">0</span><span class="s1">},y:{min:</span><span class="s4">0</span><span class="s1">,max:</span><span class="s4">0</span><span class="s1">}}),Ls={current:</span><span class="s0">null</span><span class="s1">},js={current:!</span><span class="s4">1</span><span class="s1">};</span><span class="s0">const </span><span class="s1">Us=</span><span class="s0">new </span><span class="s1">WeakMap;</span><span class="s0">const </span><span class="s1">qs=[</span><span class="s2">&quot;AnimationStart&quot;</span><span class="s1">,</span><span class="s2">&quot;AnimationComplete&quot;</span><span class="s1">,</span><span class="s2">&quot;Update&quot;</span><span class="s1">,</span><span class="s2">&quot;BeforeLayoutMeasure&quot;</span><span class="s1">,</span><span class="s2">&quot;LayoutMeasure&quot;</span><span class="s1">,</span><span class="s2">&quot;LayoutAnimationStart&quot;</span><span class="s1">,</span><span class="s2">&quot;LayoutAnimationComplete&quot;</span><span class="s1">];</span><span class="s0">class </span><span class="s1">Ws{scrapeMotionValuesFromProps(t,e,n){</span><span class="s0">return</span><span class="s1">{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:r},o={}){</span><span class="s0">this</span><span class="s1">.current=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.children=</span><span class="s0">new </span><span class="s1">Set,</span><span class="s0">this</span><span class="s1">.isVariantNode=!</span><span class="s4">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isControllingVariants=!</span><span class="s4">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.shouldReduceMotion=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.values=</span><span class="s0">new </span><span class="s1">Map,</span><span class="s0">this</span><span class="s1">.KeyframeResolver=Qe,</span><span class="s0">this</span><span class="s1">.features={},</span><span class="s0">this</span><span class="s1">.valueSubscriptions=</span><span class="s0">new </span><span class="s1">Map,</span><span class="s0">this</span><span class="s1">.prevMotionValues={},</span><span class="s0">this</span><span class="s1">.events={},</span><span class="s0">this</span><span class="s1">.propEventSubscriptions={},</span><span class="s0">this</span><span class="s1">.notifyUpdate=()=&gt;</span><span class="s0">this</span><span class="s1">.notify(</span><span class="s2">&quot;Update&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.latestValues),</span><span class="s0">this</span><span class="s1">.render=()=&gt;{</span><span class="s0">this</span><span class="s1">.current&amp;&amp;(</span><span class="s0">this</span><span class="s1">.triggerBuild(),</span><span class="s0">this</span><span class="s1">.renderInstance(</span><span class="s0">this</span><span class="s1">.current,</span><span class="s0">this</span><span class="s1">.renderState,</span><span class="s0">this</span><span class="s1">.props.style,</span><span class="s0">this</span><span class="s1">.projection))},</span><span class="s0">this</span><span class="s1">.renderScheduledAt=</span><span class="s4">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.scheduleRender=()=&gt;{</span><span class="s0">const </span><span class="s1">t=yt.now();</span><span class="s0">this</span><span class="s1">.renderScheduledAt&lt;t&amp;&amp;(</span><span class="s0">this</span><span class="s1">.renderScheduledAt=t,ht.render(</span><span class="s0">this</span><span class="s1">.render,!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">))};</span><span class="s0">const</span><span class="s1">{latestValues:a,renderState:u}=r;</span><span class="s0">this</span><span class="s1">.latestValues=a,</span><span class="s0">this</span><span class="s1">.baseTarget={...a},</span><span class="s0">this</span><span class="s1">.initialValues=e.initial?{...a}:{},</span><span class="s0">this</span><span class="s1">.renderState=u,</span><span class="s0">this</span><span class="s1">.parent=t,</span><span class="s0">this</span><span class="s1">.props=e,</span><span class="s0">this</span><span class="s1">.presenceContext=n,</span><span class="s0">this</span><span class="s1">.depth=t?t.depth+</span><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.reducedMotionConfig=s,</span><span class="s0">this</span><span class="s1">.options=o,</span><span class="s0">this</span><span class="s1">.blockInitialAnimation=Boolean(i),</span><span class="s0">this</span><span class="s1">.isControllingVariants=w(e),</span><span class="s0">this</span><span class="s1">.isVariantNode=T(e),</span><span class="s0">this</span><span class="s1">.isVariantNode&amp;&amp;(</span><span class="s0">this</span><span class="s1">.variantChildren=</span><span class="s0">new </span><span class="s1">Set),</span><span class="s0">this</span><span class="s1">.manuallyAnimateOnMount=Boolean(t&amp;&amp;t.current);</span><span class="s0">const</span><span class="s1">{willChange:l,...h}=</span><span class="s0">this</span><span class="s1">.scrapeMotionValuesFromProps(e,{},</span><span class="s0">this</span><span class="s1">);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in </span><span class="s1">h){</span><span class="s0">const </span><span class="s1">e=h[t];</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==a[t]&amp;&amp;d(e)&amp;&amp;e.set(a[t])}}mount(t){</span><span class="s0">this</span><span class="s1">.current=t,Us.set(t,</span><span class="s0">this</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.projection&amp;&amp;!</span><span class="s0">this</span><span class="s1">.projection.instance&amp;&amp;</span><span class="s0">this</span><span class="s1">.projection.mount(t),</span><span class="s0">this</span><span class="s1">.parent&amp;&amp;</span><span class="s0">this</span><span class="s1">.isVariantNode&amp;&amp;!</span><span class="s0">this</span><span class="s1">.isControllingVariants&amp;&amp;(</span><span class="s0">this</span><span class="s1">.removeFromVariantTree=</span><span class="s0">this</span><span class="s1">.parent.addVariantChild(</span><span class="s0">this</span><span class="s1">)),</span><span class="s0">this</span><span class="s1">.values.forEach((t,e)=&gt;</span><span class="s0">this</span><span class="s1">.bindToMotionValue(e,t)),js.current||</span><span class="s0">function</span><span class="s1">(){</span><span class="s0">if</span><span class="s1">(js.current=!</span><span class="s4">0</span><span class="s1">,b)</span><span class="s0">if</span><span class="s1">(window.matchMedia){</span><span class="s0">const </span><span class="s1">t=window.matchMedia(</span><span class="s2">&quot;(prefers-reduced-motion)&quot;</span><span class="s1">),e=()=&gt;Ls.current=t.matches;t.addEventListener(</span><span class="s2">&quot;change&quot;</span><span class="s1">,e),e()}</span><span class="s0">else </span><span class="s1">Ls.current=!</span><span class="s4">1</span><span class="s1">}(),</span><span class="s0">this</span><span class="s1">.shouldReduceMotion=</span><span class="s2">&quot;never&quot;</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.reducedMotionConfig&amp;&amp;(</span><span class="s2">&quot;always&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.reducedMotionConfig||Ls.current),</span><span class="s0">this</span><span class="s1">.parent?.addChild(</span><span class="s0">this</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.update(</span><span class="s0">this</span><span class="s1">.props,</span><span class="s0">this</span><span class="s1">.presenceContext)}unmount(){</span><span class="s0">this</span><span class="s1">.projection&amp;&amp;</span><span class="s0">this</span><span class="s1">.projection.unmount(),ct(</span><span class="s0">this</span><span class="s1">.notifyUpdate),ct(</span><span class="s0">this</span><span class="s1">.render),</span><span class="s0">this</span><span class="s1">.valueSubscriptions.forEach(t=&gt;t()),</span><span class="s0">this</span><span class="s1">.valueSubscriptions.clear(),</span><span class="s0">this</span><span class="s1">.removeFromVariantTree&amp;&amp;</span><span class="s0">this</span><span class="s1">.removeFromVariantTree(),</span><span class="s0">this</span><span class="s1">.parent?.removeChild(</span><span class="s0">this</span><span class="s1">);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in this</span><span class="s1">.events)</span><span class="s0">this</span><span class="s1">.events[t].clear();</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in this</span><span class="s1">.features){</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.features[t];e&amp;&amp;(e.unmount(),e.isMounted=!</span><span class="s4">1</span><span class="s1">)}</span><span class="s0">this</span><span class="s1">.current=</span><span class="s0">null</span><span class="s1">}addChild(t){</span><span class="s0">this</span><span class="s1">.children.add(t),</span><span class="s0">this</span><span class="s1">.enteringChildren??(</span><span class="s0">this</span><span class="s1">.enteringChildren=</span><span class="s0">new </span><span class="s1">Set),</span><span class="s0">this</span><span class="s1">.enteringChildren.add(t)}removeChild(t){</span><span class="s0">this</span><span class="s1">.children.delete(t),</span><span class="s0">this</span><span class="s1">.enteringChildren&amp;&amp;</span><span class="s0">this</span><span class="s1">.enteringChildren.delete(t)}bindToMotionValue(t,e){</span><span class="s0">this</span><span class="s1">.valueSubscriptions.has(t)&amp;&amp;</span><span class="s0">this</span><span class="s1">.valueSubscriptions.get(t)();</span><span class="s0">const </span><span class="s1">n=m.has(t);n&amp;&amp;</span><span class="s0">this</span><span class="s1">.onBindTransform&amp;&amp;</span><span class="s0">this</span><span class="s1">.onBindTransform();</span><span class="s0">const </span><span class="s1">s=e.on(</span><span class="s2">&quot;change&quot;</span><span class="s1">,e=&gt;{</span><span class="s0">this</span><span class="s1">.latestValues[t]=e,</span><span class="s0">this</span><span class="s1">.props.onUpdate&amp;&amp;ht.preRender(</span><span class="s0">this</span><span class="s1">.notifyUpdate),n&amp;&amp;</span><span class="s0">this</span><span class="s1">.projection&amp;&amp;(</span><span class="s0">this</span><span class="s1">.projection.isTransformDirty=!</span><span class="s4">0</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.scheduleRender()});</span><span class="s0">let </span><span class="s1">i;window.MotionCheckAppearSync&amp;&amp;(i=window.MotionCheckAppearSync(</span><span class="s0">this</span><span class="s1">,t,e)),</span><span class="s0">this</span><span class="s1">.valueSubscriptions.set(t,()=&gt;{s(),i&amp;&amp;i(),e.owner&amp;&amp;e.stop()})}sortNodePosition(t){</span><span class="s0">return this</span><span class="s1">.current&amp;&amp;</span><span class="s0">this</span><span class="s1">.sortInstanceNodePosition&amp;&amp;</span><span class="s0">this</span><span class="s1">.type===t.type?</span><span class="s0">this</span><span class="s1">.sortInstanceNodePosition(</span><span class="s0">this</span><span class="s1">.current,t.current):</span><span class="s4">0</span><span class="s1">}updateFeatures(){</span><span class="s0">let </span><span class="s1">t=</span><span class="s2">&quot;animation&quot;</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(t </span><span class="s0">in </span><span class="s1">S){</span><span class="s0">const </span><span class="s1">e=S[t];</span><span class="s0">if</span><span class="s1">(!e)</span><span class="s0">continue</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{isEnabled:n,Feature:s}=e;</span><span class="s0">if</span><span class="s1">(!</span><span class="s0">this</span><span class="s1">.features[t]&amp;&amp;s&amp;&amp;n(</span><span class="s0">this</span><span class="s1">.props)&amp;&amp;(</span><span class="s0">this</span><span class="s1">.features[t]=</span><span class="s0">new </span><span class="s1">s(</span><span class="s0">this</span><span class="s1">)),</span><span class="s0">this</span><span class="s1">.features[t]){</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!</span><span class="s4">0</span><span class="s1">)}}}triggerBuild(){</span><span class="s0">this</span><span class="s1">.build(</span><span class="s0">this</span><span class="s1">.renderState,</span><span class="s0">this</span><span class="s1">.latestValues,</span><span class="s0">this</span><span class="s1">.props)}measureViewportBox(){</span><span class="s0">return this</span><span class="s1">.current?</span><span class="s0">this</span><span class="s1">.measureInstanceViewportBox(</span><span class="s0">this</span><span class="s1">.current,</span><span class="s0">this</span><span class="s1">.props):{x:{min:</span><span class="s4">0</span><span class="s1">,max:</span><span class="s4">0</span><span class="s1">},y:{min:</span><span class="s4">0</span><span class="s1">,max:</span><span class="s4">0</span><span class="s1">}}}getStaticValue(t){</span><span class="s0">return this</span><span class="s1">.latestValues[t]}setStaticValue(t,e){</span><span class="s0">this</span><span class="s1">.latestValues[t]=e}update(t,e){(t.transformTemplate||</span><span class="s0">this</span><span class="s1">.props.transformTemplate)&amp;&amp;</span><span class="s0">this</span><span class="s1">.scheduleRender(),</span><span class="s0">this</span><span class="s1">.prevProps=</span><span class="s0">this</span><span class="s1">.props,</span><span class="s0">this</span><span class="s1">.props=t,</span><span class="s0">this</span><span class="s1">.prevPresenceContext=</span><span class="s0">this</span><span class="s1">.presenceContext,</span><span class="s0">this</span><span class="s1">.presenceContext=e;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;qs.length;e++){</span><span class="s0">const </span><span class="s1">n=qs[e];</span><span class="s0">this</span><span class="s1">.propEventSubscriptions[n]&amp;&amp;(</span><span class="s0">this</span><span class="s1">.propEventSubscriptions[n](),</span><span class="s0">delete this</span><span class="s1">.propEventSubscriptions[n]);</span><span class="s0">const </span><span class="s1">s=t[</span><span class="s2">&quot;on&quot;</span><span class="s1">+n];s&amp;&amp;(</span><span class="s0">this</span><span class="s1">.propEventSubscriptions[n]=</span><span class="s0">this</span><span class="s1">.on(n,s))}</span><span class="s0">this</span><span class="s1">.prevMotionValues=</span><span class="s0">function</span><span class="s1">(t,e,n){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">s </span><span class="s0">in </span><span class="s1">e){</span><span class="s0">const </span><span class="s1">i=e[s],r=n[s];</span><span class="s0">if</span><span class="s1">(d(i))t.addValue(s,i);</span><span class="s0">else if</span><span class="s1">(d(r))t.addValue(s,Kn(i,{owner:t}));</span><span class="s0">else if</span><span class="s1">(r!==i)</span><span class="s0">if</span><span class="s1">(t.hasValue(s)){</span><span class="s0">const </span><span class="s1">e=t.getValue(s);!</span><span class="s4">0</span><span class="s1">===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">e=t.getStaticValue(s);t.addValue(s,Kn(</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==e?e:i,{owner:t}))}}</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">s </span><span class="s0">in </span><span class="s1">n)</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===e[s]&amp;&amp;t.removeValue(s);</span><span class="s0">return </span><span class="s1">e}(</span><span class="s0">this</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.scrapeMotionValuesFromProps(t,</span><span class="s0">this</span><span class="s1">.prevProps,</span><span class="s0">this</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.prevMotionValues),</span><span class="s0">this</span><span class="s1">.handleChildMotionValue&amp;&amp;</span><span class="s0">this</span><span class="s1">.handleChildMotionValue()}getProps(){</span><span class="s0">return this</span><span class="s1">.props}getVariant(t){</span><span class="s0">return this</span><span class="s1">.props.variants?</span><span class="s0">this</span><span class="s1">.props.variants[t]:</span><span class="s0">void </span><span class="s4">0</span><span class="s1">}getDefaultTransition(){</span><span class="s0">return this</span><span class="s1">.props.transition}getTransformPagePoint(){</span><span class="s0">return this</span><span class="s1">.props.transformPagePoint}getClosestVariantNode(){</span><span class="s0">return this</span><span class="s1">.isVariantNode?</span><span class="s0">this</span><span class="s1">:</span><span class="s0">this</span><span class="s1">.parent?</span><span class="s0">this</span><span class="s1">.parent.getClosestVariantNode():</span><span class="s0">void </span><span class="s4">0</span><span class="s1">}addVariantChild(t){</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.getClosestVariantNode();</span><span class="s0">if</span><span class="s1">(e)</span><span class="s0">return </span><span class="s1">e.variantChildren&amp;&amp;e.variantChildren.add(t),()=&gt;e.variantChildren.delete(t)}addValue(t,e){</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.values.get(t);e!==n&amp;&amp;(n&amp;&amp;</span><span class="s0">this</span><span class="s1">.removeValue(t),</span><span class="s0">this</span><span class="s1">.bindToMotionValue(t,e),</span><span class="s0">this</span><span class="s1">.values.set(t,e),</span><span class="s0">this</span><span class="s1">.latestValues[t]=e.get())}removeValue(t){</span><span class="s0">this</span><span class="s1">.values.delete(t);</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.valueSubscriptions.get(t);e&amp;&amp;(e(),</span><span class="s0">this</span><span class="s1">.valueSubscriptions.delete(t)),</span><span class="s0">delete this</span><span class="s1">.latestValues[t],</span><span class="s0">this</span><span class="s1">.removeValueFromRenderState(t,</span><span class="s0">this</span><span class="s1">.renderState)}hasValue(t){</span><span class="s0">return this</span><span class="s1">.values.has(t)}getValue(t,e){</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.props.values&amp;&amp;</span><span class="s0">this</span><span class="s1">.props.values[t])</span><span class="s0">return this</span><span class="s1">.props.values[t];</span><span class="s0">let </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.values.get(t);</span><span class="s0">return void </span><span class="s4">0</span><span class="s1">===n&amp;&amp;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==e&amp;&amp;(n=Kn(</span><span class="s0">null</span><span class="s1">===e?</span><span class="s0">void </span><span class="s4">0</span><span class="s1">:e,{owner:</span><span class="s0">this</span><span class="s1">}),</span><span class="s0">this</span><span class="s1">.addValue(t,n)),n}readValue(t,e){</span><span class="s0">let </span><span class="s1">n=</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.latestValues[t]&amp;&amp;</span><span class="s0">this</span><span class="s1">.current?</span><span class="s0">this</span><span class="s1">.getBaseTargetFromProps(</span><span class="s0">this</span><span class="s1">.props,t)??</span><span class="s0">this</span><span class="s1">.readValueFromInstance(</span><span class="s0">this</span><span class="s1">.current,t,</span><span class="s0">this</span><span class="s1">.options):</span><span class="s0">this</span><span class="s1">.latestValues[t];</span><span class="s0">var </span><span class="s1">s;</span><span class="s0">return null</span><span class="s1">!=n&amp;&amp;(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n&amp;&amp;(O(n)||I(n))?n=parseFloat(n):(s=n,!Zn.find(An(s))&amp;&amp;Rt.test(e)&amp;&amp;(n=On(t,e))),</span><span class="s0">this</span><span class="s1">.setBaseTarget(t,d(n)?n.get():n)),d(n)?n.get():n}setBaseTarget(t,e){</span><span class="s0">this</span><span class="s1">.baseTarget[t]=e}getBaseTarget(t){</span><span class="s0">const</span><span class="s1">{initial:e}=</span><span class="s0">this</span><span class="s1">.props;</span><span class="s0">let </span><span class="s1">n;</span><span class="s0">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e||</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e){</span><span class="s0">const </span><span class="s1">s=c(</span><span class="s0">this</span><span class="s1">.props,e,</span><span class="s0">this</span><span class="s1">.presenceContext?.custom);s&amp;&amp;(n=s[t])}</span><span class="s0">if</span><span class="s1">(e&amp;&amp;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==n)</span><span class="s0">return </span><span class="s1">n;</span><span class="s0">const </span><span class="s1">s=</span><span class="s0">this</span><span class="s1">.getBaseTargetFromProps(</span><span class="s0">this</span><span class="s1">.props,t);</span><span class="s0">return void </span><span class="s4">0</span><span class="s1">===s||d(s)?</span><span class="s0">void </span><span class="s4">0</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.initialValues[t]&amp;&amp;</span><span class="s0">void </span><span class="s4">0</span><span class="s1">===n?</span><span class="s0">void </span><span class="s4">0</span><span class="s1">:</span><span class="s0">this</span><span class="s1">.baseTarget[t]:s}on(t,e){</span><span class="s0">return this</span><span class="s1">.events[t]||(</span><span class="s0">this</span><span class="s1">.events[t]=</span><span class="s0">new </span><span class="s1">j),</span><span class="s0">this</span><span class="s1">.events[t].add(e)}notify(t,...e){</span><span class="s0">this</span><span class="s1">.events[t]&amp;&amp;</span><span class="s0">this</span><span class="s1">.events[t].notify(...e)}scheduleRenderMicrotask(){Bn.render(</span><span class="s0">this</span><span class="s1">.render)}}</span><span class="s0">class </span><span class="s1">Ys </span><span class="s0">extends </span><span class="s1">Ws{constructor(){</span><span class="s0">super</span><span class="s1">(...arguments),</span><span class="s0">this</span><span class="s1">.KeyframeResolver=Rn}sortInstanceNodePosition(t,e){</span><span class="s0">return </span><span class="s4">2</span><span class="s1">&amp;t.compareDocumentPosition(e)?</span><span class="s4">1</span><span class="s1">:-</span><span class="s4">1</span><span class="s1">}getBaseTargetFromProps(t,e){</span><span class="s0">return </span><span class="s1">t.style?t.style[e]:</span><span class="s0">void </span><span class="s4">0</span><span class="s1">}removeValueFromRenderState(t,{vars:e,style:n}){</span><span class="s0">delete </span><span class="s1">e[t],</span><span class="s0">delete </span><span class="s1">n[t]}handleChildMotionValue(){</span><span class="s0">this</span><span class="s1">.childSubscription&amp;&amp;(</span><span class="s0">this</span><span class="s1">.childSubscription(),</span><span class="s0">delete this</span><span class="s1">.childSubscription);</span><span class="s0">const</span><span class="s1">{children:t}=</span><span class="s0">this</span><span class="s1">.props;d(t)&amp;&amp;(</span><span class="s0">this</span><span class="s1">.childSubscription=t.on(</span><span class="s2">&quot;change&quot;</span><span class="s1">,t=&gt;{</span><span class="s0">this</span><span class="s1">.current&amp;&amp;(</span><span class="s0">this</span><span class="s1">.current.textContent=</span><span class="s2">`</span><span class="s1">${t}</span><span class="s2">`</span><span class="s1">)}))}}</span><span class="s0">function </span><span class="s1">$s(t,{style:e,vars:n},s,i){</span><span class="s0">const </span><span class="s1">r=t.style;</span><span class="s0">let </span><span class="s1">o;</span><span class="s0">for</span><span class="s1">(o </span><span class="s0">in </span><span class="s1">e)r[o]=e[o];</span><span class="s0">for</span><span class="s1">(o </span><span class="s0">in </span><span class="s1">i?.applyProjectionStyles(r,s),n)r.setProperty(o,n[o])}</span><span class="s0">class </span><span class="s1">zs </span><span class="s0">extends </span><span class="s1">Ys{constructor(){</span><span class="s0">super</span><span class="s1">(...arguments),</span><span class="s0">this</span><span class="s1">.type=</span><span class="s2">&quot;html&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.renderInstance=$s}readValueFromInstance(t,e){</span><span class="s0">if</span><span class="s1">(m.has(e))</span><span class="s0">return this</span><span class="s1">.projection?.isProjecting?je(e):((t,e)=&gt;{</span><span class="s0">const</span><span class="s1">{transform:n=</span><span class="s2">&quot;none&quot;</span><span class="s1">}=getComputedStyle(t);</span><span class="s0">return </span><span class="s1">Ue(n,e)})(t,e);{</span><span class="s0">const </span><span class="s1">s=(n=t,window.getComputedStyle(n)),i=(A(e)?s.getPropertyValue(e):s[e])||</span><span class="s4">0</span><span class="s1">;</span><span class="s0">return</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">i?i.trim():i}</span><span class="s0">var </span><span class="s1">n}measureInstanceViewportBox(t,{transformPagePoint:e}){</span><span class="s0">return function</span><span class="s1">(t,e){</span><span class="s0">return function</span><span class="s1">({top:t,left:e,right:n,bottom:s}){</span><span class="s0">return</span><span class="s1">{x:{min:e,max:n},y:{min:t,max:s}}}(</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">if</span><span class="s1">(!e)</span><span class="s0">return </span><span class="s1">t;</span><span class="s0">const </span><span class="s1">n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});</span><span class="s0">return</span><span class="s1">{top:n.y,left:n.x,bottom:s.y,right:s.x}}(t.getBoundingClientRect(),e))}(t,e)}build(t,e,n){M(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){</span><span class="s0">return </span><span class="s1">V(t,e,n)}}</span><span class="s0">const </span><span class="s1">Hs=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s2">&quot;baseFrequency&quot;</span><span class="s1">,</span><span class="s2">&quot;diffuseConstant&quot;</span><span class="s1">,</span><span class="s2">&quot;kernelMatrix&quot;</span><span class="s1">,</span><span class="s2">&quot;kernelUnitLength&quot;</span><span class="s1">,</span><span class="s2">&quot;keySplines&quot;</span><span class="s1">,</span><span class="s2">&quot;keyTimes&quot;</span><span class="s1">,</span><span class="s2">&quot;limitingConeAngle&quot;</span><span class="s1">,</span><span class="s2">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s2">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s2">&quot;numOctaves&quot;</span><span class="s1">,</span><span class="s2">&quot;targetX&quot;</span><span class="s1">,</span><span class="s2">&quot;targetY&quot;</span><span class="s1">,</span><span class="s2">&quot;surfaceScale&quot;</span><span class="s1">,</span><span class="s2">&quot;specularConstant&quot;</span><span class="s1">,</span><span class="s2">&quot;specularExponent&quot;</span><span class="s1">,</span><span class="s2">&quot;stdDeviation&quot;</span><span class="s1">,</span><span class="s2">&quot;tableValues&quot;</span><span class="s1">,</span><span class="s2">&quot;viewBox&quot;</span><span class="s1">,</span><span class="s2">&quot;gradientTransform&quot;</span><span class="s1">,</span><span class="s2">&quot;pathLength&quot;</span><span class="s1">,</span><span class="s2">&quot;startOffset&quot;</span><span class="s1">,</span><span class="s2">&quot;textLength&quot;</span><span class="s1">,</span><span class="s2">&quot;lengthAdjust&quot;</span><span class="s1">]);</span><span class="s0">class </span><span class="s1">Xs </span><span class="s0">extends </span><span class="s1">Ys{constructor(){</span><span class="s0">super</span><span class="s1">(...arguments),</span><span class="s0">this</span><span class="s1">.type=</span><span class="s2">&quot;svg&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isSVGTag=!</span><span class="s4">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.measureInstanceViewportBox=Bs}getBaseTargetFromProps(t,e){</span><span class="s0">return </span><span class="s1">t[e]}readValueFromInstance(t,e){</span><span class="s0">if</span><span class="s1">(m.has(e)){</span><span class="s0">const </span><span class="s1">t=Dn(e);</span><span class="s0">return </span><span class="s1">t&amp;&amp;t.default||</span><span class="s4">0</span><span class="s1">}</span><span class="s0">return </span><span class="s1">e=Hs.has(e)?e:x(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){</span><span class="s0">return </span><span class="s1">C(t,e,n)}build(t,e,n){k(t,e,</span><span class="s0">this</span><span class="s1">.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,s){!</span><span class="s0">function</span><span class="s1">(t,e,n,s){$s(t,e,</span><span class="s0">void </span><span class="s4">0</span><span class="s1">,s);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">n </span><span class="s0">in </span><span class="s1">e.attrs)t.setAttribute(Hs.has(n)?n:x(n),e.attrs[n])}(t,e,</span><span class="s4">0</span><span class="s1">,s)}mount(t){</span><span class="s0">this</span><span class="s1">.isSVGTag=P(t.tagName),</span><span class="s0">super</span><span class="s1">.mount(t)}}</span><span class="s0">const </span><span class="s1">_s={renderer:(t,e)=&gt;E(t)?</span><span class="s0">new </span><span class="s1">Xs(e):</span><span class="s0">new </span><span class="s1">zs(e,{allowProjection:t!==F}),...xs,...Ks};</span><span class="s0">export</span><span class="s1">{_s as domAnimation};</span>
</pre>
</body>
</html>