<html>
<head>
<title>fetch.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #8c8c8c; font-style: italic;}
.s1 { color: #080808;}
.s2 { color: #0033b3;}
.s3 { color: #067d17;}
.s4 { color: #8c8c8c; font-style: italic;}
.s5 { color: #1750eb;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
fetch.d.ts</font>
</center></td></tr></table>
<pre><span class="s0">// based on https://github.com/Ethan-Arrowood/undici-fetch/blob/249269714db874351589d2d364a0645d5160ae71/index.d.ts (MIT license)</span>
<span class="s0">// and https://github.com/node-fetch/node-fetch/blob/914ce6be5ec67a8bab63d68510aabf07cb818b6d/index.d.ts (MIT license)</span>
<span class="s0">/// &lt;reference types=&quot;node&quot; /&gt;</span>

<span class="s2">import </span><span class="s1">{ Blob } from </span><span class="s3">'buffer'</span>
<span class="s2">import </span><span class="s1">{ URL, URLSearchParams } from </span><span class="s3">'url'</span>
<span class="s2">import </span><span class="s1">{ ReadableStream } from </span><span class="s3">'stream/web'</span>
<span class="s2">import </span><span class="s1">{ FormData } from </span><span class="s3">'./formdata'</span>

<span class="s2">import </span><span class="s1">Dispatcher from </span><span class="s3">'./dispatcher'</span>

<span class="s2">export </span><span class="s1">type RequestInfo = string | URL | Request</span>

<span class="s2">export </span><span class="s1">declare </span><span class="s2">function </span><span class="s1">fetch (</span>
  <span class="s1">input: RequestInfo,</span>
  <span class="s1">init?: RequestInit</span>
<span class="s1">): Promise&lt;Response&gt;</span>

<span class="s2">export </span><span class="s1">type BodyInit =</span>
  <span class="s1">| ArrayBuffer</span>
  <span class="s1">| AsyncIterable&lt;Uint8Array&gt;</span>
  <span class="s1">| Blob</span>
  <span class="s1">| FormData</span>
  <span class="s1">| Iterable&lt;Uint8Array&gt;</span>
  <span class="s1">| NodeJS.ArrayBufferView</span>
  <span class="s1">| URLSearchParams</span>
  <span class="s1">| </span><span class="s2">null</span>
  <span class="s1">| string</span>

<span class="s2">export class </span><span class="s1">BodyMixin {</span>
  <span class="s1">readonly body: ReadableStream | </span><span class="s2">null</span>
  <span class="s1">readonly bodyUsed: boolean</span>

  <span class="s1">readonly arrayBuffer: () =&gt; Promise&lt;ArrayBuffer&gt;</span>
  <span class="s1">readonly blob: () =&gt; Promise&lt;Blob&gt;</span>
  <span class="s0">/**</span>
   <span class="s0">* </span><span class="s4">@deprecated </span><span class="s0">This method is not recommended for parsing multipart/form-data bodies in server environments.</span>
   <span class="s0">* It is recommended to use a library such as [@fastify/busboy](https://www.npmjs.com/package/@fastify/busboy) as follows:</span>
   <span class="s0">* </span>
   <span class="s0">* </span><span class="s4">@example</span>
   <span class="s0">* ```js</span>
   <span class="s0">* import { Busboy } from '@fastify/busboy'</span>
   <span class="s0">* import { Readable } from 'node:stream'</span>
   <span class="s0">* </span>
   <span class="s0">* const response = await fetch('...')</span>
   <span class="s0">* const busboy = new Busboy({ headers: { 'content-type': response.headers.get('content-type') } })</span>
   <span class="s0">* </span>
   <span class="s0">* // handle events emitted from `busboy`</span>
   <span class="s0">* </span>
   <span class="s0">* Readable.fromWeb(response.body).pipe(busboy)</span>
   <span class="s0">* ```</span>
   <span class="s0">*/</span>
  <span class="s1">readonly formData: () =&gt; Promise&lt;FormData&gt;</span>
  <span class="s1">readonly json: () =&gt; Promise&lt;unknown&gt;</span>
  <span class="s1">readonly text: () =&gt; Promise&lt;string&gt;</span>
<span class="s1">}</span>

<span class="s2">export interface </span><span class="s1">SpecIterator&lt;T, TReturn = any, TNext = undefined&gt; {</span>
  <span class="s1">next(...args: [] | [TNext]): IteratorResult&lt;T, TReturn&gt;;</span>
<span class="s1">}</span>

<span class="s2">export interface </span><span class="s1">SpecIterableIterator&lt;T&gt; </span><span class="s2">extends </span><span class="s1">SpecIterator&lt;T&gt; {</span>
  <span class="s1">[Symbol.iterator](): SpecIterableIterator&lt;T&gt;;</span>
<span class="s1">}</span>

<span class="s2">export interface </span><span class="s1">SpecIterable&lt;T&gt; {</span>
  <span class="s1">[Symbol.iterator](): SpecIterator&lt;T&gt;;</span>
<span class="s1">}</span>

<span class="s2">export </span><span class="s1">type HeadersInit = string[][] | Record&lt;string, string | ReadonlyArray&lt;string&gt;&gt; | Headers</span>

<span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">Headers </span><span class="s2">implements </span><span class="s1">SpecIterable&lt;[string, string]&gt; {</span>
  <span class="s1">constructor (init?: HeadersInit)</span>
  <span class="s1">readonly append: (name: string, value: string) =&gt; </span><span class="s2">void</span>
  <span class="s1">readonly </span><span class="s2">delete</span><span class="s1">: (name: string) =&gt; </span><span class="s2">void</span>
  <span class="s1">readonly get: (name: string) =&gt; string | </span><span class="s2">null</span>
  <span class="s1">readonly has: (name: string) =&gt; boolean</span>
  <span class="s1">readonly set: (name: string, value: string) =&gt; </span><span class="s2">void</span>
  <span class="s1">readonly getSetCookie: () =&gt; string[]</span>
  <span class="s1">readonly forEach: (</span>
    <span class="s1">callbackfn: (value: string, key: string, iterable: Headers) =&gt; </span><span class="s2">void</span><span class="s1">,</span>
    <span class="s1">thisArg?: unknown</span>
  <span class="s1">) =&gt; </span><span class="s2">void</span>

  <span class="s1">readonly keys: () =&gt; SpecIterableIterator&lt;string&gt;</span>
  <span class="s1">readonly values: () =&gt; SpecIterableIterator&lt;string&gt;</span>
  <span class="s1">readonly entries: () =&gt; SpecIterableIterator&lt;[string, string]&gt;</span>
  <span class="s1">readonly [Symbol.iterator]: () =&gt; SpecIterableIterator&lt;[string, string]&gt;</span>
<span class="s1">}</span>

<span class="s2">export </span><span class="s1">type RequestCache =</span>
  <span class="s1">| </span><span class="s3">'default'</span>
  <span class="s1">| </span><span class="s3">'force-cache'</span>
  <span class="s1">| </span><span class="s3">'no-cache'</span>
  <span class="s1">| </span><span class="s3">'no-store'</span>
  <span class="s1">| </span><span class="s3">'only-if-cached'</span>
  <span class="s1">| </span><span class="s3">'reload'</span>

<span class="s2">export </span><span class="s1">type RequestCredentials = </span><span class="s3">'omit' </span><span class="s1">| </span><span class="s3">'include' </span><span class="s1">| </span><span class="s3">'same-origin'</span>

<span class="s1">type RequestDestination =</span>
  <span class="s1">| </span><span class="s3">''</span>
  <span class="s1">| </span><span class="s3">'audio'</span>
  <span class="s1">| </span><span class="s3">'audioworklet'</span>
  <span class="s1">| </span><span class="s3">'document'</span>
  <span class="s1">| </span><span class="s3">'embed'</span>
  <span class="s1">| </span><span class="s3">'font'</span>
  <span class="s1">| </span><span class="s3">'image'</span>
  <span class="s1">| </span><span class="s3">'manifest'</span>
  <span class="s1">| </span><span class="s3">'object'</span>
  <span class="s1">| </span><span class="s3">'paintworklet'</span>
  <span class="s1">| </span><span class="s3">'report'</span>
  <span class="s1">| </span><span class="s3">'script'</span>
  <span class="s1">| </span><span class="s3">'sharedworker'</span>
  <span class="s1">| </span><span class="s3">'style'</span>
  <span class="s1">| </span><span class="s3">'track'</span>
  <span class="s1">| </span><span class="s3">'video'</span>
  <span class="s1">| </span><span class="s3">'worker'</span>
  <span class="s1">| </span><span class="s3">'xslt'</span>

<span class="s2">export interface </span><span class="s1">RequestInit {</span>
  <span class="s1">method?: string</span>
  <span class="s1">keepalive?: boolean</span>
  <span class="s1">headers?: HeadersInit</span>
  <span class="s1">body?: BodyInit | </span><span class="s2">null</span>
  <span class="s1">redirect?: RequestRedirect</span>
  <span class="s1">integrity?: string</span>
  <span class="s1">signal?: AbortSignal | </span><span class="s2">null</span>
  <span class="s1">credentials?: RequestCredentials</span>
  <span class="s1">mode?: RequestMode</span>
  <span class="s1">referrer?: string</span>
  <span class="s1">referrerPolicy?: ReferrerPolicy</span>
  <span class="s1">window?: </span><span class="s2">null</span>
  <span class="s1">dispatcher?: Dispatcher</span>
  <span class="s1">duplex?: RequestDuplex</span>
<span class="s1">}</span>

<span class="s2">export </span><span class="s1">type ReferrerPolicy =</span>
  <span class="s1">| </span><span class="s3">''</span>
  <span class="s1">| </span><span class="s3">'no-referrer'</span>
  <span class="s1">| </span><span class="s3">'no-referrer-when-downgrade'</span>
  <span class="s1">| </span><span class="s3">'origin'</span>
  <span class="s1">| </span><span class="s3">'origin-when-cross-origin'</span>
  <span class="s1">| </span><span class="s3">'same-origin'</span>
  <span class="s1">| </span><span class="s3">'strict-origin'</span>
  <span class="s1">| </span><span class="s3">'strict-origin-when-cross-origin'</span>
  <span class="s1">| </span><span class="s3">'unsafe-url'</span><span class="s1">;</span>

<span class="s2">export </span><span class="s1">type RequestMode = </span><span class="s3">'cors' </span><span class="s1">| </span><span class="s3">'navigate' </span><span class="s1">| </span><span class="s3">'no-cors' </span><span class="s1">| </span><span class="s3">'same-origin'</span>

<span class="s2">export </span><span class="s1">type RequestRedirect = </span><span class="s3">'error' </span><span class="s1">| </span><span class="s3">'follow' </span><span class="s1">| </span><span class="s3">'manual'</span>

<span class="s2">export </span><span class="s1">type RequestDuplex = </span><span class="s3">'half'</span>

<span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">Request </span><span class="s2">extends </span><span class="s1">BodyMixin {</span>
  <span class="s1">constructor (input: RequestInfo, init?: RequestInit)</span>

  <span class="s1">readonly cache: RequestCache</span>
  <span class="s1">readonly credentials: RequestCredentials</span>
  <span class="s1">readonly destination: RequestDestination</span>
  <span class="s1">readonly headers: Headers</span>
  <span class="s1">readonly integrity: string</span>
  <span class="s1">readonly method: string</span>
  <span class="s1">readonly mode: RequestMode</span>
  <span class="s1">readonly redirect: RequestRedirect</span>
  <span class="s1">readonly referrer: string</span>
  <span class="s1">readonly referrerPolicy: ReferrerPolicy</span>
  <span class="s1">readonly url: string</span>

  <span class="s1">readonly keepalive: boolean</span>
  <span class="s1">readonly signal: AbortSignal</span>
  <span class="s1">readonly duplex: RequestDuplex</span>

  <span class="s1">readonly clone: () =&gt; Request</span>
<span class="s1">}</span>

<span class="s2">export interface </span><span class="s1">ResponseInit {</span>
  <span class="s1">readonly status?: number</span>
  <span class="s1">readonly statusText?: string</span>
  <span class="s1">readonly headers?: HeadersInit</span>
<span class="s1">}</span>

<span class="s2">export </span><span class="s1">type ResponseType =</span>
  <span class="s1">| </span><span class="s3">'basic'</span>
  <span class="s1">| </span><span class="s3">'cors'</span>
  <span class="s1">| </span><span class="s3">'default'</span>
  <span class="s1">| </span><span class="s3">'error'</span>
  <span class="s1">| </span><span class="s3">'opaque'</span>
  <span class="s1">| </span><span class="s3">'opaqueredirect'</span>

<span class="s2">export </span><span class="s1">type ResponseRedirectStatus = </span><span class="s5">301 </span><span class="s1">| </span><span class="s5">302 </span><span class="s1">| </span><span class="s5">303 </span><span class="s1">| </span><span class="s5">307 </span><span class="s1">| </span><span class="s5">308</span>

<span class="s2">export </span><span class="s1">declare </span><span class="s2">class </span><span class="s1">Response </span><span class="s2">extends </span><span class="s1">BodyMixin {</span>
  <span class="s1">constructor (body?: BodyInit, init?: ResponseInit)</span>

  <span class="s1">readonly headers: Headers</span>
  <span class="s1">readonly ok: boolean</span>
  <span class="s1">readonly status: number</span>
  <span class="s1">readonly statusText: string</span>
  <span class="s1">readonly type: ResponseType</span>
  <span class="s1">readonly url: string</span>
  <span class="s1">readonly redirected: boolean</span>

  <span class="s1">readonly clone: () =&gt; Response</span>

  <span class="s2">static </span><span class="s1">error (): Response</span>
  <span class="s2">static </span><span class="s1">json(data: any, init?: ResponseInit): Response</span>
  <span class="s2">static </span><span class="s1">redirect (url: string | URL, status: ResponseRedirectStatus): Response</span>
<span class="s1">}</span>
</pre>
</body>
</html>