<html>
<head>
<title>getCountryByNationalNumber.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
getCountryByNationalNumber.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;getCountryByNationalNumber.js&quot;</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;_interopRequireDefault&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;_getNumberType&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,</span><span class="s1">&quot;_createForOfIteratorHelperLoose&quot;</span><span class="s0">,</span><span class="s1">&quot;r&quot;</span><span class="s0">,</span><span class="s1">&quot;t&quot;</span><span class="s0">,</span><span class="s1">&quot;Symbol&quot;</span><span class="s0">,</span><span class="s1">&quot;iterator&quot;</span><span class="s0">,</span><span class="s1">&quot;call&quot;</span><span class="s0">,</span><span class="s1">&quot;next&quot;</span><span class="s0">,</span><span class="s1">&quot;bind&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;_unsupportedIterableToArray&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;o&quot;</span><span class="s0">,</span><span class="s1">&quot;done&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;TypeError&quot;</span><span class="s0">,</span><span class="s1">&quot;a&quot;</span><span class="s0">,</span><span class="s1">&quot;_arrayLikeToArray&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;from&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">,</span><span class="s1">&quot;n&quot;</span><span class="s0">,</span><span class="s1">&quot;getCountryByNationalNumber&quot;</span><span class="s0">,</span><span class="s1">&quot;nationalPhoneNumber&quot;</span><span class="s0">,</span><span class="s1">&quot;_ref&quot;</span><span class="s0">,</span><span class="s1">&quot;countries&quot;</span><span class="s0">,</span><span class="s1">&quot;metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;Metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;_iterator&quot;</span><span class="s0">,</span><span class="s1">&quot;_step&quot;</span><span class="s0">,</span><span class="s1">&quot;country&quot;</span><span class="s0">,</span><span class="s1">&quot;selectNumberingPlan&quot;</span><span class="s0">,</span><span class="s1">&quot;leadingDigits&quot;</span><span class="s0">,</span><span class="s1">&quot;search&quot;</span><span class="s0">,</span><span class="s1">&quot;getNumberType&quot;</span><span class="s0">,</span><span class="s1">&quot;phone&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../source/helpers/getCountryByNationalNumber.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import Metadata from '../metadata.js'</span><span class="s3">\r\n</span><span class="s1">import getNumberType from './getNumberType.js'</span><span class="s3">\r\n\r\n</span><span class="s1">// Returns the exact country that the `nationalPhoneNumber` belongs to</span><span class="s3">\r\n</span><span class="s1">// in cases of ambiguity, i.e. when multiple countries share the same </span><span class="s3">\&quot;</span><span class="s1">country calling code</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\r\n</span><span class="s1">export default function getCountryByNationalNumber(nationalPhoneNumber, {</span><span class="s3">\r\n\t</span><span class="s1">countries,</span><span class="s3">\r\n\t</span><span class="s1">metadata</span><span class="s3">\r\n</span><span class="s1">}) {</span><span class="s3">\r\n\t</span><span class="s1">// Re-create `metadata` because it will be selecting a `country`.</span><span class="s3">\r\n\t</span><span class="s1">metadata = new Metadata(metadata)</span><span class="s3">\r\n\r\n\t</span><span class="s1">// const matchingCountries = []</span><span class="s3">\r\n\r\n\t</span><span class="s1">for (const country of countries) {</span><span class="s3">\r\n\t\t</span><span class="s1">metadata.selectNumberingPlan(country)</span><span class="s3">\r\n\t\t</span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">Leading digits</span><span class="s3">\&quot; </span><span class="s1">patterns are only defined for about 20% of all countries.</span><span class="s3">\r\n\t\t</span><span class="s1">// By definition, matching </span><span class="s3">\&quot;</span><span class="s1">leading digits</span><span class="s3">\&quot; </span><span class="s1">is a sufficient but not a necessary</span><span class="s3">\r\n\t\t</span><span class="s1">// condition for a phone number to belong to a country.</span><span class="s3">\r\n\t\t</span><span class="s1">// The point of </span><span class="s3">\&quot;</span><span class="s1">leading digits</span><span class="s3">\&quot; </span><span class="s1">check is that it's the fastest one to get a match.</span><span class="s3">\r\n\t\t</span><span class="s1">// https://gitlab.com/catamphetamine/libphonenumber-js/blob/master/METADATA.md#leading_digits</span><span class="s3">\r\n\t\t</span><span class="s1">// I'd suppose that </span><span class="s3">\&quot;</span><span class="s1">leading digits</span><span class="s3">\&quot; </span><span class="s1">patterns are mutually exclusive for different countries</span><span class="s3">\r\n\t\t</span><span class="s1">// because of the intended use of that feature.</span><span class="s3">\r\n\t\t</span><span class="s1">if (metadata.leadingDigits()) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">if (nationalPhoneNumber &amp;&amp;</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">nationalPhoneNumber.search(metadata.leadingDigits()) === 0) {</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">return country</span><span class="s3">\r\n\t\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t</span><span class="s1">// Else perform full validation with all of those</span><span class="s3">\r\n\t\t</span><span class="s1">// fixed-line/mobile/etc regular expressions.</span><span class="s3">\r\n\t\t</span><span class="s1">else if (getNumberType({ phone: nationalPhoneNumber, country }, undefined, metadata.metadata)) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">// When multiple countries share the same </span><span class="s3">\&quot;</span><span class="s1">country calling code</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\r\n\t\t\t</span><span class="s1">// type patterns aren't guaranteed to be unique among them.</span><span class="s3">\r\n\t\t\t</span><span class="s1">// For example, both `US` and `CA` have the same pattern for `toll_free` numbers.</span><span class="s3">\r\n\t\t\t</span><span class="s1">// https://gitlab.com/catamphetamine/libphonenumber-js/-/issues/103#note_1417147572</span><span class="s3">\r\n\t\t\t</span><span class="s1">//</span><span class="s3">\r\n\t\t\t</span><span class="s1">// That means that this `if` condition could be `true` for multiple countries from the list.</span><span class="s3">\r\n\t\t\t</span><span class="s1">// Currently, it just returns the first one, which is also the </span><span class="s3">\&quot;</span><span class="s1">main</span><span class="s3">\&quot; </span><span class="s1">country for the </span><span class="s3">\&quot;</span><span class="s1">country calling code</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\r\n\t\t\t</span><span class="s1">// In an example with `toll_free` numbers above, `</span><span class="s3">\&quot;</span><span class="s1">US</span><span class="s3">\&quot;</span><span class="s1">` would be returned even though</span><span class="s3">\r\n\t\t\t</span><span class="s1">// it could as well be `</span><span class="s3">\&quot;</span><span class="s1">CA</span><span class="s3">\&quot;</span><span class="s1">`.</span><span class="s3">\r\n\t\t\t</span><span class="s1">//</span><span class="s3">\r\n\t\t\t</span><span class="s1">// There was also a time when this attempted to be overly smart</span><span class="s3">\r\n\t\t\t</span><span class="s1">// and kept track of all such multiple matching countries</span><span class="s3">\r\n\t\t\t</span><span class="s1">// and then picked the one that matched the `defaultCountry`, if provided.</span><span class="s3">\r\n\t\t\t</span><span class="s1">// For example, with `toll_free` numbers above, and with `defaultCountry: </span><span class="s3">\&quot;</span><span class="s1">CA</span><span class="s3">\&quot;</span><span class="s1">`,</span><span class="s3">\r\n\t\t\t</span><span class="s1">// it would've returned `</span><span class="s3">\&quot;</span><span class="s1">CA</span><span class="s3">\&quot;</span><span class="s1">` instead of `</span><span class="s3">\&quot;</span><span class="s1">US</span><span class="s3">\&quot;</span><span class="s1">`.</span><span class="s3">\r\n\t\t\t</span><span class="s1">// Later it turned out that such </span><span class="s3">\&quot;</span><span class="s1">overly smart</span><span class="s3">\&quot; </span><span class="s1">behavior turned out to be just confusing,</span><span class="s3">\r\n\t\t\t</span><span class="s1">// so this </span><span class="s3">\&quot;</span><span class="s1">overly smart</span><span class="s3">\&quot; </span><span class="s1">country detection was reverted to returning the </span><span class="s3">\&quot;</span><span class="s1">main</span><span class="s3">\&quot; </span><span class="s1">country</span><span class="s3">\r\n\t\t\t</span><span class="s1">// for the </span><span class="s3">\&quot;</span><span class="s1">country calling code</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\r\n\t\t\t</span><span class="s1">// https://gitlab.com/catamphetamine/libphonenumber-js/-/issues/154</span><span class="s3">\r\n\t\t\t</span><span class="s1">//</span><span class="s3">\r\n\t\t\t</span><span class="s1">return country</span><span class="s3">\r\n\t\t\t</span><span class="s1">//</span><span class="s3">\r\n\t\t\t</span><span class="s1">// The </span><span class="s3">\&quot;</span><span class="s1">overly smart</span><span class="s3">\&quot; </span><span class="s1">behavior code:</span><span class="s3">\r\n\t\t\t</span><span class="s1">//</span><span class="s3">\r\n\t\t\t</span><span class="s1">// if (defaultCountry) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">// </span><span class="s3">\t</span><span class="s1">if (country === defaultCountry) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">// </span><span class="s3">\t\t</span><span class="s1">return country</span><span class="s3">\r\n\t\t\t</span><span class="s1">// </span><span class="s3">\t</span><span class="s1">} else {</span><span class="s3">\r\n\t\t\t</span><span class="s1">// </span><span class="s3">\t\t</span><span class="s1">matchingCountries.push(country)</span><span class="s3">\r\n\t\t\t</span><span class="s1">// </span><span class="s3">\t</span><span class="s1">}</span><span class="s3">\r\n\t\t\t</span><span class="s1">// } else {</span><span class="s3">\r\n\t\t\t</span><span class="s1">// </span><span class="s3">\t</span><span class="s1">return country</span><span class="s3">\r\n\t\t\t</span><span class="s1">// }</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">// // Return the first (</span><span class="s3">\&quot;</span><span class="s1">main</span><span class="s3">\&quot;</span><span class="s1">) one of the `matchingCountries`.</span><span class="s3">\r\n\t</span><span class="s1">// if (matchingCountries.length &gt; 0) {</span><span class="s3">\r\n\t</span><span class="s1">// </span><span class="s3">\t</span><span class="s1">return matchingCountries[0]</span><span class="s3">\r\n\t</span><span class="s1">// }</span><span class="s3">\r\n</span><span class="s1">}&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8C,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAE,gCAAAC,CAAA,EAAAH,CAAA,QAAAI,CAAA,yBAAAC,MAAA,IAAAF,CAAA,CAAAE,MAAA,CAAAC,QAAA,KAAAH,CAAA,oBAAAC,CAAA,UAAAA,CAAA,GAAAA,CAAA,CAAAG,IAAA,CAAAJ,CAAA,GAAAK,IAAA,CAAAC,IAAA,CAAAL,CAAA,OAAAM,KAAA,CAAAC,OAAA,CAAAR,CAAA,MAAAC,CAAA,GAAAQ,2BAAA,CAAAT,CAAA,MAAAH,CAAA,IAAAG,CAAA,uBAAAA,CAAA,CAAAU,MAAA,IAAAT,CAAA,KAAAD,CAAA,GAAAC,CAAA,OAAAU,CAAA,kCAAAA,CAAA,IAAAX,CAAA,CAAAU,MAAA,KAAAE,IAAA,WAAAA,IAAA,MAAAC,KAAA,EAAAb,CAAA,CAAAW,CAAA,sBAAAG,SAAA;AAAA,SAAAL,4BAAAT,CAAA,EAAAe,CAAA,QAAAf,CAAA,2BAAAA,CAAA,SAAAgB,iBAAA,CAAAhB,CAAA,EAAAe,CAAA,OAAAd,CAAA,MAAAgB,QAAA,CAAAb,IAAA,CAAAJ,CAAA,EAAAkB,KAAA,6BAAAjB,CAAA,IAAAD,CAAA,CAAAmB,WAAA,KAAAlB,CAAA,GAAAD,CAAA,CAAAmB,WAAA,CAAAC,IAAA,aAAAnB,CAAA,cAAAA,CAAA,GAAAM,KAAA,CAAAc,IAAA,CAAArB,CAAA,oBAAAC,CAAA,+CAAAqB,IAAA,CAAArB,CAAA,IAAAe,iBAAA,CAAAhB,CAAA,EAAAe,CAAA;AAAA,SAAAC,kBAAAhB,CAAA,EAAAe,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAf,CAAA,CAAAU,MAAA,MAAAK,CAAA,GAAAf,CAAA,CAAAU,MAAA,YAAAb,CAAA,MAAA0B,CAAA,GAAAhB,KAAA,CAAAQ,CAAA,GAAAlB,CAAA,GAAAkB,CAAA,EAAAlB,CAAA,IAAA0B,CAAA,CAAA1B,CAAA,IAAAG,CAAA,CAAAH,CAAA,UAAA0B,CAAA;AAE9C;AACA;AACe,SAASC,0BAA0BA,CAACC,mBAAmB,EAAAC,IAAA,EAGnE;EAAA,IAFFC,SAAS,GAAAD,IAAA,CAATC,SAAS;IACTC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;EAER;EACAA,QAAQ,GAAG,IAAIC,oBAAQ,CAACD,QAAQ,CAAC;;EAEjC;;EAEA,SAAAE,SAAA,GAAA/B,+BAAA,CAAsB4B,SAAS,GAAAI,KAAA,IAAAA,KAAA,GAAAD,SAAA,IAAAlB,IAAA,GAAE;IAAA,IAAtBoB,OAAO,GAAAD,KAAA,CAAAlB,KAAA;IACjBe,QAAQ,CAACK,mBAAmB,CAACD,OAAO,CAAC;IACrC;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAIJ,QAAQ,CAACM,aAAa,CAAC,CAAC,EAAE;MAC7B,IAAIT,mBAAmB,IACtBA,mBAAmB,CAACU,MAAM,CAACP,QAAQ,CAACM,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;QAC5D,OAAOF,OAAO;MACf;IACD;IACA;IACA;IAAA,KACK,IAAI,IAAAI,yBAAa,EAAC;MAAEC,KAAK,EAAEZ,mBAAmB;MAAEO,OAAO,EAAPA;IAAQ,CAAC,EAAEM,SAAS,EAAEV,QAAQ,CAACA,QAAQ,CAAC,EAAE;MAC9F;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,OAAOI,OAAO;MACd;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACD;EACD;;EAEA;EACA;EACA;EACA;AACD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>