<html>
<head>
<title>create-app-route-code.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
create-app-route-code.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../../src/build/webpack/loaders/next-app-loader/create-app-route-code.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import path from 'path'</span><span class="s3">\n</span><span class="s1">import { stringify } from 'querystring'</span><span class="s3">\n</span><span class="s1">import { WEBPACK_RESOURCE_QUERIES } from '../../../../lib/constants'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">DEFAULT_METADATA_ROUTE_EXTENSIONS,</span><span class="s3">\n  </span><span class="s1">isMetadataRouteFile,</span><span class="s3">\n</span><span class="s1">} from '../../../../lib/metadata/is-metadata-route'</span><span class="s3">\n</span><span class="s1">import type { NextConfig } from '../../../../server/config-shared'</span><span class="s3">\n</span><span class="s1">import { AppBundlePathNormalizer } from '../../../../server/normalizers/built/app/app-bundle-path-normalizer'</span><span class="s3">\n</span><span class="s1">import { AppPathnameNormalizer } from '../../../../server/normalizers/built/app/app-pathname-normalizer'</span><span class="s3">\n</span><span class="s1">import { loadEntrypoint } from '../../../load-entrypoint'</span><span class="s3">\n</span><span class="s1">import type { PageExtensions } from '../../../page-extensions-type'</span><span class="s3">\n</span><span class="s1">import { getFilenameAndExtension } from '../next-metadata-route-loader'</span><span class="s3">\n\n</span><span class="s1">export async function createAppRouteCode({</span><span class="s3">\n  </span><span class="s1">appDir,</span><span class="s3">\n  </span><span class="s1">name,</span><span class="s3">\n  </span><span class="s1">page,</span><span class="s3">\n  </span><span class="s1">pagePath,</span><span class="s3">\n  </span><span class="s1">resolveAppRoute,</span><span class="s3">\n  </span><span class="s1">pageExtensions,</span><span class="s3">\n  </span><span class="s1">nextConfigOutput,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">appDir: string</span><span class="s3">\n  </span><span class="s1">name: string</span><span class="s3">\n  </span><span class="s1">page: string</span><span class="s3">\n  </span><span class="s1">pagePath: string</span><span class="s3">\n  </span><span class="s1">resolveAppRoute: (</span><span class="s3">\n    </span><span class="s1">pathname: string</span><span class="s3">\n  </span><span class="s1">) =&gt; Promise&lt;string | undefined&gt; | string | undefined</span><span class="s3">\n  </span><span class="s1">pageExtensions: PageExtensions</span><span class="s3">\n  </span><span class="s1">nextConfigOutput: NextConfig['output']</span><span class="s3">\n</span><span class="s1">}): Promise&lt;string&gt; {</span><span class="s3">\n  </span><span class="s1">// routePath is the path to the route handler file,</span><span class="s3">\n  </span><span class="s1">// but could be aliased e.g. private-next-app-dir/favicon.ico</span><span class="s3">\n  </span><span class="s1">const routePath = pagePath.replace(/[</span><span class="s3">\\\\</span><span class="s1">/]/, '/')</span><span class="s3">\n\n  </span><span class="s1">// This, when used with the resolver will give us the pathname to the built</span><span class="s3">\n  </span><span class="s1">// route handler file.</span><span class="s3">\n  </span><span class="s1">let resolvedPagePath = await resolveAppRoute(routePath)</span><span class="s3">\n  </span><span class="s1">if (!resolvedPagePath) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\n      </span><span class="s1">`Invariant: could not resolve page path for ${name} at ${routePath}`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// If this is a metadata route file, then we need to use the metadata-loader</span><span class="s3">\n  </span><span class="s1">// for the route to ensure that the route is generated.</span><span class="s3">\n  </span><span class="s1">const fileBaseName = path.parse(resolvedPagePath).name</span><span class="s3">\n  </span><span class="s1">const appDirRelativePath = resolvedPagePath.slice(appDir.length)</span><span class="s3">\n  </span><span class="s1">const isMetadataEntryFile = isMetadataRouteFile(</span><span class="s3">\n    </span><span class="s1">appDirRelativePath,</span><span class="s3">\n    </span><span class="s1">DEFAULT_METADATA_ROUTE_EXTENSIONS,</span><span class="s3">\n    </span><span class="s1">true</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">if (isMetadataEntryFile) {</span><span class="s3">\n    </span><span class="s1">const { ext } = getFilenameAndExtension(resolvedPagePath)</span><span class="s3">\n    </span><span class="s1">const isDynamicRouteExtension = pageExtensions.includes(ext)</span><span class="s3">\n\n    </span><span class="s1">resolvedPagePath = `next-metadata-route-loader?${stringify({</span><span class="s3">\n      </span><span class="s1">filePath: resolvedPagePath,</span><span class="s3">\n      </span><span class="s1">isDynamicRouteExtension: isDynamicRouteExtension ? '1' : '0',</span><span class="s3">\n    </span><span class="s1">})}!?${WEBPACK_RESOURCE_QUERIES.metadataRoute}`</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const pathname = new AppPathnameNormalizer().normalize(page)</span><span class="s3">\n  </span><span class="s1">const bundlePath = new AppBundlePathNormalizer().normalize(page)</span><span class="s3">\n\n  </span><span class="s1">return await loadEntrypoint(</span><span class="s3">\n    </span><span class="s1">'app-route',</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">VAR_USERLAND: resolvedPagePath,</span><span class="s3">\n      </span><span class="s1">VAR_DEFINITION_PAGE: page,</span><span class="s3">\n      </span><span class="s1">VAR_DEFINITION_PATHNAME: pathname,</span><span class="s3">\n      </span><span class="s1">VAR_DEFINITION_FILENAME: fileBaseName,</span><span class="s3">\n      </span><span class="s1">VAR_DEFINITION_BUNDLE_PATH: bundlePath,</span><span class="s3">\n      </span><span class="s1">VAR_RESOLVED_PAGE_PATH: resolvedPagePath,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">nextConfigOutput: JSON.stringify(nextConfigOutput),</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;createAppRouteCode&quot;</span><span class="s0">,</span><span class="s1">&quot;appDir&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;page&quot;</span><span class="s0">,</span><span class="s1">&quot;pagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;resolveAppRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;pageExtensions&quot;</span><span class="s0">,</span><span class="s1">&quot;nextConfigOutput&quot;</span><span class="s0">,</span><span class="s1">&quot;routePath&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedPagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;fileBaseName&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;appDirRelativePath&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;isMetadataEntryFile&quot;</span><span class="s0">,</span><span class="s1">&quot;isMetadataRouteFile&quot;</span><span class="s0">,</span><span class="s1">&quot;DEFAULT_METADATA_ROUTE_EXTENSIONS&quot;</span><span class="s0">,</span><span class="s1">&quot;ext&quot;</span><span class="s0">,</span><span class="s1">&quot;getFilenameAndExtension&quot;</span><span class="s0">,</span><span class="s1">&quot;isDynamicRouteExtension&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;filePath&quot;</span><span class="s0">,</span><span class="s1">&quot;WEBPACK_RESOURCE_QUERIES&quot;</span><span class="s0">,</span><span class="s1">&quot;metadataRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;AppPathnameNormalizer&quot;</span><span class="s0">,</span><span class="s1">&quot;normalize&quot;</span><span class="s0">,</span><span class="s1">&quot;bundlePath&quot;</span><span class="s0">,</span><span class="s1">&quot;AppBundlePathNormalizer&quot;</span><span class="s0">,</span><span class="s1">&quot;loadEntrypoint&quot;</span><span class="s0">,</span><span class="s1">&quot;VAR_USERLAND&quot;</span><span class="s0">,</span><span class="s1">&quot;VAR_DEFINITION_PAGE&quot;</span><span class="s0">,</span><span class="s1">&quot;VAR_DEFINITION_PATHNAME&quot;</span><span class="s0">,</span><span class="s1">&quot;VAR_DEFINITION_FILENAME&quot;</span><span class="s0">,</span><span class="s1">&quot;VAR_DEFINITION_BUNDLE_PATH&quot;</span><span class="s0">,</span><span class="s1">&quot;VAR_RESOLVED_PAGE_PATH&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAcsBA;;;eAAAA;;;6DAdL;6BACS;2BACe;iCAIlC;yCAEiC;uCACF;gCACP;yCAES;;;;;;AAEjC,eAAeA,mBAAmB,EACvCC,MAAM,EACNC,IAAI,EACJC,IAAI,EACJC,QAAQ,EACRC,eAAe,EACfC,cAAc,EACdC,gBAAgB,EAWjB;IACC,mDAAmD;IACnD,6DAA6D;IAC7D,MAAMC,YAAYJ,SAASK,OAAO,CAAC,SAAS;IAE5C,2EAA2E;IAC3E,sBAAsB;IACtB,IAAIC,mBAAmB,MAAML,gBAAgBG;IAC7C,IAAI,CAACE,kBAAkB;QACrB,MAAM,qBAEL,CAFK,IAAIC,MACR,CAAC,2CAA2C,EAAET,KAAK,IAAI,EAAEM,WAAW,GADhE,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IAEA,4EAA4E;IAC5E,uDAAuD;IACvD,MAAMI,eAAeC,aAAI,CAACC,KAAK,CAACJ,kBAAkBR,IAAI;IACtD,MAAMa,qBAAqBL,iBAAiBM,KAAK,CAACf,OAAOgB,MAAM;IAC/D,MAAMC,sBAAsBC,IAAAA,oCAAmB,EAC7CJ,oBACAK,kDAAiC,EACjC;IAEF,IAAIF,qBAAqB;QACvB,MAAM,EAAEG,GAAG,EAAE,GAAGC,IAAAA,gDAAuB,EAACZ;QACxC,MAAMa,0BAA0BjB,eAAekB,QAAQ,CAACH;QAExDX,mBAAmB,CAAC,2BAA2B,EAAEe,IAAAA,sBAAS,EAAC;YACzDC,UAAUhB;YACVa,yBAAyBA,0BAA0B,MAAM;QAC3D,GAAG,EAAE,EAAEI,mCAAwB,CAACC,aAAa,EAAE;IACjD;IAEA,MAAMC,WAAW,IAAIC,4CAAqB,GAAGC,SAAS,CAAC5B;IACvD,MAAM6B,aAAa,IAAIC,gDAAuB,GAAGF,SAAS,CAAC5B;IAE3D,OAAO,MAAM+B,IAAAA,8BAAc,EACzB,aACA;QACEC,cAAczB;QACd0B,qBAAqBjC;QACrBkC,yBAAyBR;QACzBS,yBAAyB1B;QACzB2B,4BAA4BP;QAC5BQ,wBAAwB9B;IAC1B,GACA;QACEH,kBAAkBkC,KAAKhB,SAAS,CAAClB;IACnC;AAEJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>