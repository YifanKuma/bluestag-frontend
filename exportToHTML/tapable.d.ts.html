<html>
<head>
<title>tapable.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #0033b3;}
.s2 { color: #1750eb;}
.s3 { color: #067d17;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
tapable.d.ts</font>
</center></td></tr></table>
<pre><span class="s0">type FixedSizeArray&lt;T </span><span class="s1">extends </span><span class="s0">number, U&gt; = T </span><span class="s1">extends </span><span class="s2">0</span>
	<span class="s0">? </span><span class="s1">void</span><span class="s0">[]</span>
	<span class="s0">: ReadonlyArray&lt;U&gt; &amp; {</span>
			<span class="s2">0</span><span class="s0">: U;</span>
			<span class="s0">length: T;</span>
		<span class="s0">};</span>
<span class="s0">type Measure&lt;T </span><span class="s1">extends </span><span class="s0">number&gt; = T </span><span class="s1">extends </span><span class="s2">0 </span><span class="s0">| </span><span class="s2">1 </span><span class="s0">| </span><span class="s2">2 </span><span class="s0">| </span><span class="s2">3 </span><span class="s0">| </span><span class="s2">4 </span><span class="s0">| </span><span class="s2">5 </span><span class="s0">| </span><span class="s2">6 </span><span class="s0">| </span><span class="s2">7 </span><span class="s0">| </span><span class="s2">8</span>
	<span class="s0">? T</span>
	<span class="s0">: never;</span>
<span class="s0">type Append&lt;T </span><span class="s1">extends </span><span class="s0">any[], U&gt; = {</span>
	<span class="s2">0</span><span class="s0">: [U];</span>
	<span class="s2">1</span><span class="s0">: [T[</span><span class="s2">0</span><span class="s0">], U];</span>
	<span class="s2">2</span><span class="s0">: [T[</span><span class="s2">0</span><span class="s0">], T[</span><span class="s2">1</span><span class="s0">], U];</span>
	<span class="s2">3</span><span class="s0">: [T[</span><span class="s2">0</span><span class="s0">], T[</span><span class="s2">1</span><span class="s0">], T[</span><span class="s2">2</span><span class="s0">], U];</span>
	<span class="s2">4</span><span class="s0">: [T[</span><span class="s2">0</span><span class="s0">], T[</span><span class="s2">1</span><span class="s0">], T[</span><span class="s2">2</span><span class="s0">], T[</span><span class="s2">3</span><span class="s0">], U];</span>
	<span class="s2">5</span><span class="s0">: [T[</span><span class="s2">0</span><span class="s0">], T[</span><span class="s2">1</span><span class="s0">], T[</span><span class="s2">2</span><span class="s0">], T[</span><span class="s2">3</span><span class="s0">], T[</span><span class="s2">4</span><span class="s0">], U];</span>
	<span class="s2">6</span><span class="s0">: [T[</span><span class="s2">0</span><span class="s0">], T[</span><span class="s2">1</span><span class="s0">], T[</span><span class="s2">2</span><span class="s0">], T[</span><span class="s2">3</span><span class="s0">], T[</span><span class="s2">4</span><span class="s0">], T[</span><span class="s2">5</span><span class="s0">], U];</span>
	<span class="s2">7</span><span class="s0">: [T[</span><span class="s2">0</span><span class="s0">], T[</span><span class="s2">1</span><span class="s0">], T[</span><span class="s2">2</span><span class="s0">], T[</span><span class="s2">3</span><span class="s0">], T[</span><span class="s2">4</span><span class="s0">], T[</span><span class="s2">5</span><span class="s0">], T[</span><span class="s2">6</span><span class="s0">], U];</span>
	<span class="s2">8</span><span class="s0">: [T[</span><span class="s2">0</span><span class="s0">], T[</span><span class="s2">1</span><span class="s0">], T[</span><span class="s2">2</span><span class="s0">], T[</span><span class="s2">3</span><span class="s0">], T[</span><span class="s2">4</span><span class="s0">], T[</span><span class="s2">5</span><span class="s0">], T[</span><span class="s2">6</span><span class="s0">], T[</span><span class="s2">7</span><span class="s0">], U];</span>
<span class="s0">}[Measure&lt;T[</span><span class="s3">&quot;length&quot;</span><span class="s0">]&gt;];</span>
<span class="s0">type AsArray&lt;T&gt; = T </span><span class="s1">extends </span><span class="s0">any[] ? T : [T];</span>

<span class="s0">declare </span><span class="s1">class </span><span class="s0">UnsetAdditionalOptions {</span>
	<span class="s0">_UnsetAdditionalOptions: </span><span class="s1">true</span><span class="s0">;</span>
<span class="s0">}</span>
<span class="s0">type IfSet&lt;X&gt; = X </span><span class="s1">extends </span><span class="s0">UnsetAdditionalOptions ? {} : X;</span>

<span class="s0">type Callback&lt;E, T&gt; = (error: E | </span><span class="s1">null</span><span class="s0">, result?: T) =&gt; </span><span class="s1">void</span><span class="s0">;</span>
<span class="s0">type InnerCallback&lt;E, T&gt; = (error?: E | </span><span class="s1">null </span><span class="s0">| </span><span class="s1">false</span><span class="s0">, result?: T) =&gt; </span><span class="s1">void</span><span class="s0">;</span>

<span class="s0">type FullTap = Tap &amp; {</span>
	<span class="s0">type: </span><span class="s3">&quot;sync&quot; </span><span class="s0">| </span><span class="s3">&quot;async&quot; </span><span class="s0">| </span><span class="s3">&quot;promise&quot;</span><span class="s0">;</span>
	<span class="s0">fn: Function;</span>
<span class="s0">};</span>

<span class="s0">type Tap = TapOptions &amp; {</span>
	<span class="s0">name: string;</span>
<span class="s0">};</span>

<span class="s0">type TapOptions = {</span>
	<span class="s0">before?: string;</span>
	<span class="s0">stage?: number;</span>
<span class="s0">};</span>

<span class="s1">interface </span><span class="s0">HookInterceptor&lt;T, R, AdditionalOptions = UnsetAdditionalOptions&gt; {</span>
	<span class="s0">name?: string;</span>
	<span class="s0">tap?: (tap: FullTap &amp; IfSet&lt;AdditionalOptions&gt;) =&gt; </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">call?: (...args: any[]) =&gt; </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">loop?: (...args: any[]) =&gt; </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">error?: (err: Error) =&gt; </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">result?: (result: R) =&gt; </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">done?: () =&gt; </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">register?: (</span>
		<span class="s0">tap: FullTap &amp; IfSet&lt;AdditionalOptions&gt;</span>
	<span class="s0">) =&gt; FullTap &amp; IfSet&lt;AdditionalOptions&gt;;</span>
<span class="s0">}</span>

<span class="s0">type ArgumentNames&lt;T </span><span class="s1">extends </span><span class="s0">any[]&gt; = FixedSizeArray&lt;T[</span><span class="s3">&quot;length&quot;</span><span class="s0">], string&gt;;</span>

<span class="s0">declare </span><span class="s1">class </span><span class="s0">Hook&lt;T, R, AdditionalOptions = UnsetAdditionalOptions&gt; {</span>
	<span class="s0">constructor(args?: ArgumentNames&lt;AsArray&lt;T&gt;&gt;, name?: string);</span>
	<span class="s0">name: string | undefined;</span>
	<span class="s0">interceptors: HookInterceptor&lt;T, R, AdditionalOptions&gt;[];</span>
	<span class="s0">taps: FullTap[];</span>
	<span class="s0">intercept(interceptor: HookInterceptor&lt;T, R, AdditionalOptions&gt;): </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">isUsed(): boolean;</span>
	<span class="s0">callAsync(...args: Append&lt;AsArray&lt;T&gt;, Callback&lt;Error, R&gt;&gt;): </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">promise(...args: AsArray&lt;T&gt;): Promise&lt;R&gt;;</span>
	<span class="s0">tap(</span>
		<span class="s0">options: string | (Tap &amp; IfSet&lt;AdditionalOptions&gt;),</span>
		<span class="s0">fn: (...args: AsArray&lt;T&gt;) =&gt; R</span>
	<span class="s0">): </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">withOptions(</span>
		<span class="s0">options: TapOptions &amp; IfSet&lt;AdditionalOptions&gt;</span>
	<span class="s0">): Omit&lt;</span><span class="s1">this</span><span class="s0">, </span><span class="s3">&quot;call&quot; </span><span class="s0">| </span><span class="s3">&quot;callAsync&quot; </span><span class="s0">| </span><span class="s3">&quot;promise&quot;</span><span class="s0">&gt;;</span>
<span class="s0">}</span>

<span class="s1">export class </span><span class="s0">SyncHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">R = </span><span class="s1">void</span><span class="s0">,</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">Hook&lt;T, R, AdditionalOptions&gt; {</span>
	<span class="s0">call(...args: AsArray&lt;T&gt;): R;</span>
<span class="s0">}</span>

<span class="s1">export class </span><span class="s0">SyncBailHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">R,</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">SyncHook&lt;T, R, AdditionalOptions&gt; {}</span>
<span class="s1">export class </span><span class="s0">SyncLoopHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">SyncHook&lt;T, </span><span class="s1">void</span><span class="s0">, AdditionalOptions&gt; {}</span>
<span class="s1">export class </span><span class="s0">SyncWaterfallHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">R = AsArray&lt;T&gt;[</span><span class="s2">0</span><span class="s0">],</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">SyncHook&lt;T, R, AdditionalOptions&gt; {}</span>

<span class="s0">declare </span><span class="s1">class </span><span class="s0">AsyncHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">R,</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">Hook&lt;T, R, AdditionalOptions&gt; {</span>
	<span class="s0">tapAsync(</span>
		<span class="s0">options: string | (Tap &amp; IfSet&lt;AdditionalOptions&gt;),</span>
		<span class="s0">fn: (...args: Append&lt;AsArray&lt;T&gt;, InnerCallback&lt;Error, R&gt;&gt;) =&gt; </span><span class="s1">void</span>
	<span class="s0">): </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">tapPromise(</span>
		<span class="s0">options: string | (Tap &amp; IfSet&lt;AdditionalOptions&gt;),</span>
		<span class="s0">fn: (...args: AsArray&lt;T&gt;) =&gt; Promise&lt;R&gt;</span>
	<span class="s0">): </span><span class="s1">void</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">export class </span><span class="s0">AsyncParallelHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">AsyncHook&lt;T, </span><span class="s1">void</span><span class="s0">, AdditionalOptions&gt; {}</span>
<span class="s1">export class </span><span class="s0">AsyncParallelBailHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">R,</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">AsyncHook&lt;T, R, AdditionalOptions&gt; {}</span>
<span class="s1">export class </span><span class="s0">AsyncSeriesHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">AsyncHook&lt;T, </span><span class="s1">void</span><span class="s0">, AdditionalOptions&gt; {}</span>
<span class="s1">export class </span><span class="s0">AsyncSeriesBailHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">R,</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">AsyncHook&lt;T, R, AdditionalOptions&gt; {}</span>
<span class="s1">export class </span><span class="s0">AsyncSeriesLoopHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">AsyncHook&lt;T, </span><span class="s1">void</span><span class="s0">, AdditionalOptions&gt; {}</span>
<span class="s1">export class </span><span class="s0">AsyncSeriesWaterfallHook&lt;</span>
	<span class="s0">T,</span>
	<span class="s0">R = AsArray&lt;T&gt;[</span><span class="s2">0</span><span class="s0">],</span>
	<span class="s0">AdditionalOptions = UnsetAdditionalOptions</span>
<span class="s0">&gt; </span><span class="s1">extends </span><span class="s0">AsyncHook&lt;T, R, AdditionalOptions&gt; {}</span>

<span class="s0">type HookFactory&lt;H&gt; = (key: any, hook?: H) =&gt; H;</span>

<span class="s1">interface </span><span class="s0">HookMapInterceptor&lt;H&gt; {</span>
	<span class="s0">factory?: HookFactory&lt;H&gt;;</span>
<span class="s0">}</span>

<span class="s1">export class </span><span class="s0">HookMap&lt;H&gt; {</span>
	<span class="s0">constructor(factory: HookFactory&lt;H&gt;, name?: string);</span>
	<span class="s0">name: string | undefined;</span>
	<span class="s0">get(key: any): H | undefined;</span>
	<span class="s1">for</span><span class="s0">(key: any): H;</span>
	<span class="s0">intercept(interceptor: HookMapInterceptor&lt;H&gt;): </span><span class="s1">void</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">export class </span><span class="s0">MultiHook&lt;H&gt; {</span>
	<span class="s0">constructor(hooks: H[], name?: string);</span>
	<span class="s0">name: string | undefined;</span>
	<span class="s0">tap(options: string | Tap, fn?: Function): </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">tapAsync(options: string | Tap, fn?: Function): </span><span class="s1">void</span><span class="s0">;</span>
	<span class="s0">tapPromise(options: string | Tap, fn?: Function): </span><span class="s1">void</span><span class="s0">;</span>
<span class="s0">}</span>
</pre>
</body>
</html>