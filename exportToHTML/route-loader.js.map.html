<html>
<head>
<title>route-loader.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
route-loader.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/client/route-loader.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { ComponentType } from 'react'</span><span class="s3">\n</span><span class="s1">import type { MiddlewareMatcher } from '../build/analysis/get-page-static-info'</span><span class="s3">\n</span><span class="s1">import getAssetPathFromRoute from '../shared/lib/router/utils/get-asset-path-from-route'</span><span class="s3">\n</span><span class="s1">import { __unsafeCreateTrustedScriptURL } from './trusted-types'</span><span class="s3">\n</span><span class="s1">import { requestIdleCallback } from './request-idle-callback'</span><span class="s3">\n</span><span class="s1">import { getDeploymentIdQueryOrEmptyString } from '../build/deployment-id'</span><span class="s3">\n</span><span class="s1">import { encodeURIPath } from '../shared/lib/encode-uri-path'</span><span class="s3">\n\n</span><span class="s1">// 3.8s was arbitrarily chosen as it's what https://web.dev/interactive</span><span class="s3">\n</span><span class="s1">// considers as </span><span class="s3">\&quot;</span><span class="s1">Good</span><span class="s3">\&quot; </span><span class="s1">time-to-interactive. We must assume something went</span><span class="s3">\n</span><span class="s1">// wrong beyond this point, and then fall-back to a full page transition to</span><span class="s3">\n</span><span class="s1">// show the user something of value.</span><span class="s3">\n</span><span class="s1">const MS_MAX_IDLE_DELAY = 3800</span><span class="s3">\n\n</span><span class="s1">declare global {</span><span class="s3">\n  </span><span class="s1">interface Window {</span><span class="s3">\n    </span><span class="s1">__BUILD_MANIFEST?: Record&lt;string, string[]&gt;</span><span class="s3">\n    </span><span class="s1">__BUILD_MANIFEST_CB?: Function</span><span class="s3">\n    </span><span class="s1">__MIDDLEWARE_MATCHERS?: MiddlewareMatcher[]</span><span class="s3">\n    </span><span class="s1">__MIDDLEWARE_MANIFEST_CB?: Function</span><span class="s3">\n    </span><span class="s1">__REACT_LOADABLE_MANIFEST?: any</span><span class="s3">\n    </span><span class="s1">__DYNAMIC_CSS_MANIFEST?: any</span><span class="s3">\n    </span><span class="s1">__RSC_MANIFEST?: any</span><span class="s3">\n    </span><span class="s1">__RSC_SERVER_MANIFEST?: any</span><span class="s3">\n    </span><span class="s1">__NEXT_FONT_MANIFEST?: any</span><span class="s3">\n    </span><span class="s1">__SUBRESOURCE_INTEGRITY_MANIFEST?: string</span><span class="s3">\n    </span><span class="s1">__INTERCEPTION_ROUTE_REWRITE_MANIFEST?: string</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">interface LoadedEntrypointSuccess {</span><span class="s3">\n  </span><span class="s1">component: ComponentType</span><span class="s3">\n  </span><span class="s1">exports: any</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">interface LoadedEntrypointFailure {</span><span class="s3">\n  </span><span class="s1">error: unknown</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">type RouteEntrypoint = LoadedEntrypointSuccess | LoadedEntrypointFailure</span><span class="s3">\n\n</span><span class="s1">interface RouteStyleSheet {</span><span class="s3">\n  </span><span class="s1">href: string</span><span class="s3">\n  </span><span class="s1">content: string</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">interface LoadedRouteSuccess extends LoadedEntrypointSuccess {</span><span class="s3">\n  </span><span class="s1">styles: RouteStyleSheet[]</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">interface LoadedRouteFailure {</span><span class="s3">\n  </span><span class="s1">error: unknown</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">type RouteLoaderEntry = LoadedRouteSuccess | LoadedRouteFailure</span><span class="s3">\n\n</span><span class="s1">interface Future&lt;V&gt; {</span><span class="s3">\n  </span><span class="s1">resolve: (entrypoint: V) =&gt; void</span><span class="s3">\n  </span><span class="s1">future: Promise&lt;V&gt;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function withFuture&lt;T extends object&gt;(</span><span class="s3">\n  </span><span class="s1">key: string,</span><span class="s3">\n  </span><span class="s1">map: Map&lt;string, Future&lt;T&gt; | T&gt;,</span><span class="s3">\n  </span><span class="s1">generator?: () =&gt; Promise&lt;T&gt;</span><span class="s3">\n</span><span class="s1">): Promise&lt;T&gt; {</span><span class="s3">\n  </span><span class="s1">let entry = map.get(key)</span><span class="s3">\n  </span><span class="s1">if (entry) {</span><span class="s3">\n    </span><span class="s1">if ('future' in entry) {</span><span class="s3">\n      </span><span class="s1">return entry.future</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return Promise.resolve(entry)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let resolver: (entrypoint: T) =&gt; void</span><span class="s3">\n  </span><span class="s1">const prom: Promise&lt;T&gt; = new Promise&lt;T&gt;((resolve) =&gt; {</span><span class="s3">\n    </span><span class="s1">resolver = resolve</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">map.set(key, { resolve: resolver!, future: prom })</span><span class="s3">\n  </span><span class="s1">return generator</span><span class="s3">\n    </span><span class="s1">? generator()</span><span class="s3">\n        </span><span class="s1">.then((value) =&gt; {</span><span class="s3">\n          </span><span class="s1">resolver(value)</span><span class="s3">\n          </span><span class="s1">return value</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">.catch((err) =&gt; {</span><span class="s3">\n          </span><span class="s1">map.delete(key)</span><span class="s3">\n          </span><span class="s1">throw err</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">: prom</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export interface RouteLoader {</span><span class="s3">\n  </span><span class="s1">whenEntrypoint(route: string): Promise&lt;RouteEntrypoint&gt;</span><span class="s3">\n  </span><span class="s1">onEntrypoint(route: string, execute: () =&gt; unknown): void</span><span class="s3">\n  </span><span class="s1">loadRoute(route: string, prefetch?: boolean): Promise&lt;RouteLoaderEntry&gt;</span><span class="s3">\n  </span><span class="s1">prefetch(route: string): Promise&lt;void&gt;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const ASSET_LOAD_ERROR = Symbol('ASSET_LOAD_ERROR')</span><span class="s3">\n</span><span class="s1">// TODO: unexport</span><span class="s3">\n</span><span class="s1">export function markAssetError(err: Error): Error {</span><span class="s3">\n  </span><span class="s1">return Object.defineProperty(err, ASSET_LOAD_ERROR, {})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function isAssetError(err?: Error): boolean | undefined {</span><span class="s3">\n  </span><span class="s1">return err &amp;&amp; ASSET_LOAD_ERROR in err</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function hasPrefetch(link?: HTMLLinkElement): boolean {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">link = document.createElement('link')</span><span class="s3">\n    </span><span class="s1">return (</span><span class="s3">\n      </span><span class="s1">// detect IE11 since it supports prefetch but isn't detected</span><span class="s3">\n      </span><span class="s1">// with relList.support</span><span class="s3">\n      </span><span class="s1">(!!window.MSInputMethodContext &amp;&amp; !!(document as any).documentMode) ||</span><span class="s3">\n      </span><span class="s1">link.relList.supports('prefetch')</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">} catch {</span><span class="s3">\n    </span><span class="s1">return false</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const canPrefetch: boolean = hasPrefetch()</span><span class="s3">\n\n</span><span class="s1">const getAssetQueryString = () =&gt; {</span><span class="s3">\n  </span><span class="s1">return getDeploymentIdQueryOrEmptyString()</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function prefetchViaDom(</span><span class="s3">\n  </span><span class="s1">href: string,</span><span class="s3">\n  </span><span class="s1">as: string,</span><span class="s3">\n  </span><span class="s1">link?: HTMLLinkElement</span><span class="s3">\n</span><span class="s1">): Promise&lt;any&gt; {</span><span class="s3">\n  </span><span class="s1">return new Promise&lt;void&gt;((resolve, reject) =&gt; {</span><span class="s3">\n    </span><span class="s1">const selector = `</span><span class="s3">\n      </span><span class="s1">link[rel=</span><span class="s3">\&quot;</span><span class="s1">prefetch</span><span class="s3">\&quot;</span><span class="s1">][href^=</span><span class="s3">\&quot;</span><span class="s1">${href}</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      </span><span class="s1">link[rel=</span><span class="s3">\&quot;</span><span class="s1">preload</span><span class="s3">\&quot;</span><span class="s1">][href^=</span><span class="s3">\&quot;</span><span class="s1">${href}</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      </span><span class="s1">script[src^=</span><span class="s3">\&quot;</span><span class="s1">${href}</span><span class="s3">\&quot;</span><span class="s1">]`</span><span class="s3">\n    </span><span class="s1">if (document.querySelector(selector)) {</span><span class="s3">\n      </span><span class="s1">return resolve()</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">link = document.createElement('link')</span><span class="s3">\n\n    </span><span class="s1">// The order of property assignment here is intentional:</span><span class="s3">\n    </span><span class="s1">if (as) link!.as = as</span><span class="s3">\n    </span><span class="s1">link!.rel = `prefetch`</span><span class="s3">\n    </span><span class="s1">link!.crossOrigin = process.env.__NEXT_CROSS_ORIGIN!</span><span class="s3">\n    </span><span class="s1">link!.onload = resolve as any</span><span class="s3">\n    </span><span class="s1">link!.onerror = () =&gt;</span><span class="s3">\n      </span><span class="s1">reject(markAssetError(new Error(`Failed to prefetch: ${href}`)))</span><span class="s3">\n\n    </span><span class="s1">// `href` should always be last:</span><span class="s3">\n    </span><span class="s1">link!.href = href</span><span class="s3">\n\n    </span><span class="s1">document.head.appendChild(link)</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function appendScript(</span><span class="s3">\n  </span><span class="s1">src: TrustedScriptURL | string,</span><span class="s3">\n  </span><span class="s1">script?: HTMLScriptElement</span><span class="s3">\n</span><span class="s1">): Promise&lt;unknown&gt; {</span><span class="s3">\n  </span><span class="s1">return new Promise((resolve, reject) =&gt; {</span><span class="s3">\n    </span><span class="s1">script = document.createElement('script')</span><span class="s3">\n\n    </span><span class="s1">// The order of property assignment here is intentional.</span><span class="s3">\n    </span><span class="s1">// 1. Setup success/failure hooks in case the browser synchronously</span><span class="s3">\n    </span><span class="s1">//    executes when `src` is set.</span><span class="s3">\n    </span><span class="s1">script.onload = resolve</span><span class="s3">\n    </span><span class="s1">script.onerror = () =&gt;</span><span class="s3">\n      </span><span class="s1">reject(markAssetError(new Error(`Failed to load script: ${src}`)))</span><span class="s3">\n\n    </span><span class="s1">// 2. Configure the cross-origin attribute before setting `src` in case the</span><span class="s3">\n    </span><span class="s1">//    browser begins to fetch.</span><span class="s3">\n    </span><span class="s1">script.crossOrigin = process.env.__NEXT_CROSS_ORIGIN!</span><span class="s3">\n\n    </span><span class="s1">// 3. Finally, set the source and inject into the DOM in case the child</span><span class="s3">\n    </span><span class="s1">//    must be appended for fetching to start.</span><span class="s3">\n    </span><span class="s1">script.src = src as string</span><span class="s3">\n    </span><span class="s1">document.body.appendChild(script)</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// We wait for pages to be built in dev before we start the route transition</span><span class="s3">\n</span><span class="s1">// timeout to prevent an un-necessary hard navigation in development.</span><span class="s3">\n</span><span class="s1">let devBuildPromise: Promise&lt;void&gt; | undefined</span><span class="s3">\n\n</span><span class="s1">// Resolve a promise that times out after given amount of milliseconds.</span><span class="s3">\n</span><span class="s1">function resolvePromiseWithTimeout&lt;T&gt;(</span><span class="s3">\n  </span><span class="s1">p: Promise&lt;T&gt;,</span><span class="s3">\n  </span><span class="s1">ms: number,</span><span class="s3">\n  </span><span class="s1">err: Error</span><span class="s3">\n</span><span class="s1">): Promise&lt;T&gt; {</span><span class="s3">\n  </span><span class="s1">return new Promise((resolve, reject) =&gt; {</span><span class="s3">\n    </span><span class="s1">let cancelled = false</span><span class="s3">\n\n    </span><span class="s1">p.then((r) =&gt; {</span><span class="s3">\n      </span><span class="s1">// Resolved, cancel the timeout</span><span class="s3">\n      </span><span class="s1">cancelled = true</span><span class="s3">\n      </span><span class="s1">resolve(r)</span><span class="s3">\n    </span><span class="s1">}).catch(reject)</span><span class="s3">\n\n    </span><span class="s1">// We wrap these checks separately for better dead-code elimination in</span><span class="s3">\n    </span><span class="s1">// production bundles.</span><span class="s3">\n    </span><span class="s1">if (process.env.NODE_ENV === 'development') {</span><span class="s3">\n      </span><span class="s1">;(devBuildPromise || Promise.resolve()).then(() =&gt; {</span><span class="s3">\n        </span><span class="s1">requestIdleCallback(() =&gt;</span><span class="s3">\n          </span><span class="s1">setTimeout(() =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!cancelled) {</span><span class="s3">\n              </span><span class="s1">reject(err)</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}, ms)</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (process.env.NODE_ENV !== 'development') {</span><span class="s3">\n      </span><span class="s1">requestIdleCallback(() =&gt;</span><span class="s3">\n        </span><span class="s1">setTimeout(() =&gt; {</span><span class="s3">\n          </span><span class="s1">if (!cancelled) {</span><span class="s3">\n            </span><span class="s1">reject(err)</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}, ms)</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// TODO: stop exporting or cache the failure</span><span class="s3">\n</span><span class="s1">// It'd be best to stop exporting this. It's an implementation detail. We're</span><span class="s3">\n</span><span class="s1">// only exporting it for backwards compatibility with the `page-loader`.</span><span class="s3">\n</span><span class="s1">// Only cache this response as a last resort if we cannot eliminate all other</span><span class="s3">\n</span><span class="s1">// code branches that use the Build Manifest Callback and push them through</span><span class="s3">\n</span><span class="s1">// the Route Loader interface.</span><span class="s3">\n</span><span class="s1">export function getClientBuildManifest() {</span><span class="s3">\n  </span><span class="s1">if (self.__BUILD_MANIFEST) {</span><span class="s3">\n    </span><span class="s1">return Promise.resolve(self.__BUILD_MANIFEST)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const onBuildManifest = new Promise&lt;Record&lt;string, string[]&gt;&gt;((resolve) =&gt; {</span><span class="s3">\n    </span><span class="s1">// Mandatory because this is not concurrent safe:</span><span class="s3">\n    </span><span class="s1">const cb = self.__BUILD_MANIFEST_CB</span><span class="s3">\n    </span><span class="s1">self.__BUILD_MANIFEST_CB = () =&gt; {</span><span class="s3">\n      </span><span class="s1">resolve(self.__BUILD_MANIFEST!)</span><span class="s3">\n      </span><span class="s1">cb &amp;&amp; cb()</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">return resolvePromiseWithTimeout(</span><span class="s3">\n    </span><span class="s1">onBuildManifest,</span><span class="s3">\n    </span><span class="s1">MS_MAX_IDLE_DELAY,</span><span class="s3">\n    </span><span class="s1">markAssetError(new Error('Failed to load client build manifest'))</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">interface RouteFiles {</span><span class="s3">\n  </span><span class="s1">scripts: (TrustedScriptURL | string)[]</span><span class="s3">\n  </span><span class="s1">css: string[]</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function getFilesForRoute(</span><span class="s3">\n  </span><span class="s1">assetPrefix: string,</span><span class="s3">\n  </span><span class="s1">route: string</span><span class="s3">\n</span><span class="s1">): Promise&lt;RouteFiles&gt; {</span><span class="s3">\n  </span><span class="s1">if (process.env.NODE_ENV === 'development') {</span><span class="s3">\n    </span><span class="s1">const scriptUrl =</span><span class="s3">\n      </span><span class="s1">assetPrefix +</span><span class="s3">\n      </span><span class="s1">'/_next/static/chunks/pages' +</span><span class="s3">\n      </span><span class="s1">encodeURIPath(getAssetPathFromRoute(route, '.js')) +</span><span class="s3">\n      </span><span class="s1">getAssetQueryString()</span><span class="s3">\n    </span><span class="s1">return Promise.resolve({</span><span class="s3">\n      </span><span class="s1">scripts: [__unsafeCreateTrustedScriptURL(scriptUrl)],</span><span class="s3">\n      </span><span class="s1">// Styles are handled by `style-loader` in development:</span><span class="s3">\n      </span><span class="s1">css: [],</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return getClientBuildManifest().then((manifest) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (!(route in manifest)) {</span><span class="s3">\n      </span><span class="s1">throw markAssetError(new Error(`Failed to lookup route: ${route}`))</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const allFiles = manifest[route].map(</span><span class="s3">\n      </span><span class="s1">(entry) =&gt; assetPrefix + '/_next/' + encodeURIPath(entry)</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">scripts: allFiles</span><span class="s3">\n        </span><span class="s1">.filter((v) =&gt; v.endsWith('.js'))</span><span class="s3">\n        </span><span class="s1">.map((v) =&gt; __unsafeCreateTrustedScriptURL(v) + getAssetQueryString()),</span><span class="s3">\n      </span><span class="s1">css: allFiles</span><span class="s3">\n        </span><span class="s1">.filter((v) =&gt; v.endsWith('.css'))</span><span class="s3">\n        </span><span class="s1">.map((v) =&gt; v + getAssetQueryString()),</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function createRouteLoader(assetPrefix: string): RouteLoader {</span><span class="s3">\n  </span><span class="s1">const entrypoints: Map&lt;string, Future&lt;RouteEntrypoint&gt; | RouteEntrypoint&gt; =</span><span class="s3">\n    </span><span class="s1">new Map()</span><span class="s3">\n  </span><span class="s1">const loadedScripts: Map&lt;string, Promise&lt;unknown&gt;&gt; = new Map()</span><span class="s3">\n  </span><span class="s1">const styleSheets: Map&lt;string, Promise&lt;RouteStyleSheet&gt;&gt; = new Map()</span><span class="s3">\n  </span><span class="s1">const routes: Map&lt;string, Future&lt;RouteLoaderEntry&gt; | RouteLoaderEntry&gt; =</span><span class="s3">\n    </span><span class="s1">new Map()</span><span class="s3">\n\n  </span><span class="s1">function maybeExecuteScript(</span><span class="s3">\n    </span><span class="s1">src: TrustedScriptURL | string</span><span class="s3">\n  </span><span class="s1">): Promise&lt;unknown&gt; {</span><span class="s3">\n    </span><span class="s1">// With HMR we might need to </span><span class="s3">\&quot;</span><span class="s1">reload</span><span class="s3">\&quot; </span><span class="s1">scripts when they are</span><span class="s3">\n    </span><span class="s1">// disposed and readded. Executing scripts twice has no functional</span><span class="s3">\n    </span><span class="s1">// differences</span><span class="s3">\n    </span><span class="s1">if (process.env.NODE_ENV !== 'development') {</span><span class="s3">\n      </span><span class="s1">let prom: Promise&lt;unknown&gt; | undefined = loadedScripts.get(src.toString())</span><span class="s3">\n      </span><span class="s1">if (prom) {</span><span class="s3">\n        </span><span class="s1">return prom</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// Skip executing script if it's already in the DOM:</span><span class="s3">\n      </span><span class="s1">if (document.querySelector(`script[src^=</span><span class="s3">\&quot;</span><span class="s1">${src}</span><span class="s3">\&quot;</span><span class="s1">]`)) {</span><span class="s3">\n        </span><span class="s1">return Promise.resolve()</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">loadedScripts.set(src.toString(), (prom = appendScript(src)))</span><span class="s3">\n      </span><span class="s1">return prom</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return appendScript(src)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function fetchStyleSheet(href: string): Promise&lt;RouteStyleSheet&gt; {</span><span class="s3">\n    </span><span class="s1">let prom: Promise&lt;RouteStyleSheet&gt; | undefined = styleSheets.get(href)</span><span class="s3">\n    </span><span class="s1">if (prom) {</span><span class="s3">\n      </span><span class="s1">return prom</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">styleSheets.set(</span><span class="s3">\n      </span><span class="s1">href,</span><span class="s3">\n      </span><span class="s1">(prom = fetch(href, { credentials: 'same-origin' })</span><span class="s3">\n        </span><span class="s1">.then((res) =&gt; {</span><span class="s3">\n          </span><span class="s1">if (!res.ok) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`Failed to load stylesheet: ${href}`)</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">return res.text().then((text) =&gt; ({ href: href, content: text }))</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">.catch((err) =&gt; {</span><span class="s3">\n          </span><span class="s1">throw markAssetError(err)</span><span class="s3">\n        </span><span class="s1">}))</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">return prom</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">whenEntrypoint(route: string) {</span><span class="s3">\n      </span><span class="s1">return withFuture(route, entrypoints)</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">onEntrypoint(route: string, execute: undefined | (() =&gt; unknown)) {</span><span class="s3">\n      </span><span class="s1">;(execute</span><span class="s3">\n        </span><span class="s1">? Promise.resolve()</span><span class="s3">\n            </span><span class="s1">.then(() =&gt; execute())</span><span class="s3">\n            </span><span class="s1">.then(</span><span class="s3">\n              </span><span class="s1">(exports: any) =&gt; ({</span><span class="s3">\n                </span><span class="s1">component: (exports &amp;&amp; exports.default) || exports,</span><span class="s3">\n                </span><span class="s1">exports: exports,</span><span class="s3">\n              </span><span class="s1">}),</span><span class="s3">\n              </span><span class="s1">(err) =&gt; ({ error: err })</span><span class="s3">\n            </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">: Promise.resolve(undefined)</span><span class="s3">\n      </span><span class="s1">).then((input: RouteEntrypoint | undefined) =&gt; {</span><span class="s3">\n        </span><span class="s1">const old = entrypoints.get(route)</span><span class="s3">\n        </span><span class="s1">if (old &amp;&amp; 'resolve' in old) {</span><span class="s3">\n          </span><span class="s1">if (input) {</span><span class="s3">\n            </span><span class="s1">entrypoints.set(route, input)</span><span class="s3">\n            </span><span class="s1">old.resolve(input)</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">if (input) {</span><span class="s3">\n            </span><span class="s1">entrypoints.set(route, input)</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">entrypoints.delete(route)</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">// when this entrypoint has been resolved before</span><span class="s3">\n          </span><span class="s1">// the route is outdated and we want to invalidate</span><span class="s3">\n          </span><span class="s1">// this cache entry</span><span class="s3">\n          </span><span class="s1">routes.delete(route)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">loadRoute(route: string, prefetch?: boolean) {</span><span class="s3">\n      </span><span class="s1">return withFuture&lt;RouteLoaderEntry&gt;(route, routes, () =&gt; {</span><span class="s3">\n        </span><span class="s1">let devBuildPromiseResolve: () =&gt; void</span><span class="s3">\n\n        </span><span class="s1">if (process.env.NODE_ENV === 'development') {</span><span class="s3">\n          </span><span class="s1">devBuildPromise = new Promise&lt;void&gt;((resolve) =&gt; {</span><span class="s3">\n            </span><span class="s1">devBuildPromiseResolve = resolve</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return resolvePromiseWithTimeout(</span><span class="s3">\n          </span><span class="s1">getFilesForRoute(assetPrefix, route)</span><span class="s3">\n            </span><span class="s1">.then(({ scripts, css }) =&gt; {</span><span class="s3">\n              </span><span class="s1">return Promise.all([</span><span class="s3">\n                </span><span class="s1">entrypoints.has(route)</span><span class="s3">\n                  </span><span class="s1">? []</span><span class="s3">\n                  </span><span class="s1">: Promise.all(scripts.map(maybeExecuteScript)),</span><span class="s3">\n                </span><span class="s1">Promise.all(css.map(fetchStyleSheet)),</span><span class="s3">\n              </span><span class="s1">] as const)</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n            </span><span class="s1">.then((res) =&gt; {</span><span class="s3">\n              </span><span class="s1">return this.whenEntrypoint(route).then((entrypoint) =&gt; ({</span><span class="s3">\n                </span><span class="s1">entrypoint,</span><span class="s3">\n                </span><span class="s1">styles: res[1],</span><span class="s3">\n              </span><span class="s1">}))</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n          </span><span class="s1">MS_MAX_IDLE_DELAY,</span><span class="s3">\n          </span><span class="s1">markAssetError(new Error(`Route did not complete loading: ${route}`))</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">.then(({ entrypoint, styles }) =&gt; {</span><span class="s3">\n            </span><span class="s1">const res: RouteLoaderEntry = Object.assign&lt;</span><span class="s3">\n              </span><span class="s1">{ styles: RouteStyleSheet[] },</span><span class="s3">\n              </span><span class="s1">RouteEntrypoint</span><span class="s3">\n            </span><span class="s1">&gt;({ styles: styles! }, entrypoint)</span><span class="s3">\n            </span><span class="s1">return 'error' in entrypoint ? entrypoint : res</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n          </span><span class="s1">.catch((err) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (prefetch) {</span><span class="s3">\n              </span><span class="s1">// we don't want to cache errors during prefetch</span><span class="s3">\n              </span><span class="s1">throw err</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return { error: err }</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n          </span><span class="s1">.finally(() =&gt; devBuildPromiseResolve?.())</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">prefetch(route: string): Promise&lt;void&gt; {</span><span class="s3">\n      </span><span class="s1">// https://github.com/GoogleChromeLabs/quicklink/blob/453a661fa1fa940e2d2e044452398e38c67a98fb/src/index.mjs#L115-L118</span><span class="s3">\n      </span><span class="s1">// License: Apache 2.0</span><span class="s3">\n      </span><span class="s1">let cn</span><span class="s3">\n      </span><span class="s1">if ((cn = (navigator as any).connection)) {</span><span class="s3">\n        </span><span class="s1">// Don't prefetch if using 2G or if Save-Data is enabled.</span><span class="s3">\n        </span><span class="s1">if (cn.saveData || /2g/.test(cn.effectiveType)) return Promise.resolve()</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return getFilesForRoute(assetPrefix, route)</span><span class="s3">\n        </span><span class="s1">.then((output) =&gt;</span><span class="s3">\n          </span><span class="s1">Promise.all(</span><span class="s3">\n            </span><span class="s1">canPrefetch</span><span class="s3">\n              </span><span class="s1">? output.scripts.map((script) =&gt;</span><span class="s3">\n                  </span><span class="s1">prefetchViaDom(script.toString(), 'script')</span><span class="s3">\n                </span><span class="s1">)</span><span class="s3">\n              </span><span class="s1">: []</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.then(() =&gt; {</span><span class="s3">\n          </span><span class="s1">requestIdleCallback(() =&gt; this.loadRoute(route, true).catch(() =&gt; {}))</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">.catch(</span><span class="s3">\n          </span><span class="s1">// swallow prefetch errors</span><span class="s3">\n          </span><span class="s1">() =&gt; {}</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;createRouteLoader&quot;</span><span class="s0">,</span><span class="s1">&quot;getClientBuildManifest&quot;</span><span class="s0">,</span><span class="s1">&quot;isAssetError&quot;</span><span class="s0">,</span><span class="s1">&quot;markAssetError&quot;</span><span class="s0">,</span><span class="s1">&quot;MS_MAX_IDLE_DELAY&quot;</span><span class="s0">,</span><span class="s1">&quot;withFuture&quot;</span><span class="s0">,</span><span class="s1">&quot;key&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;generator&quot;</span><span class="s0">,</span><span class="s1">&quot;entry&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;future&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;resolver&quot;</span><span class="s0">,</span><span class="s1">&quot;prom&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;catch&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;delete&quot;</span><span class="s0">,</span><span class="s1">&quot;ASSET_LOAD_ERROR&quot;</span><span class="s0">,</span><span class="s1">&quot;Symbol&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;defineProperty&quot;</span><span class="s0">,</span><span class="s1">&quot;hasPrefetch&quot;</span><span class="s0">,</span><span class="s1">&quot;link&quot;</span><span class="s0">,</span><span class="s1">&quot;document&quot;</span><span class="s0">,</span><span class="s1">&quot;createElement&quot;</span><span class="s0">,</span><span class="s1">&quot;window&quot;</span><span class="s0">,</span><span class="s1">&quot;MSInputMethodContext&quot;</span><span class="s0">,</span><span class="s1">&quot;documentMode&quot;</span><span class="s0">,</span><span class="s1">&quot;relList&quot;</span><span class="s0">,</span><span class="s1">&quot;supports&quot;</span><span class="s0">,</span><span class="s1">&quot;canPrefetch&quot;</span><span class="s0">,</span><span class="s1">&quot;getAssetQueryString&quot;</span><span class="s0">,</span><span class="s1">&quot;getDeploymentIdQueryOrEmptyString&quot;</span><span class="s0">,</span><span class="s1">&quot;prefetchViaDom&quot;</span><span class="s0">,</span><span class="s1">&quot;href&quot;</span><span class="s0">,</span><span class="s1">&quot;as&quot;</span><span class="s0">,</span><span class="s1">&quot;reject&quot;</span><span class="s0">,</span><span class="s1">&quot;selector&quot;</span><span class="s0">,</span><span class="s1">&quot;querySelector&quot;</span><span class="s0">,</span><span class="s1">&quot;rel&quot;</span><span class="s0">,</span><span class="s1">&quot;crossOrigin&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;__NEXT_CROSS_ORIGIN&quot;</span><span class="s0">,</span><span class="s1">&quot;onload&quot;</span><span class="s0">,</span><span class="s1">&quot;onerror&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;head&quot;</span><span class="s0">,</span><span class="s1">&quot;appendChild&quot;</span><span class="s0">,</span><span class="s1">&quot;appendScript&quot;</span><span class="s0">,</span><span class="s1">&quot;src&quot;</span><span class="s0">,</span><span class="s1">&quot;script&quot;</span><span class="s0">,</span><span class="s1">&quot;body&quot;</span><span class="s0">,</span><span class="s1">&quot;devBuildPromise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvePromiseWithTimeout&quot;</span><span class="s0">,</span><span class="s1">&quot;p&quot;</span><span class="s0">,</span><span class="s1">&quot;ms&quot;</span><span class="s0">,</span><span class="s1">&quot;cancelled&quot;</span><span class="s0">,</span><span class="s1">&quot;r&quot;</span><span class="s0">,</span><span class="s1">&quot;NODE_ENV&quot;</span><span class="s0">,</span><span class="s1">&quot;requestIdleCallback&quot;</span><span class="s0">,</span><span class="s1">&quot;setTimeout&quot;</span><span class="s0">,</span><span class="s1">&quot;self&quot;</span><span class="s0">,</span><span class="s1">&quot;__BUILD_MANIFEST&quot;</span><span class="s0">,</span><span class="s1">&quot;onBuildManifest&quot;</span><span class="s0">,</span><span class="s1">&quot;cb&quot;</span><span class="s0">,</span><span class="s1">&quot;__BUILD_MANIFEST_CB&quot;</span><span class="s0">,</span><span class="s1">&quot;getFilesForRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;assetPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;route&quot;</span><span class="s0">,</span><span class="s1">&quot;scriptUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;encodeURIPath&quot;</span><span class="s0">,</span><span class="s1">&quot;getAssetPathFromRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;scripts&quot;</span><span class="s0">,</span><span class="s1">&quot;__unsafeCreateTrustedScriptURL&quot;</span><span class="s0">,</span><span class="s1">&quot;css&quot;</span><span class="s0">,</span><span class="s1">&quot;manifest&quot;</span><span class="s0">,</span><span class="s1">&quot;allFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">&quot;v&quot;</span><span class="s0">,</span><span class="s1">&quot;endsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;entrypoints&quot;</span><span class="s0">,</span><span class="s1">&quot;Map&quot;</span><span class="s0">,</span><span class="s1">&quot;loadedScripts&quot;</span><span class="s0">,</span><span class="s1">&quot;styleSheets&quot;</span><span class="s0">,</span><span class="s1">&quot;routes&quot;</span><span class="s0">,</span><span class="s1">&quot;maybeExecuteScript&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;fetchStyleSheet&quot;</span><span class="s0">,</span><span class="s1">&quot;fetch&quot;</span><span class="s0">,</span><span class="s1">&quot;credentials&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;ok&quot;</span><span class="s0">,</span><span class="s1">&quot;text&quot;</span><span class="s0">,</span><span class="s1">&quot;content&quot;</span><span class="s0">,</span><span class="s1">&quot;whenEntrypoint&quot;</span><span class="s0">,</span><span class="s1">&quot;onEntrypoint&quot;</span><span class="s0">,</span><span class="s1">&quot;execute&quot;</span><span class="s0">,</span><span class="s1">&quot;exports&quot;</span><span class="s0">,</span><span class="s1">&quot;component&quot;</span><span class="s0">,</span><span class="s1">&quot;default&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;input&quot;</span><span class="s0">,</span><span class="s1">&quot;old&quot;</span><span class="s0">,</span><span class="s1">&quot;loadRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;prefetch&quot;</span><span class="s0">,</span><span class="s1">&quot;devBuildPromiseResolve&quot;</span><span class="s0">,</span><span class="s1">&quot;all&quot;</span><span class="s0">,</span><span class="s1">&quot;has&quot;</span><span class="s0">,</span><span class="s1">&quot;entrypoint&quot;</span><span class="s0">,</span><span class="s1">&quot;styles&quot;</span><span class="s0">,</span><span class="s1">&quot;assign&quot;</span><span class="s0">,</span><span class="s1">&quot;finally&quot;</span><span class="s0">,</span><span class="s1">&quot;cn&quot;</span><span class="s0">,</span><span class="s1">&quot;navigator&quot;</span><span class="s0">,</span><span class="s1">&quot;connection&quot;</span><span class="s0">,</span><span class="s1">&quot;saveData&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">,</span><span class="s1">&quot;effectiveType&quot;</span><span class="s0">,</span><span class="s1">&quot;output&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>