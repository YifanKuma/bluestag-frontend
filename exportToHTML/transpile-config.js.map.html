<html>
<head>
<title>transpile-config.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
transpile-config.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/build/next-config-ts/transpile-config.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { Options as SWCOptions } from '@swc/core'</span><span class="s3">\n</span><span class="s1">import type { CompilerOptions } from 'typescript'</span><span class="s3">\n\n</span><span class="s1">import { resolve } from 'node:path'</span><span class="s3">\n</span><span class="s1">import { readFile } from 'node:fs/promises'</span><span class="s3">\n</span><span class="s1">import { deregisterHook, registerHook, requireFromString } from './require-hook'</span><span class="s3">\n</span><span class="s1">import { warn } from '../output/log'</span><span class="s3">\n</span><span class="s1">import { installDependencies } from '../../lib/install-dependencies'</span><span class="s3">\n\n</span><span class="s1">function resolveSWCOptions(</span><span class="s3">\n  </span><span class="s1">cwd: string,</span><span class="s3">\n  </span><span class="s1">compilerOptions: CompilerOptions</span><span class="s3">\n</span><span class="s1">): SWCOptions {</span><span class="s3">\n  </span><span class="s1">const resolvedBaseUrl = resolve(cwd, compilerOptions.baseUrl ?? '.')</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">jsc: {</span><span class="s3">\n      </span><span class="s1">target: 'es5',</span><span class="s3">\n      </span><span class="s1">parser: {</span><span class="s3">\n        </span><span class="s1">syntax: 'typescript',</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">paths: compilerOptions.paths,</span><span class="s3">\n      </span><span class="s1">baseUrl: resolvedBaseUrl,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">module: {</span><span class="s3">\n      </span><span class="s1">type: 'commonjs',</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">isModule: 'unknown',</span><span class="s3">\n  </span><span class="s1">} satisfies SWCOptions</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Ported from next/src/lib/verify-typescript-setup.ts</span><span class="s3">\n</span><span class="s1">// Although this overlaps with the later `verifyTypeScriptSetup`,</span><span class="s3">\n</span><span class="s1">// it is acceptable since the time difference in the worst case is trivial,</span><span class="s3">\n</span><span class="s1">// as we are only preparing to install the dependencies once more.</span><span class="s3">\n</span><span class="s1">async function verifyTypeScriptSetup(cwd: string, configFileName: string) {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">// Quick module check.</span><span class="s3">\n    </span><span class="s1">require.resolve('typescript', { paths: [cwd] })</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">error &amp;&amp;</span><span class="s3">\n      </span><span class="s1">typeof error === 'object' &amp;&amp;</span><span class="s3">\n      </span><span class="s1">'code' in error &amp;&amp;</span><span class="s3">\n      </span><span class="s1">error.code === 'MODULE_NOT_FOUND'</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">warn(</span><span class="s3">\n        </span><span class="s1">`Installing TypeScript as it was not found while loading </span><span class="s3">\&quot;</span><span class="s1">${configFileName}</span><span class="s3">\&quot;</span><span class="s1">.`</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n\n      </span><span class="s1">await installDependencies(cwd, [{ pkg: 'typescript' }], true).catch(</span><span class="s3">\n        </span><span class="s1">(err) =&gt; {</span><span class="s3">\n          </span><span class="s1">if (err &amp;&amp; typeof err === 'object' &amp;&amp; 'command' in err) {</span><span class="s3">\n            </span><span class="s1">console.error(</span><span class="s3">\n              </span><span class="s1">`Failed to install TypeScript, please install it manually to continue:</span><span class="s3">\\</span><span class="s1">n` +</span><span class="s3">\n                </span><span class="s1">(err as any).command +</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">n'</span><span class="s3">\n            </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">throw err</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">async function getTsConfig(cwd: string): Promise&lt;CompilerOptions&gt; {</span><span class="s3">\n  </span><span class="s1">const ts: typeof import('typescript') = require(</span><span class="s3">\n    </span><span class="s1">require.resolve('typescript', { paths: [cwd] })</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">// NOTE: This doesn't fully cover the edge case for setting</span><span class="s3">\n  </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">typescript.tsconfigPath</span><span class="s3">\&quot; </span><span class="s1">in next config which is currently</span><span class="s3">\n  </span><span class="s1">// a restriction.</span><span class="s3">\n  </span><span class="s1">const tsConfigPath = ts.findConfigFile(</span><span class="s3">\n    </span><span class="s1">cwd,</span><span class="s3">\n    </span><span class="s1">ts.sys.fileExists,</span><span class="s3">\n    </span><span class="s1">'tsconfig.json'</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">if (!tsConfigPath) {</span><span class="s3">\n    </span><span class="s1">// It is ok to not return ts.getDefaultCompilerOptions() because</span><span class="s3">\n    </span><span class="s1">// we are only lookfing for paths and baseUrl from tsConfig.</span><span class="s3">\n    </span><span class="s1">return {}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const configFile = ts.readConfigFile(tsConfigPath, ts.sys.readFile)</span><span class="s3">\n  </span><span class="s1">const parsedCommandLine = ts.parseJsonConfigFileContent(</span><span class="s3">\n    </span><span class="s1">configFile.config,</span><span class="s3">\n    </span><span class="s1">ts.sys,</span><span class="s3">\n    </span><span class="s1">cwd</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">return parsedCommandLine.options</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export async function transpileConfig({</span><span class="s3">\n  </span><span class="s1">nextConfigPath,</span><span class="s3">\n  </span><span class="s1">configFileName,</span><span class="s3">\n  </span><span class="s1">cwd,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">nextConfigPath: string</span><span class="s3">\n  </span><span class="s1">configFileName: string</span><span class="s3">\n  </span><span class="s1">cwd: string</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">let hasRequire = false</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">// Ensure TypeScript is installed to use the API.</span><span class="s3">\n    </span><span class="s1">await verifyTypeScriptSetup(cwd, configFileName)</span><span class="s3">\n\n    </span><span class="s1">const compilerOptions = await getTsConfig(cwd)</span><span class="s3">\n    </span><span class="s1">const swcOptions = resolveSWCOptions(cwd, compilerOptions)</span><span class="s3">\n\n    </span><span class="s1">const nextConfigString = await readFile(nextConfigPath, 'utf8')</span><span class="s3">\n    </span><span class="s1">// lazy require swc since it loads React before even setting NODE_ENV</span><span class="s3">\n    </span><span class="s1">// resulting loading Development React on Production</span><span class="s3">\n    </span><span class="s1">const { transform } = require('../swc') as typeof import('../swc')</span><span class="s3">\n    </span><span class="s1">const { code } = await transform(nextConfigString, swcOptions)</span><span class="s3">\n\n    </span><span class="s1">// register require hook only if require exists</span><span class="s3">\n    </span><span class="s1">if (code.includes('require(')) {</span><span class="s3">\n      </span><span class="s1">registerHook(swcOptions)</span><span class="s3">\n      </span><span class="s1">hasRequire = true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// filename &amp; extension don't matter here</span><span class="s3">\n    </span><span class="s1">return requireFromString(code, resolve(cwd, 'next.config.compiled.js'))</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">throw error</span><span class="s3">\n  </span><span class="s1">} finally {</span><span class="s3">\n    </span><span class="s1">if (hasRequire) {</span><span class="s3">\n      </span><span class="s1">deregisterHook()</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;transpileConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;resolveSWCOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;cwd&quot;</span><span class="s0">,</span><span class="s1">&quot;compilerOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedBaseUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;baseUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;jsc&quot;</span><span class="s0">,</span><span class="s1">&quot;target&quot;</span><span class="s0">,</span><span class="s1">&quot;parser&quot;</span><span class="s0">,</span><span class="s1">&quot;syntax&quot;</span><span class="s0">,</span><span class="s1">&quot;paths&quot;</span><span class="s0">,</span><span class="s1">&quot;module&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;isModule&quot;</span><span class="s0">,</span><span class="s1">&quot;verifyTypeScriptSetup&quot;</span><span class="s0">,</span><span class="s1">&quot;configFileName&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;warn&quot;</span><span class="s0">,</span><span class="s1">&quot;installDependencies&quot;</span><span class="s0">,</span><span class="s1">&quot;pkg&quot;</span><span class="s0">,</span><span class="s1">&quot;catch&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;command&quot;</span><span class="s0">,</span><span class="s1">&quot;getTsConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;ts&quot;</span><span class="s0">,</span><span class="s1">&quot;tsConfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;findConfigFile&quot;</span><span class="s0">,</span><span class="s1">&quot;sys&quot;</span><span class="s0">,</span><span class="s1">&quot;fileExists&quot;</span><span class="s0">,</span><span class="s1">&quot;configFile&quot;</span><span class="s0">,</span><span class="s1">&quot;readConfigFile&quot;</span><span class="s0">,</span><span class="s1">&quot;readFile&quot;</span><span class="s0">,</span><span class="s1">&quot;parsedCommandLine&quot;</span><span class="s0">,</span><span class="s1">&quot;parseJsonConfigFileContent&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;nextConfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;hasRequire&quot;</span><span class="s0">,</span><span class="s1">&quot;swcOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;nextConfigString&quot;</span><span class="s0">,</span><span class="s1">&quot;transform&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;registerHook&quot;</span><span class="s0">,</span><span class="s1">&quot;requireFromString&quot;</span><span class="s0">,</span><span class="s1">&quot;deregisterHook&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BA+FsBA;;;eAAAA;;;0BA5FE;0BACC;6BACuC;qBAC3C;qCACe;AAEpC,SAASC,kBACPC,GAAW,EACXC,eAAgC;IAEhC,MAAMC,kBAAkBC,IAAAA,iBAAO,EAACH,KAAKC,gBAAgBG,OAAO,IAAI;IAChE,OAAO;QACLC,KAAK;YACHC,QAAQ;YACRC,QAAQ;gBACNC,QAAQ;YACV;YACAC,OAAOR,gBAAgBQ,KAAK;YAC5BL,SAASF;QACX;QACAQ,QAAQ;YACNC,MAAM;QACR;QACAC,UAAU;IACZ;AACF;AAEA,sDAAsD;AACtD,iEAAiE;AACjE,2EAA2E;AAC3E,kEAAkE;AAClE,eAAeC,sBAAsBb,GAAW,EAAEc,cAAsB;IACtE,IAAI;QACF,sBAAsB;QACtBC,QAAQZ,OAAO,CAAC,cAAc;YAAEM,OAAO;gBAACT;aAAI;QAAC;IAC/C,EAAE,OAAOgB,OAAO;QACd,IACEA,SACA,OAAOA,UAAU,YACjB,UAAUA,SACVA,MAAMC,IAAI,KAAK,oBACf;YACAC,IAAAA,SAAI,EACF,CAAC,yDAAyD,EAAEJ,eAAe,EAAE,CAAC;YAGhF,MAAMK,IAAAA,wCAAmB,EAACnB,KAAK;gBAAC;oBAAEoB,KAAK;gBAAa;aAAE,EAAE,MAAMC,KAAK,CACjE,CAACC;gBACC,IAAIA,OAAO,OAAOA,QAAQ,YAAY,aAAaA,KAAK;oBACtDC,QAAQP,KAAK,CACX,CAAC,uEAAuE,CAAC,GACvE,AAACM,IAAYE,OAAO,GACpB;gBAEN;gBACA,MAAMF;YACR;QAEJ;IACF;AACF;AAEA,eAAeG,YAAYzB,GAAW;IACpC,MAAM0B,KAAkCX,QACtCA,QAAQZ,OAAO,CAAC,cAAc;QAAEM,OAAO;YAACT;SAAI;IAAC;IAG/C,2DAA2D;IAC3D,8DAA8D;IAC9D,iBAAiB;IACjB,MAAM2B,eAAeD,GAAGE,cAAc,CACpC5B,KACA0B,GAAGG,GAAG,CAACC,UAAU,EACjB;IAGF,IAAI,CAACH,cAAc;QACjB,gEAAgE;QAChE,4DAA4D;QAC5D,OAAO,CAAC;IACV;IAEA,MAAMI,aAAaL,GAAGM,cAAc,CAACL,cAAcD,GAAGG,GAAG,CAACI,QAAQ;IAClE,MAAMC,oBAAoBR,GAAGS,0BAA0B,CACrDJ,WAAWK,MAAM,EACjBV,GAAGG,GAAG,EACN7B;IAGF,OAAOkC,kBAAkBG,OAAO;AAClC;AAEO,eAAevC,gBAAgB,EACpCwC,cAAc,EACdxB,cAAc,EACdd,GAAG,EAKJ;IACC,IAAIuC,aAAa;IACjB,IAAI;QACF,iDAAiD;QACjD,MAAM1B,sBAAsBb,KAAKc;QAEjC,MAAMb,kBAAkB,MAAMwB,YAAYzB;QAC1C,MAAMwC,aAAazC,kBAAkBC,KAAKC;QAE1C,MAAMwC,mBAAmB,MAAMR,IAAAA,kBAAQ,EAACK,gBAAgB;QACxD,qEAAqE;QACrE,oDAAoD;QACpD,MAAM,EAAEI,SAAS,EAAE,GAAG3B,QAAQ;QAC9B,MAAM,EAAEE,IAAI,EAAE,GAAG,MAAMyB,UAAUD,kBAAkBD;QAEnD,+CAA+C;QAC/C,IAAIvB,KAAK0B,QAAQ,CAAC,aAAa;YAC7BC,IAAAA,yBAAY,EAACJ;YACbD,aAAa;QACf;QAEA,yCAAyC;QACzC,OAAOM,IAAAA,8BAAiB,EAAC5B,MAAMd,IAAAA,iBAAO,EAACH,KAAK;IAC9C,EAAE,OAAOgB,OAAO;QACd,MAAMA;IACR,SAAU;QACR,IAAIuB,YAAY;YACdO,IAAAA,2BAAc;QAChB;IACF;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>