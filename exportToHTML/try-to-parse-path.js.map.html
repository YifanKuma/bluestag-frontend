<html>
<head>
<title>try-to-parse-path.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
try-to-parse-path.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/lib/try-to-parse-path.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { Token } from 'next/dist/compiled/path-to-regexp'</span><span class="s3">\n</span><span class="s1">import { parse, tokensToRegexp } from 'next/dist/compiled/path-to-regexp'</span><span class="s3">\n</span><span class="s1">import { parse as parseURL } from 'url'</span><span class="s3">\n</span><span class="s1">import isError from './is-error'</span><span class="s3">\n</span><span class="s1">import { normalizeTokensForRegexp } from './route-pattern-normalizer'</span><span class="s3">\n\n</span><span class="s1">interface ParseResult {</span><span class="s3">\n  </span><span class="s1">error?: any</span><span class="s3">\n  </span><span class="s1">parsedPath: string</span><span class="s3">\n  </span><span class="s1">regexStr?: string</span><span class="s3">\n  </span><span class="s1">route: string</span><span class="s3">\n  </span><span class="s1">tokens?: Token[]</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* If there is an error show our error link but still show original error or</span><span class="s3">\n </span><span class="s1">* a formatted one if we can</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function reportError({ route, parsedPath }: ParseResult, err: any) {</span><span class="s3">\n  </span><span class="s1">let errMatches</span><span class="s3">\n  </span><span class="s1">if (isError(err) &amp;&amp; (errMatches = err.message.match(/at (</span><span class="s3">\\</span><span class="s1">d{0,})/))) {</span><span class="s3">\n    </span><span class="s1">const position = parseInt(errMatches[1], 10)</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">`</span><span class="s3">\\</span><span class="s1">nError parsing </span><span class="s3">\\</span><span class="s1">`${route}</span><span class="s3">\\</span><span class="s1">` ` +</span><span class="s3">\n        </span><span class="s1">`https://nextjs.org/docs/messages/invalid-route-source</span><span class="s3">\\</span><span class="s1">n` +</span><span class="s3">\n        </span><span class="s1">`Reason: ${err.message}</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">n` +</span><span class="s3">\n        </span><span class="s1">`  ${parsedPath}</span><span class="s3">\\</span><span class="s1">n` +</span><span class="s3">\n        </span><span class="s1">`  ${new Array(position).fill(' ').join('')}^</span><span class="s3">\\</span><span class="s1">n`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">console.error(</span><span class="s3">\n      </span><span class="s1">`</span><span class="s3">\\</span><span class="s1">nError parsing ${route} https://nextjs.org/docs/messages/invalid-route-source`,</span><span class="s3">\n      </span><span class="s1">err</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Safe wrapper around tokensToRegexp that handles path-to-regexp 6.3.0+ validation errors.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function safeTokensToRegexp(tokens: Token[]): RegExp {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">return tokensToRegexp(tokens)</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">if (isError(error)) {</span><span class="s3">\n      </span><span class="s1">// Try to normalize tokens with repeating modifiers but no prefix/suffix</span><span class="s3">\n      </span><span class="s1">const normalizedTokens = normalizeTokensForRegexp(tokens)</span><span class="s3">\n      </span><span class="s1">return tokensToRegexp(normalizedTokens)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">throw error</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Attempts to parse a given route with `path-to-regexp` and returns an object</span><span class="s3">\n </span><span class="s1">* with the result. Whenever an error happens on parse, it will print an error</span><span class="s3">\n </span><span class="s1">* attempting to find the error position and showing a link to the docs. When</span><span class="s3">\n </span><span class="s1">* `handleUrl` is set to `true` it will also attempt to parse the route</span><span class="s3">\n </span><span class="s1">* and use the resulting pathname to parse with `path-to-regexp`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function tryToParsePath(</span><span class="s3">\n  </span><span class="s1">route: string,</span><span class="s3">\n  </span><span class="s1">options?: {</span><span class="s3">\n    </span><span class="s1">handleUrl?: boolean</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">): ParseResult {</span><span class="s3">\n  </span><span class="s1">const result: ParseResult = { route, parsedPath: route }</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">if (options?.handleUrl) {</span><span class="s3">\n      </span><span class="s1">const parsed = parseURL(route, true)</span><span class="s3">\n      </span><span class="s1">result.parsedPath = `${parsed.pathname!}${parsed.hash || ''}`</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">result.tokens = parse(result.parsedPath)</span><span class="s3">\n\n    </span><span class="s1">// Use safe wrapper instead of proactive detection</span><span class="s3">\n    </span><span class="s1">if (result.tokens) {</span><span class="s3">\n      </span><span class="s1">result.regexStr = safeTokensToRegexp(result.tokens).source</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} catch (err) {</span><span class="s3">\n    </span><span class="s1">reportError(result, err)</span><span class="s3">\n    </span><span class="s1">result.error = err</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return result</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;tryToParsePath&quot;</span><span class="s0">,</span><span class="s1">&quot;reportError&quot;</span><span class="s0">,</span><span class="s1">&quot;route&quot;</span><span class="s0">,</span><span class="s1">&quot;parsedPath&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;errMatches&quot;</span><span class="s0">,</span><span class="s1">&quot;isError&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;match&quot;</span><span class="s0">,</span><span class="s1">&quot;position&quot;</span><span class="s0">,</span><span class="s1">&quot;parseInt&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;fill&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;safeTokensToRegexp&quot;</span><span class="s0">,</span><span class="s1">&quot;tokens&quot;</span><span class="s0">,</span><span class="s1">&quot;tokensToRegexp&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizedTokens&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizeTokensForRegexp&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;result&quot;</span><span class="s0">,</span><span class="s1">&quot;handleUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;parsed&quot;</span><span class="s0">,</span><span class="s1">&quot;parseURL&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;hash&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;regexStr&quot;</span><span class="s0">,</span><span class="s1">&quot;source&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BA4DgBA;;;eAAAA;;;8BA3DsB;qBACJ;gEACd;wCACqB;;;;;;AAUzC;;;CAGC,GACD,SAASC,YAAY,EAAEC,KAAK,EAAEC,UAAU,EAAe,EAAEC,GAAQ;IAC/D,IAAIC;IACJ,IAAIC,IAAAA,gBAAO,EAACF,QAASC,CAAAA,aAAaD,IAAIG,OAAO,CAACC,KAAK,CAAC,cAAa,GAAI;QACnE,MAAMC,WAAWC,SAASL,UAAU,CAAC,EAAE,EAAE;QACzCM,QAAQC,KAAK,CACX,CAAC,kBAAkB,EAAEV,MAAM,GAAG,CAAC,GAC7B,CAAC,uDAAuD,CAAC,GACzD,CAAC,QAAQ,EAAEE,IAAIG,OAAO,CAAC,IAAI,CAAC,GAC5B,CAAC,EAAE,EAAEJ,WAAW,EAAE,CAAC,GACnB,CAAC,EAAE,EAAE,IAAIU,MAAMJ,UAAUK,IAAI,CAAC,KAAKC,IAAI,CAAC,IAAI,GAAG,CAAC;IAEtD,OAAO;QACLJ,QAAQC,KAAK,CACX,CAAC,gBAAgB,EAAEV,MAAM,sDAAsD,CAAC,EAChFE;IAEJ;AACF;AAEA;;CAEC,GACD,SAASY,mBAAmBC,MAAe;IACzC,IAAI;QACF,OAAOC,IAAAA,4BAAc,EAACD;IACxB,EAAE,OAAOL,OAAO;QACd,IAAIN,IAAAA,gBAAO,EAACM,QAAQ;YAClB,wEAAwE;YACxE,MAAMO,mBAAmBC,IAAAA,gDAAwB,EAACH;YAClD,OAAOC,IAAAA,4BAAc,EAACC;QACxB;QACA,MAAMP;IACR;AACF;AASO,SAASZ,eACdE,KAAa,EACbmB,OAEC;IAED,MAAMC,SAAsB;QAAEpB;QAAOC,YAAYD;IAAM;IACvD,IAAI;QACF,IAAImB,2BAAAA,QAASE,SAAS,EAAE;YACtB,MAAMC,SAASC,IAAAA,UAAQ,EAACvB,OAAO;YAC/BoB,OAAOnB,UAAU,GAAG,GAAGqB,OAAOE,QAAQ,GAAIF,OAAOG,IAAI,IAAI,IAAI;QAC/D;QAEAL,OAAOL,MAAM,GAAGW,IAAAA,mBAAK,EAACN,OAAOnB,UAAU;QAEvC,kDAAkD;QAClD,IAAImB,OAAOL,MAAM,EAAE;YACjBK,OAAOO,QAAQ,GAAGb,mBAAmBM,OAAOL,MAAM,EAAEa,MAAM;QAC5D;IACF,EAAE,OAAO1B,KAAK;QACZH,YAAYqB,QAAQlB;QACpBkB,OAAOV,KAAK,GAAGR;IACjB;IAEA,OAAOkB;AACT&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>