<html>
<head>
<title>parseIncompletePhoneNumber.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
parseIncompletePhoneNumber.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;parseIncompletePhoneNumber.js&quot;</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_parseDigits&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;_createForOfIteratorHelperLoose&quot;</span><span class="s0">,</span><span class="s1">&quot;r&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;t&quot;</span><span class="s0">,</span><span class="s1">&quot;Symbol&quot;</span><span class="s0">,</span><span class="s1">&quot;iterator&quot;</span><span class="s0">,</span><span class="s1">&quot;call&quot;</span><span class="s0">,</span><span class="s1">&quot;next&quot;</span><span class="s0">,</span><span class="s1">&quot;bind&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;_unsupportedIterableToArray&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;o&quot;</span><span class="s0">,</span><span class="s1">&quot;done&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;TypeError&quot;</span><span class="s0">,</span><span class="s1">&quot;a&quot;</span><span class="s0">,</span><span class="s1">&quot;_arrayLikeToArray&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;from&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">,</span><span class="s1">&quot;n&quot;</span><span class="s0">,</span><span class="s1">&quot;parseIncompletePhoneNumber&quot;</span><span class="s0">,</span><span class="s1">&quot;string&quot;</span><span class="s0">,</span><span class="s1">&quot;result&quot;</span><span class="s0">,</span><span class="s1">&quot;_iterator&quot;</span><span class="s0">,</span><span class="s1">&quot;split&quot;</span><span class="s0">,</span><span class="s1">&quot;_step&quot;</span><span class="s0">,</span><span class="s1">&quot;character&quot;</span><span class="s0">,</span><span class="s1">&quot;parsePhoneNumberCharacter&quot;</span><span class="s0">,</span><span class="s1">&quot;prevParsedCharacters&quot;</span><span class="s0">,</span><span class="s1">&quot;eventListener&quot;</span><span class="s0">,</span><span class="s1">&quot;parseDigit&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../source/parseIncompletePhoneNumber.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { parseDigit } from './helpers/parseDigits.js'</span><span class="s3">\r\n\r\n</span><span class="s1">/**</span><span class="s3">\r\n </span><span class="s1">* Parses phone number characters from a string.</span><span class="s3">\r\n </span><span class="s1">* Drops all punctuation leaving only digits and the leading `+` sign (if any).</span><span class="s3">\r\n </span><span class="s1">* Also converts wide-ascii and arabic-indic numerals to conventional numerals.</span><span class="s3">\r\n </span><span class="s1">* E.g. in Iraq they don't write `+442323234` but rather `+٤٤٢٣٢٣٢٣٤`.</span><span class="s3">\r\n </span><span class="s1">* @param  {string} string</span><span class="s3">\r\n </span><span class="s1">* @return {string}</span><span class="s3">\r\n </span><span class="s1">* @example</span><span class="s3">\r\n </span><span class="s1">* ```js</span><span class="s3">\r\n </span><span class="s1">* // Outputs '8800555'.</span><span class="s3">\r\n </span><span class="s1">* parseIncompletePhoneNumber('8 (800) 555')</span><span class="s3">\r\n </span><span class="s1">* // Outputs '+7800555'.</span><span class="s3">\r\n </span><span class="s1">* parseIncompletePhoneNumber('+7 800 555')</span><span class="s3">\r\n </span><span class="s1">* ```</span><span class="s3">\r\n </span><span class="s1">*/</span><span class="s3">\r\n</span><span class="s1">export default function parseIncompletePhoneNumber(string) {</span><span class="s3">\r\n\t</span><span class="s1">let result = ''</span><span class="s3">\r\n\t</span><span class="s1">// Using `.split('')` here instead of normal `for ... of`</span><span class="s3">\r\n\t</span><span class="s1">// because the importing application doesn't neccessarily include an ES6 polyfill.</span><span class="s3">\r\n\t</span><span class="s1">// The `.split('')` approach discards </span><span class="s3">\&quot;</span><span class="s1">exotic</span><span class="s3">\&quot; </span><span class="s1">UTF-8 characters</span><span class="s3">\r\n\t</span><span class="s1">// (the ones consisting of four bytes) but digits</span><span class="s3">\r\n\t</span><span class="s1">// (including non-European ones) don't fall into that range</span><span class="s3">\r\n\t</span><span class="s1">// so such </span><span class="s3">\&quot;</span><span class="s1">exotic</span><span class="s3">\&quot; </span><span class="s1">characters would be discarded anyway.</span><span class="s3">\r\n\t</span><span class="s1">for (const character of string.split('')) {</span><span class="s3">\r\n\t\t</span><span class="s1">result += parsePhoneNumberCharacter(character, result) || ''</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\t</span><span class="s1">return result</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">/**</span><span class="s3">\r\n </span><span class="s1">* Parses next character while parsing phone number digits (including a `+`)</span><span class="s3">\r\n </span><span class="s1">* from text: discards everything except `+` and digits, and `+` is only allowed</span><span class="s3">\r\n </span><span class="s1">* at the start of a phone number.</span><span class="s3">\r\n </span><span class="s1">* For example, is used in `react-phone-number-input` where it uses</span><span class="s3">\r\n </span><span class="s1">* [`input-format`](https://gitlab.com/catamphetamine/input-format).</span><span class="s3">\r\n </span><span class="s1">* @param  {string} character - Yet another character from raw input string.</span><span class="s3">\r\n </span><span class="s1">* @param  {string?} prevParsedCharacters - Previous parsed characters.</span><span class="s3">\r\n </span><span class="s1">* @param  {function?} eventListener - An optional </span><span class="s3">\&quot;</span><span class="s1">on event</span><span class="s3">\&quot; </span><span class="s1">function.</span><span class="s3">\r\n </span><span class="s1">* @return {string?} The parsed character.</span><span class="s3">\r\n </span><span class="s1">*/</span><span class="s3">\r\n</span><span class="s1">export function parsePhoneNumberCharacter(character, prevParsedCharacters, eventListener) {</span><span class="s3">\r\n\t</span><span class="s1">// Only allow a leading `+`.</span><span class="s3">\r\n\t</span><span class="s1">if (character === '+') {</span><span class="s3">\r\n\t\t</span><span class="s1">// If this `+` is not the first parsed character</span><span class="s3">\r\n\t\t</span><span class="s1">// then discard it.</span><span class="s3">\r\n\t\t</span><span class="s1">if (prevParsedCharacters) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">// `eventListener` argument was added to this `export`ed function on Dec 26th, 2023.</span><span class="s3">\r\n\t\t\t</span><span class="s1">// Any 3rd-party code that used to `import` and call this function before that</span><span class="s3">\r\n\t\t\t</span><span class="s1">// won't be passing any `eventListener` argument.</span><span class="s3">\r\n\t\t\t</span><span class="s1">//</span><span class="s3">\r\n\t\t\t</span><span class="s1">// The addition of the `eventListener` argument was to fix the slightly-weird behavior</span><span class="s3">\r\n\t\t\t</span><span class="s1">// of parsing an input string when the user inputs something like `</span><span class="s3">\&quot;</span><span class="s1">2+7</span><span class="s3">\&quot;\r\n\t\t\t</span><span class="s1">// https://github.com/catamphetamine/react-phone-number-input/issues/437</span><span class="s3">\r\n\t\t\t</span><span class="s1">//</span><span class="s3">\r\n\t\t\t</span><span class="s1">// If the parser encounters an unexpected `+` in a string being parsed</span><span class="s3">\r\n\t\t\t</span><span class="s1">// then it simply discards that out-of-place `+` and any following characters.</span><span class="s3">\r\n\t\t\t</span><span class="s1">//</span><span class="s3">\r\n\t\t\t</span><span class="s1">if (typeof eventListener === 'function') {</span><span class="s3">\r\n\t\t\t\t</span><span class="s1">eventListener('end')</span><span class="s3">\r\n\t\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t\t</span><span class="s1">return</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t</span><span class="s1">return '+'</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\t</span><span class="s1">// Allow digits.</span><span class="s3">\r\n\t</span><span class="s1">return parseDigit(character)</span><span class="s3">\r\n</span><span class="s1">}&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAAqD,SAAAC,gCAAAC,CAAA,EAAAC,CAAA,QAAAC,CAAA,yBAAAC,MAAA,IAAAH,CAAA,CAAAG,MAAA,CAAAC,QAAA,KAAAJ,CAAA,oBAAAE,CAAA,UAAAA,CAAA,GAAAA,CAAA,CAAAG,IAAA,CAAAL,CAAA,GAAAM,IAAA,CAAAC,IAAA,CAAAL,CAAA,OAAAM,KAAA,CAAAC,OAAA,CAAAT,CAAA,MAAAE,CAAA,GAAAQ,2BAAA,CAAAV,CAAA,MAAAC,CAAA,IAAAD,CAAA,uBAAAA,CAAA,CAAAW,MAAA,IAAAT,CAAA,KAAAF,CAAA,GAAAE,CAAA,OAAAU,CAAA,kCAAAA,CAAA,IAAAZ,CAAA,CAAAW,MAAA,KAAAE,IAAA,WAAAA,IAAA,MAAAC,KAAA,EAAAd,CAAA,CAAAY,CAAA,sBAAAG,SAAA;AAAA,SAAAL,4BAAAV,CAAA,EAAAgB,CAAA,QAAAhB,CAAA,2BAAAA,CAAA,SAAAiB,iBAAA,CAAAjB,CAAA,EAAAgB,CAAA,OAAAd,CAAA,MAAAgB,QAAA,CAAAb,IAAA,CAAAL,CAAA,EAAAmB,KAAA,6BAAAjB,CAAA,IAAAF,CAAA,CAAAoB,WAAA,KAAAlB,CAAA,GAAAF,CAAA,CAAAoB,WAAA,CAAAC,IAAA,aAAAnB,CAAA,cAAAA,CAAA,GAAAM,KAAA,CAAAc,IAAA,CAAAtB,CAAA,oBAAAE,CAAA,+CAAAqB,IAAA,CAAArB,CAAA,IAAAe,iBAAA,CAAAjB,CAAA,EAAAgB,CAAA;AAAA,SAAAC,kBAAAjB,CAAA,EAAAgB,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAhB,CAAA,CAAAW,MAAA,MAAAK,CAAA,GAAAhB,CAAA,CAAAW,MAAA,YAAAV,CAAA,MAAAuB,CAAA,GAAAhB,KAAA,CAAAQ,CAAA,GAAAf,CAAA,GAAAe,CAAA,EAAAf,CAAA,IAAAuB,CAAA,CAAAvB,CAAA,IAAAD,CAAA,CAAAC,CAAA,UAAAuB,CAAA;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASC,0BAA0BA,CAACC,MAAM,EAAE;EAC1D,IAAIC,MAAM,GAAG,EAAE;EACf;EACA;EACA;EACA;EACA;EACA;EACA,SAAAC,SAAA,GAAA7B,+BAAA,CAAwB2B,MAAM,CAACG,KAAK,CAAC,EAAE,CAAC,GAAAC,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAf,IAAA,GAAE;IAAA,IAA/BkB,SAAS,GAAAD,KAAA,CAAAhB,KAAA;IACnBa,MAAM,IAAIK,yBAAyB,CAACD,SAAS,EAAEJ,MAAM,CAAC,IAAI,EAAE;EAC7D;EACA,OAAOA,MAAM;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASK,yBAAyBA,CAACD,SAAS,EAAEE,oBAAoB,EAAEC,aAAa,EAAE;EACzF;EACA,IAAIH,SAAS,KAAK,GAAG,EAAE;IACtB;IACA;IACA,IAAIE,oBAAoB,EAAE;MACzB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,IAAI,OAAOC,aAAa,KAAK,UAAU,EAAE;QACxCA,aAAa,CAAC,KAAK,CAAC;MACrB;MACA;IACD;IACA,OAAO,GAAG;EACX;EACA;EACA,OAAO,IAAAC,uBAAU,EAACJ,SAAS,CAAC;AAC7B&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>