<html>
<head>
<title>collect-root-param-keys.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
collect-root-param-keys.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../src/build/segment-config/app/collect-root-param-keys.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { getSegmentParam } from '../../../server/app-render/get-segment-param'</span><span class="s3">\n</span><span class="s1">import type { LoadComponentsReturnType } from '../../../server/load-components'</span><span class="s3">\n</span><span class="s1">import type { AppPageModule } from '../../../server/route-modules/app-page/module'</span><span class="s3">\n</span><span class="s1">import type AppPageRouteModule from '../../../server/route-modules/app-page/module'</span><span class="s3">\n</span><span class="s1">import type { AppRouteModule } from '../../../server/route-modules/app-route/module'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">isAppPageRouteModule,</span><span class="s3">\n  </span><span class="s1">isAppRouteRouteModule,</span><span class="s3">\n</span><span class="s1">} from '../../../server/route-modules/checks'</span><span class="s3">\n</span><span class="s1">import { InvariantError } from '../../../shared/lib/invariant-error'</span><span class="s3">\n\n</span><span class="s1">function collectAppPageRootParamKeys(</span><span class="s3">\n  </span><span class="s1">routeModule: AppPageRouteModule</span><span class="s3">\n</span><span class="s1">): readonly string[] {</span><span class="s3">\n  </span><span class="s1">let rootParams: string[] = []</span><span class="s3">\n\n  </span><span class="s1">let current = routeModule.userland.loaderTree</span><span class="s3">\n  </span><span class="s1">while (current) {</span><span class="s3">\n    </span><span class="s1">const [name, parallelRoutes, modules] = current</span><span class="s3">\n\n    </span><span class="s1">// If this is a dynamic segment, then we collect the param.</span><span class="s3">\n    </span><span class="s1">const param = getSegmentParam(name)?.param</span><span class="s3">\n    </span><span class="s1">if (param) {</span><span class="s3">\n      </span><span class="s1">rootParams.push(param)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// If this has a layout module, then we've found the root layout because</span><span class="s3">\n    </span><span class="s1">// we return once we found the first layout.</span><span class="s3">\n    </span><span class="s1">if (typeof modules.layout !== 'undefined') {</span><span class="s3">\n      </span><span class="s1">return rootParams</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// This didn't include a root layout, so we need to continue. We don't need</span><span class="s3">\n    </span><span class="s1">// to collect from other parallel routes because we can't have a parallel</span><span class="s3">\n    </span><span class="s1">// route above a root layout.</span><span class="s3">\n    </span><span class="s1">current = parallelRoutes.children</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// If we didn't find a root layout, then we don't have any params.</span><span class="s3">\n  </span><span class="s1">return []</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Collects the segments for a given route module.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param components the loaded components</span><span class="s3">\n </span><span class="s1">* @returns the segments for the route module</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function collectRootParamKeys({</span><span class="s3">\n  </span><span class="s1">routeModule,</span><span class="s3">\n</span><span class="s1">}: LoadComponentsReturnType&lt;</span><span class="s3">\n  </span><span class="s1">AppPageModule | AppRouteModule</span><span class="s3">\n</span><span class="s1">&gt;): readonly string[] {</span><span class="s3">\n  </span><span class="s1">if (isAppRouteRouteModule(routeModule)) {</span><span class="s3">\n    </span><span class="s1">return []</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (isAppPageRouteModule(routeModule)) {</span><span class="s3">\n    </span><span class="s1">return collectAppPageRootParamKeys(routeModule)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">throw new InvariantError(</span><span class="s3">\n    </span><span class="s1">'Expected a route module to be one of app route or page'</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;collectRootParamKeys&quot;</span><span class="s0">,</span><span class="s1">&quot;collectAppPageRootParamKeys&quot;</span><span class="s0">,</span><span class="s1">&quot;routeModule&quot;</span><span class="s0">,</span><span class="s1">&quot;rootParams&quot;</span><span class="s0">,</span><span class="s1">&quot;current&quot;</span><span class="s0">,</span><span class="s1">&quot;userland&quot;</span><span class="s0">,</span><span class="s1">&quot;loaderTree&quot;</span><span class="s0">,</span><span class="s1">&quot;getSegmentParam&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;parallelRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;modules&quot;</span><span class="s0">,</span><span class="s1">&quot;param&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;layout&quot;</span><span class="s0">,</span><span class="s1">&quot;children&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppRouteRouteModule&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppPageRouteModule&quot;</span><span class="s0">,</span><span class="s1">&quot;InvariantError&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAgDgBA;;;eAAAA;;;iCAhDgB;wBAQzB;gCACwB;AAE/B,SAASC,4BACPC,WAA+B;IAE/B,IAAIC,aAAuB,EAAE;IAE7B,IAAIC,UAAUF,YAAYG,QAAQ,CAACC,UAAU;IAC7C,MAAOF,QAAS;YAIAG;QAHd,MAAM,CAACC,MAAMC,gBAAgBC,QAAQ,GAAGN;QAExC,2DAA2D;QAC3D,MAAMO,SAAQJ,mBAAAA,IAAAA,gCAAe,EAACC,0BAAhBD,iBAAuBI,KAAK;QAC1C,IAAIA,OAAO;YACTR,WAAWS,IAAI,CAACD;QAClB;QAEA,wEAAwE;QACxE,4CAA4C;QAC5C,IAAI,OAAOD,QAAQG,MAAM,KAAK,aAAa;YACzC,OAAOV;QACT;QAEA,2EAA2E;QAC3E,yEAAyE;QACzE,6BAA6B;QAC7BC,UAAUK,eAAeK,QAAQ;IACnC;IAEA,kEAAkE;IAClE,OAAO,EAAE;AACX;AAQO,SAASd,qBAAqB,EACnCE,WAAW,EAGZ;IACC,IAAIa,IAAAA,6BAAqB,EAACb,cAAc;QACtC,OAAO,EAAE;IACX;IAEA,IAAIc,IAAAA,4BAAoB,EAACd,cAAc;QACrC,OAAOD,4BAA4BC;IACrC;IAEA,MAAM,qBAEL,CAFK,IAAIe,8BAAc,CACtB,2DADI,qBAAA;eAAA;oBAAA;sBAAA;IAEN;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>