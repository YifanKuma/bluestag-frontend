<html>
<head>
<title>size-rollup-animate.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #1750eb;}
.s3 { color: #264eff;}
.s4 { color: #067d17;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
size-rollup-animate.js</font>
</center></td></tr></table>
<pre><span class="s0">function </span><span class="s1">t(t,e){</span><span class="s0">const </span><span class="s1">n=t.indexOf(e);n&gt;-</span><span class="s2">1</span><span class="s1">&amp;&amp;t.splice(n,</span><span class="s2">1</span><span class="s1">)}</span><span class="s0">const </span><span class="s1">e=(t,e,n)=&gt;n&gt;e?e:n&lt;t?t:n;</span><span class="s0">const </span><span class="s1">n={},s=t=&gt;</span><span class="s3">/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u</span><span class="s1">.test(t);</span><span class="s0">const </span><span class="s1">i=t=&gt;</span><span class="s3">/^0[^.\s]+$/u</span><span class="s1">.test(t);</span><span class="s0">function </span><span class="s1">r(t){</span><span class="s0">let </span><span class="s1">e;</span><span class="s0">return</span><span class="s1">()=&gt;(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===e&amp;&amp;(e=t()),e)}</span><span class="s0">const </span><span class="s1">a=t=&gt;t,o=(t,e)=&gt;n=&gt;e(t(n)),l=(...t)=&gt;t.reduce(o),u=(t,e,n)=&gt;{</span><span class="s0">const </span><span class="s1">s=e-t;</span><span class="s0">return </span><span class="s2">0</span><span class="s1">===s?</span><span class="s2">1</span><span class="s1">:(n-t)/s};</span><span class="s0">class </span><span class="s1">h{constructor(){</span><span class="s0">this</span><span class="s1">.subscriptions=[]}add(e){</span><span class="s0">var </span><span class="s1">n,s;</span><span class="s0">return </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.subscriptions,s=e,-</span><span class="s2">1</span><span class="s1">===n.indexOf(s)&amp;&amp;n.push(s),()=&gt;t(</span><span class="s0">this</span><span class="s1">.subscriptions,e)}notify(t,e,n){</span><span class="s0">const </span><span class="s1">s=</span><span class="s0">this</span><span class="s1">.subscriptions.length;</span><span class="s0">if</span><span class="s1">(s)</span><span class="s0">if</span><span class="s1">(</span><span class="s2">1</span><span class="s1">===s)</span><span class="s0">this</span><span class="s1">.subscriptions[</span><span class="s2">0</span><span class="s1">](t,e,n);</span><span class="s0">else for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">i=</span><span class="s2">0</span><span class="s1">;i&lt;s;i++){</span><span class="s0">const </span><span class="s1">s=</span><span class="s0">this</span><span class="s1">.subscriptions[i];s&amp;&amp;s(t,e,n)}}getSize(){</span><span class="s0">return this</span><span class="s1">.subscriptions.length}clear(){</span><span class="s0">this</span><span class="s1">.subscriptions.length=</span><span class="s2">0</span><span class="s1">}}</span><span class="s0">const </span><span class="s1">c=t=&gt;</span><span class="s2">1e3</span><span class="s1">*t,d=t=&gt;t/</span><span class="s2">1e3</span><span class="s1">;</span><span class="s0">function </span><span class="s1">p(t,e){</span><span class="s0">return </span><span class="s1">e?t*(</span><span class="s2">1e3</span><span class="s1">/e):</span><span class="s2">0</span><span class="s1">}</span><span class="s0">const </span><span class="s1">m=(t,e,n)=&gt;(((</span><span class="s2">1</span><span class="s1">-</span><span class="s2">3</span><span class="s1">*n+</span><span class="s2">3</span><span class="s1">*e)*t+(</span><span class="s2">3</span><span class="s1">*n-</span><span class="s2">6</span><span class="s1">*e))*t+</span><span class="s2">3</span><span class="s1">*e)*t;</span><span class="s0">function </span><span class="s1">f(t,e,n,s){</span><span class="s0">if</span><span class="s1">(t===e&amp;&amp;n===s)</span><span class="s0">return </span><span class="s1">a;</span><span class="s0">const </span><span class="s1">i=e=&gt;</span><span class="s0">function</span><span class="s1">(t,e,n,s,i){</span><span class="s0">let </span><span class="s1">r,a,o=</span><span class="s2">0</span><span class="s1">;</span><span class="s0">do</span><span class="s1">{a=e+(n-e)/</span><span class="s2">2</span><span class="s1">,r=m(a,s,i)-t,r&gt;</span><span class="s2">0</span><span class="s1">?n=a:e=a}</span><span class="s0">while</span><span class="s1">(Math.abs(r)&gt;</span><span class="s2">1e-7</span><span class="s1">&amp;&amp;++o&lt;</span><span class="s2">12</span><span class="s1">);</span><span class="s0">return </span><span class="s1">a}(e,</span><span class="s2">0</span><span class="s1">,</span><span class="s2">1</span><span class="s1">,t,n);</span><span class="s0">return </span><span class="s1">t=&gt;</span><span class="s2">0</span><span class="s1">===t||</span><span class="s2">1</span><span class="s1">===t?t:m(i(t),e,s)}</span><span class="s0">const </span><span class="s1">y=t=&gt;e=&gt;e&lt;=</span><span class="s2">.5</span><span class="s1">?t(</span><span class="s2">2</span><span class="s1">*e)/</span><span class="s2">2</span><span class="s1">:(</span><span class="s2">2</span><span class="s1">-t(</span><span class="s2">2</span><span class="s1">*(</span><span class="s2">1</span><span class="s1">-e)))/</span><span class="s2">2</span><span class="s1">,g=t=&gt;e=&gt;</span><span class="s2">1</span><span class="s1">-t(</span><span class="s2">1</span><span class="s1">-e),v=f(</span><span class="s2">.33</span><span class="s1">,</span><span class="s2">1.53</span><span class="s1">,</span><span class="s2">.69</span><span class="s1">,</span><span class="s2">.99</span><span class="s1">),b=g(v),w=y(b),T=t=&gt;(t*=</span><span class="s2">2</span><span class="s1">)&lt;</span><span class="s2">1</span><span class="s1">?</span><span class="s2">.5</span><span class="s1">*b(t):</span><span class="s2">.5</span><span class="s1">*(</span><span class="s2">2</span><span class="s1">-Math.pow(</span><span class="s2">2</span><span class="s1">,-</span><span class="s2">10</span><span class="s1">*(t-</span><span class="s2">1</span><span class="s1">))),M=t=&gt;</span><span class="s2">1</span><span class="s1">-Math.sin(Math.acos(t)),V=g(M),A=y(M),S=f(</span><span class="s2">.42</span><span class="s1">,</span><span class="s2">0</span><span class="s1">,</span><span class="s2">1</span><span class="s1">,</span><span class="s2">1</span><span class="s1">),x=f(</span><span class="s2">0</span><span class="s1">,</span><span class="s2">0</span><span class="s1">,</span><span class="s2">.58</span><span class="s1">,</span><span class="s2">1</span><span class="s1">),k=f(</span><span class="s2">.42</span><span class="s1">,</span><span class="s2">0</span><span class="s1">,</span><span class="s2">.58</span><span class="s1">,</span><span class="s2">1</span><span class="s1">),C=t=&gt;Array.isArray(t)&amp;&amp;</span><span class="s4">&quot;number&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">t[</span><span class="s2">0</span><span class="s1">];</span><span class="s0">function </span><span class="s1">F(t,e){</span><span class="s0">return </span><span class="s1">C(t)?t[((t,e,n)=&gt;{</span><span class="s0">const </span><span class="s1">s=e-t;</span><span class="s0">return</span><span class="s1">((n-t)%s+s)%s+t})(</span><span class="s2">0</span><span class="s1">,t.length,e)]:t}</span><span class="s0">const </span><span class="s1">P=t=&gt;Array.isArray(t)&amp;&amp;</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t[</span><span class="s2">0</span><span class="s1">],D={linear:a,easeIn:S,easeInOut:k,easeOut:x,circIn:M,circInOut:A,circOut:V,backIn:b,backInOut:w,backOut:v,anticipate:T},E=t=&gt;{</span><span class="s0">if</span><span class="s1">(P(t)){t.length;</span><span class="s0">const</span><span class="s1">[e,n,s,i]=t;</span><span class="s0">return </span><span class="s1">f(e,n,s,i)}</span><span class="s0">return</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?D[t]:t},O=[</span><span class="s4">&quot;setup&quot;</span><span class="s1">,</span><span class="s4">&quot;read&quot;</span><span class="s1">,</span><span class="s4">&quot;resolveKeyframes&quot;</span><span class="s1">,</span><span class="s4">&quot;preUpdate&quot;</span><span class="s1">,</span><span class="s4">&quot;update&quot;</span><span class="s1">,</span><span class="s4">&quot;preRender&quot;</span><span class="s1">,</span><span class="s4">&quot;render&quot;</span><span class="s1">,</span><span class="s4">&quot;postRender&quot;</span><span class="s1">],I={value:</span><span class="s0">null</span><span class="s1">,addProjectionMetrics:</span><span class="s0">null</span><span class="s1">};</span><span class="s0">function </span><span class="s1">R(t,e){</span><span class="s0">let </span><span class="s1">s=!</span><span class="s2">1</span><span class="s1">,i=!</span><span class="s2">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">r={delta:</span><span class="s2">0</span><span class="s1">,timestamp:</span><span class="s2">0</span><span class="s1">,isProcessing:!</span><span class="s2">1</span><span class="s1">},a=()=&gt;s=!</span><span class="s2">0</span><span class="s1">,o=O.reduce((t,n)=&gt;(t[n]=</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">let </span><span class="s1">n=</span><span class="s0">new </span><span class="s1">Set,s=</span><span class="s0">new </span><span class="s1">Set,i=!</span><span class="s2">1</span><span class="s1">,r=!</span><span class="s2">1</span><span class="s1">;</span><span class="s0">const </span><span class="s1">a=</span><span class="s0">new </span><span class="s1">WeakSet;</span><span class="s0">let </span><span class="s1">o={delta:</span><span class="s2">0</span><span class="s1">,timestamp:</span><span class="s2">0</span><span class="s1">,isProcessing:!</span><span class="s2">1</span><span class="s1">},l=</span><span class="s2">0</span><span class="s1">;</span><span class="s0">function </span><span class="s1">u(e){a.has(e)&amp;&amp;(h.schedule(e),t()),l++,e(o)}</span><span class="s0">const </span><span class="s1">h={schedule:(t,e=!</span><span class="s2">1</span><span class="s1">,r=!</span><span class="s2">1</span><span class="s1">)=&gt;{</span><span class="s0">const </span><span class="s1">o=r&amp;&amp;i?n:s;</span><span class="s0">return </span><span class="s1">e&amp;&amp;a.add(t),o.has(t)||o.add(t),t},cancel:t=&gt;{s.delete(t),a.delete(t)},process:t=&gt;{o=t,i?r=!</span><span class="s2">0</span><span class="s1">:(i=!</span><span class="s2">0</span><span class="s1">,[n,s]=[s,n],n.forEach(u),e&amp;&amp;I.value&amp;&amp;I.value.frameloop[e].push(l),l=</span><span class="s2">0</span><span class="s1">,n.clear(),i=!</span><span class="s2">1</span><span class="s1">,r&amp;&amp;(r=!</span><span class="s2">1</span><span class="s1">,h.process(t)))}};</span><span class="s0">return </span><span class="s1">h}(a,e?n:</span><span class="s0">void </span><span class="s2">0</span><span class="s1">),t),{}),{setup:l,read:u,resolveKeyframes:h,preUpdate:c,update:d,preRender:p,render:m,postRender:f}=o,y=()=&gt;{</span><span class="s0">const </span><span class="s1">a=n.useManualTiming?r.timestamp:performance.now();s=!</span><span class="s2">1</span><span class="s1">,n.useManualTiming||(r.delta=i?</span><span class="s2">1e3</span><span class="s1">/</span><span class="s2">60</span><span class="s1">:Math.max(Math.min(a-r.timestamp,</span><span class="s2">40</span><span class="s1">),</span><span class="s2">1</span><span class="s1">)),r.timestamp=a,r.isProcessing=!</span><span class="s2">0</span><span class="s1">,l.process(r),u.process(r),h.process(r),c.process(r),d.process(r),p.process(r),m.process(r),f.process(r),r.isProcessing=!</span><span class="s2">1</span><span class="s1">,s&amp;&amp;e&amp;&amp;(i=!</span><span class="s2">1</span><span class="s1">,t(y))};</span><span class="s0">return</span><span class="s1">{schedule:O.reduce((e,n)=&gt;{</span><span class="s0">const </span><span class="s1">a=o[n];</span><span class="s0">return </span><span class="s1">e[n]=(e,n=!</span><span class="s2">1</span><span class="s1">,o=!</span><span class="s2">1</span><span class="s1">)=&gt;(s||(s=!</span><span class="s2">0</span><span class="s1">,i=!</span><span class="s2">0</span><span class="s1">,r.isProcessing||t(y)),a.schedule(e,n,o)),e},{}),cancel:t=&gt;{</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s2">0</span><span class="s1">;e&lt;O.length;e++)o[O[e]].cancel(t)},state:r,steps:o}}</span><span class="s0">const</span><span class="s1">{schedule:B,cancel:N,state:K,steps:j}=R(</span><span class="s4">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">requestAnimationFrame?requestAnimationFrame:a,!</span><span class="s2">0</span><span class="s1">);</span><span class="s0">let </span><span class="s1">W;</span><span class="s0">function </span><span class="s1">Y(){W=</span><span class="s0">void </span><span class="s2">0</span><span class="s1">}</span><span class="s0">const </span><span class="s1">$={now:()=&gt;(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===W&amp;&amp;$.set(K.isProcessing||n.useManualTiming?K.timestamp:performance.now()),W),set:t=&gt;{W=t,queueMicrotask(Y)}},L=t=&gt;e=&gt;</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e&amp;&amp;e.startsWith(t),U=L(</span><span class="s4">&quot;--&quot;</span><span class="s1">),X=L(</span><span class="s4">&quot;var(--&quot;</span><span class="s1">),q=t=&gt;!!X(t)&amp;&amp;z.test(t.split(</span><span class="s4">&quot;/*&quot;</span><span class="s1">)[</span><span class="s2">0</span><span class="s1">].trim()),z=</span><span class="s3">/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu</span><span class="s1">,Z={test:t=&gt;</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t,parse:parseFloat,transform:t=&gt;t},H={...Z,transform:t=&gt;e(</span><span class="s2">0</span><span class="s1">,</span><span class="s2">1</span><span class="s1">,t)},_={...Z,</span><span class="s0">default</span><span class="s1">:</span><span class="s2">1</span><span class="s1">},G=t=&gt;Math.round(</span><span class="s2">1e5</span><span class="s1">*t)/</span><span class="s2">1e5</span><span class="s1">,J=</span><span class="s3">/-?(?:\d+(?:\.\d+)?|\.\d+)/gu</span><span class="s1">;</span><span class="s0">const </span><span class="s1">Q=</span><span class="s3">/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu</span><span class="s1">,tt=(t,e)=&gt;n=&gt;Boolean(</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n&amp;&amp;Q.test(n)&amp;&amp;n.startsWith(t)||e&amp;&amp;!</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">return null</span><span class="s1">==t}(n)&amp;&amp;Object.prototype.hasOwnProperty.call(n,e)),et=(t,e,n)=&gt;s=&gt;{</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;string&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">s)</span><span class="s0">return </span><span class="s1">s;</span><span class="s0">const</span><span class="s1">[i,r,a,o]=s.match(J);</span><span class="s0">return</span><span class="s1">{[t]:parseFloat(i),[e]:parseFloat(r),[n]:parseFloat(a),alpha:</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==o?parseFloat(o):</span><span class="s2">1</span><span class="s1">}},nt={...Z,transform:t=&gt;Math.round((t=&gt;e(</span><span class="s2">0</span><span class="s1">,</span><span class="s2">255</span><span class="s1">,t))(t))},st={test:tt(</span><span class="s4">&quot;rgb&quot;</span><span class="s1">,</span><span class="s4">&quot;red&quot;</span><span class="s1">),parse:et(</span><span class="s4">&quot;red&quot;</span><span class="s1">,</span><span class="s4">&quot;green&quot;</span><span class="s1">,</span><span class="s4">&quot;blue&quot;</span><span class="s1">),transform:({red:t,green:e,blue:n,alpha:s=</span><span class="s2">1</span><span class="s1">})=&gt;</span><span class="s4">&quot;rgba(&quot;</span><span class="s1">+nt.transform(t)+</span><span class="s4">&quot;, &quot;</span><span class="s1">+nt.transform(e)+</span><span class="s4">&quot;, &quot;</span><span class="s1">+nt.transform(n)+</span><span class="s4">&quot;, &quot;</span><span class="s1">+G(H.transform(s))+</span><span class="s4">&quot;)&quot;</span><span class="s1">};</span><span class="s0">const </span><span class="s1">it={test:tt(</span><span class="s4">&quot;#&quot;</span><span class="s1">),parse:</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">let </span><span class="s1">e=</span><span class="s4">&quot;&quot;</span><span class="s1">,n=</span><span class="s4">&quot;&quot;</span><span class="s1">,s=</span><span class="s4">&quot;&quot;</span><span class="s1">,i=</span><span class="s4">&quot;&quot;</span><span class="s1">;</span><span class="s0">return </span><span class="s1">t.length&gt;</span><span class="s2">5</span><span class="s1">?(e=t.substring(</span><span class="s2">1</span><span class="s1">,</span><span class="s2">3</span><span class="s1">),n=t.substring(</span><span class="s2">3</span><span class="s1">,</span><span class="s2">5</span><span class="s1">),s=t.substring(</span><span class="s2">5</span><span class="s1">,</span><span class="s2">7</span><span class="s1">),i=t.substring(</span><span class="s2">7</span><span class="s1">,</span><span class="s2">9</span><span class="s1">)):(e=t.substring(</span><span class="s2">1</span><span class="s1">,</span><span class="s2">2</span><span class="s1">),n=t.substring(</span><span class="s2">2</span><span class="s1">,</span><span class="s2">3</span><span class="s1">),s=t.substring(</span><span class="s2">3</span><span class="s1">,</span><span class="s2">4</span><span class="s1">),i=t.substring(</span><span class="s2">4</span><span class="s1">,</span><span class="s2">5</span><span class="s1">),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,</span><span class="s2">16</span><span class="s1">),green:parseInt(n,</span><span class="s2">16</span><span class="s1">),blue:parseInt(s,</span><span class="s2">16</span><span class="s1">),alpha:i?parseInt(i,</span><span class="s2">16</span><span class="s1">)/</span><span class="s2">255</span><span class="s1">:</span><span class="s2">1</span><span class="s1">}},transform:st.transform},rt=t=&gt;({test:e=&gt;</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e&amp;&amp;e.endsWith(t)&amp;&amp;</span><span class="s2">1</span><span class="s1">===e.split(</span><span class="s4">&quot; &quot;</span><span class="s1">).length,parse:parseFloat,transform:e=&gt;</span><span class="s4">`</span><span class="s1">${e}${t}</span><span class="s4">`</span><span class="s1">}),at=rt(</span><span class="s4">&quot;deg&quot;</span><span class="s1">),ot=rt(</span><span class="s4">&quot;%&quot;</span><span class="s1">),lt=rt(</span><span class="s4">&quot;px&quot;</span><span class="s1">),ut=rt(</span><span class="s4">&quot;vh&quot;</span><span class="s1">),ht=rt(</span><span class="s4">&quot;vw&quot;</span><span class="s1">),ct=(()=&gt;({...ot,parse:t=&gt;ot.parse(t)/</span><span class="s2">100</span><span class="s1">,transform:t=&gt;ot.transform(</span><span class="s2">100</span><span class="s1">*t)}))(),dt={test:tt(</span><span class="s4">&quot;hsl&quot;</span><span class="s1">,</span><span class="s4">&quot;hue&quot;</span><span class="s1">),parse:et(</span><span class="s4">&quot;hue&quot;</span><span class="s1">,</span><span class="s4">&quot;saturation&quot;</span><span class="s1">,</span><span class="s4">&quot;lightness&quot;</span><span class="s1">),transform:({hue:t,saturation:e,lightness:n,alpha:s=</span><span class="s2">1</span><span class="s1">})=&gt;</span><span class="s4">&quot;hsla(&quot;</span><span class="s1">+Math.round(t)+</span><span class="s4">&quot;, &quot;</span><span class="s1">+ot.transform(G(e))+</span><span class="s4">&quot;, &quot;</span><span class="s1">+ot.transform(G(n))+</span><span class="s4">&quot;, &quot;</span><span class="s1">+G(H.transform(s))+</span><span class="s4">&quot;)&quot;</span><span class="s1">},pt={test:t=&gt;st.test(t)||it.test(t)||dt.test(t),parse:t=&gt;st.test(t)?st.parse(t):dt.test(t)?dt.parse(t):it.parse(t),transform:t=&gt;</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?t:t.hasOwnProperty(</span><span class="s4">&quot;red&quot;</span><span class="s1">)?st.transform(t):dt.transform(t),getAnimatableNone:t=&gt;{</span><span class="s0">const </span><span class="s1">e=pt.parse(t);</span><span class="s0">return </span><span class="s1">e.alpha=</span><span class="s2">0</span><span class="s1">,pt.transform(e)}},mt=</span><span class="s3">/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu</span><span class="s1">;</span><span class="s0">const </span><span class="s1">ft=</span><span class="s4">&quot;number&quot;</span><span class="s1">,yt=</span><span class="s4">&quot;color&quot;</span><span class="s1">,gt=</span><span class="s3">/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu</span><span class="s1">;</span><span class="s0">function </span><span class="s1">vt(t){</span><span class="s0">const </span><span class="s1">e=t.toString(),n=[],s={color:[],number:[],</span><span class="s0">var</span><span class="s1">:[]},i=[];</span><span class="s0">let </span><span class="s1">r=</span><span class="s2">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">a=e.replace(gt,t=&gt;(pt.test(t)?(s.color.push(r),i.push(yt),n.push(pt.parse(t))):t.startsWith(</span><span class="s4">&quot;var(&quot;</span><span class="s1">)?(s.var.push(r),i.push(</span><span class="s4">&quot;var&quot;</span><span class="s1">),n.push(t)):(s.number.push(r),i.push(ft),n.push(parseFloat(t))),++r,</span><span class="s4">&quot;${}&quot;</span><span class="s1">)).split(</span><span class="s4">&quot;${}&quot;</span><span class="s1">);</span><span class="s0">return</span><span class="s1">{values:n,split:a,indexes:s,types:i}}</span><span class="s0">function </span><span class="s1">bt(t){</span><span class="s0">return </span><span class="s1">vt(t).values}</span><span class="s0">function </span><span class="s1">wt(t){</span><span class="s0">const</span><span class="s1">{split:e,types:n}=vt(t),s=e.length;</span><span class="s0">return </span><span class="s1">t=&gt;{</span><span class="s0">let </span><span class="s1">i=</span><span class="s4">&quot;&quot;</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">r=</span><span class="s2">0</span><span class="s1">;r&lt;s;r++)</span><span class="s0">if</span><span class="s1">(i+=e[r],</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==t[r]){</span><span class="s0">const </span><span class="s1">e=n[r];i+=e===ft?G(t[r]):e===yt?pt.transform(t[r]):t[r]}</span><span class="s0">return </span><span class="s1">i}}</span><span class="s0">const </span><span class="s1">Tt=t=&gt;</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?</span><span class="s2">0</span><span class="s1">:pt.test(t)?pt.getAnimatableNone(t):t;</span><span class="s0">const </span><span class="s1">Mt={test:</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">return </span><span class="s1">isNaN(t)&amp;&amp;</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;(t.match(J)?.length||</span><span class="s2">0</span><span class="s1">)+(t.match(mt)?.length||</span><span class="s2">0</span><span class="s1">)&gt;</span><span class="s2">0</span><span class="s1">},parse:bt,createTransformer:wt,getAnimatableNone:</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">const </span><span class="s1">e=bt(t);</span><span class="s0">return </span><span class="s1">wt(t)(e.map(Tt))}};</span><span class="s0">function </span><span class="s1">Vt(t,e,n){</span><span class="s0">return </span><span class="s1">n&lt;</span><span class="s2">0</span><span class="s1">&amp;&amp;(n+=</span><span class="s2">1</span><span class="s1">),n&gt;</span><span class="s2">1</span><span class="s1">&amp;&amp;(n-=</span><span class="s2">1</span><span class="s1">),n&lt;</span><span class="s2">1</span><span class="s1">/</span><span class="s2">6</span><span class="s1">?t+</span><span class="s2">6</span><span class="s1">*(e-t)*n:n&lt;</span><span class="s2">.5</span><span class="s1">?e:n&lt;</span><span class="s2">2</span><span class="s1">/</span><span class="s2">3</span><span class="s1">?t+(e-t)*(</span><span class="s2">2</span><span class="s1">/</span><span class="s2">3</span><span class="s1">-n)*</span><span class="s2">6</span><span class="s1">:t}</span><span class="s0">function </span><span class="s1">At(t,e){</span><span class="s0">return </span><span class="s1">n=&gt;n&gt;</span><span class="s2">0</span><span class="s1">?e:t}</span><span class="s0">const </span><span class="s1">St=(t,e,n)=&gt;t+(e-t)*n,xt=(t,e,n)=&gt;{</span><span class="s0">const </span><span class="s1">s=t*t,i=n*(e*e-s)+s;</span><span class="s0">return </span><span class="s1">i&lt;</span><span class="s2">0</span><span class="s1">?</span><span class="s2">0</span><span class="s1">:Math.sqrt(i)},kt=[it,st,dt];</span><span class="s0">function </span><span class="s1">Ct(t){</span><span class="s0">const </span><span class="s1">e=(n=t,kt.find(t=&gt;t.test(n)));</span><span class="s0">var </span><span class="s1">n;</span><span class="s0">if</span><span class="s1">(!Boolean(e))</span><span class="s0">return</span><span class="s1">!</span><span class="s2">1</span><span class="s1">;</span><span class="s0">let </span><span class="s1">s=e.parse(t);</span><span class="s0">return </span><span class="s1">e===dt&amp;&amp;(s=</span><span class="s0">function</span><span class="s1">({hue:t,saturation:e,lightness:n,alpha:s}){t/=</span><span class="s2">360</span><span class="s1">,n/=</span><span class="s2">100</span><span class="s1">;</span><span class="s0">let </span><span class="s1">i=</span><span class="s2">0</span><span class="s1">,r=</span><span class="s2">0</span><span class="s1">,a=</span><span class="s2">0</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(e/=</span><span class="s2">100</span><span class="s1">){</span><span class="s0">const </span><span class="s1">s=n&lt;</span><span class="s2">.5</span><span class="s1">?n*(</span><span class="s2">1</span><span class="s1">+e):n+e-n*e,o=</span><span class="s2">2</span><span class="s1">*n-s;i=Vt(o,s,t+</span><span class="s2">1</span><span class="s1">/</span><span class="s2">3</span><span class="s1">),r=Vt(o,s,t),a=Vt(o,s,t-</span><span class="s2">1</span><span class="s1">/</span><span class="s2">3</span><span class="s1">)}</span><span class="s0">else </span><span class="s1">i=r=a=n;</span><span class="s0">return</span><span class="s1">{red:Math.round(</span><span class="s2">255</span><span class="s1">*i),green:Math.round(</span><span class="s2">255</span><span class="s1">*r),blue:Math.round(</span><span class="s2">255</span><span class="s1">*a),alpha:s}}(s)),s}</span><span class="s0">const </span><span class="s1">Ft=(t,e)=&gt;{</span><span class="s0">const </span><span class="s1">n=Ct(t),s=Ct(e);</span><span class="s0">if</span><span class="s1">(!n||!s)</span><span class="s0">return </span><span class="s1">At(t,e);</span><span class="s0">const </span><span class="s1">i={...n};</span><span class="s0">return </span><span class="s1">t=&gt;(i.red=xt(n.red,s.red,t),i.green=xt(n.green,s.green,t),i.blue=xt(n.blue,s.blue,t),i.alpha=St(n.alpha,s.alpha,t),st.transform(i))},Pt=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s4">&quot;none&quot;</span><span class="s1">,</span><span class="s4">&quot;hidden&quot;</span><span class="s1">]);</span><span class="s0">function </span><span class="s1">Dt(t,e){</span><span class="s0">return </span><span class="s1">n=&gt;St(t,e,n)}</span><span class="s0">function </span><span class="s1">Et(t){</span><span class="s0">return</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?Dt:</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?q(t)?At:pt.test(t)?Ft:Rt:Array.isArray(t)?Ot:</span><span class="s4">&quot;object&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?pt.test(t)?Ft:It:At}</span><span class="s0">function </span><span class="s1">Ot(t,e){</span><span class="s0">const </span><span class="s1">n=[...t],s=n.length,i=t.map((t,n)=&gt;Et(t)(t,e[n]));</span><span class="s0">return </span><span class="s1">t=&gt;{</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s2">0</span><span class="s1">;e&lt;s;e++)n[e]=i[e](t);</span><span class="s0">return </span><span class="s1">n}}</span><span class="s0">function </span><span class="s1">It(t,e){</span><span class="s0">const </span><span class="s1">n={...t,...e},s={};</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">i </span><span class="s0">in </span><span class="s1">n)</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==t[i]&amp;&amp;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==e[i]&amp;&amp;(s[i]=Et(t[i])(t[i],e[i]));</span><span class="s0">return </span><span class="s1">t=&gt;{</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">e </span><span class="s0">in </span><span class="s1">s)n[e]=s[e](t);</span><span class="s0">return </span><span class="s1">n}}</span><span class="s0">const </span><span class="s1">Rt=(t,e)=&gt;{</span><span class="s0">const </span><span class="s1">n=Mt.createTransformer(e),s=vt(t),i=vt(e);</span><span class="s0">return </span><span class="s1">s.indexes.var.length===i.indexes.var.length&amp;&amp;s.indexes.color.length===i.indexes.color.length&amp;&amp;s.indexes.number.length&gt;=i.indexes.number.length?Pt.has(t)&amp;&amp;!i.values.length||Pt.has(e)&amp;&amp;!s.values.length?</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">return </span><span class="s1">Pt.has(t)?n=&gt;n&lt;=</span><span class="s2">0</span><span class="s1">?t:e:n=&gt;n&gt;=</span><span class="s2">1</span><span class="s1">?e:t}(t,e):l(Ot(</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">const </span><span class="s1">n=[],s={color:</span><span class="s2">0</span><span class="s1">,</span><span class="s0">var</span><span class="s1">:</span><span class="s2">0</span><span class="s1">,number:</span><span class="s2">0</span><span class="s1">};</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">i=</span><span class="s2">0</span><span class="s1">;i&lt;e.values.length;i++){</span><span class="s0">const </span><span class="s1">r=e.types[i],a=t.indexes[r][s[r]],o=t.values[a]??</span><span class="s2">0</span><span class="s1">;n[i]=o,s[r]++}</span><span class="s0">return </span><span class="s1">n}(s,i),i.values),n):At(t,e)};</span><span class="s0">function </span><span class="s1">Bt(t,e,n){</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e&amp;&amp;</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n)</span><span class="s0">return </span><span class="s1">St(t,e,n);</span><span class="s0">return </span><span class="s1">Et(t)(t,e)}</span><span class="s0">const </span><span class="s1">Nt=t=&gt;{</span><span class="s0">const </span><span class="s1">e=({timestamp:e})=&gt;t(e);</span><span class="s0">return</span><span class="s1">{start:(t=!</span><span class="s2">0</span><span class="s1">)=&gt;B.update(e,t),stop:()=&gt;N(e),now:()=&gt;K.isProcessing?K.timestamp:$.now()}},Kt=(t,e,n=</span><span class="s2">10</span><span class="s1">)=&gt;{</span><span class="s0">let </span><span class="s1">s=</span><span class="s4">&quot;&quot;</span><span class="s1">;</span><span class="s0">const </span><span class="s1">i=Math.max(Math.round(e/n),</span><span class="s2">2</span><span class="s1">);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s2">0</span><span class="s1">;e&lt;i;e++)s+=Math.round(</span><span class="s2">1e4</span><span class="s1">*t(e/(i-</span><span class="s2">1</span><span class="s1">)))/</span><span class="s2">1e4</span><span class="s1">+</span><span class="s4">&quot;, &quot;</span><span class="s1">;</span><span class="s0">return</span><span class="s4">`linear(</span><span class="s1">${s.substring(</span><span class="s2">0</span><span class="s1">,s.length-</span><span class="s2">2</span><span class="s1">)}</span><span class="s4">)`</span><span class="s1">},jt=</span><span class="s2">2e4</span><span class="s1">;</span><span class="s0">function </span><span class="s1">Wt(t){</span><span class="s0">let </span><span class="s1">e=</span><span class="s2">0</span><span class="s1">;</span><span class="s0">let </span><span class="s1">n=t.next(e);</span><span class="s0">for</span><span class="s1">(;!n.done&amp;&amp;e&lt;jt;)e+=</span><span class="s2">50</span><span class="s1">,n=t.next(e);</span><span class="s0">return </span><span class="s1">e&gt;=jt?</span><span class="s2">1</span><span class="s1">/</span><span class="s2">0</span><span class="s1">:e}</span><span class="s0">function </span><span class="s1">Yt(t,e=</span><span class="s2">100</span><span class="s1">,n){</span><span class="s0">const </span><span class="s1">s=n({...t,keyframes:[</span><span class="s2">0</span><span class="s1">,e]}),i=Math.min(Wt(s),jt);</span><span class="s0">return</span><span class="s1">{type:</span><span class="s4">&quot;keyframes&quot;</span><span class="s1">,ease:t=&gt;s.next(i*t).value/e,duration:d(i)}}</span><span class="s0">function </span><span class="s1">$t(t,e,n){</span><span class="s0">const </span><span class="s1">s=Math.max(e-</span><span class="s2">5</span><span class="s1">,</span><span class="s2">0</span><span class="s1">);</span><span class="s0">return </span><span class="s1">p(n-t(s),e-s)}</span><span class="s0">const </span><span class="s1">Lt=</span><span class="s2">100</span><span class="s1">,Ut=</span><span class="s2">10</span><span class="s1">,Xt=</span><span class="s2">1</span><span class="s1">,qt=</span><span class="s2">0</span><span class="s1">,zt=</span><span class="s2">800</span><span class="s1">,Zt=</span><span class="s2">.3</span><span class="s1">,Ht=</span><span class="s2">.3</span><span class="s1">,_t={granular:</span><span class="s2">.01</span><span class="s1">,</span><span class="s0">default</span><span class="s1">:</span><span class="s2">2</span><span class="s1">},Gt={granular:</span><span class="s2">.005</span><span class="s1">,</span><span class="s0">default</span><span class="s1">:</span><span class="s2">.5</span><span class="s1">},Jt=</span><span class="s2">.01</span><span class="s1">,Qt=</span><span class="s2">10</span><span class="s1">,te=</span><span class="s2">.05</span><span class="s1">,ee=</span><span class="s2">1</span><span class="s1">,ne=</span><span class="s2">.001</span><span class="s1">;</span><span class="s0">function </span><span class="s1">se({duration:t=zt,bounce:n=Zt,velocity:s=qt,mass:i=Xt}){</span><span class="s0">let </span><span class="s1">r,a,o=</span><span class="s2">1</span><span class="s1">-n;o=e(te,ee,o),t=e(Jt,Qt,d(t)),o&lt;</span><span class="s2">1</span><span class="s1">?(r=e=&gt;{</span><span class="s0">const </span><span class="s1">n=e*o,i=n*t,r=n-s,a=re(e,o),l=Math.exp(-i);</span><span class="s0">return </span><span class="s1">ne-r/a*l},a=e=&gt;{</span><span class="s0">const </span><span class="s1">n=e*o*t,i=n*s+s,a=Math.pow(o,</span><span class="s2">2</span><span class="s1">)*Math.pow(e,</span><span class="s2">2</span><span class="s1">)*t,l=Math.exp(-n),u=re(Math.pow(e,</span><span class="s2">2</span><span class="s1">),o);</span><span class="s0">return</span><span class="s1">(-r(e)+ne&gt;</span><span class="s2">0</span><span class="s1">?-</span><span class="s2">1</span><span class="s1">:</span><span class="s2">1</span><span class="s1">)*((i-a)*l)/u}):(r=e=&gt;Math.exp(-e*t)*((e-s)*t+</span><span class="s2">1</span><span class="s1">)-</span><span class="s2">.001</span><span class="s1">,a=e=&gt;Math.exp(-e*t)*(t*t*(s-e)));</span><span class="s0">const </span><span class="s1">l=</span><span class="s0">function</span><span class="s1">(t,e,n){</span><span class="s0">let </span><span class="s1">s=n;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">1</span><span class="s1">;n&lt;ie;n++)s-=t(s)/e(s);</span><span class="s0">return </span><span class="s1">s}(r,a,</span><span class="s2">5</span><span class="s1">/t);</span><span class="s0">if</span><span class="s1">(t=c(t),isNaN(l))</span><span class="s0">return</span><span class="s1">{stiffness:Lt,damping:Ut,duration:t};{</span><span class="s0">const </span><span class="s1">e=Math.pow(l,</span><span class="s2">2</span><span class="s1">)*i;</span><span class="s0">return</span><span class="s1">{stiffness:e,damping:</span><span class="s2">2</span><span class="s1">*o*Math.sqrt(i*e),duration:t}}}</span><span class="s0">const </span><span class="s1">ie=</span><span class="s2">12</span><span class="s1">;</span><span class="s0">function </span><span class="s1">re(t,e){</span><span class="s0">return </span><span class="s1">t*Math.sqrt(</span><span class="s2">1</span><span class="s1">-e*e)}</span><span class="s0">const </span><span class="s1">ae=[</span><span class="s4">&quot;duration&quot;</span><span class="s1">,</span><span class="s4">&quot;bounce&quot;</span><span class="s1">],oe=[</span><span class="s4">&quot;stiffness&quot;</span><span class="s1">,</span><span class="s4">&quot;damping&quot;</span><span class="s1">,</span><span class="s4">&quot;mass&quot;</span><span class="s1">];</span><span class="s0">function </span><span class="s1">le(t,e){</span><span class="s0">return </span><span class="s1">e.some(e=&gt;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==t[e])}</span><span class="s0">function </span><span class="s1">ue(t=Ht,n=Zt){</span><span class="s0">const </span><span class="s1">s=</span><span class="s4">&quot;object&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">t?{visualDuration:t,keyframes:[</span><span class="s2">0</span><span class="s1">,</span><span class="s2">1</span><span class="s1">],bounce:n}:t;</span><span class="s0">let</span><span class="s1">{restSpeed:i,restDelta:r}=s;</span><span class="s0">const </span><span class="s1">a=s.keyframes[</span><span class="s2">0</span><span class="s1">],o=s.keyframes[s.keyframes.length-</span><span class="s2">1</span><span class="s1">],l={done:!</span><span class="s2">1</span><span class="s1">,value:a},{stiffness:u,damping:h,mass:p,duration:m,velocity:f,isResolvedFromDuration:y}=</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">let </span><span class="s1">n={velocity:qt,stiffness:Lt,damping:Ut,mass:Xt,isResolvedFromDuration:!</span><span class="s2">1</span><span class="s1">,...t};</span><span class="s0">if</span><span class="s1">(!le(t,oe)&amp;&amp;le(t,ae))</span><span class="s0">if</span><span class="s1">(t.visualDuration){</span><span class="s0">const </span><span class="s1">s=t.visualDuration,i=</span><span class="s2">2</span><span class="s1">*Math.PI/(</span><span class="s2">1.2</span><span class="s1">*s),r=i*i,a=</span><span class="s2">2</span><span class="s1">*e(</span><span class="s2">.05</span><span class="s1">,</span><span class="s2">1</span><span class="s1">,</span><span class="s2">1</span><span class="s1">-(t.bounce||</span><span class="s2">0</span><span class="s1">))*Math.sqrt(r);n={...n,mass:Xt,stiffness:r,damping:a}}</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">e=se(t);n={...n,...e,mass:Xt},n.isResolvedFromDuration=!</span><span class="s2">0</span><span class="s1">}</span><span class="s0">return </span><span class="s1">n}({...s,velocity:-d(s.velocity||</span><span class="s2">0</span><span class="s1">)}),g=f||</span><span class="s2">0</span><span class="s1">,v=h/(</span><span class="s2">2</span><span class="s1">*Math.sqrt(u*p)),b=o-a,w=d(Math.sqrt(u/p)),T=Math.abs(b)&lt;</span><span class="s2">5</span><span class="s1">;</span><span class="s0">let </span><span class="s1">M;</span><span class="s0">if</span><span class="s1">(i||(i=T?_t.granular:_t.default),r||(r=T?Gt.granular:Gt.default),v&lt;</span><span class="s2">1</span><span class="s1">){</span><span class="s0">const </span><span class="s1">t=re(w,v);M=e=&gt;{</span><span class="s0">const </span><span class="s1">n=Math.exp(-v*w*e);</span><span class="s0">return </span><span class="s1">o-n*((g+v*w*b)/t*Math.sin(t*e)+b*Math.cos(t*e))}}</span><span class="s0">else if</span><span class="s1">(</span><span class="s2">1</span><span class="s1">===v)M=t=&gt;o-Math.exp(-w*t)*(b+(g+w*b)*t);</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">t=w*Math.sqrt(v*v-</span><span class="s2">1</span><span class="s1">);M=e=&gt;{</span><span class="s0">const </span><span class="s1">n=Math.exp(-v*w*e),s=Math.min(t*e,</span><span class="s2">300</span><span class="s1">);</span><span class="s0">return </span><span class="s1">o-n*((g+v*w*b)*Math.sinh(s)+t*b*Math.cosh(s))/t}}</span><span class="s0">const </span><span class="s1">V={calculatedDuration:y&amp;&amp;m||</span><span class="s0">null</span><span class="s1">,next:t=&gt;{</span><span class="s0">const </span><span class="s1">e=M(t);</span><span class="s0">if</span><span class="s1">(y)l.done=t&gt;=m;</span><span class="s0">else</span><span class="s1">{</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">0</span><span class="s1">===t?g:</span><span class="s2">0</span><span class="s1">;v&lt;</span><span class="s2">1</span><span class="s1">&amp;&amp;(n=</span><span class="s2">0</span><span class="s1">===t?c(g):$t(M,t,e));</span><span class="s0">const </span><span class="s1">s=Math.abs(n)&lt;=i,a=Math.abs(o-e)&lt;=r;l.done=s&amp;&amp;a}</span><span class="s0">return </span><span class="s1">l.value=l.done?o:e,l},toString:()=&gt;{</span><span class="s0">const </span><span class="s1">t=Math.min(Wt(V),jt),e=Kt(e=&gt;V.next(t*e).value,t,</span><span class="s2">30</span><span class="s1">);</span><span class="s0">return </span><span class="s1">t+</span><span class="s4">&quot;ms &quot;</span><span class="s1">+e},toTransition:()=&gt;{}};</span><span class="s0">return </span><span class="s1">V}</span><span class="s0">function </span><span class="s1">he({keyframes:t,velocity:e=</span><span class="s2">0</span><span class="s1">,power:n=</span><span class="s2">.8</span><span class="s1">,timeConstant:s=</span><span class="s2">325</span><span class="s1">,bounceDamping:i=</span><span class="s2">10</span><span class="s1">,bounceStiffness:r=</span><span class="s2">500</span><span class="s1">,modifyTarget:a,min:o,max:l,restDelta:u=</span><span class="s2">.5</span><span class="s1">,restSpeed:h}){</span><span class="s0">const </span><span class="s1">c=t[</span><span class="s2">0</span><span class="s1">],d={done:!</span><span class="s2">1</span><span class="s1">,value:c},p=t=&gt;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===o?l:</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===l||Math.abs(o-t)&lt;Math.abs(l-t)?o:l;</span><span class="s0">let </span><span class="s1">m=n*e;</span><span class="s0">const </span><span class="s1">f=c+m,y=</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===a?f:a(f);y!==f&amp;&amp;(m=y-c);</span><span class="s0">const </span><span class="s1">g=t=&gt;-m*Math.exp(-t/s),v=t=&gt;y+g(t),b=t=&gt;{</span><span class="s0">const </span><span class="s1">e=g(t),n=v(t);d.done=Math.abs(e)&lt;=u,d.value=d.done?y:n};</span><span class="s0">let </span><span class="s1">w,T;</span><span class="s0">const </span><span class="s1">M=t=&gt;{</span><span class="s0">var </span><span class="s1">e;(e=d.value,</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==o&amp;&amp;e&lt;o||</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==l&amp;&amp;e&gt;l)&amp;&amp;(w=t,T=ue({keyframes:[d.value,p(d.value)],velocity:$t(v,t,d.value),damping:i,stiffness:r,restDelta:u,restSpeed:h}))};</span><span class="s0">return </span><span class="s1">M(</span><span class="s2">0</span><span class="s1">),{calculatedDuration:</span><span class="s0">null</span><span class="s1">,next:t=&gt;{</span><span class="s0">let </span><span class="s1">e=!</span><span class="s2">1</span><span class="s1">;</span><span class="s0">return </span><span class="s1">T||</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==w||(e=!</span><span class="s2">0</span><span class="s1">,b(t),M(t)),</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==w&amp;&amp;t&gt;=w?T.next(t-w):(!e&amp;&amp;b(t),d)}}}</span><span class="s0">function </span><span class="s1">ce(t,s,{clamp:i=!</span><span class="s2">0</span><span class="s1">,ease:r,mixer:o}={}){</span><span class="s0">const </span><span class="s1">h=t.length;</span><span class="s0">if</span><span class="s1">(s.length,</span><span class="s2">1</span><span class="s1">===h)</span><span class="s0">return</span><span class="s1">()=&gt;s[</span><span class="s2">0</span><span class="s1">];</span><span class="s0">if</span><span class="s1">(</span><span class="s2">2</span><span class="s1">===h&amp;&amp;s[</span><span class="s2">0</span><span class="s1">]===s[</span><span class="s2">1</span><span class="s1">])</span><span class="s0">return</span><span class="s1">()=&gt;s[</span><span class="s2">1</span><span class="s1">];</span><span class="s0">const </span><span class="s1">c=t[</span><span class="s2">0</span><span class="s1">]===t[</span><span class="s2">1</span><span class="s1">];t[</span><span class="s2">0</span><span class="s1">]&gt;t[h-</span><span class="s2">1</span><span class="s1">]&amp;&amp;(t=[...t].reverse(),s=[...s].reverse());</span><span class="s0">const </span><span class="s1">d=</span><span class="s0">function</span><span class="s1">(t,e,s){</span><span class="s0">const </span><span class="s1">i=[],r=s||n.mix||Bt,o=t.length-</span><span class="s2">1</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">0</span><span class="s1">;n&lt;o;n++){</span><span class="s0">let </span><span class="s1">s=r(t[n],t[n+</span><span class="s2">1</span><span class="s1">]);</span><span class="s0">if</span><span class="s1">(e){</span><span class="s0">const </span><span class="s1">t=Array.isArray(e)?e[n]||a:e;s=l(t,s)}i.push(s)}</span><span class="s0">return </span><span class="s1">i}(s,r,o),p=d.length,m=e=&gt;{</span><span class="s0">if</span><span class="s1">(c&amp;&amp;e&lt;t[</span><span class="s2">0</span><span class="s1">])</span><span class="s0">return </span><span class="s1">s[</span><span class="s2">0</span><span class="s1">];</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">0</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(p&gt;</span><span class="s2">1</span><span class="s1">)</span><span class="s0">for</span><span class="s1">(;n&lt;t.length-</span><span class="s2">2</span><span class="s1">&amp;&amp;!(e&lt;t[n+</span><span class="s2">1</span><span class="s1">]);n++);</span><span class="s0">const </span><span class="s1">i=u(t[n],t[n+</span><span class="s2">1</span><span class="s1">],e);</span><span class="s0">return </span><span class="s1">d[n](i)};</span><span class="s0">return </span><span class="s1">i?n=&gt;m(e(t[</span><span class="s2">0</span><span class="s1">],t[h-</span><span class="s2">1</span><span class="s1">],n)):m}</span><span class="s0">function </span><span class="s1">de(t,e){</span><span class="s0">const </span><span class="s1">n=t[t.length-</span><span class="s2">1</span><span class="s1">];</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">s=</span><span class="s2">1</span><span class="s1">;s&lt;=e;s++){</span><span class="s0">const </span><span class="s1">i=u(</span><span class="s2">0</span><span class="s1">,e,s);t.push(St(n,</span><span class="s2">1</span><span class="s1">,i))}}</span><span class="s0">function </span><span class="s1">pe(t){</span><span class="s0">const </span><span class="s1">e=[</span><span class="s2">0</span><span class="s1">];</span><span class="s0">return </span><span class="s1">de(e,t.length-</span><span class="s2">1</span><span class="s1">),e}</span><span class="s0">function </span><span class="s1">me({duration:t=</span><span class="s2">300</span><span class="s1">,keyframes:e,times:n,ease:s=</span><span class="s4">&quot;easeInOut&quot;</span><span class="s1">}){</span><span class="s0">const </span><span class="s1">i=C(s)?s.map(E):E(s),r={done:!</span><span class="s2">1</span><span class="s1">,value:e[</span><span class="s2">0</span><span class="s1">]},a=</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">return </span><span class="s1">t.map(t=&gt;t*e)}(n&amp;&amp;n.length===e.length?n:pe(e),t),o=ce(a,e,{ease:Array.isArray(i)?i:(l=e,u=i,l.map(()=&gt;u||k).splice(</span><span class="s2">0</span><span class="s1">,l.length-</span><span class="s2">1</span><span class="s1">))});</span><span class="s0">var </span><span class="s1">l,u;</span><span class="s0">return</span><span class="s1">{calculatedDuration:t,next:e=&gt;(r.value=o(e),r.done=e&gt;=t,r)}}ue.applyToOptions=t=&gt;{</span><span class="s0">const </span><span class="s1">e=Yt(t,</span><span class="s2">100</span><span class="s1">,ue);</span><span class="s0">return </span><span class="s1">t.ease=e.ease,t.duration=c(e.duration),t.type=</span><span class="s4">&quot;keyframes&quot;</span><span class="s1">,t};</span><span class="s0">const </span><span class="s1">fe=t=&gt;</span><span class="s0">null</span><span class="s1">!==t;</span><span class="s0">function </span><span class="s1">ye(t,{repeat:e,repeatType:n=</span><span class="s4">&quot;loop&quot;</span><span class="s1">},s,i=</span><span class="s2">1</span><span class="s1">){</span><span class="s0">const </span><span class="s1">r=t.filter(fe),a=i&lt;</span><span class="s2">0</span><span class="s1">||e&amp;&amp;</span><span class="s4">&quot;loop&quot;</span><span class="s1">!==n&amp;&amp;e%</span><span class="s2">2</span><span class="s1">==</span><span class="s2">1</span><span class="s1">?</span><span class="s2">0</span><span class="s1">:r.length-</span><span class="s2">1</span><span class="s1">;</span><span class="s0">return </span><span class="s1">a&amp;&amp;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==s?s:r[a]}</span><span class="s0">const </span><span class="s1">ge={decay:he,inertia:he,tween:me,keyframes:me,spring:ue};</span><span class="s0">function </span><span class="s1">ve(t){</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t.type&amp;&amp;(t.type=ge[t.type])}</span><span class="s0">class </span><span class="s1">be{constructor(){</span><span class="s0">this</span><span class="s1">.updateFinished()}get finished(){</span><span class="s0">return this</span><span class="s1">._finished}updateFinished(){</span><span class="s0">this</span><span class="s1">._finished=</span><span class="s0">new </span><span class="s1">Promise(t=&gt;{</span><span class="s0">this</span><span class="s1">.resolve=t})}notifyFinished(){</span><span class="s0">this</span><span class="s1">.resolve()}then(t,e){</span><span class="s0">return this</span><span class="s1">.finished.then(t,e)}}</span><span class="s0">const </span><span class="s1">we=t=&gt;t/</span><span class="s2">100</span><span class="s1">;</span><span class="s0">class </span><span class="s1">Te </span><span class="s0">extends </span><span class="s1">be{constructor(t){</span><span class="s0">super</span><span class="s1">(),</span><span class="s0">this</span><span class="s1">.state=</span><span class="s4">&quot;idle&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.startTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isStopped=!</span><span class="s2">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.currentTime=</span><span class="s2">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.playbackSpeed=</span><span class="s2">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.stop=()=&gt;{</span><span class="s0">const</span><span class="s1">{motionValue:t}=</span><span class="s0">this</span><span class="s1">.options;t&amp;&amp;t.updatedAt!==$.now()&amp;&amp;</span><span class="s0">this</span><span class="s1">.tick($.now()),</span><span class="s0">this</span><span class="s1">.isStopped=!</span><span class="s2">0</span><span class="s1">,</span><span class="s4">&quot;idle&quot;</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.state&amp;&amp;(</span><span class="s0">this</span><span class="s1">.teardown(),</span><span class="s0">this</span><span class="s1">.options.onStop?.())},</span><span class="s0">this</span><span class="s1">.options=t,</span><span class="s0">this</span><span class="s1">.initAnimation(),</span><span class="s0">this</span><span class="s1">.play(),!</span><span class="s2">1</span><span class="s1">===t.autoplay&amp;&amp;</span><span class="s0">this</span><span class="s1">.pause()}initAnimation(){</span><span class="s0">const</span><span class="s1">{options:t}=</span><span class="s0">this</span><span class="s1">;ve(t);</span><span class="s0">const</span><span class="s1">{type:e=me,repeat:n=</span><span class="s2">0</span><span class="s1">,repeatDelay:s=</span><span class="s2">0</span><span class="s1">,repeatType:i,velocity:r=</span><span class="s2">0</span><span class="s1">}=t;</span><span class="s0">let</span><span class="s1">{keyframes:a}=t;</span><span class="s0">const </span><span class="s1">o=e||me;o!==me&amp;&amp;</span><span class="s4">&quot;number&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">a[</span><span class="s2">0</span><span class="s1">]&amp;&amp;(</span><span class="s0">this</span><span class="s1">.mixKeyframes=l(we,Bt(a[</span><span class="s2">0</span><span class="s1">],a[</span><span class="s2">1</span><span class="s1">])),a=[</span><span class="s2">0</span><span class="s1">,</span><span class="s2">100</span><span class="s1">]);</span><span class="s0">const </span><span class="s1">u=o({...t,keyframes:a});</span><span class="s4">&quot;mirror&quot;</span><span class="s1">===i&amp;&amp;(</span><span class="s0">this</span><span class="s1">.mirroredGenerator=o({...t,keyframes:[...a].reverse(),velocity:-r})),</span><span class="s0">null</span><span class="s1">===u.calculatedDuration&amp;&amp;(u.calculatedDuration=Wt(u));</span><span class="s0">const</span><span class="s1">{calculatedDuration:h}=u;</span><span class="s0">this</span><span class="s1">.calculatedDuration=h,</span><span class="s0">this</span><span class="s1">.resolvedDuration=h+s,</span><span class="s0">this</span><span class="s1">.totalDuration=</span><span class="s0">this</span><span class="s1">.resolvedDuration*(n+</span><span class="s2">1</span><span class="s1">)-s,</span><span class="s0">this</span><span class="s1">.generator=u}updateTime(t){</span><span class="s0">const </span><span class="s1">e=Math.round(t-</span><span class="s0">this</span><span class="s1">.startTime)*</span><span class="s0">this</span><span class="s1">.playbackSpeed;</span><span class="s0">null</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.holdTime?</span><span class="s0">this</span><span class="s1">.currentTime=</span><span class="s0">this</span><span class="s1">.holdTime:</span><span class="s0">this</span><span class="s1">.currentTime=e}tick(t,n=!</span><span class="s2">1</span><span class="s1">){</span><span class="s0">const</span><span class="s1">{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=</span><span class="s0">this</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.startTime)</span><span class="s0">return </span><span class="s1">s.next(</span><span class="s2">0</span><span class="s1">);</span><span class="s0">const</span><span class="s1">{delay:u=</span><span class="s2">0</span><span class="s1">,keyframes:h,repeat:c,repeatType:d,repeatDelay:p,type:m,onUpdate:f,finalKeyframe:y}=</span><span class="s0">this</span><span class="s1">.options;</span><span class="s0">this</span><span class="s1">.speed&gt;</span><span class="s2">0</span><span class="s1">?</span><span class="s0">this</span><span class="s1">.startTime=Math.min(</span><span class="s0">this</span><span class="s1">.startTime,t):</span><span class="s0">this</span><span class="s1">.speed&lt;</span><span class="s2">0</span><span class="s1">&amp;&amp;(</span><span class="s0">this</span><span class="s1">.startTime=Math.min(t-i/</span><span class="s0">this</span><span class="s1">.speed,</span><span class="s0">this</span><span class="s1">.startTime)),n?</span><span class="s0">this</span><span class="s1">.currentTime=t:</span><span class="s0">this</span><span class="s1">.updateTime(t);</span><span class="s0">const </span><span class="s1">g=</span><span class="s0">this</span><span class="s1">.currentTime-u*(</span><span class="s0">this</span><span class="s1">.playbackSpeed&gt;=</span><span class="s2">0</span><span class="s1">?</span><span class="s2">1</span><span class="s1">:-</span><span class="s2">1</span><span class="s1">),v=</span><span class="s0">this</span><span class="s1">.playbackSpeed&gt;=</span><span class="s2">0</span><span class="s1">?g&lt;</span><span class="s2">0</span><span class="s1">:g&gt;i;</span><span class="s0">this</span><span class="s1">.currentTime=Math.max(g,</span><span class="s2">0</span><span class="s1">),</span><span class="s4">&quot;finished&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.holdTime&amp;&amp;(</span><span class="s0">this</span><span class="s1">.currentTime=i);</span><span class="s0">let </span><span class="s1">b=</span><span class="s0">this</span><span class="s1">.currentTime,w=s;</span><span class="s0">if</span><span class="s1">(c){</span><span class="s0">const </span><span class="s1">t=Math.min(</span><span class="s0">this</span><span class="s1">.currentTime,i)/o;</span><span class="s0">let </span><span class="s1">n=Math.floor(t),s=t%</span><span class="s2">1</span><span class="s1">;!s&amp;&amp;t&gt;=</span><span class="s2">1</span><span class="s1">&amp;&amp;(s=</span><span class="s2">1</span><span class="s1">),</span><span class="s2">1</span><span class="s1">===s&amp;&amp;n--,n=Math.min(n,c+</span><span class="s2">1</span><span class="s1">);Boolean(n%</span><span class="s2">2</span><span class="s1">)&amp;&amp;(</span><span class="s4">&quot;reverse&quot;</span><span class="s1">===d?(s=</span><span class="s2">1</span><span class="s1">-s,p&amp;&amp;(s-=p/o)):</span><span class="s4">&quot;mirror&quot;</span><span class="s1">===d&amp;&amp;(w=a)),b=e(</span><span class="s2">0</span><span class="s1">,</span><span class="s2">1</span><span class="s1">,s)*o}</span><span class="s0">const </span><span class="s1">T=v?{done:!</span><span class="s2">1</span><span class="s1">,value:h[</span><span class="s2">0</span><span class="s1">]}:w.next(b);r&amp;&amp;(T.value=r(T.value));</span><span class="s0">let</span><span class="s1">{done:M}=T;v||</span><span class="s0">null</span><span class="s1">===l||(M=</span><span class="s0">this</span><span class="s1">.playbackSpeed&gt;=</span><span class="s2">0</span><span class="s1">?</span><span class="s0">this</span><span class="s1">.currentTime&gt;=i:</span><span class="s0">this</span><span class="s1">.currentTime&lt;=</span><span class="s2">0</span><span class="s1">);</span><span class="s0">const </span><span class="s1">V=</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.holdTime&amp;&amp;(</span><span class="s4">&quot;finished&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state||</span><span class="s4">&quot;running&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;M);</span><span class="s0">return </span><span class="s1">V&amp;&amp;m!==he&amp;&amp;(T.value=ye(h,</span><span class="s0">this</span><span class="s1">.options,y,</span><span class="s0">this</span><span class="s1">.speed)),f&amp;&amp;f(T.value),V&amp;&amp;</span><span class="s0">this</span><span class="s1">.finish(),T}then(t,e){</span><span class="s0">return this</span><span class="s1">.finished.then(t,e)}get duration(){</span><span class="s0">return </span><span class="s1">d(</span><span class="s0">this</span><span class="s1">.calculatedDuration)}get iterationDuration(){</span><span class="s0">const</span><span class="s1">{delay:t=</span><span class="s2">0</span><span class="s1">}=</span><span class="s0">this</span><span class="s1">.options||{};</span><span class="s0">return this</span><span class="s1">.duration+d(t)}get time(){</span><span class="s0">return </span><span class="s1">d(</span><span class="s0">this</span><span class="s1">.currentTime)}set time(t){t=c(t),</span><span class="s0">this</span><span class="s1">.currentTime=t,</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.startTime||</span><span class="s0">null</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.holdTime||</span><span class="s2">0</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.playbackSpeed?</span><span class="s0">this</span><span class="s1">.holdTime=t:</span><span class="s0">this</span><span class="s1">.driver&amp;&amp;(</span><span class="s0">this</span><span class="s1">.startTime=</span><span class="s0">this</span><span class="s1">.driver.now()-t/</span><span class="s0">this</span><span class="s1">.playbackSpeed),</span><span class="s0">this</span><span class="s1">.driver?.start(!</span><span class="s2">1</span><span class="s1">)}get speed(){</span><span class="s0">return this</span><span class="s1">.playbackSpeed}set speed(t){</span><span class="s0">this</span><span class="s1">.updateTime($.now());</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.playbackSpeed!==t;</span><span class="s0">this</span><span class="s1">.playbackSpeed=t,e&amp;&amp;(</span><span class="s0">this</span><span class="s1">.time=d(</span><span class="s0">this</span><span class="s1">.currentTime))}play(){</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.isStopped)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{driver:t=Nt,startTime:e}=</span><span class="s0">this</span><span class="s1">.options;</span><span class="s0">this</span><span class="s1">.driver||(</span><span class="s0">this</span><span class="s1">.driver=t(t=&gt;</span><span class="s0">this</span><span class="s1">.tick(t))),</span><span class="s0">this</span><span class="s1">.options.onPlay?.();</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.driver.now();</span><span class="s4">&quot;finished&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state?(</span><span class="s0">this</span><span class="s1">.updateFinished(),</span><span class="s0">this</span><span class="s1">.startTime=n):</span><span class="s0">null</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.holdTime?</span><span class="s0">this</span><span class="s1">.startTime=n-</span><span class="s0">this</span><span class="s1">.holdTime:</span><span class="s0">this</span><span class="s1">.startTime||(</span><span class="s0">this</span><span class="s1">.startTime=e??n),</span><span class="s4">&quot;finished&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;</span><span class="s0">this</span><span class="s1">.speed&lt;</span><span class="s2">0</span><span class="s1">&amp;&amp;(</span><span class="s0">this</span><span class="s1">.startTime+=</span><span class="s0">this</span><span class="s1">.calculatedDuration),</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.state=</span><span class="s4">&quot;running&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.driver.start()}pause(){</span><span class="s0">this</span><span class="s1">.state=</span><span class="s4">&quot;paused&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.updateTime($.now()),</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">this</span><span class="s1">.currentTime}complete(){</span><span class="s4">&quot;running&quot;</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.state&amp;&amp;</span><span class="s0">this</span><span class="s1">.play(),</span><span class="s0">this</span><span class="s1">.state=</span><span class="s4">&quot;finished&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">null</span><span class="s1">}finish(){</span><span class="s0">this</span><span class="s1">.notifyFinished(),</span><span class="s0">this</span><span class="s1">.teardown(),</span><span class="s0">this</span><span class="s1">.state=</span><span class="s4">&quot;finished&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.options.onComplete?.()}cancel(){</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.startTime=</span><span class="s2">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.tick(</span><span class="s2">0</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.teardown(),</span><span class="s0">this</span><span class="s1">.options.onCancel?.()}teardown(){</span><span class="s0">this</span><span class="s1">.state=</span><span class="s4">&quot;idle&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.stopDriver(),</span><span class="s0">this</span><span class="s1">.startTime=</span><span class="s0">this</span><span class="s1">.holdTime=</span><span class="s0">null</span><span class="s1">}stopDriver(){</span><span class="s0">this</span><span class="s1">.driver&amp;&amp;(</span><span class="s0">this</span><span class="s1">.driver.stop(),</span><span class="s0">this</span><span class="s1">.driver=</span><span class="s0">void </span><span class="s2">0</span><span class="s1">)}sample(t){</span><span class="s0">return this</span><span class="s1">.startTime=</span><span class="s2">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.tick(t,!</span><span class="s2">0</span><span class="s1">)}attachTimeline(t){</span><span class="s0">return this</span><span class="s1">.options.allowFlatten&amp;&amp;(</span><span class="s0">this</span><span class="s1">.options.type=</span><span class="s4">&quot;keyframes&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.options.ease=</span><span class="s4">&quot;linear&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.initAnimation()),</span><span class="s0">this</span><span class="s1">.driver?.stop(),t.observe(</span><span class="s0">this</span><span class="s1">)}}</span><span class="s0">const </span><span class="s1">Me=t=&gt;</span><span class="s2">180</span><span class="s1">*t/Math.PI,Ve=t=&gt;{</span><span class="s0">const </span><span class="s1">e=Me(Math.atan2(t[</span><span class="s2">1</span><span class="s1">],t[</span><span class="s2">0</span><span class="s1">]));</span><span class="s0">return </span><span class="s1">Se(e)},Ae={x:</span><span class="s2">4</span><span class="s1">,y:</span><span class="s2">5</span><span class="s1">,translateX:</span><span class="s2">4</span><span class="s1">,translateY:</span><span class="s2">5</span><span class="s1">,scaleX:</span><span class="s2">0</span><span class="s1">,scaleY:</span><span class="s2">3</span><span class="s1">,scale:t=&gt;(Math.abs(t[</span><span class="s2">0</span><span class="s1">])+Math.abs(t[</span><span class="s2">3</span><span class="s1">]))/</span><span class="s2">2</span><span class="s1">,rotate:Ve,rotateZ:Ve,skewX:t=&gt;Me(Math.atan(t[</span><span class="s2">1</span><span class="s1">])),skewY:t=&gt;Me(Math.atan(t[</span><span class="s2">2</span><span class="s1">])),skew:t=&gt;(Math.abs(t[</span><span class="s2">1</span><span class="s1">])+Math.abs(t[</span><span class="s2">2</span><span class="s1">]))/</span><span class="s2">2</span><span class="s1">},Se=t=&gt;((t%=</span><span class="s2">360</span><span class="s1">)&lt;</span><span class="s2">0</span><span class="s1">&amp;&amp;(t+=</span><span class="s2">360</span><span class="s1">),t),xe=t=&gt;Math.sqrt(t[</span><span class="s2">0</span><span class="s1">]*t[</span><span class="s2">0</span><span class="s1">]+t[</span><span class="s2">1</span><span class="s1">]*t[</span><span class="s2">1</span><span class="s1">]),ke=t=&gt;Math.sqrt(t[</span><span class="s2">4</span><span class="s1">]*t[</span><span class="s2">4</span><span class="s1">]+t[</span><span class="s2">5</span><span class="s1">]*t[</span><span class="s2">5</span><span class="s1">]),Ce={x:</span><span class="s2">12</span><span class="s1">,y:</span><span class="s2">13</span><span class="s1">,z:</span><span class="s2">14</span><span class="s1">,translateX:</span><span class="s2">12</span><span class="s1">,translateY:</span><span class="s2">13</span><span class="s1">,translateZ:</span><span class="s2">14</span><span class="s1">,scaleX:xe,scaleY:ke,scale:t=&gt;(xe(t)+ke(t))/</span><span class="s2">2</span><span class="s1">,rotateX:t=&gt;Se(Me(Math.atan2(t[</span><span class="s2">6</span><span class="s1">],t[</span><span class="s2">5</span><span class="s1">]))),rotateY:t=&gt;Se(Me(Math.atan2(-t[</span><span class="s2">2</span><span class="s1">],t[</span><span class="s2">0</span><span class="s1">]))),rotateZ:Ve,rotate:Ve,skewX:t=&gt;Me(Math.atan(t[</span><span class="s2">4</span><span class="s1">])),skewY:t=&gt;Me(Math.atan(t[</span><span class="s2">1</span><span class="s1">])),skew:t=&gt;(Math.abs(t[</span><span class="s2">1</span><span class="s1">])+Math.abs(t[</span><span class="s2">4</span><span class="s1">]))/</span><span class="s2">2</span><span class="s1">};</span><span class="s0">function </span><span class="s1">Fe(t){</span><span class="s0">return </span><span class="s1">t.includes(</span><span class="s4">&quot;scale&quot;</span><span class="s1">)?</span><span class="s2">1</span><span class="s1">:</span><span class="s2">0</span><span class="s1">}</span><span class="s0">function </span><span class="s1">Pe(t,e){</span><span class="s0">if</span><span class="s1">(!t||</span><span class="s4">&quot;none&quot;</span><span class="s1">===t)</span><span class="s0">return </span><span class="s1">Fe(e);</span><span class="s0">const </span><span class="s1">n=t.match(</span><span class="s3">/^matrix3d\(([-\d.e\s,]+)\)$/u</span><span class="s1">);</span><span class="s0">let </span><span class="s1">s,i;</span><span class="s0">if</span><span class="s1">(n)s=Ce,i=n;</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">e=t.match(</span><span class="s3">/^matrix\(([-\d.e\s,]+)\)$/u</span><span class="s1">);s=Ae,i=e}</span><span class="s0">if</span><span class="s1">(!i)</span><span class="s0">return </span><span class="s1">Fe(e);</span><span class="s0">const </span><span class="s1">r=s[e],a=i[</span><span class="s2">1</span><span class="s1">].split(</span><span class="s4">&quot;,&quot;</span><span class="s1">).map(De);</span><span class="s0">return</span><span class="s4">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">r?r(a):a[r]}</span><span class="s0">function </span><span class="s1">De(t){</span><span class="s0">return </span><span class="s1">parseFloat(t.trim())}</span><span class="s0">const </span><span class="s1">Ee=[</span><span class="s4">&quot;transformPerspective&quot;</span><span class="s1">,</span><span class="s4">&quot;x&quot;</span><span class="s1">,</span><span class="s4">&quot;y&quot;</span><span class="s1">,</span><span class="s4">&quot;z&quot;</span><span class="s1">,</span><span class="s4">&quot;translateX&quot;</span><span class="s1">,</span><span class="s4">&quot;translateY&quot;</span><span class="s1">,</span><span class="s4">&quot;translateZ&quot;</span><span class="s1">,</span><span class="s4">&quot;scale&quot;</span><span class="s1">,</span><span class="s4">&quot;scaleX&quot;</span><span class="s1">,</span><span class="s4">&quot;scaleY&quot;</span><span class="s1">,</span><span class="s4">&quot;rotate&quot;</span><span class="s1">,</span><span class="s4">&quot;rotateX&quot;</span><span class="s1">,</span><span class="s4">&quot;rotateY&quot;</span><span class="s1">,</span><span class="s4">&quot;rotateZ&quot;</span><span class="s1">,</span><span class="s4">&quot;skew&quot;</span><span class="s1">,</span><span class="s4">&quot;skewX&quot;</span><span class="s1">,</span><span class="s4">&quot;skewY&quot;</span><span class="s1">],Oe=(()=&gt;</span><span class="s0">new </span><span class="s1">Set(Ee))(),Ie=t=&gt;t===Z||t===lt,Re=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s4">&quot;x&quot;</span><span class="s1">,</span><span class="s4">&quot;y&quot;</span><span class="s1">,</span><span class="s4">&quot;z&quot;</span><span class="s1">]),Be=Ee.filter(t=&gt;!Re.has(t));</span><span class="s0">const </span><span class="s1">Ne={width:({x:t},{paddingLeft:e=</span><span class="s4">&quot;0&quot;</span><span class="s1">,paddingRight:n=</span><span class="s4">&quot;0&quot;</span><span class="s1">})=&gt;t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e=</span><span class="s4">&quot;0&quot;</span><span class="s1">,paddingBottom:n=</span><span class="s4">&quot;0&quot;</span><span class="s1">})=&gt;t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=&gt;parseFloat(e),left:(t,{left:e})=&gt;parseFloat(e),bottom:({y:t},{top:e})=&gt;parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=&gt;parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=&gt;Pe(e,</span><span class="s4">&quot;x&quot;</span><span class="s1">),y:(t,{transform:e})=&gt;Pe(e,</span><span class="s4">&quot;y&quot;</span><span class="s1">)};Ne.translateX=Ne.x,Ne.translateY=Ne.y;</span><span class="s0">const </span><span class="s1">Ke=</span><span class="s0">new </span><span class="s1">Set;</span><span class="s0">let </span><span class="s1">je=!</span><span class="s2">1</span><span class="s1">,We=!</span><span class="s2">1</span><span class="s1">,Ye=!</span><span class="s2">1</span><span class="s1">;</span><span class="s0">function </span><span class="s1">$e(){</span><span class="s0">if</span><span class="s1">(We){</span><span class="s0">const </span><span class="s1">t=Array.from(Ke).filter(t=&gt;t.needsMeasurement),e=</span><span class="s0">new </span><span class="s1">Set(t.map(t=&gt;t.element)),n=</span><span class="s0">new </span><span class="s1">Map;e.forEach(t=&gt;{</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">const </span><span class="s1">e=[];</span><span class="s0">return </span><span class="s1">Be.forEach(n=&gt;{</span><span class="s0">const </span><span class="s1">s=t.getValue(n);</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==s&amp;&amp;(e.push([n,s.get()]),s.set(n.startsWith(</span><span class="s4">&quot;scale&quot;</span><span class="s1">)?</span><span class="s2">1</span><span class="s1">:</span><span class="s2">0</span><span class="s1">))}),e}(t);e.length&amp;&amp;(n.set(t,e),t.render())}),t.forEach(t=&gt;t.measureInitialState()),e.forEach(t=&gt;{t.render();</span><span class="s0">const </span><span class="s1">e=n.get(t);e&amp;&amp;e.forEach(([e,n])=&gt;{t.getValue(e)?.set(n)})}),t.forEach(t=&gt;t.measureEndState()),t.forEach(t=&gt;{</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==t.suspendedScrollY&amp;&amp;window.scrollTo(</span><span class="s2">0</span><span class="s1">,t.suspendedScrollY)})}We=!</span><span class="s2">1</span><span class="s1">,je=!</span><span class="s2">1</span><span class="s1">,Ke.forEach(t=&gt;t.complete(Ye)),Ke.clear()}</span><span class="s0">function </span><span class="s1">Le(){Ke.forEach(t=&gt;{t.readKeyframes(),t.needsMeasurement&amp;&amp;(We=!</span><span class="s2">0</span><span class="s1">)})}</span><span class="s0">class </span><span class="s1">Ue{constructor(t,e,n,s,i,r=!</span><span class="s2">1</span><span class="s1">){</span><span class="s0">this</span><span class="s1">.state=</span><span class="s4">&quot;pending&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isAsync=!</span><span class="s2">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.needsMeasurement=!</span><span class="s2">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.unresolvedKeyframes=[...t],</span><span class="s0">this</span><span class="s1">.onComplete=e,</span><span class="s0">this</span><span class="s1">.name=n,</span><span class="s0">this</span><span class="s1">.motionValue=s,</span><span class="s0">this</span><span class="s1">.element=i,</span><span class="s0">this</span><span class="s1">.isAsync=r}scheduleResolve(){</span><span class="s0">this</span><span class="s1">.state=</span><span class="s4">&quot;scheduled&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isAsync?(Ke.add(</span><span class="s0">this</span><span class="s1">),je||(je=!</span><span class="s2">0</span><span class="s1">,B.read(Le),B.resolveKeyframes($e))):(</span><span class="s0">this</span><span class="s1">.readKeyframes(),</span><span class="s0">this</span><span class="s1">.complete())}readKeyframes(){</span><span class="s0">const</span><span class="s1">{unresolvedKeyframes:t,name:e,element:n,motionValue:s}=</span><span class="s0">this</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(</span><span class="s0">null</span><span class="s1">===t[</span><span class="s2">0</span><span class="s1">]){</span><span class="s0">const </span><span class="s1">i=s?.get(),r=t[t.length-</span><span class="s2">1</span><span class="s1">];</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==i)t[</span><span class="s2">0</span><span class="s1">]=i;</span><span class="s0">else if</span><span class="s1">(n&amp;&amp;e){</span><span class="s0">const </span><span class="s1">s=n.readValue(e,r);</span><span class="s0">null</span><span class="s1">!=s&amp;&amp;(t[</span><span class="s2">0</span><span class="s1">]=s)}</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===t[</span><span class="s2">0</span><span class="s1">]&amp;&amp;(t[</span><span class="s2">0</span><span class="s1">]=r),s&amp;&amp;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===i&amp;&amp;s.set(t[</span><span class="s2">0</span><span class="s1">])}!</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s2">1</span><span class="s1">;e&lt;t.length;e++)t[e]??(t[e]=t[e-</span><span class="s2">1</span><span class="s1">])}(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!</span><span class="s2">1</span><span class="s1">){</span><span class="s0">this</span><span class="s1">.state=</span><span class="s4">&quot;complete&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.onComplete(</span><span class="s0">this</span><span class="s1">.unresolvedKeyframes,</span><span class="s0">this</span><span class="s1">.finalKeyframe,t),Ke.delete(</span><span class="s0">this</span><span class="s1">)}cancel(){</span><span class="s4">&quot;scheduled&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;(Ke.delete(</span><span class="s0">this</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.state=</span><span class="s4">&quot;pending&quot;</span><span class="s1">)}resume(){</span><span class="s4">&quot;pending&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;</span><span class="s0">this</span><span class="s1">.scheduleResolve()}}</span><span class="s0">const </span><span class="s1">Xe=r(()=&gt;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==window.ScrollTimeline),qe={};</span><span class="s0">function </span><span class="s1">ze(t,e){</span><span class="s0">const </span><span class="s1">n=r(t);</span><span class="s0">return</span><span class="s1">()=&gt;qe[e]??n()}</span><span class="s0">const </span><span class="s1">Ze=ze(()=&gt;{</span><span class="s0">try</span><span class="s1">{document.createElement(</span><span class="s4">&quot;div&quot;</span><span class="s1">).animate({opacity:</span><span class="s2">0</span><span class="s1">},{easing:</span><span class="s4">&quot;linear(0, 1)&quot;</span><span class="s1">})}</span><span class="s0">catch</span><span class="s1">(t){</span><span class="s0">return</span><span class="s1">!</span><span class="s2">1</span><span class="s1">}</span><span class="s0">return</span><span class="s1">!</span><span class="s2">0</span><span class="s1">},</span><span class="s4">&quot;linearEasing&quot;</span><span class="s1">),He=([t,e,n,s])=&gt;</span><span class="s4">`cubic-bezier(</span><span class="s1">${t}</span><span class="s4">, </span><span class="s1">${e}</span><span class="s4">, </span><span class="s1">${n}</span><span class="s4">, </span><span class="s1">${s}</span><span class="s4">)`</span><span class="s1">,_e={linear:</span><span class="s4">&quot;linear&quot;</span><span class="s1">,ease:</span><span class="s4">&quot;ease&quot;</span><span class="s1">,easeIn:</span><span class="s4">&quot;ease-in&quot;</span><span class="s1">,easeOut:</span><span class="s4">&quot;ease-out&quot;</span><span class="s1">,easeInOut:</span><span class="s4">&quot;ease-in-out&quot;</span><span class="s1">,circIn:He([</span><span class="s2">0</span><span class="s1">,</span><span class="s2">.65</span><span class="s1">,</span><span class="s2">.55</span><span class="s1">,</span><span class="s2">1</span><span class="s1">]),circOut:He([</span><span class="s2">.55</span><span class="s1">,</span><span class="s2">0</span><span class="s1">,</span><span class="s2">1</span><span class="s1">,</span><span class="s2">.45</span><span class="s1">]),backIn:He([</span><span class="s2">.31</span><span class="s1">,</span><span class="s2">.01</span><span class="s1">,</span><span class="s2">.66</span><span class="s1">,-</span><span class="s2">.59</span><span class="s1">]),backOut:He([</span><span class="s2">.33</span><span class="s1">,</span><span class="s2">1.53</span><span class="s1">,</span><span class="s2">.69</span><span class="s1">,</span><span class="s2">.99</span><span class="s1">])};</span><span class="s0">function </span><span class="s1">Ge(t,e){</span><span class="s0">return </span><span class="s1">t?</span><span class="s4">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?Ze()?Kt(t,e):</span><span class="s4">&quot;ease-out&quot;</span><span class="s1">:P(t)?He(t):Array.isArray(t)?t.map(t=&gt;Ge(t,e)||_e.easeOut):_e[t]:</span><span class="s0">void </span><span class="s2">0</span><span class="s1">}</span><span class="s0">function </span><span class="s1">Je(t,e,n,{delay:s=</span><span class="s2">0</span><span class="s1">,duration:i=</span><span class="s2">300</span><span class="s1">,repeat:r=</span><span class="s2">0</span><span class="s1">,repeatType:a=</span><span class="s4">&quot;loop&quot;</span><span class="s1">,ease:o=</span><span class="s4">&quot;easeOut&quot;</span><span class="s1">,times:l}={},u=</span><span class="s0">void </span><span class="s2">0</span><span class="s1">){</span><span class="s0">const </span><span class="s1">h={[e]:n};l&amp;&amp;(h.offset=l);</span><span class="s0">const </span><span class="s1">c=Ge(o,i);Array.isArray(c)&amp;&amp;(h.easing=c);</span><span class="s0">const </span><span class="s1">d={delay:s,duration:i,easing:Array.isArray(c)?</span><span class="s4">&quot;linear&quot;</span><span class="s1">:c,fill:</span><span class="s4">&quot;both&quot;</span><span class="s1">,iterations:r+</span><span class="s2">1</span><span class="s1">,direction:</span><span class="s4">&quot;reverse&quot;</span><span class="s1">===a?</span><span class="s4">&quot;alternate&quot;</span><span class="s1">:</span><span class="s4">&quot;normal&quot;</span><span class="s1">};u&amp;&amp;(d.pseudoElement=u);</span><span class="s0">return </span><span class="s1">t.animate(h,d)}</span><span class="s0">function </span><span class="s1">Qe(t){</span><span class="s0">return</span><span class="s4">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;</span><span class="s4">&quot;applyToOptions&quot;</span><span class="s0">in </span><span class="s1">t}</span><span class="s0">class </span><span class="s1">tn </span><span class="s0">extends </span><span class="s1">be{constructor(t){</span><span class="s0">if</span><span class="s1">(</span><span class="s0">super</span><span class="s1">(),</span><span class="s0">this</span><span class="s1">.finishedTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isStopped=!</span><span class="s2">1</span><span class="s1">,!t)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{element:e,name:n,keyframes:s,pseudoElement:i,allowFlatten:r=!</span><span class="s2">1</span><span class="s1">,finalKeyframe:a,onComplete:o}=t;</span><span class="s0">this</span><span class="s1">.isPseudoElement=Boolean(i),</span><span class="s0">this</span><span class="s1">.allowFlatten=r,</span><span class="s0">this</span><span class="s1">.options=t,t.type;</span><span class="s0">const </span><span class="s1">l=</span><span class="s0">function</span><span class="s1">({type:t,...e}){</span><span class="s0">return </span><span class="s1">Qe(t)&amp;&amp;Ze()?t.applyToOptions(e):(e.duration??(e.duration=</span><span class="s2">300</span><span class="s1">),e.ease??(e.ease=</span><span class="s4">&quot;easeOut&quot;</span><span class="s1">),e)}(t);</span><span class="s0">this</span><span class="s1">.animation=Je(e,n,s,l,i),!</span><span class="s2">1</span><span class="s1">===l.autoplay&amp;&amp;</span><span class="s0">this</span><span class="s1">.animation.pause(),</span><span class="s0">this</span><span class="s1">.animation.onfinish=()=&gt;{</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.finishedTime=</span><span class="s0">this</span><span class="s1">.time,!i){</span><span class="s0">const </span><span class="s1">t=ye(s,</span><span class="s0">this</span><span class="s1">.options,a,</span><span class="s0">this</span><span class="s1">.speed);</span><span class="s0">this</span><span class="s1">.updateMotionValue?</span><span class="s0">this</span><span class="s1">.updateMotionValue(t):</span><span class="s0">function</span><span class="s1">(t,e,n){(t=&gt;t.startsWith(</span><span class="s4">&quot;--&quot;</span><span class="s1">))(e)?t.style.setProperty(e,n):t.style[e]=n}(e,n,t),</span><span class="s0">this</span><span class="s1">.animation.cancel()}o?.(),</span><span class="s0">this</span><span class="s1">.notifyFinished()}}play(){</span><span class="s0">this</span><span class="s1">.isStopped||(</span><span class="s0">this</span><span class="s1">.animation.play(),</span><span class="s4">&quot;finished&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.state&amp;&amp;</span><span class="s0">this</span><span class="s1">.updateFinished())}pause(){</span><span class="s0">this</span><span class="s1">.animation.pause()}complete(){</span><span class="s0">this</span><span class="s1">.animation.finish?.()}cancel(){</span><span class="s0">try</span><span class="s1">{</span><span class="s0">this</span><span class="s1">.animation.cancel()}</span><span class="s0">catch</span><span class="s1">(t){}}stop(){</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.isStopped)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">this</span><span class="s1">.isStopped=!</span><span class="s2">0</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{state:t}=</span><span class="s0">this</span><span class="s1">;</span><span class="s4">&quot;idle&quot;</span><span class="s1">!==t&amp;&amp;</span><span class="s4">&quot;finished&quot;</span><span class="s1">!==t&amp;&amp;(</span><span class="s0">this</span><span class="s1">.updateMotionValue?</span><span class="s0">this</span><span class="s1">.updateMotionValue():</span><span class="s0">this</span><span class="s1">.commitStyles(),</span><span class="s0">this</span><span class="s1">.isPseudoElement||</span><span class="s0">this</span><span class="s1">.cancel())}commitStyles(){</span><span class="s0">this</span><span class="s1">.isPseudoElement||</span><span class="s0">this</span><span class="s1">.animation.commitStyles?.()}get duration(){</span><span class="s0">const </span><span class="s1">t=</span><span class="s0">this</span><span class="s1">.animation.effect?.getComputedTiming?.().duration||</span><span class="s2">0</span><span class="s1">;</span><span class="s0">return </span><span class="s1">d(Number(t))}get iterationDuration(){</span><span class="s0">const</span><span class="s1">{delay:t=</span><span class="s2">0</span><span class="s1">}=</span><span class="s0">this</span><span class="s1">.options||{};</span><span class="s0">return this</span><span class="s1">.duration+d(t)}get time(){</span><span class="s0">return </span><span class="s1">d(Number(</span><span class="s0">this</span><span class="s1">.animation.currentTime)||</span><span class="s2">0</span><span class="s1">)}set time(t){</span><span class="s0">this</span><span class="s1">.finishedTime=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.animation.currentTime=c(t)}get speed(){</span><span class="s0">return this</span><span class="s1">.animation.playbackRate}set speed(t){t&lt;</span><span class="s2">0</span><span class="s1">&amp;&amp;(</span><span class="s0">this</span><span class="s1">.finishedTime=</span><span class="s0">null</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.animation.playbackRate=t}get state(){</span><span class="s0">return null</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.finishedTime?</span><span class="s4">&quot;finished&quot;</span><span class="s1">:</span><span class="s0">this</span><span class="s1">.animation.playState}get startTime(){</span><span class="s0">return </span><span class="s1">Number(</span><span class="s0">this</span><span class="s1">.animation.startTime)}set startTime(t){</span><span class="s0">this</span><span class="s1">.animation.startTime=t}attachTimeline({timeline:t,observe:e}){</span><span class="s0">return this</span><span class="s1">.allowFlatten&amp;&amp;</span><span class="s0">this</span><span class="s1">.animation.effect?.updateTiming({easing:</span><span class="s4">&quot;linear&quot;</span><span class="s1">}),</span><span class="s0">this</span><span class="s1">.animation.onfinish=</span><span class="s0">null</span><span class="s1">,t&amp;&amp;Xe()?(</span><span class="s0">this</span><span class="s1">.animation.timeline=t,a):e(</span><span class="s0">this</span><span class="s1">)}}</span><span class="s0">const </span><span class="s1">en={anticipate:T,backInOut:w,circInOut:A};</span><span class="s0">function </span><span class="s1">nn(t){</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t.ease&amp;&amp;t.ease </span><span class="s0">in </span><span class="s1">en&amp;&amp;(t.ease=en[t.ease])}</span><span class="s0">class </span><span class="s1">sn </span><span class="s0">extends </span><span class="s1">tn{constructor(t){nn(t),ve(t),</span><span class="s0">super</span><span class="s1">(t),t.startTime&amp;&amp;(</span><span class="s0">this</span><span class="s1">.startTime=t.startTime),</span><span class="s0">this</span><span class="s1">.options=t}updateMotionValue(t){</span><span class="s0">const</span><span class="s1">{motionValue:e,onUpdate:n,onComplete:s,element:i,...r}=</span><span class="s0">this</span><span class="s1">.options;</span><span class="s0">if</span><span class="s1">(!e)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==t)</span><span class="s0">return void </span><span class="s1">e.set(t);</span><span class="s0">const </span><span class="s1">a=</span><span class="s0">new </span><span class="s1">Te({...r,autoplay:!</span><span class="s2">1</span><span class="s1">}),o=c(</span><span class="s0">this</span><span class="s1">.finishedTime??</span><span class="s0">this</span><span class="s1">.time);e.setWithVelocity(a.sample(o-</span><span class="s2">10</span><span class="s1">).value,a.sample(o).value,</span><span class="s2">10</span><span class="s1">),a.stop()}}</span><span class="s0">const </span><span class="s1">rn=(t,e)=&gt;</span><span class="s4">&quot;zIndex&quot;</span><span class="s1">!==e&amp;&amp;(!(</span><span class="s4">&quot;number&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;!Array.isArray(t))||!(</span><span class="s4">&quot;string&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">t||!Mt.test(t)&amp;&amp;</span><span class="s4">&quot;0&quot;</span><span class="s1">!==t||t.startsWith(</span><span class="s4">&quot;url(&quot;</span><span class="s1">)));</span><span class="s0">function </span><span class="s1">an(t){t.duration=</span><span class="s2">0</span><span class="s1">,t.type=</span><span class="s4">&quot;keyframes&quot;</span><span class="s1">}</span><span class="s0">const </span><span class="s1">on=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s4">&quot;opacity&quot;</span><span class="s1">,</span><span class="s4">&quot;clipPath&quot;</span><span class="s1">,</span><span class="s4">&quot;filter&quot;</span><span class="s1">,</span><span class="s4">&quot;transform&quot;</span><span class="s1">]),ln=r(()=&gt;Object.hasOwnProperty.call(Element.prototype,</span><span class="s4">&quot;animate&quot;</span><span class="s1">));</span><span class="s0">class </span><span class="s1">un </span><span class="s0">extends </span><span class="s1">be{constructor({autoplay:t=!</span><span class="s2">0</span><span class="s1">,delay:e=</span><span class="s2">0</span><span class="s1">,type:n=</span><span class="s4">&quot;keyframes&quot;</span><span class="s1">,repeat:s=</span><span class="s2">0</span><span class="s1">,repeatDelay:i=</span><span class="s2">0</span><span class="s1">,repeatType:r=</span><span class="s4">&quot;loop&quot;</span><span class="s1">,keyframes:a,name:o,motionValue:l,element:u,...h}){</span><span class="s0">super</span><span class="s1">(),</span><span class="s0">this</span><span class="s1">.stop=()=&gt;{</span><span class="s0">this</span><span class="s1">._animation&amp;&amp;(</span><span class="s0">this</span><span class="s1">._animation.stop(),</span><span class="s0">this</span><span class="s1">.stopTimeline?.()),</span><span class="s0">this</span><span class="s1">.keyframeResolver?.cancel()},</span><span class="s0">this</span><span class="s1">.createdAt=$.now();</span><span class="s0">const </span><span class="s1">c={autoplay:t,delay:e,type:n,repeat:s,repeatDelay:i,repeatType:r,name:o,motionValue:l,element:u,...h},d=u?.KeyframeResolver||Ue;</span><span class="s0">this</span><span class="s1">.keyframeResolver=</span><span class="s0">new </span><span class="s1">d(a,(t,e,n)=&gt;</span><span class="s0">this</span><span class="s1">.onKeyframesResolved(t,e,c,!n),o,l,u),</span><span class="s0">this</span><span class="s1">.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,i){</span><span class="s0">this</span><span class="s1">.keyframeResolver=</span><span class="s0">void </span><span class="s2">0</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{name:r,type:o,velocity:l,delay:u,isHandoff:h,onUpdate:c}=s;</span><span class="s0">this</span><span class="s1">.resolvedAt=$.now(),</span><span class="s0">function</span><span class="s1">(t,e,n,s){</span><span class="s0">const </span><span class="s1">i=t[</span><span class="s2">0</span><span class="s1">];</span><span class="s0">if</span><span class="s1">(</span><span class="s0">null</span><span class="s1">===i)</span><span class="s0">return</span><span class="s1">!</span><span class="s2">1</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;display&quot;</span><span class="s1">===e||</span><span class="s4">&quot;visibility&quot;</span><span class="s1">===e)</span><span class="s0">return</span><span class="s1">!</span><span class="s2">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">r=t[t.length-</span><span class="s2">1</span><span class="s1">],a=rn(i,e),o=rn(r,e);</span><span class="s0">return</span><span class="s1">!(!a||!o)&amp;&amp;(</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">const </span><span class="s1">e=t[</span><span class="s2">0</span><span class="s1">];</span><span class="s0">if</span><span class="s1">(</span><span class="s2">1</span><span class="s1">===t.length)</span><span class="s0">return</span><span class="s1">!</span><span class="s2">0</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">0</span><span class="s1">;n&lt;t.length;n++)</span><span class="s0">if</span><span class="s1">(t[n]!==e)</span><span class="s0">return</span><span class="s1">!</span><span class="s2">0</span><span class="s1">}(t)||(</span><span class="s4">&quot;spring&quot;</span><span class="s1">===n||Qe(n))&amp;&amp;s)}(t,r,o,l)||(!n.instantAnimations&amp;&amp;u||c?.(ye(t,s,e)),t[</span><span class="s2">0</span><span class="s1">]=t[t.length-</span><span class="s2">1</span><span class="s1">],an(s),s.repeat=</span><span class="s2">0</span><span class="s1">);</span><span class="s0">const </span><span class="s1">d={startTime:i?</span><span class="s0">this</span><span class="s1">.resolvedAt&amp;&amp;</span><span class="s0">this</span><span class="s1">.resolvedAt-</span><span class="s0">this</span><span class="s1">.createdAt&gt;</span><span class="s2">40</span><span class="s1">?</span><span class="s0">this</span><span class="s1">.resolvedAt:</span><span class="s0">this</span><span class="s1">.createdAt:</span><span class="s0">void </span><span class="s2">0</span><span class="s1">,finalKeyframe:e,...s,keyframes:t},p=!h&amp;&amp;</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">const</span><span class="s1">{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:r,type:a}=t,o=e?.owner?.current;</span><span class="s0">if</span><span class="s1">(!(o </span><span class="s0">instanceof </span><span class="s1">HTMLElement))</span><span class="s0">return</span><span class="s1">!</span><span class="s2">1</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{onUpdate:l,transformTemplate:u}=e.owner.getProps();</span><span class="s0">return </span><span class="s1">ln()&amp;&amp;n&amp;&amp;on.has(n)&amp;&amp;(</span><span class="s4">&quot;transform&quot;</span><span class="s1">!==n||!u)&amp;&amp;!l&amp;&amp;!s&amp;&amp;</span><span class="s4">&quot;mirror&quot;</span><span class="s1">!==i&amp;&amp;</span><span class="s2">0</span><span class="s1">!==r&amp;&amp;</span><span class="s4">&quot;inertia&quot;</span><span class="s1">!==a}(d)?</span><span class="s0">new </span><span class="s1">sn({...d,element:d.motionValue.owner.current}):</span><span class="s0">new </span><span class="s1">Te(d);p.finished.then(()=&gt;</span><span class="s0">this</span><span class="s1">.notifyFinished()).catch(a),</span><span class="s0">this</span><span class="s1">.pendingTimeline&amp;&amp;(</span><span class="s0">this</span><span class="s1">.stopTimeline=p.attachTimeline(</span><span class="s0">this</span><span class="s1">.pendingTimeline),</span><span class="s0">this</span><span class="s1">.pendingTimeline=</span><span class="s0">void </span><span class="s2">0</span><span class="s1">),</span><span class="s0">this</span><span class="s1">._animation=p}get finished(){</span><span class="s0">return this</span><span class="s1">._animation?</span><span class="s0">this</span><span class="s1">.animation.finished:</span><span class="s0">this</span><span class="s1">._finished}then(t,e){</span><span class="s0">return this</span><span class="s1">.finished.finally(t).then(()=&gt;{})}get animation(){</span><span class="s0">return this</span><span class="s1">._animation||(</span><span class="s0">this</span><span class="s1">.keyframeResolver?.resume(),Ye=!</span><span class="s2">0</span><span class="s1">,Le(),$e(),Ye=!</span><span class="s2">1</span><span class="s1">),</span><span class="s0">this</span><span class="s1">._animation}get duration(){</span><span class="s0">return this</span><span class="s1">.animation.duration}get iterationDuration(){</span><span class="s0">return this</span><span class="s1">.animation.iterationDuration}get time(){</span><span class="s0">return this</span><span class="s1">.animation.time}set time(t){</span><span class="s0">this</span><span class="s1">.animation.time=t}get speed(){</span><span class="s0">return this</span><span class="s1">.animation.speed}get state(){</span><span class="s0">return this</span><span class="s1">.animation.state}set speed(t){</span><span class="s0">this</span><span class="s1">.animation.speed=t}get startTime(){</span><span class="s0">return this</span><span class="s1">.animation.startTime}attachTimeline(t){</span><span class="s0">return this</span><span class="s1">._animation?</span><span class="s0">this</span><span class="s1">.stopTimeline=</span><span class="s0">this</span><span class="s1">.animation.attachTimeline(t):</span><span class="s0">this</span><span class="s1">.pendingTimeline=t,()=&gt;</span><span class="s0">this</span><span class="s1">.stop()}play(){</span><span class="s0">this</span><span class="s1">.animation.play()}pause(){</span><span class="s0">this</span><span class="s1">.animation.pause()}complete(){</span><span class="s0">this</span><span class="s1">.animation.complete()}cancel(){</span><span class="s0">this</span><span class="s1">._animation&amp;&amp;</span><span class="s0">this</span><span class="s1">.animation.cancel(),</span><span class="s0">this</span><span class="s1">.keyframeResolver?.cancel()}}</span><span class="s0">class </span><span class="s1">hn{constructor(t){</span><span class="s0">this</span><span class="s1">.stop=()=&gt;</span><span class="s0">this</span><span class="s1">.runAll(</span><span class="s4">&quot;stop&quot;</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.animations=t.filter(Boolean)}get finished(){</span><span class="s0">return </span><span class="s1">Promise.all(</span><span class="s0">this</span><span class="s1">.animations.map(t=&gt;t.finished))}getAll(t){</span><span class="s0">return this</span><span class="s1">.animations[</span><span class="s2">0</span><span class="s1">][t]}setAll(t,e){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">0</span><span class="s1">;n&lt;</span><span class="s0">this</span><span class="s1">.animations.length;n++)</span><span class="s0">this</span><span class="s1">.animations[n][t]=e}attachTimeline(t){</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.animations.map(e=&gt;e.attachTimeline(t));</span><span class="s0">return</span><span class="s1">()=&gt;{e.forEach((t,e)=&gt;{t&amp;&amp;t(),</span><span class="s0">this</span><span class="s1">.animations[e].stop()})}}get time(){</span><span class="s0">return this</span><span class="s1">.getAll(</span><span class="s4">&quot;time&quot;</span><span class="s1">)}set time(t){</span><span class="s0">this</span><span class="s1">.setAll(</span><span class="s4">&quot;time&quot;</span><span class="s1">,t)}get speed(){</span><span class="s0">return this</span><span class="s1">.getAll(</span><span class="s4">&quot;speed&quot;</span><span class="s1">)}set speed(t){</span><span class="s0">this</span><span class="s1">.setAll(</span><span class="s4">&quot;speed&quot;</span><span class="s1">,t)}get state(){</span><span class="s0">return this</span><span class="s1">.getAll(</span><span class="s4">&quot;state&quot;</span><span class="s1">)}get startTime(){</span><span class="s0">return this</span><span class="s1">.getAll(</span><span class="s4">&quot;startTime&quot;</span><span class="s1">)}get duration(){</span><span class="s0">return </span><span class="s1">cn(</span><span class="s0">this</span><span class="s1">.animations,</span><span class="s4">&quot;duration&quot;</span><span class="s1">)}get iterationDuration(){</span><span class="s0">return </span><span class="s1">cn(</span><span class="s0">this</span><span class="s1">.animations,</span><span class="s4">&quot;iterationDuration&quot;</span><span class="s1">)}runAll(t){</span><span class="s0">this</span><span class="s1">.animations.forEach(e=&gt;e[t]())}play(){</span><span class="s0">this</span><span class="s1">.runAll(</span><span class="s4">&quot;play&quot;</span><span class="s1">)}pause(){</span><span class="s0">this</span><span class="s1">.runAll(</span><span class="s4">&quot;pause&quot;</span><span class="s1">)}cancel(){</span><span class="s0">this</span><span class="s1">.runAll(</span><span class="s4">&quot;cancel&quot;</span><span class="s1">)}complete(){</span><span class="s0">this</span><span class="s1">.runAll(</span><span class="s4">&quot;complete&quot;</span><span class="s1">)}}</span><span class="s0">function </span><span class="s1">cn(t,e){</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">0</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">s=</span><span class="s2">0</span><span class="s1">;s&lt;t.length;s++){</span><span class="s0">const </span><span class="s1">i=t[s][e];</span><span class="s0">null</span><span class="s1">!==i&amp;&amp;i&gt;n&amp;&amp;(n=i)}</span><span class="s0">return </span><span class="s1">n}</span><span class="s0">class </span><span class="s1">dn </span><span class="s0">extends </span><span class="s1">hn{then(t,e){</span><span class="s0">return this</span><span class="s1">.finished.finally(t).then(()=&gt;{})}}</span><span class="s0">const </span><span class="s1">pn=</span><span class="s3">/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u</span><span class="s1">;</span><span class="s0">function </span><span class="s1">mn(t,e,n=</span><span class="s2">1</span><span class="s1">){</span><span class="s0">const</span><span class="s1">[i,r]=</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">const </span><span class="s1">e=pn.exec(t);</span><span class="s0">if</span><span class="s1">(!e)</span><span class="s0">return</span><span class="s1">[,];</span><span class="s0">const</span><span class="s1">[,n,s,i]=e;</span><span class="s0">return</span><span class="s1">[</span><span class="s4">`--</span><span class="s1">${n??s}</span><span class="s4">`</span><span class="s1">,i]}(t);</span><span class="s0">if</span><span class="s1">(!i)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const </span><span class="s1">a=window.getComputedStyle(e).getPropertyValue(i);</span><span class="s0">if</span><span class="s1">(a){</span><span class="s0">const </span><span class="s1">t=a.trim();</span><span class="s0">return </span><span class="s1">s(t)?parseFloat(t):t}</span><span class="s0">return </span><span class="s1">q(r)?mn(r,e,n+</span><span class="s2">1</span><span class="s1">):r}</span><span class="s0">function </span><span class="s1">fn(t,e){</span><span class="s0">return </span><span class="s1">t?.[e]??t?.default??t}</span><span class="s0">const </span><span class="s1">yn=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s4">&quot;width&quot;</span><span class="s1">,</span><span class="s4">&quot;height&quot;</span><span class="s1">,</span><span class="s4">&quot;top&quot;</span><span class="s1">,</span><span class="s4">&quot;left&quot;</span><span class="s1">,</span><span class="s4">&quot;right&quot;</span><span class="s1">,</span><span class="s4">&quot;bottom&quot;</span><span class="s1">,...Ee]),gn=t=&gt;e=&gt;e.test(t),vn=[Z,lt,ot,at,ht,ut,{test:t=&gt;</span><span class="s4">&quot;auto&quot;</span><span class="s1">===t,parse:t=&gt;t}],bn=t=&gt;vn.find(gn(t));</span><span class="s0">function </span><span class="s1">wn(t){</span><span class="s0">return</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?</span><span class="s2">0</span><span class="s1">===t:</span><span class="s0">null</span><span class="s1">===t||(</span><span class="s4">&quot;none&quot;</span><span class="s1">===t||</span><span class="s4">&quot;0&quot;</span><span class="s1">===t||i(t))}</span><span class="s0">const </span><span class="s1">Tn=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s4">&quot;brightness&quot;</span><span class="s1">,</span><span class="s4">&quot;contrast&quot;</span><span class="s1">,</span><span class="s4">&quot;saturate&quot;</span><span class="s1">,</span><span class="s4">&quot;opacity&quot;</span><span class="s1">]);</span><span class="s0">function </span><span class="s1">Mn(t){</span><span class="s0">const</span><span class="s1">[e,n]=t.slice(</span><span class="s2">0</span><span class="s1">,-</span><span class="s2">1</span><span class="s1">).split(</span><span class="s4">&quot;(&quot;</span><span class="s1">);</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;drop-shadow&quot;</span><span class="s1">===e)</span><span class="s0">return </span><span class="s1">t;</span><span class="s0">const</span><span class="s1">[s]=n.match(J)||[];</span><span class="s0">if</span><span class="s1">(!s)</span><span class="s0">return </span><span class="s1">t;</span><span class="s0">const </span><span class="s1">i=n.replace(s,</span><span class="s4">&quot;&quot;</span><span class="s1">);</span><span class="s0">let </span><span class="s1">r=Tn.has(e)?</span><span class="s2">1</span><span class="s1">:</span><span class="s2">0</span><span class="s1">;</span><span class="s0">return </span><span class="s1">s!==n&amp;&amp;(r*=</span><span class="s2">100</span><span class="s1">),e+</span><span class="s4">&quot;(&quot;</span><span class="s1">+r+i+</span><span class="s4">&quot;)&quot;</span><span class="s1">}</span><span class="s0">const </span><span class="s1">Vn=</span><span class="s3">/\b([a-z-]*)\(.*?\)/gu</span><span class="s1">,An={...Mt,getAnimatableNone:t=&gt;{</span><span class="s0">const </span><span class="s1">e=t.match(Vn);</span><span class="s0">return </span><span class="s1">e?e.map(Mn).join(</span><span class="s4">&quot; &quot;</span><span class="s1">):t}},Sn={...Z,transform:Math.round},xn={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,backgroundPositionX:lt,backgroundPositionY:lt,...{rotate:at,rotateX:at,rotateY:at,rotateZ:at,scale:_,scaleX:_,scaleY:_,scaleZ:_,skew:at,skewX:at,skewY:at,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:H,originX:ct,originY:ct,originZ:lt},zIndex:Sn,fillOpacity:H,strokeOpacity:H,numOctaves:Sn},kn={...xn,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:An,WebkitFilter:An},Cn=t=&gt;kn[t];</span><span class="s0">function </span><span class="s1">Fn(t,e){</span><span class="s0">let </span><span class="s1">n=Cn(t);</span><span class="s0">return </span><span class="s1">n!==An&amp;&amp;(n=Mt),n.getAnimatableNone?n.getAnimatableNone(e):</span><span class="s0">void </span><span class="s2">0</span><span class="s1">}</span><span class="s0">const </span><span class="s1">Pn=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s4">&quot;auto&quot;</span><span class="s1">,</span><span class="s4">&quot;none&quot;</span><span class="s1">,</span><span class="s4">&quot;0&quot;</span><span class="s1">]);</span><span class="s0">class </span><span class="s1">Dn </span><span class="s0">extends </span><span class="s1">Ue{constructor(t,e,n,s,i){</span><span class="s0">super</span><span class="s1">(t,e,n,s,i,!</span><span class="s2">0</span><span class="s1">)}readKeyframes(){</span><span class="s0">const</span><span class="s1">{unresolvedKeyframes:t,element:e,name:n}=</span><span class="s0">this</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(!e||!e.current)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">super</span><span class="s1">.readKeyframes();</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">0</span><span class="s1">;n&lt;t.length;n++){</span><span class="s0">let </span><span class="s1">s=t[n];</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">s&amp;&amp;(s=s.trim(),q(s))){</span><span class="s0">const </span><span class="s1">i=mn(s,e.current);</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==i&amp;&amp;(t[n]=i),n===t.length-</span><span class="s2">1</span><span class="s1">&amp;&amp;(</span><span class="s0">this</span><span class="s1">.finalKeyframe=s)}}</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.resolveNoneKeyframes(),!yn.has(n)||</span><span class="s2">2</span><span class="s1">!==t.length)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const</span><span class="s1">[s,i]=t,r=bn(s),a=bn(i);</span><span class="s0">if</span><span class="s1">(r!==a)</span><span class="s0">if</span><span class="s1">(Ie(r)&amp;&amp;Ie(a))</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s2">0</span><span class="s1">;e&lt;t.length;e++){</span><span class="s0">const </span><span class="s1">n=t[e];</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n&amp;&amp;(t[e]=parseFloat(n))}</span><span class="s0">else </span><span class="s1">Ne[n]&amp;&amp;(</span><span class="s0">this</span><span class="s1">.needsMeasurement=!</span><span class="s2">0</span><span class="s1">)}resolveNoneKeyframes(){</span><span class="s0">const</span><span class="s1">{unresolvedKeyframes:t,name:e}=</span><span class="s0">this</span><span class="s1">,n=[];</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s2">0</span><span class="s1">;e&lt;t.length;e++)(</span><span class="s0">null</span><span class="s1">===t[e]||wn(t[e]))&amp;&amp;n.push(e);n.length&amp;&amp;</span><span class="s0">function</span><span class="s1">(t,e,n){</span><span class="s0">let </span><span class="s1">s,i=</span><span class="s2">0</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(;i&lt;t.length&amp;&amp;!s;){</span><span class="s0">const </span><span class="s1">e=t[i];</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e&amp;&amp;!Pn.has(e)&amp;&amp;vt(e).values.length&amp;&amp;(s=t[i]),i++}</span><span class="s0">if</span><span class="s1">(s&amp;&amp;n)</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">i of e)t[i]=Fn(n,s)}(t,n,e)}measureInitialState(){</span><span class="s0">const</span><span class="s1">{element:t,unresolvedKeyframes:e,name:n}=</span><span class="s0">this</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(!t||!t.current)</span><span class="s0">return</span><span class="s1">;</span><span class="s4">&quot;height&quot;</span><span class="s1">===n&amp;&amp;(</span><span class="s0">this</span><span class="s1">.suspendedScrollY=window.pageYOffset),</span><span class="s0">this</span><span class="s1">.measuredOrigin=Ne[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[</span><span class="s2">0</span><span class="s1">]=</span><span class="s0">this</span><span class="s1">.measuredOrigin;</span><span class="s0">const </span><span class="s1">s=e[e.length-</span><span class="s2">1</span><span class="s1">];</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==s&amp;&amp;t.getValue(n,s).jump(s,!</span><span class="s2">1</span><span class="s1">)}measureEndState(){</span><span class="s0">const</span><span class="s1">{element:t,name:e,unresolvedKeyframes:n}=</span><span class="s0">this</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(!t||!t.current)</span><span class="s0">return</span><span class="s1">;</span><span class="s0">const </span><span class="s1">s=t.getValue(e);s&amp;&amp;s.jump(</span><span class="s0">this</span><span class="s1">.measuredOrigin,!</span><span class="s2">1</span><span class="s1">);</span><span class="s0">const </span><span class="s1">i=n.length-</span><span class="s2">1</span><span class="s1">,r=n[i];n[i]=Ne[e](t.measureViewportBox(),window.getComputedStyle(t.current)),</span><span class="s0">null</span><span class="s1">!==r&amp;&amp;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.finalKeyframe&amp;&amp;(</span><span class="s0">this</span><span class="s1">.finalKeyframe=r),</span><span class="s0">this</span><span class="s1">.removedTransforms?.length&amp;&amp;</span><span class="s0">this</span><span class="s1">.removedTransforms.forEach(([e,n])=&gt;{t.getValue(e).set(n)}),</span><span class="s0">this</span><span class="s1">.resolveNoneKeyframes()}}</span><span class="s0">const </span><span class="s1">En=(t,e)=&gt;e&amp;&amp;</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t?e.transform(t):t;</span><span class="s0">class </span><span class="s1">On{constructor(t,e={}){</span><span class="s0">this</span><span class="s1">.canTrackVelocity=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.events={},</span><span class="s0">this</span><span class="s1">.updateAndNotify=t=&gt;{</span><span class="s0">const </span><span class="s1">e=$.now();</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.updatedAt!==e&amp;&amp;</span><span class="s0">this</span><span class="s1">.setPrevFrameValue(),</span><span class="s0">this</span><span class="s1">.prev=</span><span class="s0">this</span><span class="s1">.current,</span><span class="s0">this</span><span class="s1">.setCurrent(t),</span><span class="s0">this</span><span class="s1">.current!==</span><span class="s0">this</span><span class="s1">.prev&amp;&amp;(</span><span class="s0">this</span><span class="s1">.events.change?.notify(</span><span class="s0">this</span><span class="s1">.current),</span><span class="s0">this</span><span class="s1">.dependents))</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t of </span><span class="s0">this</span><span class="s1">.dependents)t.dirty()},</span><span class="s0">this</span><span class="s1">.hasAnimated=!</span><span class="s2">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.setCurrent(t),</span><span class="s0">this</span><span class="s1">.owner=e.owner}setCurrent(t){</span><span class="s0">var </span><span class="s1">e;</span><span class="s0">this</span><span class="s1">.current=t,</span><span class="s0">this</span><span class="s1">.updatedAt=$.now(),</span><span class="s0">null</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.canTrackVelocity&amp;&amp;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==t&amp;&amp;(</span><span class="s0">this</span><span class="s1">.canTrackVelocity=(e=</span><span class="s0">this</span><span class="s1">.current,!isNaN(parseFloat(e))))}setPrevFrameValue(t=</span><span class="s0">this</span><span class="s1">.current){</span><span class="s0">this</span><span class="s1">.prevFrameValue=t,</span><span class="s0">this</span><span class="s1">.prevUpdatedAt=</span><span class="s0">this</span><span class="s1">.updatedAt}onChange(t){</span><span class="s0">return this</span><span class="s1">.on(</span><span class="s4">&quot;change&quot;</span><span class="s1">,t)}on(t,e){</span><span class="s0">this</span><span class="s1">.events[t]||(</span><span class="s0">this</span><span class="s1">.events[t]=</span><span class="s0">new </span><span class="s1">h);</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.events[t].add(e);</span><span class="s0">return</span><span class="s4">&quot;change&quot;</span><span class="s1">===t?()=&gt;{n(),B.read(()=&gt;{</span><span class="s0">this</span><span class="s1">.events.change.getSize()||</span><span class="s0">this</span><span class="s1">.stop()})}:n}clearListeners(){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in this</span><span class="s1">.events)</span><span class="s0">this</span><span class="s1">.events[t].clear()}attach(t,e){</span><span class="s0">this</span><span class="s1">.passiveEffect=t,</span><span class="s0">this</span><span class="s1">.stopPassiveEffect=e}set(t){</span><span class="s0">this</span><span class="s1">.passiveEffect?</span><span class="s0">this</span><span class="s1">.passiveEffect(t,</span><span class="s0">this</span><span class="s1">.updateAndNotify):</span><span class="s0">this</span><span class="s1">.updateAndNotify(t)}setWithVelocity(t,e,n){</span><span class="s0">this</span><span class="s1">.set(e),</span><span class="s0">this</span><span class="s1">.prev=</span><span class="s0">void </span><span class="s2">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.prevFrameValue=t,</span><span class="s0">this</span><span class="s1">.prevUpdatedAt=</span><span class="s0">this</span><span class="s1">.updatedAt-n}jump(t,e=!</span><span class="s2">0</span><span class="s1">){</span><span class="s0">this</span><span class="s1">.updateAndNotify(t),</span><span class="s0">this</span><span class="s1">.prev=t,</span><span class="s0">this</span><span class="s1">.prevUpdatedAt=</span><span class="s0">this</span><span class="s1">.prevFrameValue=</span><span class="s0">void </span><span class="s2">0</span><span class="s1">,e&amp;&amp;</span><span class="s0">this</span><span class="s1">.stop(),</span><span class="s0">this</span><span class="s1">.stopPassiveEffect&amp;&amp;</span><span class="s0">this</span><span class="s1">.stopPassiveEffect()}dirty(){</span><span class="s0">this</span><span class="s1">.events.change?.notify(</span><span class="s0">this</span><span class="s1">.current)}addDependent(t){</span><span class="s0">this</span><span class="s1">.dependents||(</span><span class="s0">this</span><span class="s1">.dependents=</span><span class="s0">new </span><span class="s1">Set),</span><span class="s0">this</span><span class="s1">.dependents.add(t)}removeDependent(t){</span><span class="s0">this</span><span class="s1">.dependents&amp;&amp;</span><span class="s0">this</span><span class="s1">.dependents.delete(t)}get(){</span><span class="s0">return this</span><span class="s1">.current}getPrevious(){</span><span class="s0">return this</span><span class="s1">.prev}getVelocity(){</span><span class="s0">const </span><span class="s1">t=$.now();</span><span class="s0">if</span><span class="s1">(!</span><span class="s0">this</span><span class="s1">.canTrackVelocity||</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.prevFrameValue||t-</span><span class="s0">this</span><span class="s1">.updatedAt&gt;</span><span class="s2">30</span><span class="s1">)</span><span class="s0">return </span><span class="s2">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">e=Math.min(</span><span class="s0">this</span><span class="s1">.updatedAt-</span><span class="s0">this</span><span class="s1">.prevUpdatedAt,</span><span class="s2">30</span><span class="s1">);</span><span class="s0">return </span><span class="s1">p(parseFloat(</span><span class="s0">this</span><span class="s1">.current)-parseFloat(</span><span class="s0">this</span><span class="s1">.prevFrameValue),e)}start(t){</span><span class="s0">return this</span><span class="s1">.stop(),</span><span class="s0">new </span><span class="s1">Promise(e=&gt;{</span><span class="s0">this</span><span class="s1">.hasAnimated=!</span><span class="s2">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.animation=t(e),</span><span class="s0">this</span><span class="s1">.events.animationStart&amp;&amp;</span><span class="s0">this</span><span class="s1">.events.animationStart.notify()}).then(()=&gt;{</span><span class="s0">this</span><span class="s1">.events.animationComplete&amp;&amp;</span><span class="s0">this</span><span class="s1">.events.animationComplete.notify(),</span><span class="s0">this</span><span class="s1">.clearAnimation()})}stop(){</span><span class="s0">this</span><span class="s1">.animation&amp;&amp;(</span><span class="s0">this</span><span class="s1">.animation.stop(),</span><span class="s0">this</span><span class="s1">.events.animationCancel&amp;&amp;</span><span class="s0">this</span><span class="s1">.events.animationCancel.notify()),</span><span class="s0">this</span><span class="s1">.clearAnimation()}isAnimating(){</span><span class="s0">return</span><span class="s1">!!</span><span class="s0">this</span><span class="s1">.animation}clearAnimation(){</span><span class="s0">delete this</span><span class="s1">.animation}destroy(){</span><span class="s0">this</span><span class="s1">.dependents?.clear(),</span><span class="s0">this</span><span class="s1">.events.destroy?.notify(),</span><span class="s0">this</span><span class="s1">.clearListeners(),</span><span class="s0">this</span><span class="s1">.stop(),</span><span class="s0">this</span><span class="s1">.stopPassiveEffect&amp;&amp;</span><span class="s0">this</span><span class="s1">.stopPassiveEffect()}}</span><span class="s0">function </span><span class="s1">In(t,e){</span><span class="s0">return new </span><span class="s1">On(t,e)}</span><span class="s0">const</span><span class="s1">{schedule:Rn,cancel:Bn}=R(queueMicrotask,!</span><span class="s2">1</span><span class="s1">);</span><span class="s0">function </span><span class="s1">Nn(t){</span><span class="s0">return</span><span class="s4">&quot;object&quot;</span><span class="s1">==</span><span class="s0">typeof</span><span class="s1">(e=t)&amp;&amp;</span><span class="s0">null</span><span class="s1">!==e&amp;&amp;</span><span class="s4">&quot;ownerSVGElement&quot;</span><span class="s0">in </span><span class="s1">t;</span><span class="s0">var </span><span class="s1">e}</span><span class="s0">const </span><span class="s1">Kn=t=&gt;Boolean(t&amp;&amp;t.getVelocity),jn=[...vn,pt,Mt];</span><span class="s0">function </span><span class="s1">Wn(t){</span><span class="s0">return</span><span class="s4">&quot;object&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;!Array.isArray(t)}</span><span class="s0">function </span><span class="s1">Yn(t,e,n,s){</span><span class="s0">return</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;Wn(e)?</span><span class="s0">function</span><span class="s1">(t,e,n){</span><span class="s0">if</span><span class="s1">(t </span><span class="s0">instanceof </span><span class="s1">EventTarget)</span><span class="s0">return</span><span class="s1">[t];</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t){</span><span class="s0">let </span><span class="s1">s=document;e&amp;&amp;(s=e.current);</span><span class="s0">const </span><span class="s1">i=n?.[t]??s.querySelectorAll(t);</span><span class="s0">return </span><span class="s1">i?Array.from(i):[]}</span><span class="s0">return </span><span class="s1">Array.from(t)}(t,n,s):t </span><span class="s0">instanceof </span><span class="s1">NodeList?Array.from(t):Array.isArray(t)?t:[t]}</span><span class="s0">function </span><span class="s1">$n(t,e,n){</span><span class="s0">return </span><span class="s1">t*(e+</span><span class="s2">1</span><span class="s1">)}</span><span class="s0">function </span><span class="s1">Ln(t,e,n,s){</span><span class="s0">return</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e?e:e.startsWith(</span><span class="s4">&quot;-&quot;</span><span class="s1">)||e.startsWith(</span><span class="s4">&quot;+&quot;</span><span class="s1">)?Math.max(</span><span class="s2">0</span><span class="s1">,t+parseFloat(e)):</span><span class="s4">&quot;&lt;&quot;</span><span class="s1">===e?n:e.startsWith(</span><span class="s4">&quot;&lt;&quot;</span><span class="s1">)?Math.max(</span><span class="s2">0</span><span class="s1">,n+parseFloat(e.slice(</span><span class="s2">1</span><span class="s1">))):s.get(e)??t}</span><span class="s0">function </span><span class="s1">Un(e,n,s,i,r,a){!</span><span class="s0">function</span><span class="s1">(e,n,s){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">i=</span><span class="s2">0</span><span class="s1">;i&lt;e.length;i++){</span><span class="s0">const </span><span class="s1">r=e[i];r.at&gt;n&amp;&amp;r.at&lt;s&amp;&amp;(t(e,r),i--)}}(e,r,a);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">t=</span><span class="s2">0</span><span class="s1">;t&lt;n.length;t++)e.push({value:n[t],at:St(r,a,i[t]),easing:F(s,t)})}</span><span class="s0">function </span><span class="s1">Xn(t,e){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">0</span><span class="s1">;n&lt;t.length;n++)t[n]=t[n]/(e+</span><span class="s2">1</span><span class="s1">)}</span><span class="s0">function </span><span class="s1">qn(t,e){</span><span class="s0">return </span><span class="s1">t.at===e.at?</span><span class="s0">null</span><span class="s1">===t.value?</span><span class="s2">1</span><span class="s1">:</span><span class="s0">null</span><span class="s1">===e.value?-</span><span class="s2">1</span><span class="s1">:</span><span class="s2">0</span><span class="s1">:t.at-e.at}</span><span class="s0">function </span><span class="s1">zn(t,e){</span><span class="s0">return</span><span class="s1">!e.has(t)&amp;&amp;e.set(t,{}),e.get(t)}</span><span class="s0">function </span><span class="s1">Zn(t,e){</span><span class="s0">return </span><span class="s1">e[t]||(e[t]=[]),e[t]}</span><span class="s0">function </span><span class="s1">Hn(t){</span><span class="s0">return </span><span class="s1">Array.isArray(t)?t:[t]}</span><span class="s0">function </span><span class="s1">_n(t,e){</span><span class="s0">return </span><span class="s1">t&amp;&amp;t[e]?{...t,...t[e]}:{...t}}</span><span class="s0">const </span><span class="s1">Gn=t=&gt;</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t,Jn=t=&gt;t.every(Gn),Qn=</span><span class="s0">new </span><span class="s1">WeakMap;</span><span class="s0">function </span><span class="s1">ts(t){</span><span class="s0">const </span><span class="s1">e=[{},{}];</span><span class="s0">return </span><span class="s1">t?.values.forEach((t,n)=&gt;{e[</span><span class="s2">0</span><span class="s1">][n]=t.get(),e[</span><span class="s2">1</span><span class="s1">][n]=t.getVelocity()}),e}</span><span class="s0">function </span><span class="s1">es(t,e,n,s){</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e){</span><span class="s0">const</span><span class="s1">[i,r]=ts(s);e=e(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==n?n:t.custom,i,r)}</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e&amp;&amp;(e=t.variants&amp;&amp;t.variants[e]),</span><span class="s4">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e){</span><span class="s0">const</span><span class="s1">[i,r]=ts(s);e=e(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==n?n:t.custom,i,r)}</span><span class="s0">return </span><span class="s1">e}</span><span class="s0">function </span><span class="s1">ns(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,In(n))}</span><span class="s0">function </span><span class="s1">ss(t){</span><span class="s0">return</span><span class="s1">(t=&gt;Array.isArray(t))(t)?t[t.length-</span><span class="s2">1</span><span class="s1">]||</span><span class="s2">0</span><span class="s1">:t}</span><span class="s0">function </span><span class="s1">is(t,e){</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">const </span><span class="s1">n=t.getProps();</span><span class="s0">return </span><span class="s1">es(n,e,n.custom,t)}(t,e);</span><span class="s0">let</span><span class="s1">{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">e </span><span class="s0">in </span><span class="s1">r){ns(t,e,ss(r[e]))}}</span><span class="s0">function </span><span class="s1">rs(t,e){</span><span class="s0">const </span><span class="s1">s=t.getValue(</span><span class="s4">&quot;willChange&quot;</span><span class="s1">);</span><span class="s0">if</span><span class="s1">(i=s,Boolean(Kn(i)&amp;&amp;i.add))</span><span class="s0">return </span><span class="s1">s.add(e);</span><span class="s0">if</span><span class="s1">(!s&amp;&amp;n.WillChange){</span><span class="s0">const </span><span class="s1">s=</span><span class="s0">new </span><span class="s1">n.WillChange(</span><span class="s4">&quot;auto&quot;</span><span class="s1">);t.addValue(</span><span class="s4">&quot;willChange&quot;</span><span class="s1">,s),s.add(e)}</span><span class="s0">var </span><span class="s1">i}</span><span class="s0">const </span><span class="s1">as=t=&gt;t.replace(</span><span class="s3">/([a-z])([A-Z])/gu</span><span class="s1">,</span><span class="s4">&quot;$1-$2&quot;</span><span class="s1">).toLowerCase(),os=</span><span class="s4">&quot;data-&quot;</span><span class="s1">+as(</span><span class="s4">&quot;framerAppearId&quot;</span><span class="s1">);</span><span class="s0">function </span><span class="s1">ls(t){</span><span class="s0">return </span><span class="s1">t.props[os]}</span><span class="s0">const </span><span class="s1">us=t=&gt;</span><span class="s0">null</span><span class="s1">!==t;</span><span class="s0">const </span><span class="s1">hs={type:</span><span class="s4">&quot;spring&quot;</span><span class="s1">,stiffness:</span><span class="s2">500</span><span class="s1">,damping:</span><span class="s2">25</span><span class="s1">,restSpeed:</span><span class="s2">10</span><span class="s1">},cs={type:</span><span class="s4">&quot;keyframes&quot;</span><span class="s1">,duration:</span><span class="s2">.8</span><span class="s1">},ds={type:</span><span class="s4">&quot;keyframes&quot;</span><span class="s1">,ease:[</span><span class="s2">.25</span><span class="s1">,</span><span class="s2">.1</span><span class="s1">,</span><span class="s2">.35</span><span class="s1">,</span><span class="s2">1</span><span class="s1">],duration:</span><span class="s2">.3</span><span class="s1">},ps=(t,{keyframes:e})=&gt;e.length&gt;</span><span class="s2">2</span><span class="s1">?cs:Oe.has(t)?t.startsWith(</span><span class="s4">&quot;scale&quot;</span><span class="s1">)?{type:</span><span class="s4">&quot;spring&quot;</span><span class="s1">,stiffness:</span><span class="s2">550</span><span class="s1">,damping:</span><span class="s2">0</span><span class="s1">===e[</span><span class="s2">1</span><span class="s1">]?</span><span class="s2">2</span><span class="s1">*Math.sqrt(</span><span class="s2">550</span><span class="s1">):</span><span class="s2">30</span><span class="s1">,restSpeed:</span><span class="s2">10</span><span class="s1">}:hs:ds;</span><span class="s0">const </span><span class="s1">ms=(t,e,s,i={},r,a)=&gt;o=&gt;{</span><span class="s0">const </span><span class="s1">l=fn(i,t)||{},u=l.delay||i.delay||</span><span class="s2">0</span><span class="s1">;</span><span class="s0">let</span><span class="s1">{elapsed:h=</span><span class="s2">0</span><span class="s1">}=i;h-=c(u);</span><span class="s0">const </span><span class="s1">d={keyframes:Array.isArray(s)?s:[</span><span class="s0">null</span><span class="s1">,s],ease:</span><span class="s4">&quot;easeOut&quot;</span><span class="s1">,velocity:e.getVelocity(),...l,delay:-h,onUpdate:t=&gt;{e.set(t),l.onUpdate&amp;&amp;l.onUpdate(t)},onComplete:()=&gt;{o(),l.onComplete&amp;&amp;l.onComplete()},name:t,motionValue:e,element:a?</span><span class="s0">void </span><span class="s2">0</span><span class="s1">:r};(</span><span class="s0">function</span><span class="s1">({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:u,...h}){</span><span class="s0">return</span><span class="s1">!!Object.keys(h).length})(l)||Object.assign(d,ps(t,d)),d.duration&amp;&amp;(d.duration=c(d.duration)),d.repeatDelay&amp;&amp;(d.repeatDelay=c(d.repeatDelay)),</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==d.from&amp;&amp;(d.keyframes[</span><span class="s2">0</span><span class="s1">]=d.from);</span><span class="s0">let </span><span class="s1">p=!</span><span class="s2">1</span><span class="s1">;</span><span class="s0">if</span><span class="s1">((!</span><span class="s2">1</span><span class="s1">===d.type||</span><span class="s2">0</span><span class="s1">===d.duration&amp;&amp;!d.repeatDelay)&amp;&amp;(an(d),</span><span class="s2">0</span><span class="s1">===d.delay&amp;&amp;(p=!</span><span class="s2">0</span><span class="s1">)),(n.instantAnimations||n.skipAnimations)&amp;&amp;(p=!</span><span class="s2">0</span><span class="s1">,an(d),d.delay=</span><span class="s2">0</span><span class="s1">),d.allowFlatten=!l.type&amp;&amp;!l.ease,p&amp;&amp;!a&amp;&amp;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==e.get()){</span><span class="s0">const </span><span class="s1">t=</span><span class="s0">function</span><span class="s1">(t,{repeat:e,repeatType:n=</span><span class="s4">&quot;loop&quot;</span><span class="s1">},s){</span><span class="s0">const </span><span class="s1">i=t.filter(us),r=e&amp;&amp;</span><span class="s4">&quot;loop&quot;</span><span class="s1">!==n&amp;&amp;e%</span><span class="s2">2</span><span class="s1">==</span><span class="s2">1</span><span class="s1">?</span><span class="s2">0</span><span class="s1">:i.length-</span><span class="s2">1</span><span class="s1">;</span><span class="s0">return </span><span class="s1">r&amp;&amp;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==s?s:i[r]}(d.keyframes,l);</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==t)</span><span class="s0">return void </span><span class="s1">B.update(()=&gt;{d.onUpdate(t),d.onComplete()})}</span><span class="s0">return </span><span class="s1">l.isSync?</span><span class="s0">new </span><span class="s1">Te(d):</span><span class="s0">new </span><span class="s1">un(d)};</span><span class="s0">function </span><span class="s1">fs({protectedKeys:t,needsAnimating:e},n){</span><span class="s0">const </span><span class="s1">s=t.hasOwnProperty(n)&amp;&amp;!</span><span class="s2">0</span><span class="s1">!==e[n];</span><span class="s0">return </span><span class="s1">e[n]=!</span><span class="s2">1</span><span class="s1">,s}</span><span class="s0">function </span><span class="s1">ys(t,e,{delay:n=</span><span class="s2">0</span><span class="s1">,transitionOverride:s,type:i}={}){</span><span class="s0">let</span><span class="s1">{transition:r=t.getDefaultTransition(),transitionEnd:a,...o}=e;s&amp;&amp;(r=s);</span><span class="s0">const </span><span class="s1">l=[],u=i&amp;&amp;t.animationState&amp;&amp;t.animationState.getState()[i];</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">e </span><span class="s0">in </span><span class="s1">o){</span><span class="s0">const </span><span class="s1">s=t.getValue(e,t.latestValues[e]??</span><span class="s0">null</span><span class="s1">),i=o[e];</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===i||u&amp;&amp;fs(u,e))</span><span class="s0">continue</span><span class="s1">;</span><span class="s0">const </span><span class="s1">a={delay:n,...fn(r||{},e)},h=s.get();</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==h&amp;&amp;!s.isAnimating&amp;&amp;!Array.isArray(i)&amp;&amp;i===h&amp;&amp;!a.velocity)</span><span class="s0">continue</span><span class="s1">;</span><span class="s0">let </span><span class="s1">c=!</span><span class="s2">1</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(window.MotionHandoffAnimation){</span><span class="s0">const </span><span class="s1">n=ls(t);</span><span class="s0">if</span><span class="s1">(n){</span><span class="s0">const </span><span class="s1">t=window.MotionHandoffAnimation(n,e,B);</span><span class="s0">null</span><span class="s1">!==t&amp;&amp;(a.startTime=t,c=!</span><span class="s2">0</span><span class="s1">)}}rs(t,e),s.start(ms(e,s,i,t.shouldReduceMotion&amp;&amp;yn.has(e)?{type:!</span><span class="s2">1</span><span class="s1">}:a,t,c));</span><span class="s0">const </span><span class="s1">d=s.animation;d&amp;&amp;l.push(d)}</span><span class="s0">return </span><span class="s1">a&amp;&amp;Promise.all(l).then(()=&gt;{B.update(()=&gt;{a&amp;&amp;is(t,a)})}),l}</span><span class="s0">const </span><span class="s1">gs={animation:[</span><span class="s4">&quot;animate&quot;</span><span class="s1">,</span><span class="s4">&quot;variants&quot;</span><span class="s1">,</span><span class="s4">&quot;whileHover&quot;</span><span class="s1">,</span><span class="s4">&quot;whileTap&quot;</span><span class="s1">,</span><span class="s4">&quot;exit&quot;</span><span class="s1">,</span><span class="s4">&quot;whileInView&quot;</span><span class="s1">,</span><span class="s4">&quot;whileFocus&quot;</span><span class="s1">,</span><span class="s4">&quot;whileDrag&quot;</span><span class="s1">],exit:[</span><span class="s4">&quot;exit&quot;</span><span class="s1">],drag:[</span><span class="s4">&quot;drag&quot;</span><span class="s1">,</span><span class="s4">&quot;dragControls&quot;</span><span class="s1">],focus:[</span><span class="s4">&quot;whileFocus&quot;</span><span class="s1">],hover:[</span><span class="s4">&quot;whileHover&quot;</span><span class="s1">,</span><span class="s4">&quot;onHoverStart&quot;</span><span class="s1">,</span><span class="s4">&quot;onHoverEnd&quot;</span><span class="s1">],tap:[</span><span class="s4">&quot;whileTap&quot;</span><span class="s1">,</span><span class="s4">&quot;onTap&quot;</span><span class="s1">,</span><span class="s4">&quot;onTapStart&quot;</span><span class="s1">,</span><span class="s4">&quot;onTapCancel&quot;</span><span class="s1">],pan:[</span><span class="s4">&quot;onPan&quot;</span><span class="s1">,</span><span class="s4">&quot;onPanStart&quot;</span><span class="s1">,</span><span class="s4">&quot;onPanSessionStart&quot;</span><span class="s1">,</span><span class="s4">&quot;onPanEnd&quot;</span><span class="s1">],inView:[</span><span class="s4">&quot;whileInView&quot;</span><span class="s1">,</span><span class="s4">&quot;onViewportEnter&quot;</span><span class="s1">,</span><span class="s4">&quot;onViewportLeave&quot;</span><span class="s1">],layout:[</span><span class="s4">&quot;layout&quot;</span><span class="s1">,</span><span class="s4">&quot;layoutId&quot;</span><span class="s1">]},vs={};</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in </span><span class="s1">gs)vs[t]={isEnabled:e=&gt;gs[t].some(t=&gt;!!e[t])};</span><span class="s0">const </span><span class="s1">bs=()=&gt;({x:{min:</span><span class="s2">0</span><span class="s1">,max:</span><span class="s2">0</span><span class="s1">},y:{min:</span><span class="s2">0</span><span class="s1">,max:</span><span class="s2">0</span><span class="s1">}}),ws=</span><span class="s4">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s0">typeof </span><span class="s1">window,Ts={current:</span><span class="s0">null</span><span class="s1">},Ms={current:!</span><span class="s2">1</span><span class="s1">};</span><span class="s0">const </span><span class="s1">Vs=[</span><span class="s4">&quot;initial&quot;</span><span class="s1">,</span><span class="s4">&quot;animate&quot;</span><span class="s1">,</span><span class="s4">&quot;whileInView&quot;</span><span class="s1">,</span><span class="s4">&quot;whileFocus&quot;</span><span class="s1">,</span><span class="s4">&quot;whileHover&quot;</span><span class="s1">,</span><span class="s4">&quot;whileTap&quot;</span><span class="s1">,</span><span class="s4">&quot;whileDrag&quot;</span><span class="s1">,</span><span class="s4">&quot;exit&quot;</span><span class="s1">];</span><span class="s0">function </span><span class="s1">As(t){</span><span class="s0">return null</span><span class="s1">!==(e=t.animate)&amp;&amp;</span><span class="s4">&quot;object&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e&amp;&amp;</span><span class="s4">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e.start||Vs.some(e=&gt;</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">return</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t||Array.isArray(t)}(t[e]));</span><span class="s0">var </span><span class="s1">e}</span><span class="s0">const </span><span class="s1">Ss=[</span><span class="s4">&quot;AnimationStart&quot;</span><span class="s1">,</span><span class="s4">&quot;AnimationComplete&quot;</span><span class="s1">,</span><span class="s4">&quot;Update&quot;</span><span class="s1">,</span><span class="s4">&quot;BeforeLayoutMeasure&quot;</span><span class="s1">,</span><span class="s4">&quot;LayoutMeasure&quot;</span><span class="s1">,</span><span class="s4">&quot;LayoutAnimationStart&quot;</span><span class="s1">,</span><span class="s4">&quot;LayoutAnimationComplete&quot;</span><span class="s1">];</span><span class="s0">class </span><span class="s1">xs{scrapeMotionValuesFromProps(t,e,n){</span><span class="s0">return</span><span class="s1">{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:r},a={}){</span><span class="s0">this</span><span class="s1">.current=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.children=</span><span class="s0">new </span><span class="s1">Set,</span><span class="s0">this</span><span class="s1">.isVariantNode=!</span><span class="s2">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isControllingVariants=!</span><span class="s2">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.shouldReduceMotion=</span><span class="s0">null</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.values=</span><span class="s0">new </span><span class="s1">Map,</span><span class="s0">this</span><span class="s1">.KeyframeResolver=Ue,</span><span class="s0">this</span><span class="s1">.features={},</span><span class="s0">this</span><span class="s1">.valueSubscriptions=</span><span class="s0">new </span><span class="s1">Map,</span><span class="s0">this</span><span class="s1">.prevMotionValues={},</span><span class="s0">this</span><span class="s1">.events={},</span><span class="s0">this</span><span class="s1">.propEventSubscriptions={},</span><span class="s0">this</span><span class="s1">.notifyUpdate=()=&gt;</span><span class="s0">this</span><span class="s1">.notify(</span><span class="s4">&quot;Update&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.latestValues),</span><span class="s0">this</span><span class="s1">.render=()=&gt;{</span><span class="s0">this</span><span class="s1">.current&amp;&amp;(</span><span class="s0">this</span><span class="s1">.triggerBuild(),</span><span class="s0">this</span><span class="s1">.renderInstance(</span><span class="s0">this</span><span class="s1">.current,</span><span class="s0">this</span><span class="s1">.renderState,</span><span class="s0">this</span><span class="s1">.props.style,</span><span class="s0">this</span><span class="s1">.projection))},</span><span class="s0">this</span><span class="s1">.renderScheduledAt=</span><span class="s2">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.scheduleRender=()=&gt;{</span><span class="s0">const </span><span class="s1">t=$.now();</span><span class="s0">this</span><span class="s1">.renderScheduledAt&lt;t&amp;&amp;(</span><span class="s0">this</span><span class="s1">.renderScheduledAt=t,B.render(</span><span class="s0">this</span><span class="s1">.render,!</span><span class="s2">1</span><span class="s1">,!</span><span class="s2">0</span><span class="s1">))};</span><span class="s0">const</span><span class="s1">{latestValues:o,renderState:l}=r;</span><span class="s0">this</span><span class="s1">.latestValues=o,</span><span class="s0">this</span><span class="s1">.baseTarget={...o},</span><span class="s0">this</span><span class="s1">.initialValues=e.initial?{...o}:{},</span><span class="s0">this</span><span class="s1">.renderState=l,</span><span class="s0">this</span><span class="s1">.parent=t,</span><span class="s0">this</span><span class="s1">.props=e,</span><span class="s0">this</span><span class="s1">.presenceContext=n,</span><span class="s0">this</span><span class="s1">.depth=t?t.depth+</span><span class="s2">1</span><span class="s1">:</span><span class="s2">0</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.reducedMotionConfig=s,</span><span class="s0">this</span><span class="s1">.options=a,</span><span class="s0">this</span><span class="s1">.blockInitialAnimation=Boolean(i),</span><span class="s0">this</span><span class="s1">.isControllingVariants=As(e),</span><span class="s0">this</span><span class="s1">.isVariantNode=</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">return </span><span class="s1">Boolean(As(t)||t.variants)}(e),</span><span class="s0">this</span><span class="s1">.isVariantNode&amp;&amp;(</span><span class="s0">this</span><span class="s1">.variantChildren=</span><span class="s0">new </span><span class="s1">Set),</span><span class="s0">this</span><span class="s1">.manuallyAnimateOnMount=Boolean(t&amp;&amp;t.current);</span><span class="s0">const</span><span class="s1">{willChange:u,...h}=</span><span class="s0">this</span><span class="s1">.scrapeMotionValuesFromProps(e,{},</span><span class="s0">this</span><span class="s1">);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in </span><span class="s1">h){</span><span class="s0">const </span><span class="s1">e=h[t];</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==o[t]&amp;&amp;Kn(e)&amp;&amp;e.set(o[t])}}mount(t){</span><span class="s0">this</span><span class="s1">.current=t,Qn.set(t,</span><span class="s0">this</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.projection&amp;&amp;!</span><span class="s0">this</span><span class="s1">.projection.instance&amp;&amp;</span><span class="s0">this</span><span class="s1">.projection.mount(t),</span><span class="s0">this</span><span class="s1">.parent&amp;&amp;</span><span class="s0">this</span><span class="s1">.isVariantNode&amp;&amp;!</span><span class="s0">this</span><span class="s1">.isControllingVariants&amp;&amp;(</span><span class="s0">this</span><span class="s1">.removeFromVariantTree=</span><span class="s0">this</span><span class="s1">.parent.addVariantChild(</span><span class="s0">this</span><span class="s1">)),</span><span class="s0">this</span><span class="s1">.values.forEach((t,e)=&gt;</span><span class="s0">this</span><span class="s1">.bindToMotionValue(e,t)),Ms.current||</span><span class="s0">function</span><span class="s1">(){</span><span class="s0">if</span><span class="s1">(Ms.current=!</span><span class="s2">0</span><span class="s1">,ws)</span><span class="s0">if</span><span class="s1">(window.matchMedia){</span><span class="s0">const </span><span class="s1">t=window.matchMedia(</span><span class="s4">&quot;(prefers-reduced-motion)&quot;</span><span class="s1">),e=()=&gt;Ts.current=t.matches;t.addEventListener(</span><span class="s4">&quot;change&quot;</span><span class="s1">,e),e()}</span><span class="s0">else </span><span class="s1">Ts.current=!</span><span class="s2">1</span><span class="s1">}(),</span><span class="s0">this</span><span class="s1">.shouldReduceMotion=</span><span class="s4">&quot;never&quot;</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.reducedMotionConfig&amp;&amp;(</span><span class="s4">&quot;always&quot;</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.reducedMotionConfig||Ts.current),</span><span class="s0">this</span><span class="s1">.parent?.addChild(</span><span class="s0">this</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.update(</span><span class="s0">this</span><span class="s1">.props,</span><span class="s0">this</span><span class="s1">.presenceContext)}unmount(){</span><span class="s0">this</span><span class="s1">.projection&amp;&amp;</span><span class="s0">this</span><span class="s1">.projection.unmount(),N(</span><span class="s0">this</span><span class="s1">.notifyUpdate),N(</span><span class="s0">this</span><span class="s1">.render),</span><span class="s0">this</span><span class="s1">.valueSubscriptions.forEach(t=&gt;t()),</span><span class="s0">this</span><span class="s1">.valueSubscriptions.clear(),</span><span class="s0">this</span><span class="s1">.removeFromVariantTree&amp;&amp;</span><span class="s0">this</span><span class="s1">.removeFromVariantTree(),</span><span class="s0">this</span><span class="s1">.parent?.removeChild(</span><span class="s0">this</span><span class="s1">);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in this</span><span class="s1">.events)</span><span class="s0">this</span><span class="s1">.events[t].clear();</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in this</span><span class="s1">.features){</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.features[t];e&amp;&amp;(e.unmount(),e.isMounted=!</span><span class="s2">1</span><span class="s1">)}</span><span class="s0">this</span><span class="s1">.current=</span><span class="s0">null</span><span class="s1">}addChild(t){</span><span class="s0">this</span><span class="s1">.children.add(t),</span><span class="s0">this</span><span class="s1">.enteringChildren??(</span><span class="s0">this</span><span class="s1">.enteringChildren=</span><span class="s0">new </span><span class="s1">Set),</span><span class="s0">this</span><span class="s1">.enteringChildren.add(t)}removeChild(t){</span><span class="s0">this</span><span class="s1">.children.delete(t),</span><span class="s0">this</span><span class="s1">.enteringChildren&amp;&amp;</span><span class="s0">this</span><span class="s1">.enteringChildren.delete(t)}bindToMotionValue(t,e){</span><span class="s0">this</span><span class="s1">.valueSubscriptions.has(t)&amp;&amp;</span><span class="s0">this</span><span class="s1">.valueSubscriptions.get(t)();</span><span class="s0">const </span><span class="s1">n=Oe.has(t);n&amp;&amp;</span><span class="s0">this</span><span class="s1">.onBindTransform&amp;&amp;</span><span class="s0">this</span><span class="s1">.onBindTransform();</span><span class="s0">const </span><span class="s1">s=e.on(</span><span class="s4">&quot;change&quot;</span><span class="s1">,e=&gt;{</span><span class="s0">this</span><span class="s1">.latestValues[t]=e,</span><span class="s0">this</span><span class="s1">.props.onUpdate&amp;&amp;B.preRender(</span><span class="s0">this</span><span class="s1">.notifyUpdate),n&amp;&amp;</span><span class="s0">this</span><span class="s1">.projection&amp;&amp;(</span><span class="s0">this</span><span class="s1">.projection.isTransformDirty=!</span><span class="s2">0</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.scheduleRender()});</span><span class="s0">let </span><span class="s1">i;window.MotionCheckAppearSync&amp;&amp;(i=window.MotionCheckAppearSync(</span><span class="s0">this</span><span class="s1">,t,e)),</span><span class="s0">this</span><span class="s1">.valueSubscriptions.set(t,()=&gt;{s(),i&amp;&amp;i(),e.owner&amp;&amp;e.stop()})}sortNodePosition(t){</span><span class="s0">return this</span><span class="s1">.current&amp;&amp;</span><span class="s0">this</span><span class="s1">.sortInstanceNodePosition&amp;&amp;</span><span class="s0">this</span><span class="s1">.type===t.type?</span><span class="s0">this</span><span class="s1">.sortInstanceNodePosition(</span><span class="s0">this</span><span class="s1">.current,t.current):</span><span class="s2">0</span><span class="s1">}updateFeatures(){</span><span class="s0">let </span><span class="s1">t=</span><span class="s4">&quot;animation&quot;</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(t </span><span class="s0">in </span><span class="s1">vs){</span><span class="s0">const </span><span class="s1">e=vs[t];</span><span class="s0">if</span><span class="s1">(!e)</span><span class="s0">continue</span><span class="s1">;</span><span class="s0">const</span><span class="s1">{isEnabled:n,Feature:s}=e;</span><span class="s0">if</span><span class="s1">(!</span><span class="s0">this</span><span class="s1">.features[t]&amp;&amp;s&amp;&amp;n(</span><span class="s0">this</span><span class="s1">.props)&amp;&amp;(</span><span class="s0">this</span><span class="s1">.features[t]=</span><span class="s0">new </span><span class="s1">s(</span><span class="s0">this</span><span class="s1">)),</span><span class="s0">this</span><span class="s1">.features[t]){</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!</span><span class="s2">0</span><span class="s1">)}}}triggerBuild(){</span><span class="s0">this</span><span class="s1">.build(</span><span class="s0">this</span><span class="s1">.renderState,</span><span class="s0">this</span><span class="s1">.latestValues,</span><span class="s0">this</span><span class="s1">.props)}measureViewportBox(){</span><span class="s0">return this</span><span class="s1">.current?</span><span class="s0">this</span><span class="s1">.measureInstanceViewportBox(</span><span class="s0">this</span><span class="s1">.current,</span><span class="s0">this</span><span class="s1">.props):{x:{min:</span><span class="s2">0</span><span class="s1">,max:</span><span class="s2">0</span><span class="s1">},y:{min:</span><span class="s2">0</span><span class="s1">,max:</span><span class="s2">0</span><span class="s1">}}}getStaticValue(t){</span><span class="s0">return this</span><span class="s1">.latestValues[t]}setStaticValue(t,e){</span><span class="s0">this</span><span class="s1">.latestValues[t]=e}update(t,e){(t.transformTemplate||</span><span class="s0">this</span><span class="s1">.props.transformTemplate)&amp;&amp;</span><span class="s0">this</span><span class="s1">.scheduleRender(),</span><span class="s0">this</span><span class="s1">.prevProps=</span><span class="s0">this</span><span class="s1">.props,</span><span class="s0">this</span><span class="s1">.props=t,</span><span class="s0">this</span><span class="s1">.prevPresenceContext=</span><span class="s0">this</span><span class="s1">.presenceContext,</span><span class="s0">this</span><span class="s1">.presenceContext=e;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">e=</span><span class="s2">0</span><span class="s1">;e&lt;Ss.length;e++){</span><span class="s0">const </span><span class="s1">n=Ss[e];</span><span class="s0">this</span><span class="s1">.propEventSubscriptions[n]&amp;&amp;(</span><span class="s0">this</span><span class="s1">.propEventSubscriptions[n](),</span><span class="s0">delete this</span><span class="s1">.propEventSubscriptions[n]);</span><span class="s0">const </span><span class="s1">s=t[</span><span class="s4">&quot;on&quot;</span><span class="s1">+n];s&amp;&amp;(</span><span class="s0">this</span><span class="s1">.propEventSubscriptions[n]=</span><span class="s0">this</span><span class="s1">.on(n,s))}</span><span class="s0">this</span><span class="s1">.prevMotionValues=</span><span class="s0">function</span><span class="s1">(t,e,n){</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">s </span><span class="s0">in </span><span class="s1">e){</span><span class="s0">const </span><span class="s1">i=e[s],r=n[s];</span><span class="s0">if</span><span class="s1">(Kn(i))t.addValue(s,i);</span><span class="s0">else if</span><span class="s1">(Kn(r))t.addValue(s,In(i,{owner:t}));</span><span class="s0">else if</span><span class="s1">(r!==i)</span><span class="s0">if</span><span class="s1">(t.hasValue(s)){</span><span class="s0">const </span><span class="s1">e=t.getValue(s);!</span><span class="s2">0</span><span class="s1">===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">e=t.getStaticValue(s);t.addValue(s,In(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==e?e:i,{owner:t}))}}</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">s </span><span class="s0">in </span><span class="s1">n)</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===e[s]&amp;&amp;t.removeValue(s);</span><span class="s0">return </span><span class="s1">e}(</span><span class="s0">this</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.scrapeMotionValuesFromProps(t,</span><span class="s0">this</span><span class="s1">.prevProps,</span><span class="s0">this</span><span class="s1">),</span><span class="s0">this</span><span class="s1">.prevMotionValues),</span><span class="s0">this</span><span class="s1">.handleChildMotionValue&amp;&amp;</span><span class="s0">this</span><span class="s1">.handleChildMotionValue()}getProps(){</span><span class="s0">return this</span><span class="s1">.props}getVariant(t){</span><span class="s0">return this</span><span class="s1">.props.variants?</span><span class="s0">this</span><span class="s1">.props.variants[t]:</span><span class="s0">void </span><span class="s2">0</span><span class="s1">}getDefaultTransition(){</span><span class="s0">return this</span><span class="s1">.props.transition}getTransformPagePoint(){</span><span class="s0">return this</span><span class="s1">.props.transformPagePoint}getClosestVariantNode(){</span><span class="s0">return this</span><span class="s1">.isVariantNode?</span><span class="s0">this</span><span class="s1">:</span><span class="s0">this</span><span class="s1">.parent?</span><span class="s0">this</span><span class="s1">.parent.getClosestVariantNode():</span><span class="s0">void </span><span class="s2">0</span><span class="s1">}addVariantChild(t){</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.getClosestVariantNode();</span><span class="s0">if</span><span class="s1">(e)</span><span class="s0">return </span><span class="s1">e.variantChildren&amp;&amp;e.variantChildren.add(t),()=&gt;e.variantChildren.delete(t)}addValue(t,e){</span><span class="s0">const </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.values.get(t);e!==n&amp;&amp;(n&amp;&amp;</span><span class="s0">this</span><span class="s1">.removeValue(t),</span><span class="s0">this</span><span class="s1">.bindToMotionValue(t,e),</span><span class="s0">this</span><span class="s1">.values.set(t,e),</span><span class="s0">this</span><span class="s1">.latestValues[t]=e.get())}removeValue(t){</span><span class="s0">this</span><span class="s1">.values.delete(t);</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">this</span><span class="s1">.valueSubscriptions.get(t);e&amp;&amp;(e(),</span><span class="s0">this</span><span class="s1">.valueSubscriptions.delete(t)),</span><span class="s0">delete this</span><span class="s1">.latestValues[t],</span><span class="s0">this</span><span class="s1">.removeValueFromRenderState(t,</span><span class="s0">this</span><span class="s1">.renderState)}hasValue(t){</span><span class="s0">return this</span><span class="s1">.values.has(t)}getValue(t,e){</span><span class="s0">if</span><span class="s1">(</span><span class="s0">this</span><span class="s1">.props.values&amp;&amp;</span><span class="s0">this</span><span class="s1">.props.values[t])</span><span class="s0">return this</span><span class="s1">.props.values[t];</span><span class="s0">let </span><span class="s1">n=</span><span class="s0">this</span><span class="s1">.values.get(t);</span><span class="s0">return void </span><span class="s2">0</span><span class="s1">===n&amp;&amp;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==e&amp;&amp;(n=In(</span><span class="s0">null</span><span class="s1">===e?</span><span class="s0">void </span><span class="s2">0</span><span class="s1">:e,{owner:</span><span class="s0">this</span><span class="s1">}),</span><span class="s0">this</span><span class="s1">.addValue(t,n)),n}readValue(t,e){</span><span class="s0">let </span><span class="s1">n=</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===</span><span class="s0">this</span><span class="s1">.latestValues[t]&amp;&amp;</span><span class="s0">this</span><span class="s1">.current?</span><span class="s0">this</span><span class="s1">.getBaseTargetFromProps(</span><span class="s0">this</span><span class="s1">.props,t)??</span><span class="s0">this</span><span class="s1">.readValueFromInstance(</span><span class="s0">this</span><span class="s1">.current,t,</span><span class="s0">this</span><span class="s1">.options):</span><span class="s0">this</span><span class="s1">.latestValues[t];</span><span class="s0">var </span><span class="s1">r;</span><span class="s0">return null</span><span class="s1">!=n&amp;&amp;(</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n&amp;&amp;(s(n)||i(n))?n=parseFloat(n):(r=n,!jn.find(gn(r))&amp;&amp;Mt.test(e)&amp;&amp;(n=Fn(t,e))),</span><span class="s0">this</span><span class="s1">.setBaseTarget(t,Kn(n)?n.get():n)),Kn(n)?n.get():n}setBaseTarget(t,e){</span><span class="s0">this</span><span class="s1">.baseTarget[t]=e}getBaseTarget(t){</span><span class="s0">const</span><span class="s1">{initial:e}=</span><span class="s0">this</span><span class="s1">.props;</span><span class="s0">let </span><span class="s1">n;</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e||</span><span class="s4">&quot;object&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">e){</span><span class="s0">const </span><span class="s1">s=es(</span><span class="s0">this</span><span class="s1">.props,e,</span><span class="s0">this</span><span class="s1">.presenceContext?.custom);s&amp;&amp;(n=s[t])}</span><span class="s0">if</span><span class="s1">(e&amp;&amp;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==n)</span><span class="s0">return </span><span class="s1">n;</span><span class="s0">const </span><span class="s1">s=</span><span class="s0">this</span><span class="s1">.getBaseTargetFromProps(</span><span class="s0">this</span><span class="s1">.props,t);</span><span class="s0">return void </span><span class="s2">0</span><span class="s1">===s||Kn(s)?</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==</span><span class="s0">this</span><span class="s1">.initialValues[t]&amp;&amp;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===n?</span><span class="s0">void </span><span class="s2">0</span><span class="s1">:</span><span class="s0">this</span><span class="s1">.baseTarget[t]:s}on(t,e){</span><span class="s0">return this</span><span class="s1">.events[t]||(</span><span class="s0">this</span><span class="s1">.events[t]=</span><span class="s0">new </span><span class="s1">h),</span><span class="s0">this</span><span class="s1">.events[t].add(e)}notify(t,...e){</span><span class="s0">this</span><span class="s1">.events[t]&amp;&amp;</span><span class="s0">this</span><span class="s1">.events[t].notify(...e)}scheduleRenderMicrotask(){Rn.render(</span><span class="s0">this</span><span class="s1">.render)}}</span><span class="s0">class </span><span class="s1">ks </span><span class="s0">extends </span><span class="s1">xs{constructor(){</span><span class="s0">super</span><span class="s1">(...arguments),</span><span class="s0">this</span><span class="s1">.KeyframeResolver=Dn}sortInstanceNodePosition(t,e){</span><span class="s0">return </span><span class="s2">2</span><span class="s1">&amp;t.compareDocumentPosition(e)?</span><span class="s2">1</span><span class="s1">:-</span><span class="s2">1</span><span class="s1">}getBaseTargetFromProps(t,e){</span><span class="s0">return </span><span class="s1">t.style?t.style[e]:</span><span class="s0">void </span><span class="s2">0</span><span class="s1">}removeValueFromRenderState(t,{vars:e,style:n}){</span><span class="s0">delete </span><span class="s1">e[t],</span><span class="s0">delete </span><span class="s1">n[t]}handleChildMotionValue(){</span><span class="s0">this</span><span class="s1">.childSubscription&amp;&amp;(</span><span class="s0">this</span><span class="s1">.childSubscription(),</span><span class="s0">delete this</span><span class="s1">.childSubscription);</span><span class="s0">const</span><span class="s1">{children:t}=</span><span class="s0">this</span><span class="s1">.props;Kn(t)&amp;&amp;(</span><span class="s0">this</span><span class="s1">.childSubscription=t.on(</span><span class="s4">&quot;change&quot;</span><span class="s1">,t=&gt;{</span><span class="s0">this</span><span class="s1">.current&amp;&amp;(</span><span class="s0">this</span><span class="s1">.current.textContent=</span><span class="s4">`</span><span class="s1">${t}</span><span class="s4">`</span><span class="s1">)}))}}</span><span class="s0">const </span><span class="s1">Cs={x:</span><span class="s4">&quot;translateX&quot;</span><span class="s1">,y:</span><span class="s4">&quot;translateY&quot;</span><span class="s1">,z:</span><span class="s4">&quot;translateZ&quot;</span><span class="s1">,transformPerspective:</span><span class="s4">&quot;perspective&quot;</span><span class="s1">},Fs=Ee.length;</span><span class="s0">function </span><span class="s1">Ps(t,e,n){</span><span class="s0">const</span><span class="s1">{style:s,vars:i,transformOrigin:r}=t;</span><span class="s0">let </span><span class="s1">a=!</span><span class="s2">1</span><span class="s1">,o=!</span><span class="s2">1</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in </span><span class="s1">e){</span><span class="s0">const </span><span class="s1">n=e[t];</span><span class="s0">if</span><span class="s1">(Oe.has(t))a=!</span><span class="s2">0</span><span class="s1">;</span><span class="s0">else if</span><span class="s1">(U(t))i[t]=n;</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">e=En(n,xn[t]);t.startsWith(</span><span class="s4">&quot;origin&quot;</span><span class="s1">)?(o=!</span><span class="s2">0</span><span class="s1">,r[t]=e):s[t]=e}}</span><span class="s0">if</span><span class="s1">(e.transform||(a||n?s.transform=</span><span class="s0">function</span><span class="s1">(t,e,n){</span><span class="s0">let </span><span class="s1">s=</span><span class="s4">&quot;&quot;</span><span class="s1">,i=!</span><span class="s2">0</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">r=</span><span class="s2">0</span><span class="s1">;r&lt;Fs;r++){</span><span class="s0">const </span><span class="s1">a=Ee[r],o=t[a];</span><span class="s0">if</span><span class="s1">(</span><span class="s0">void </span><span class="s2">0</span><span class="s1">===o)</span><span class="s0">continue</span><span class="s1">;</span><span class="s0">let </span><span class="s1">l=!</span><span class="s2">0</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(l=</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">o?o===(a.startsWith(</span><span class="s4">&quot;scale&quot;</span><span class="s1">)?</span><span class="s2">1</span><span class="s1">:</span><span class="s2">0</span><span class="s1">):</span><span class="s2">0</span><span class="s1">===parseFloat(o),!l||n){</span><span class="s0">const </span><span class="s1">t=En(o,xn[a]);l||(i=!</span><span class="s2">1</span><span class="s1">,s+=</span><span class="s4">`</span><span class="s1">${Cs[a]||a}</span><span class="s4">(</span><span class="s1">${t}</span><span class="s4">) `</span><span class="s1">),n&amp;&amp;(e[a]=t)}}</span><span class="s0">return </span><span class="s1">s=s.trim(),n?s=n(e,i?</span><span class="s4">&quot;&quot;</span><span class="s1">:s):i&amp;&amp;(s=</span><span class="s4">&quot;none&quot;</span><span class="s1">),s}(e,t.transform,n):s.transform&amp;&amp;(s.transform=</span><span class="s4">&quot;none&quot;</span><span class="s1">)),o){</span><span class="s0">const</span><span class="s1">{originX:t=</span><span class="s4">&quot;50%&quot;</span><span class="s1">,originY:e=</span><span class="s4">&quot;50%&quot;</span><span class="s1">,originZ:n=</span><span class="s2">0</span><span class="s1">}=r;s.transformOrigin=</span><span class="s4">`</span><span class="s1">${t} ${e} ${n}</span><span class="s4">`</span><span class="s1">}}</span><span class="s0">function </span><span class="s1">Ds(t,{style:e,vars:n},s,i){</span><span class="s0">const </span><span class="s1">r=t.style;</span><span class="s0">let </span><span class="s1">a;</span><span class="s0">for</span><span class="s1">(a </span><span class="s0">in </span><span class="s1">e)r[a]=e[a];</span><span class="s0">for</span><span class="s1">(a </span><span class="s0">in </span><span class="s1">i?.applyProjectionStyles(r,s),n)r.setProperty(a,n[a])}</span><span class="s0">const </span><span class="s1">Es={};</span><span class="s0">function </span><span class="s1">Os(t,{layout:e,layoutId:n}){</span><span class="s0">return </span><span class="s1">Oe.has(t)||t.startsWith(</span><span class="s4">&quot;origin&quot;</span><span class="s1">)||(e||</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==n)&amp;&amp;(!!Es[t]||</span><span class="s4">&quot;opacity&quot;</span><span class="s1">===t)}</span><span class="s0">function </span><span class="s1">Is(t,e,n){</span><span class="s0">const</span><span class="s1">{style:s}=t,i={};</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">r </span><span class="s0">in </span><span class="s1">s)(Kn(s[r])||e.style&amp;&amp;Kn(e.style[r])||Os(r,t)||</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==n?.getValue(r)?.liveStyle)&amp;&amp;(i[r]=s[r]);</span><span class="s0">return </span><span class="s1">i}</span><span class="s0">class </span><span class="s1">Rs </span><span class="s0">extends </span><span class="s1">ks{constructor(){</span><span class="s0">super</span><span class="s1">(...arguments),</span><span class="s0">this</span><span class="s1">.type=</span><span class="s4">&quot;html&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.renderInstance=Ds}readValueFromInstance(t,e){</span><span class="s0">if</span><span class="s1">(Oe.has(e))</span><span class="s0">return this</span><span class="s1">.projection?.isProjecting?Fe(e):((t,e)=&gt;{</span><span class="s0">const</span><span class="s1">{transform:n=</span><span class="s4">&quot;none&quot;</span><span class="s1">}=getComputedStyle(t);</span><span class="s0">return </span><span class="s1">Pe(n,e)})(t,e);{</span><span class="s0">const </span><span class="s1">s=(n=t,window.getComputedStyle(n)),i=(U(e)?s.getPropertyValue(e):s[e])||</span><span class="s2">0</span><span class="s1">;</span><span class="s0">return</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">i?i.trim():i}</span><span class="s0">var </span><span class="s1">n}measureInstanceViewportBox(t,{transformPagePoint:e}){</span><span class="s0">return function</span><span class="s1">(t,e){</span><span class="s0">return function</span><span class="s1">({top:t,left:e,right:n,bottom:s}){</span><span class="s0">return</span><span class="s1">{x:{min:e,max:n},y:{min:t,max:s}}}(</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">if</span><span class="s1">(!e)</span><span class="s0">return </span><span class="s1">t;</span><span class="s0">const </span><span class="s1">n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});</span><span class="s0">return</span><span class="s1">{top:n.y,left:n.x,bottom:s.y,right:s.x}}(t.getBoundingClientRect(),e))}(t,e)}build(t,e,n){Ps(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){</span><span class="s0">return </span><span class="s1">Is(t,e,n)}}</span><span class="s0">class </span><span class="s1">Bs </span><span class="s0">extends </span><span class="s1">xs{constructor(){</span><span class="s0">super</span><span class="s1">(...arguments),</span><span class="s0">this</span><span class="s1">.type=</span><span class="s4">&quot;object&quot;</span><span class="s1">}readValueFromInstance(t,e){</span><span class="s0">if</span><span class="s1">(</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">return </span><span class="s1">t </span><span class="s0">in </span><span class="s1">e}(e,t)){</span><span class="s0">const </span><span class="s1">n=t[e];</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n||</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">n)</span><span class="s0">return </span><span class="s1">n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,e){</span><span class="s0">delete </span><span class="s1">e.output[t]}measureInstanceViewportBox(){</span><span class="s0">return</span><span class="s1">{x:{min:</span><span class="s2">0</span><span class="s1">,max:</span><span class="s2">0</span><span class="s1">},y:{min:</span><span class="s2">0</span><span class="s1">,max:</span><span class="s2">0</span><span class="s1">}}}build(t,e){Object.assign(t.output,e)}renderInstance(t,{output:e}){Object.assign(t,e)}sortInstanceNodePosition(){</span><span class="s0">return </span><span class="s2">0</span><span class="s1">}}</span><span class="s0">const </span><span class="s1">Ns={offset:</span><span class="s4">&quot;stroke-dashoffset&quot;</span><span class="s1">,array:</span><span class="s4">&quot;stroke-dasharray&quot;</span><span class="s1">},Ks={offset:</span><span class="s4">&quot;strokeDashoffset&quot;</span><span class="s1">,array:</span><span class="s4">&quot;strokeDasharray&quot;</span><span class="s1">};</span><span class="s0">function </span><span class="s1">js(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:r=</span><span class="s2">1</span><span class="s1">,pathOffset:a=</span><span class="s2">0</span><span class="s1">,...o},l,u,h){</span><span class="s0">if</span><span class="s1">(Ps(t,o,u),l)</span><span class="s0">return void</span><span class="s1">(t.style.viewBox&amp;&amp;(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};</span><span class="s0">const</span><span class="s1">{attrs:c,style:d}=t;c.transform&amp;&amp;(d.transform=c.transform,</span><span class="s0">delete </span><span class="s1">c.transform),(d.transform||c.transformOrigin)&amp;&amp;(d.transformOrigin=c.transformOrigin??</span><span class="s4">&quot;50% 50%&quot;</span><span class="s1">,</span><span class="s0">delete </span><span class="s1">c.transformOrigin),d.transform&amp;&amp;(d.transformBox=h?.transformBox??</span><span class="s4">&quot;fill-box&quot;</span><span class="s1">,</span><span class="s0">delete </span><span class="s1">c.transformBox),</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==e&amp;&amp;(c.x=e),</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==n&amp;&amp;(c.y=n),</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==s&amp;&amp;(c.scale=s),</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==i&amp;&amp;</span><span class="s0">function</span><span class="s1">(t,e,n=</span><span class="s2">1</span><span class="s1">,s=</span><span class="s2">0</span><span class="s1">,i=!</span><span class="s2">0</span><span class="s1">){t.pathLength=</span><span class="s2">1</span><span class="s1">;</span><span class="s0">const </span><span class="s1">r=i?Ns:Ks;t[r.offset]=lt.transform(-s);</span><span class="s0">const </span><span class="s1">a=lt.transform(e),o=lt.transform(n);t[r.array]=</span><span class="s4">`</span><span class="s1">${a} ${o}</span><span class="s4">`</span><span class="s1">}(c,i,r,a,!</span><span class="s2">1</span><span class="s1">)}</span><span class="s0">const </span><span class="s1">Ws=</span><span class="s0">new </span><span class="s1">Set([</span><span class="s4">&quot;baseFrequency&quot;</span><span class="s1">,</span><span class="s4">&quot;diffuseConstant&quot;</span><span class="s1">,</span><span class="s4">&quot;kernelMatrix&quot;</span><span class="s1">,</span><span class="s4">&quot;kernelUnitLength&quot;</span><span class="s1">,</span><span class="s4">&quot;keySplines&quot;</span><span class="s1">,</span><span class="s4">&quot;keyTimes&quot;</span><span class="s1">,</span><span class="s4">&quot;limitingConeAngle&quot;</span><span class="s1">,</span><span class="s4">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s4">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s4">&quot;numOctaves&quot;</span><span class="s1">,</span><span class="s4">&quot;targetX&quot;</span><span class="s1">,</span><span class="s4">&quot;targetY&quot;</span><span class="s1">,</span><span class="s4">&quot;surfaceScale&quot;</span><span class="s1">,</span><span class="s4">&quot;specularConstant&quot;</span><span class="s1">,</span><span class="s4">&quot;specularExponent&quot;</span><span class="s1">,</span><span class="s4">&quot;stdDeviation&quot;</span><span class="s1">,</span><span class="s4">&quot;tableValues&quot;</span><span class="s1">,</span><span class="s4">&quot;viewBox&quot;</span><span class="s1">,</span><span class="s4">&quot;gradientTransform&quot;</span><span class="s1">,</span><span class="s4">&quot;pathLength&quot;</span><span class="s1">,</span><span class="s4">&quot;startOffset&quot;</span><span class="s1">,</span><span class="s4">&quot;textLength&quot;</span><span class="s1">,</span><span class="s4">&quot;lengthAdjust&quot;</span><span class="s1">]);</span><span class="s0">class </span><span class="s1">Ys </span><span class="s0">extends </span><span class="s1">ks{constructor(){</span><span class="s0">super</span><span class="s1">(...arguments),</span><span class="s0">this</span><span class="s1">.type=</span><span class="s4">&quot;svg&quot;</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.isSVGTag=!</span><span class="s2">1</span><span class="s1">,</span><span class="s0">this</span><span class="s1">.measureInstanceViewportBox=bs}getBaseTargetFromProps(t,e){</span><span class="s0">return </span><span class="s1">t[e]}readValueFromInstance(t,e){</span><span class="s0">if</span><span class="s1">(Oe.has(e)){</span><span class="s0">const </span><span class="s1">t=Cn(e);</span><span class="s0">return </span><span class="s1">t&amp;&amp;t.default||</span><span class="s2">0</span><span class="s1">}</span><span class="s0">return </span><span class="s1">e=Ws.has(e)?e:as(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){</span><span class="s0">return function</span><span class="s1">(t,e,n){</span><span class="s0">const </span><span class="s1">s=Is(t,e,n);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">n </span><span class="s0">in </span><span class="s1">t)(Kn(t[n])||Kn(e[n]))&amp;&amp;(s[-</span><span class="s2">1</span><span class="s1">!==Ee.indexOf(n)?</span><span class="s4">&quot;attr&quot;</span><span class="s1">+n.charAt(</span><span class="s2">0</span><span class="s1">).toUpperCase()+n.substring(</span><span class="s2">1</span><span class="s1">):n]=t[n]);</span><span class="s0">return </span><span class="s1">s}(t,e,n)}build(t,e,n){js(t,e,</span><span class="s0">this</span><span class="s1">.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,s){!</span><span class="s0">function</span><span class="s1">(t,e,n,s){Ds(t,e,</span><span class="s0">void </span><span class="s2">0</span><span class="s1">,s);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">n </span><span class="s0">in </span><span class="s1">e.attrs)t.setAttribute(Ws.has(n)?n:as(n),e.attrs[n])}(t,e,</span><span class="s2">0</span><span class="s1">,s)}mount(t){</span><span class="s0">var </span><span class="s1">e;</span><span class="s0">this</span><span class="s1">.isSVGTag=</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof</span><span class="s1">(e=t.tagName)&amp;&amp;</span><span class="s4">&quot;svg&quot;</span><span class="s1">===e.toLowerCase(),</span><span class="s0">super</span><span class="s1">.mount(t)}}</span><span class="s0">function </span><span class="s1">$s(t){</span><span class="s0">const </span><span class="s1">e={presenceContext:</span><span class="s0">null</span><span class="s1">,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Nn(t)&amp;&amp;!</span><span class="s0">function</span><span class="s1">(t){</span><span class="s0">return </span><span class="s1">Nn(t)&amp;&amp;</span><span class="s4">&quot;svg&quot;</span><span class="s1">===t.tagName}(t)?</span><span class="s0">new </span><span class="s1">Ys(e):</span><span class="s0">new </span><span class="s1">Rs(e);n.mount(t),Qn.set(t,n)}</span><span class="s0">function </span><span class="s1">Ls(t){</span><span class="s0">const </span><span class="s1">e=</span><span class="s0">new </span><span class="s1">Bs({presenceContext:</span><span class="s0">null</span><span class="s1">,props:{},visualState:{renderState:{output:{}},latestValues:{}}});e.mount(t),Qn.set(t,e)}</span><span class="s0">function </span><span class="s1">Us(t,e,n,s){</span><span class="s0">const </span><span class="s1">i=[];</span><span class="s0">if</span><span class="s1">(</span><span class="s0">function</span><span class="s1">(t,e){</span><span class="s0">return </span><span class="s1">Kn(t)||</span><span class="s4">&quot;number&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t||</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;!Wn(e)}(t,e))i.push(</span><span class="s0">function</span><span class="s1">(t,e,n){</span><span class="s0">const </span><span class="s1">s=Kn(t)?t:In(t);</span><span class="s0">return </span><span class="s1">s.start(ms(</span><span class="s4">&quot;&quot;</span><span class="s1">,s,e,n)),s.animation}(t,Wn(e)&amp;&amp;e.default||e,n&amp;&amp;n.default||n));</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">r=Yn(t,e,s),a=r.length;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">t=</span><span class="s2">0</span><span class="s1">;t&lt;a;t++){</span><span class="s0">const </span><span class="s1">s=r[t],o=s </span><span class="s0">instanceof </span><span class="s1">Element?$s:Ls;Qn.has(s)||o(s);</span><span class="s0">const </span><span class="s1">l=Qn.get(s),u={...n};</span><span class="s4">&quot;delay&quot;</span><span class="s0">in </span><span class="s1">u&amp;&amp;</span><span class="s4">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">u.delay&amp;&amp;(u.delay=u.delay(t,a)),i.push(...ys(l,{...e,transition:u},{}))}}</span><span class="s0">return </span><span class="s1">i}</span><span class="s0">function </span><span class="s1">Xs(t,e,n){</span><span class="s0">const </span><span class="s1">s=[],i=</span><span class="s0">function</span><span class="s1">(t,{defaultTransition:e={},...n}={},s,i){</span><span class="s0">const </span><span class="s1">r=e.duration||</span><span class="s2">.3</span><span class="s1">,a=</span><span class="s0">new </span><span class="s1">Map,o=</span><span class="s0">new </span><span class="s1">Map,l={},h=</span><span class="s0">new </span><span class="s1">Map;</span><span class="s0">let </span><span class="s1">d=</span><span class="s2">0</span><span class="s1">,p=</span><span class="s2">0</span><span class="s1">,m=</span><span class="s2">0</span><span class="s1">;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">0</span><span class="s1">;n&lt;t.length;n++){</span><span class="s0">const </span><span class="s1">a=t[n];</span><span class="s0">if</span><span class="s1">(</span><span class="s4">&quot;string&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">a){h.set(a,p);</span><span class="s0">continue</span><span class="s1">}</span><span class="s0">if</span><span class="s1">(!Array.isArray(a)){h.set(a.name,Ln(p,a.at,d,h));</span><span class="s0">continue</span><span class="s1">}</span><span class="s0">let</span><span class="s1">[u,f,y={}]=a;</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==y.at&amp;&amp;(p=Ln(p,y.at,d,h));</span><span class="s0">let </span><span class="s1">g=</span><span class="s2">0</span><span class="s1">;</span><span class="s0">const </span><span class="s1">v=(t,n,s,a=</span><span class="s2">0</span><span class="s1">,o=</span><span class="s2">0</span><span class="s1">)=&gt;{</span><span class="s0">const </span><span class="s1">l=Hn(t),{delay:u=</span><span class="s2">0</span><span class="s1">,times:h=pe(l),type:d=</span><span class="s4">&quot;keyframes&quot;</span><span class="s1">,repeat:f,repeatType:y,repeatDelay:v=</span><span class="s2">0</span><span class="s1">,...b}=n;</span><span class="s0">let</span><span class="s1">{ease:w=e.ease||</span><span class="s4">&quot;easeOut&quot;</span><span class="s1">,duration:T}=n;</span><span class="s0">const </span><span class="s1">M=</span><span class="s4">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">u?u(a,o):u,V=l.length,A=Qe(d)?d:i?.[d||</span><span class="s4">&quot;keyframes&quot;</span><span class="s1">];</span><span class="s0">if</span><span class="s1">(V&lt;=</span><span class="s2">2</span><span class="s1">&amp;&amp;A){</span><span class="s0">let </span><span class="s1">t=</span><span class="s2">100</span><span class="s1">;</span><span class="s0">if</span><span class="s1">(</span><span class="s2">2</span><span class="s1">===V&amp;&amp;Jn(l)){</span><span class="s0">const </span><span class="s1">e=l[</span><span class="s2">1</span><span class="s1">]-l[</span><span class="s2">0</span><span class="s1">];t=Math.abs(e)}</span><span class="s0">const </span><span class="s1">e={...b};</span><span class="s0">void </span><span class="s2">0</span><span class="s1">!==T&amp;&amp;(e.duration=c(T));</span><span class="s0">const </span><span class="s1">n=Yt(e,t,A);w=n.ease,T=n.duration}T??(T=r);</span><span class="s0">const </span><span class="s1">S=p+M;</span><span class="s2">1</span><span class="s1">===h.length&amp;&amp;</span><span class="s2">0</span><span class="s1">===h[</span><span class="s2">0</span><span class="s1">]&amp;&amp;(h[</span><span class="s2">1</span><span class="s1">]=</span><span class="s2">1</span><span class="s1">);</span><span class="s0">const </span><span class="s1">x=h.length-l.length;</span><span class="s0">if</span><span class="s1">(x&gt;</span><span class="s2">0</span><span class="s1">&amp;&amp;de(h,x),</span><span class="s2">1</span><span class="s1">===l.length&amp;&amp;l.unshift(</span><span class="s0">null</span><span class="s1">),f){T=$n(T,f);</span><span class="s0">const </span><span class="s1">t=[...l],e=[...h];w=Array.isArray(w)?[...w]:[w];</span><span class="s0">const </span><span class="s1">n=[...w];</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">s=</span><span class="s2">0</span><span class="s1">;s&lt;f;s++){l.push(...t);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">i=</span><span class="s2">0</span><span class="s1">;i&lt;t.length;i++)h.push(e[i]+(s+</span><span class="s2">1</span><span class="s1">)),w.push(</span><span class="s2">0</span><span class="s1">===i?</span><span class="s4">&quot;linear&quot;</span><span class="s1">:F(n,i-</span><span class="s2">1</span><span class="s1">))}Xn(h,f)}</span><span class="s0">const </span><span class="s1">k=S+T;Un(s,l,w,h,S,k),g=Math.max(M+T,g),m=Math.max(k,m)};</span><span class="s0">if</span><span class="s1">(Kn(u))v(f,y,Zn(</span><span class="s4">&quot;default&quot;</span><span class="s1">,zn(u,o)));</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const </span><span class="s1">t=Yn(u,f,s,l),e=t.length;</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">n=</span><span class="s2">0</span><span class="s1">;n&lt;e;n++){</span><span class="s0">const </span><span class="s1">s=zn(t[n],o);</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">t </span><span class="s0">in </span><span class="s1">f)v(f[t],_n(y,t),Zn(t,s),n,e)}}d=p,p+=g}</span><span class="s0">return </span><span class="s1">o.forEach((t,s)=&gt;{</span><span class="s0">for</span><span class="s1">(</span><span class="s0">const </span><span class="s1">i </span><span class="s0">in </span><span class="s1">t){</span><span class="s0">const </span><span class="s1">r=t[i];r.sort(qn);</span><span class="s0">const </span><span class="s1">o=[],l=[],h=[];</span><span class="s0">for</span><span class="s1">(</span><span class="s0">let </span><span class="s1">t=</span><span class="s2">0</span><span class="s1">;t&lt;r.length;t++){</span><span class="s0">const</span><span class="s1">{at:e,value:n,easing:s}=r[t];o.push(n),l.push(u(</span><span class="s2">0</span><span class="s1">,m,e)),h.push(s||</span><span class="s4">&quot;easeOut&quot;</span><span class="s1">)}</span><span class="s2">0</span><span class="s1">!==l[</span><span class="s2">0</span><span class="s1">]&amp;&amp;(l.unshift(</span><span class="s2">0</span><span class="s1">),o.unshift(o[</span><span class="s2">0</span><span class="s1">]),h.unshift(</span><span class="s4">&quot;easeInOut&quot;</span><span class="s1">)),</span><span class="s2">1</span><span class="s1">!==l[l.length-</span><span class="s2">1</span><span class="s1">]&amp;&amp;(l.push(</span><span class="s2">1</span><span class="s1">),o.push(</span><span class="s0">null</span><span class="s1">)),a.has(s)||a.set(s,{keyframes:{},transition:{}});</span><span class="s0">const </span><span class="s1">c=a.get(s);c.keyframes[i]=o,c.transition[i]={...e,duration:m,ease:h,times:l,...n}}}),a}(t,e,n,{spring:ue});</span><span class="s0">return </span><span class="s1">i.forEach(({keyframes:t,transition:e},n)=&gt;{s.push(...Us(n,t,e))}),s}</span><span class="s0">function </span><span class="s1">qs(e){</span><span class="s0">return function</span><span class="s1">(n,s,i){</span><span class="s0">let </span><span class="s1">r,a=[];</span><span class="s0">if</span><span class="s1">(o=n,Array.isArray(o)&amp;&amp;o.some(Array.isArray))a=Xs(n,s,e);</span><span class="s0">else</span><span class="s1">{</span><span class="s0">const</span><span class="s1">{onComplete:t,...o}=i||{};</span><span class="s4">&quot;function&quot;</span><span class="s1">==</span><span class="s0">typeof </span><span class="s1">t&amp;&amp;(r=t),a=Us(n,s,o,e)}</span><span class="s0">var </span><span class="s1">o;</span><span class="s0">const </span><span class="s1">l=</span><span class="s0">new </span><span class="s1">dn(a);</span><span class="s0">return </span><span class="s1">r&amp;&amp;l.finished.then(r),e&amp;&amp;(e.animations.push(l),l.finished.then(()=&gt;{t(e.animations,l)})),l}}</span><span class="s0">const </span><span class="s1">zs=qs();</span><span class="s0">export</span><span class="s1">{zs as animate,qs as createScopedAnimate};</span>
</pre>
</body>
</html>