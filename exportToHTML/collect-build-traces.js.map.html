<html>
<head>
<title>collect-build-traces.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
collect-build-traces.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/build/collect-build-traces.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { Span } from '../trace'</span><span class="s3">\n</span><span class="s1">import type { NextConfigComplete } from '../server/config-shared'</span><span class="s3">\n\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">TRACE_IGNORES,</span><span class="s3">\n  </span><span class="s1">type BuildTraceContext,</span><span class="s3">\n  </span><span class="s1">getFilesMapFromReasons,</span><span class="s3">\n</span><span class="s1">} from './webpack/plugins/next-trace-entrypoints-plugin'</span><span class="s3">\n\n</span><span class="s1">import path from 'path'</span><span class="s3">\n</span><span class="s1">import fs from 'fs/promises'</span><span class="s3">\n</span><span class="s1">import { nonNullable } from '../lib/non-nullable'</span><span class="s3">\n</span><span class="s1">import * as ciEnvironment from '../server/ci-info'</span><span class="s3">\n</span><span class="s1">import debugOriginal from 'next/dist/compiled/debug'</span><span class="s3">\n</span><span class="s1">import picomatch from 'next/dist/compiled/picomatch'</span><span class="s3">\n</span><span class="s1">import { defaultOverrides } from '../server/require-hook'</span><span class="s3">\n</span><span class="s1">import { nodeFileTrace } from 'next/dist/compiled/@vercel/nft'</span><span class="s3">\n</span><span class="s1">import { normalizePagePath } from '../shared/lib/page-path/normalize-page-path'</span><span class="s3">\n</span><span class="s1">import { normalizeAppPath } from '../shared/lib/router/utils/app-paths'</span><span class="s3">\n</span><span class="s1">import isError from '../lib/is-error'</span><span class="s3">\n</span><span class="s1">import type { NodeFileTraceReasons } from '@vercel/nft'</span><span class="s3">\n</span><span class="s1">import type { RoutesUsingEdgeRuntime } from './utils'</span><span class="s3">\n\n</span><span class="s1">const debug = debugOriginal('next:build:build-traces')</span><span class="s3">\n\n</span><span class="s1">function shouldIgnore(</span><span class="s3">\n  </span><span class="s1">file: string,</span><span class="s3">\n  </span><span class="s1">serverIgnoreFn: (file: string) =&gt; boolean,</span><span class="s3">\n  </span><span class="s1">reasons: NodeFileTraceReasons,</span><span class="s3">\n  </span><span class="s1">cachedIgnoreFiles: Map&lt;string, boolean&gt;,</span><span class="s3">\n  </span><span class="s1">children: Set&lt;string&gt; = new Set()</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">if (cachedIgnoreFiles.has(file)) {</span><span class="s3">\n    </span><span class="s1">return cachedIgnoreFiles.get(file)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (serverIgnoreFn(file)) {</span><span class="s3">\n    </span><span class="s1">cachedIgnoreFiles.set(file, true)</span><span class="s3">\n    </span><span class="s1">return true</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">children.add(file)</span><span class="s3">\n\n  </span><span class="s1">const reason = reasons.get(file)</span><span class="s3">\n  </span><span class="s1">if (!reason || reason.parents.size === 0 || reason.type.includes('initial')) {</span><span class="s3">\n    </span><span class="s1">cachedIgnoreFiles.set(file, false)</span><span class="s3">\n    </span><span class="s1">return false</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// if all parents are ignored the child file</span><span class="s3">\n  </span><span class="s1">// should be ignored as well</span><span class="s3">\n  </span><span class="s1">let allParentsIgnored = true</span><span class="s3">\n\n  </span><span class="s1">for (const parent of reason.parents.values()) {</span><span class="s3">\n    </span><span class="s1">if (!children.has(parent)) {</span><span class="s3">\n      </span><span class="s1">children.add(parent)</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\n        </span><span class="s1">!shouldIgnore(</span><span class="s3">\n          </span><span class="s1">parent,</span><span class="s3">\n          </span><span class="s1">serverIgnoreFn,</span><span class="s3">\n          </span><span class="s1">reasons,</span><span class="s3">\n          </span><span class="s1">cachedIgnoreFiles,</span><span class="s3">\n          </span><span class="s1">children</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">allParentsIgnored = false</span><span class="s3">\n        </span><span class="s1">break</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">cachedIgnoreFiles.set(file, allParentsIgnored)</span><span class="s3">\n  </span><span class="s1">return allParentsIgnored</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export async function collectBuildTraces({</span><span class="s3">\n  </span><span class="s1">dir,</span><span class="s3">\n  </span><span class="s1">config,</span><span class="s3">\n  </span><span class="s1">distDir,</span><span class="s3">\n  </span><span class="s1">edgeRuntimeRoutes,</span><span class="s3">\n  </span><span class="s1">staticPages,</span><span class="s3">\n  </span><span class="s1">nextBuildSpan = new Span({ name: 'build' }),</span><span class="s3">\n  </span><span class="s1">hasSsrAmpPages,</span><span class="s3">\n  </span><span class="s1">buildTraceContext,</span><span class="s3">\n  </span><span class="s1">outputFileTracingRoot,</span><span class="s3">\n  </span><span class="s1">isTurbopack,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">dir: string</span><span class="s3">\n  </span><span class="s1">distDir: string</span><span class="s3">\n  </span><span class="s1">staticPages: string[]</span><span class="s3">\n  </span><span class="s1">hasSsrAmpPages: boolean</span><span class="s3">\n  </span><span class="s1">outputFileTracingRoot: string</span><span class="s3">\n  </span><span class="s1">// pageInfos is serialized when this function runs in a worker.</span><span class="s3">\n  </span><span class="s1">edgeRuntimeRoutes: RoutesUsingEdgeRuntime</span><span class="s3">\n  </span><span class="s1">nextBuildSpan?: Span</span><span class="s3">\n  </span><span class="s1">config: NextConfigComplete</span><span class="s3">\n  </span><span class="s1">buildTraceContext?: BuildTraceContext</span><span class="s3">\n  </span><span class="s1">isTurbopack: boolean</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">const startTime = Date.now()</span><span class="s3">\n  </span><span class="s1">debug('starting build traces')</span><span class="s3">\n\n  </span><span class="s1">const { outputFileTracingIncludes = {}, outputFileTracingExcludes = {} } =</span><span class="s3">\n    </span><span class="s1">config</span><span class="s3">\n  </span><span class="s1">const excludeGlobKeys = Object.keys(outputFileTracingExcludes)</span><span class="s3">\n  </span><span class="s1">const includeGlobKeys = Object.keys(outputFileTracingIncludes)</span><span class="s3">\n\n  </span><span class="s1">await nextBuildSpan</span><span class="s3">\n    </span><span class="s1">.traceChild('node-file-trace-build', {</span><span class="s3">\n      </span><span class="s1">isTurbotrace: 'false', // TODO(arlyon): remove this</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">.traceAsyncFn(async () =&gt; {</span><span class="s3">\n      </span><span class="s1">const nextServerTraceOutput = path.join(</span><span class="s3">\n        </span><span class="s1">distDir,</span><span class="s3">\n        </span><span class="s1">'next-server.js.nft.json'</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">const nextMinimalTraceOutput = path.join(</span><span class="s3">\n        </span><span class="s1">distDir,</span><span class="s3">\n        </span><span class="s1">'next-minimal-server.js.nft.json'</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">const root = outputFileTracingRoot</span><span class="s3">\n\n      </span><span class="s1">// Under standalone mode, we need to trace the extra IPC server and</span><span class="s3">\n      </span><span class="s1">// worker files.</span><span class="s3">\n      </span><span class="s1">const isStandalone = config.output === 'standalone'</span><span class="s3">\n      </span><span class="s1">const sharedEntriesSet = Object.keys(defaultOverrides).map((value) =&gt;</span><span class="s3">\n        </span><span class="s1">require.resolve(value, {</span><span class="s3">\n          </span><span class="s1">paths: [require.resolve('next/dist/server/require-hook')],</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n\n      </span><span class="s1">const { cacheHandler } = config</span><span class="s3">\n      </span><span class="s1">const { cacheHandlers } = config.experimental</span><span class="s3">\n\n      </span><span class="s1">// ensure we trace any dependencies needed for custom</span><span class="s3">\n      </span><span class="s1">// incremental cache handler</span><span class="s3">\n      </span><span class="s1">if (cacheHandler) {</span><span class="s3">\n        </span><span class="s1">sharedEntriesSet.push(</span><span class="s3">\n          </span><span class="s1">require.resolve(</span><span class="s3">\n            </span><span class="s1">path.isAbsolute(cacheHandler)</span><span class="s3">\n              </span><span class="s1">? cacheHandler</span><span class="s3">\n              </span><span class="s1">: path.join(dir, cacheHandler)</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (cacheHandlers) {</span><span class="s3">\n        </span><span class="s1">for (const handlerPath of Object.values(cacheHandlers)) {</span><span class="s3">\n          </span><span class="s1">if (handlerPath) {</span><span class="s3">\n            </span><span class="s1">sharedEntriesSet.push(</span><span class="s3">\n              </span><span class="s1">require.resolve(</span><span class="s3">\n                </span><span class="s1">path.isAbsolute(handlerPath)</span><span class="s3">\n                  </span><span class="s1">? handlerPath</span><span class="s3">\n                  </span><span class="s1">: path.join(dir, handlerPath)</span><span class="s3">\n              </span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const serverEntries = [</span><span class="s3">\n        </span><span class="s1">...sharedEntriesSet,</span><span class="s3">\n        </span><span class="s1">...(isStandalone</span><span class="s3">\n          </span><span class="s1">? [</span><span class="s3">\n              </span><span class="s1">require.resolve('next/dist/server/lib/start-server'),</span><span class="s3">\n              </span><span class="s1">require.resolve('next/dist/server/next'),</span><span class="s3">\n              </span><span class="s1">require.resolve('next/dist/server/require-hook'),</span><span class="s3">\n            </span><span class="s1">]</span><span class="s3">\n          </span><span class="s1">: []),</span><span class="s3">\n        </span><span class="s1">require.resolve('next/dist/server/next-server'),</span><span class="s3">\n      </span><span class="s1">].filter(Boolean) as string[]</span><span class="s3">\n\n      </span><span class="s1">const minimalServerEntries = [</span><span class="s3">\n        </span><span class="s1">...sharedEntriesSet,</span><span class="s3">\n        </span><span class="s1">require.resolve('next/dist/compiled/next-server/server.runtime.prod'),</span><span class="s3">\n      </span><span class="s1">].filter(Boolean)</span><span class="s3">\n\n      </span><span class="s1">const additionalIgnores = new Set&lt;string&gt;()</span><span class="s3">\n\n      </span><span class="s1">for (const glob of excludeGlobKeys) {</span><span class="s3">\n        </span><span class="s1">if (picomatch(glob)('next-server')) {</span><span class="s3">\n          </span><span class="s1">outputFileTracingExcludes[glob].forEach((exclude) =&gt; {</span><span class="s3">\n            </span><span class="s1">additionalIgnores.add(exclude)</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const makeIgnoreFn = (ignores: string[]) =&gt; {</span><span class="s3">\n        </span><span class="s1">// pre compile the ignore globs</span><span class="s3">\n        </span><span class="s1">const isMatch = picomatch(ignores, {</span><span class="s3">\n          </span><span class="s1">contains: true,</span><span class="s3">\n          </span><span class="s1">dot: true,</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n\n        </span><span class="s1">return (pathname: string) =&gt; {</span><span class="s3">\n          </span><span class="s1">if (path.isAbsolute(pathname) &amp;&amp; !pathname.startsWith(root)) {</span><span class="s3">\n            </span><span class="s1">return true</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">return isMatch(pathname)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const sharedIgnores = [</span><span class="s3">\n        </span><span class="s1">'**/next/dist/compiled/next-server/**/*.dev.js',</span><span class="s3">\n        </span><span class="s1">...(isStandalone ? [] : ['**/next/dist/compiled/jest-worker/**/*']),</span><span class="s3">\n        </span><span class="s1">'**/next/dist/compiled/webpack/*',</span><span class="s3">\n        </span><span class="s1">'**/node_modules/webpack5/**/*',</span><span class="s3">\n        </span><span class="s1">'**/next/dist/server/lib/route-resolver*',</span><span class="s3">\n        </span><span class="s1">'next/dist/compiled/semver/semver/**/*.js',</span><span class="s3">\n\n        </span><span class="s1">...(ciEnvironment.hasNextSupport</span><span class="s3">\n          </span><span class="s1">? [</span><span class="s3">\n              </span><span class="s1">// only ignore image-optimizer code when</span><span class="s3">\n              </span><span class="s1">// this is being handled outside of next-server</span><span class="s3">\n              </span><span class="s1">'**/next/dist/server/image-optimizer.js',</span><span class="s3">\n            </span><span class="s1">]</span><span class="s3">\n          </span><span class="s1">: []),</span><span class="s3">\n\n        </span><span class="s1">...(!hasSsrAmpPages</span><span class="s3">\n          </span><span class="s1">? ['**/next/dist/compiled/@ampproject/toolbox-optimizer/**/*']</span><span class="s3">\n          </span><span class="s1">: []),</span><span class="s3">\n\n        </span><span class="s1">...(isStandalone ? [] : TRACE_IGNORES),</span><span class="s3">\n        </span><span class="s1">...additionalIgnores,</span><span class="s3">\n      </span><span class="s1">]</span><span class="s3">\n\n      </span><span class="s1">const sharedIgnoresFn = makeIgnoreFn(sharedIgnores)</span><span class="s3">\n\n      </span><span class="s1">const serverIgnores = [</span><span class="s3">\n        </span><span class="s1">...sharedIgnores,</span><span class="s3">\n        </span><span class="s1">'**/node_modules/react{,-dom,-dom-server-turbopack}/**/*.development.js',</span><span class="s3">\n        </span><span class="s1">'**/*.d.ts',</span><span class="s3">\n        </span><span class="s1">'**/*.map',</span><span class="s3">\n        </span><span class="s1">'**/next/dist/pages/**/*',</span><span class="s3">\n        </span><span class="s1">...(ciEnvironment.hasNextSupport</span><span class="s3">\n          </span><span class="s1">? ['**/node_modules/sharp/**/*', '**/@img/sharp-libvips*/**/*']</span><span class="s3">\n          </span><span class="s1">: []),</span><span class="s3">\n      </span><span class="s1">].filter(nonNullable)</span><span class="s3">\n      </span><span class="s1">const serverIgnoreFn = makeIgnoreFn(serverIgnores)</span><span class="s3">\n\n      </span><span class="s1">const minimalServerIgnores = [</span><span class="s3">\n        </span><span class="s1">...serverIgnores,</span><span class="s3">\n        </span><span class="s1">'**/next/dist/compiled/edge-runtime/**/*',</span><span class="s3">\n        </span><span class="s1">'**/next/dist/server/web/sandbox/**/*',</span><span class="s3">\n        </span><span class="s1">'**/next/dist/server/post-process.js',</span><span class="s3">\n      </span><span class="s1">]</span><span class="s3">\n      </span><span class="s1">const minimalServerIgnoreFn = makeIgnoreFn(minimalServerIgnores)</span><span class="s3">\n\n      </span><span class="s1">const routesIgnores = [</span><span class="s3">\n        </span><span class="s1">...sharedIgnores,</span><span class="s3">\n        </span><span class="s1">// server chunks are provided via next-trace-entrypoints-plugin plugin</span><span class="s3">\n        </span><span class="s1">// as otherwise all chunks are traced here and included for all pages</span><span class="s3">\n        </span><span class="s1">// whether they are needed or not</span><span class="s3">\n        </span><span class="s1">'**/.next/server/chunks/**',</span><span class="s3">\n        </span><span class="s1">'**/next/dist/server/optimize-amp.js',</span><span class="s3">\n        </span><span class="s1">'**/next/dist/server/post-process.js',</span><span class="s3">\n      </span><span class="s1">].filter(nonNullable)</span><span class="s3">\n\n      </span><span class="s1">const routeIgnoreFn = makeIgnoreFn(routesIgnores)</span><span class="s3">\n\n      </span><span class="s1">const serverTracedFiles = new Set&lt;string&gt;()</span><span class="s3">\n      </span><span class="s1">const minimalServerTracedFiles = new Set&lt;string&gt;()</span><span class="s3">\n\n      </span><span class="s1">function addToTracedFiles(base: string, file: string, dest: Set&lt;string&gt;) {</span><span class="s3">\n        </span><span class="s1">dest.add(</span><span class="s3">\n          </span><span class="s1">path.relative(distDir, path.join(base, file)).replace(/</span><span class="s3">\\\\</span><span class="s1">/g, '/')</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (isStandalone) {</span><span class="s3">\n        </span><span class="s1">addToTracedFiles(</span><span class="s3">\n          </span><span class="s1">'',</span><span class="s3">\n          </span><span class="s1">require.resolve('next/dist/compiled/jest-worker/processChild'),</span><span class="s3">\n          </span><span class="s1">serverTracedFiles</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">addToTracedFiles(</span><span class="s3">\n          </span><span class="s1">'',</span><span class="s3">\n          </span><span class="s1">require.resolve('next/dist/compiled/jest-worker/threadChild'),</span><span class="s3">\n          </span><span class="s1">serverTracedFiles</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (isTurbopack) {</span><span class="s3">\n        </span><span class="s1">addToTracedFiles(distDir, './package.json', serverTracedFiles)</span><span class="s3">\n        </span><span class="s1">addToTracedFiles(distDir, './package.json', minimalServerTracedFiles)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">{</span><span class="s3">\n        </span><span class="s1">const chunksToTrace: string[] = [</span><span class="s3">\n          </span><span class="s1">...(buildTraceContext?.chunksTrace?.action.input || []),</span><span class="s3">\n          </span><span class="s1">...serverEntries,</span><span class="s3">\n          </span><span class="s1">...minimalServerEntries,</span><span class="s3">\n        </span><span class="s1">]</span><span class="s3">\n        </span><span class="s1">const result = await nodeFileTrace(chunksToTrace, {</span><span class="s3">\n          </span><span class="s1">base: outputFileTracingRoot,</span><span class="s3">\n          </span><span class="s1">processCwd: dir,</span><span class="s3">\n          </span><span class="s1">mixedModules: true,</span><span class="s3">\n          </span><span class="s1">async readFile(p) {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n              </span><span class="s1">return await fs.readFile(p, 'utf8')</span><span class="s3">\n            </span><span class="s1">} catch (e) {</span><span class="s3">\n              </span><span class="s1">if (isError(e) &amp;&amp; (e.code === 'ENOENT' || e.code === 'EISDIR')) {</span><span class="s3">\n                </span><span class="s1">// since tracing runs in parallel with static generation server</span><span class="s3">\n                </span><span class="s1">// files might be removed from that step so tolerate ENOENT</span><span class="s3">\n                </span><span class="s1">// errors gracefully</span><span class="s3">\n                </span><span class="s1">return ''</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">throw e</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n          </span><span class="s1">async readlink(p) {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n              </span><span class="s1">return await fs.readlink(p)</span><span class="s3">\n            </span><span class="s1">} catch (e) {</span><span class="s3">\n              </span><span class="s1">if (</span><span class="s3">\n                </span><span class="s1">isError(e) &amp;&amp;</span><span class="s3">\n                </span><span class="s1">(e.code === 'EINVAL' ||</span><span class="s3">\n                  </span><span class="s1">e.code === 'ENOENT' ||</span><span class="s3">\n                  </span><span class="s1">e.code === 'UNKNOWN')</span><span class="s3">\n              </span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">return null</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">throw e</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n          </span><span class="s1">async stat(p) {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n              </span><span class="s1">return await fs.stat(p)</span><span class="s3">\n            </span><span class="s1">} catch (e) {</span><span class="s3">\n              </span><span class="s1">if (isError(e) &amp;&amp; (e.code === 'ENOENT' || e.code === 'ENOTDIR')) {</span><span class="s3">\n                </span><span class="s1">return null</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">throw e</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n          </span><span class="s1">// handle shared ignores at top-level as it</span><span class="s3">\n          </span><span class="s1">// avoids over-tracing when we don't need to</span><span class="s3">\n          </span><span class="s1">// and speeds up total trace time</span><span class="s3">\n          </span><span class="s1">ignore(p) {</span><span class="s3">\n            </span><span class="s1">if (sharedIgnoresFn(p)) {</span><span class="s3">\n              </span><span class="s1">return true</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">// if a chunk is attempting to be traced that isn't</span><span class="s3">\n            </span><span class="s1">// in our initial list we need to ignore it to prevent</span><span class="s3">\n            </span><span class="s1">// over tracing as webpack needs to be the source of</span><span class="s3">\n            </span><span class="s1">// truth for which chunks should be included for each entry</span><span class="s3">\n            </span><span class="s1">if (</span><span class="s3">\n              </span><span class="s1">p.includes('.next/server/chunks') &amp;&amp;</span><span class="s3">\n              </span><span class="s1">!chunksToTrace.includes(path.join(outputFileTracingRoot, p))</span><span class="s3">\n            </span><span class="s1">) {</span><span class="s3">\n              </span><span class="s1">return true</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return false</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">const reasons = result.reasons</span><span class="s3">\n        </span><span class="s1">const fileList = result.fileList</span><span class="s3">\n        </span><span class="s1">for (const file of result.esmFileList) {</span><span class="s3">\n          </span><span class="s1">fileList.add(file)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const parentFilesMap = getFilesMapFromReasons(fileList, reasons)</span><span class="s3">\n        </span><span class="s1">const cachedLookupIgnore = new Map&lt;string, boolean&gt;()</span><span class="s3">\n        </span><span class="s1">const cachedLookupIgnoreMinimal = new Map&lt;string, boolean&gt;()</span><span class="s3">\n\n        </span><span class="s1">for (const [entries, tracedFiles] of [</span><span class="s3">\n          </span><span class="s1">[serverEntries, serverTracedFiles],</span><span class="s3">\n          </span><span class="s1">[minimalServerEntries, minimalServerTracedFiles],</span><span class="s3">\n        </span><span class="s1">] as Array&lt;[string[], Set&lt;string&gt;]&gt;) {</span><span class="s3">\n          </span><span class="s1">for (const file of entries) {</span><span class="s3">\n            </span><span class="s1">const curFiles = [</span><span class="s3">\n              </span><span class="s1">...(parentFilesMap</span><span class="s3">\n                </span><span class="s1">.get(path.relative(outputFileTracingRoot, file))</span><span class="s3">\n                </span><span class="s1">?.keys() || []),</span><span class="s3">\n            </span><span class="s1">]</span><span class="s3">\n            </span><span class="s1">tracedFiles.add(path.relative(distDir, file).replace(/</span><span class="s3">\\\\</span><span class="s1">/g, '/'))</span><span class="s3">\n\n            </span><span class="s1">for (const curFile of curFiles || []) {</span><span class="s3">\n              </span><span class="s1">const filePath = path.join(outputFileTracingRoot, curFile)</span><span class="s3">\n\n              </span><span class="s1">if (</span><span class="s3">\n                </span><span class="s1">!shouldIgnore(</span><span class="s3">\n                  </span><span class="s1">curFile,</span><span class="s3">\n                  </span><span class="s1">tracedFiles === minimalServerTracedFiles</span><span class="s3">\n                    </span><span class="s1">? minimalServerIgnoreFn</span><span class="s3">\n                    </span><span class="s1">: serverIgnoreFn,</span><span class="s3">\n                  </span><span class="s1">reasons,</span><span class="s3">\n                  </span><span class="s1">tracedFiles === minimalServerTracedFiles</span><span class="s3">\n                    </span><span class="s1">? cachedLookupIgnoreMinimal</span><span class="s3">\n                    </span><span class="s1">: cachedLookupIgnore</span><span class="s3">\n                </span><span class="s1">)</span><span class="s3">\n              </span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">tracedFiles.add(</span><span class="s3">\n                  </span><span class="s1">path.relative(distDir, filePath).replace(/</span><span class="s3">\\\\</span><span class="s1">/g, '/')</span><span class="s3">\n                </span><span class="s1">)</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const { entryNameFilesMap } = buildTraceContext?.chunksTrace || {}</span><span class="s3">\n\n        </span><span class="s1">const cachedLookupIgnoreRoutes = new Map&lt;string, boolean&gt;()</span><span class="s3">\n\n        </span><span class="s1">await Promise.all(</span><span class="s3">\n          </span><span class="s1">[</span><span class="s3">\n            </span><span class="s1">...(entryNameFilesMap</span><span class="s3">\n              </span><span class="s1">? Object.entries(entryNameFilesMap)</span><span class="s3">\n              </span><span class="s1">: new Map()),</span><span class="s3">\n          </span><span class="s1">].map(async ([entryName, entryNameFiles]) =&gt; {</span><span class="s3">\n            </span><span class="s1">const isApp = entryName.startsWith('app/')</span><span class="s3">\n            </span><span class="s1">const isPages = entryName.startsWith('pages/')</span><span class="s3">\n            </span><span class="s1">let route = entryName</span><span class="s3">\n            </span><span class="s1">if (isApp) {</span><span class="s3">\n              </span><span class="s1">route = normalizeAppPath(route.substring('app'.length))</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (isPages) {</span><span class="s3">\n              </span><span class="s1">route = normalizePagePath(route.substring('pages'.length))</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">// we don't need to trace for automatically statically optimized</span><span class="s3">\n            </span><span class="s1">// pages as they don't have server bundles, note there is</span><span class="s3">\n            </span><span class="s1">// the caveat with flying shuttle mode as it needs this for</span><span class="s3">\n            </span><span class="s1">// detecting changed entries</span><span class="s3">\n            </span><span class="s1">if (staticPages.includes(route)) {</span><span class="s3">\n              </span><span class="s1">return</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const entryOutputPath = path.join(</span><span class="s3">\n              </span><span class="s1">distDir,</span><span class="s3">\n              </span><span class="s1">'server',</span><span class="s3">\n              </span><span class="s1">`${entryName}.js`</span><span class="s3">\n            </span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">const traceOutputPath = `${entryOutputPath}.nft.json`</span><span class="s3">\n            </span><span class="s1">const existingTrace = JSON.parse(</span><span class="s3">\n              </span><span class="s1">await fs.readFile(traceOutputPath, 'utf8')</span><span class="s3">\n            </span><span class="s1">) as {</span><span class="s3">\n              </span><span class="s1">version: number</span><span class="s3">\n              </span><span class="s1">files: string[]</span><span class="s3">\n              </span><span class="s1">fileHashes: Record&lt;string, string&gt;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const traceOutputDir = path.dirname(traceOutputPath)</span><span class="s3">\n            </span><span class="s1">const curTracedFiles = new Set&lt;string&gt;()</span><span class="s3">\n\n            </span><span class="s1">for (const file of [...entryNameFiles, entryOutputPath]) {</span><span class="s3">\n              </span><span class="s1">const curFiles = [</span><span class="s3">\n                </span><span class="s1">...(parentFilesMap</span><span class="s3">\n                  </span><span class="s1">.get(path.relative(outputFileTracingRoot, file))</span><span class="s3">\n                  </span><span class="s1">?.keys() || []),</span><span class="s3">\n              </span><span class="s1">]</span><span class="s3">\n              </span><span class="s1">for (const curFile of curFiles || []) {</span><span class="s3">\n                </span><span class="s1">if (</span><span class="s3">\n                  </span><span class="s1">!shouldIgnore(</span><span class="s3">\n                    </span><span class="s1">curFile,</span><span class="s3">\n                    </span><span class="s1">routeIgnoreFn,</span><span class="s3">\n                    </span><span class="s1">reasons,</span><span class="s3">\n                    </span><span class="s1">cachedLookupIgnoreRoutes</span><span class="s3">\n                  </span><span class="s1">)</span><span class="s3">\n                </span><span class="s1">) {</span><span class="s3">\n                  </span><span class="s1">const filePath = path.join(outputFileTracingRoot, curFile)</span><span class="s3">\n                  </span><span class="s1">const outputFile = path</span><span class="s3">\n                    </span><span class="s1">.relative(traceOutputDir, filePath)</span><span class="s3">\n                    </span><span class="s1">.replace(/</span><span class="s3">\\\\</span><span class="s1">/g, '/')</span><span class="s3">\n                  </span><span class="s1">curTracedFiles.add(outputFile)</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">for (const file of existingTrace.files || []) {</span><span class="s3">\n              </span><span class="s1">curTracedFiles.add(file)</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">await fs.writeFile(</span><span class="s3">\n              </span><span class="s1">traceOutputPath,</span><span class="s3">\n              </span><span class="s1">JSON.stringify({</span><span class="s3">\n                </span><span class="s1">...existingTrace,</span><span class="s3">\n                </span><span class="s1">files: [...curTracedFiles].sort(),</span><span class="s3">\n              </span><span class="s1">})</span><span class="s3">\n            </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const moduleTypes = ['app-page', 'pages']</span><span class="s3">\n\n      </span><span class="s1">for (const type of moduleTypes) {</span><span class="s3">\n        </span><span class="s1">const modulePath = require.resolve(</span><span class="s3">\n          </span><span class="s1">`next/dist/server/route-modules/${type}/module.compiled`</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">const relativeModulePath = path.relative(root, modulePath)</span><span class="s3">\n\n        </span><span class="s1">const contextDir = path.join(</span><span class="s3">\n          </span><span class="s1">path.dirname(modulePath),</span><span class="s3">\n          </span><span class="s1">'vendored',</span><span class="s3">\n          </span><span class="s1">'contexts'</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n\n        </span><span class="s1">for (const item of await fs.readdir(contextDir)) {</span><span class="s3">\n          </span><span class="s1">const itemPath = path.relative(root, path.join(contextDir, item))</span><span class="s3">\n          </span><span class="s1">if (!serverIgnoreFn(itemPath)) {</span><span class="s3">\n            </span><span class="s1">addToTracedFiles(root, itemPath, serverTracedFiles)</span><span class="s3">\n            </span><span class="s1">addToTracedFiles(root, itemPath, minimalServerTracedFiles)</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">addToTracedFiles(root, relativeModulePath, serverTracedFiles)</span><span class="s3">\n        </span><span class="s1">addToTracedFiles(root, relativeModulePath, minimalServerTracedFiles)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const serverTracedFilesSorted = Array.from(serverTracedFiles)</span><span class="s3">\n      </span><span class="s1">serverTracedFilesSorted.sort()</span><span class="s3">\n      </span><span class="s1">const minimalServerTracedFilesSorted = Array.from(</span><span class="s3">\n        </span><span class="s1">minimalServerTracedFiles</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">minimalServerTracedFilesSorted.sort()</span><span class="s3">\n\n      </span><span class="s1">await Promise.all([</span><span class="s3">\n        </span><span class="s1">fs.writeFile(</span><span class="s3">\n          </span><span class="s1">nextServerTraceOutput,</span><span class="s3">\n          </span><span class="s1">JSON.stringify({</span><span class="s3">\n            </span><span class="s1">version: 1,</span><span class="s3">\n            </span><span class="s1">files: serverTracedFilesSorted,</span><span class="s3">\n          </span><span class="s1">} as {</span><span class="s3">\n            </span><span class="s1">version: number</span><span class="s3">\n            </span><span class="s1">files: string[]</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">),</span><span class="s3">\n        </span><span class="s1">fs.writeFile(</span><span class="s3">\n          </span><span class="s1">nextMinimalTraceOutput,</span><span class="s3">\n          </span><span class="s1">JSON.stringify({</span><span class="s3">\n            </span><span class="s1">version: 1,</span><span class="s3">\n            </span><span class="s1">files: minimalServerTracedFilesSorted,</span><span class="s3">\n          </span><span class="s1">} as {</span><span class="s3">\n            </span><span class="s1">version: number</span><span class="s3">\n            </span><span class="s1">files: string[]</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">])</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">// apply outputFileTracingIncludes/outputFileTracingExcludes after runTurbotrace</span><span class="s3">\n  </span><span class="s1">const includeExcludeSpan = nextBuildSpan.traceChild('apply-include-excludes')</span><span class="s3">\n  </span><span class="s1">await includeExcludeSpan.traceAsyncFn(async () =&gt; {</span><span class="s3">\n    </span><span class="s1">const globOrig =</span><span class="s3">\n      </span><span class="s1">require('next/dist/compiled/glob') as typeof import('next/dist/compiled/glob')</span><span class="s3">\n    </span><span class="s1">const glob = (pattern: string): Promise&lt;string[]&gt; =&gt; {</span><span class="s3">\n      </span><span class="s1">return new Promise((resolve, reject) =&gt; {</span><span class="s3">\n        </span><span class="s1">globOrig(</span><span class="s3">\n          </span><span class="s1">pattern,</span><span class="s3">\n          </span><span class="s1">{ cwd: dir, nodir: true, dot: true },</span><span class="s3">\n          </span><span class="s1">(err, files) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (err) {</span><span class="s3">\n              </span><span class="s1">return reject(err)</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">resolve(files)</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const { entryNameFilesMap } = buildTraceContext?.chunksTrace || {}</span><span class="s3">\n\n    </span><span class="s1">await Promise.all(</span><span class="s3">\n      </span><span class="s1">[</span><span class="s3">\n        </span><span class="s1">...(entryNameFilesMap ? Object.entries(entryNameFilesMap) : new Map()),</span><span class="s3">\n      </span><span class="s1">].map(async ([entryName]) =&gt; {</span><span class="s3">\n        </span><span class="s1">const isApp = entryName.startsWith('app/')</span><span class="s3">\n        </span><span class="s1">const isPages = entryName.startsWith('pages/')</span><span class="s3">\n        </span><span class="s1">let route = entryName</span><span class="s3">\n        </span><span class="s1">if (isApp) {</span><span class="s3">\n          </span><span class="s1">route = normalizeAppPath(entryName)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (isPages) {</span><span class="s3">\n          </span><span class="s1">route = normalizePagePath(entryName)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (staticPages.includes(route)) {</span><span class="s3">\n          </span><span class="s1">return</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// edge routes have no trace files</span><span class="s3">\n        </span><span class="s1">if (edgeRuntimeRoutes.hasOwnProperty(route)) {</span><span class="s3">\n          </span><span class="s1">return</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const combinedIncludes = new Set&lt;string&gt;()</span><span class="s3">\n        </span><span class="s1">const combinedExcludes = new Set&lt;string&gt;()</span><span class="s3">\n        </span><span class="s1">for (const curGlob of includeGlobKeys) {</span><span class="s3">\n          </span><span class="s1">const isMatch = picomatch(curGlob, { dot: true, contains: true })</span><span class="s3">\n          </span><span class="s1">if (isMatch(route)) {</span><span class="s3">\n            </span><span class="s1">for (const include of outputFileTracingIncludes[curGlob]) {</span><span class="s3">\n              </span><span class="s1">combinedIncludes.add(include.replace(/</span><span class="s3">\\\\</span><span class="s1">/g, '/'))</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">for (const curGlob of excludeGlobKeys) {</span><span class="s3">\n          </span><span class="s1">const isMatch = picomatch(curGlob, { dot: true, contains: true })</span><span class="s3">\n          </span><span class="s1">if (isMatch(route)) {</span><span class="s3">\n            </span><span class="s1">for (const exclude of outputFileTracingExcludes[curGlob]) {</span><span class="s3">\n              </span><span class="s1">combinedExcludes.add(exclude)</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (!combinedIncludes?.size &amp;&amp; !combinedExcludes?.size) {</span><span class="s3">\n          </span><span class="s1">return</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const traceFile = path.join(</span><span class="s3">\n          </span><span class="s1">distDir,</span><span class="s3">\n          </span><span class="s1">`server`,</span><span class="s3">\n          </span><span class="s1">`${entryName}.js.nft.json`</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">const pageDir = path.dirname(traceFile)</span><span class="s3">\n        </span><span class="s1">const traceContent = JSON.parse(await fs.readFile(traceFile, 'utf8'))</span><span class="s3">\n        </span><span class="s1">const includes: string[] = []</span><span class="s3">\n        </span><span class="s1">const resolvedTraceIncludes = new Map&lt;string, string[]&gt;()</span><span class="s3">\n\n        </span><span class="s1">if (combinedIncludes?.size) {</span><span class="s3">\n          </span><span class="s1">await Promise.all(</span><span class="s3">\n            </span><span class="s1">[...combinedIncludes].map(async (includeGlob) =&gt; {</span><span class="s3">\n              </span><span class="s1">const results = await glob(includeGlob)</span><span class="s3">\n              </span><span class="s1">const resolvedInclude = resolvedTraceIncludes.get(</span><span class="s3">\n                </span><span class="s1">includeGlob</span><span class="s3">\n              </span><span class="s1">) || [</span><span class="s3">\n                </span><span class="s1">...results.map((file) =&gt; {</span><span class="s3">\n                  </span><span class="s1">return path.relative(pageDir, path.join(dir, file))</span><span class="s3">\n                </span><span class="s1">}),</span><span class="s3">\n              </span><span class="s1">]</span><span class="s3">\n              </span><span class="s1">includes.push(...resolvedInclude)</span><span class="s3">\n              </span><span class="s1">resolvedTraceIncludes.set(includeGlob, resolvedInclude)</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const combined = new Set([...traceContent.files, ...includes])</span><span class="s3">\n\n        </span><span class="s1">if (combinedExcludes?.size) {</span><span class="s3">\n          </span><span class="s1">const resolvedGlobs = [...combinedExcludes].map((exclude) =&gt;</span><span class="s3">\n            </span><span class="s1">path.join(dir, exclude)</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n\n          </span><span class="s1">// pre compile before forEach</span><span class="s3">\n          </span><span class="s1">const isMatch = picomatch(resolvedGlobs, {</span><span class="s3">\n            </span><span class="s1">dot: true,</span><span class="s3">\n            </span><span class="s1">contains: true,</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n\n          </span><span class="s1">combined.forEach((file) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (isMatch(path.join(pageDir, file))) {</span><span class="s3">\n              </span><span class="s1">combined.delete(file)</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// overwrite trace file with custom includes/excludes</span><span class="s3">\n        </span><span class="s1">await fs.writeFile(</span><span class="s3">\n          </span><span class="s1">traceFile,</span><span class="s3">\n          </span><span class="s1">JSON.stringify({</span><span class="s3">\n            </span><span class="s1">version: traceContent.version,</span><span class="s3">\n            </span><span class="s1">files: [...combined],</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">debug(`finished build tracing ${Date.now() - startTime}ms`)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;collectBuildTraces&quot;</span><span class="s0">,</span><span class="s1">&quot;debug&quot;</span><span class="s0">,</span><span class="s1">&quot;debugOriginal&quot;</span><span class="s0">,</span><span class="s1">&quot;shouldIgnore&quot;</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">,</span><span class="s1">&quot;serverIgnoreFn&quot;</span><span class="s0">,</span><span class="s1">&quot;reasons&quot;</span><span class="s0">,</span><span class="s1">&quot;cachedIgnoreFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;children&quot;</span><span class="s0">,</span><span class="s1">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">&quot;has&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;add&quot;</span><span class="s0">,</span><span class="s1">&quot;reason&quot;</span><span class="s0">,</span><span class="s1">&quot;parents&quot;</span><span class="s0">,</span><span class="s1">&quot;size&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;allParentsIgnored&quot;</span><span class="s0">,</span><span class="s1">&quot;parent&quot;</span><span class="s0">,</span><span class="s1">&quot;values&quot;</span><span class="s0">,</span><span class="s1">&quot;dir&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;distDir&quot;</span><span class="s0">,</span><span class="s1">&quot;edgeRuntimeRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;staticPages&quot;</span><span class="s0">,</span><span class="s1">&quot;nextBuildSpan&quot;</span><span class="s0">,</span><span class="s1">&quot;Span&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;hasSsrAmpPages&quot;</span><span class="s0">,</span><span class="s1">&quot;buildTraceContext&quot;</span><span class="s0">,</span><span class="s1">&quot;outputFileTracingRoot&quot;</span><span class="s0">,</span><span class="s1">&quot;isTurbopack&quot;</span><span class="s0">,</span><span class="s1">&quot;startTime&quot;</span><span class="s0">,</span><span class="s1">&quot;Date&quot;</span><span class="s0">,</span><span class="s1">&quot;now&quot;</span><span class="s0">,</span><span class="s1">&quot;outputFileTracingIncludes&quot;</span><span class="s0">,</span><span class="s1">&quot;outputFileTracingExcludes&quot;</span><span class="s0">,</span><span class="s1">&quot;excludeGlobKeys&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;keys&quot;</span><span class="s0">,</span><span class="s1">&quot;includeGlobKeys&quot;</span><span class="s0">,</span><span class="s1">&quot;traceChild&quot;</span><span class="s0">,</span><span class="s1">&quot;isTurbotrace&quot;</span><span class="s0">,</span><span class="s1">&quot;traceAsyncFn&quot;</span><span class="s0">,</span><span class="s1">&quot;nextServerTraceOutput&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;nextMinimalTraceOutput&quot;</span><span class="s0">,</span><span class="s1">&quot;root&quot;</span><span class="s0">,</span><span class="s1">&quot;isStandalone&quot;</span><span class="s0">,</span><span class="s1">&quot;output&quot;</span><span class="s0">,</span><span class="s1">&quot;sharedEntriesSet&quot;</span><span class="s0">,</span><span class="s1">&quot;defaultOverrides&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;paths&quot;</span><span class="s0">,</span><span class="s1">&quot;cacheHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;cacheHandlers&quot;</span><span class="s0">,</span><span class="s1">&quot;experimental&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;isAbsolute&quot;</span><span class="s0">,</span><span class="s1">&quot;handlerPath&quot;</span><span class="s0">,</span><span class="s1">&quot;serverEntries&quot;</span><span class="s0">,</span><span class="s1">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">&quot;Boolean&quot;</span><span class="s0">,</span><span class="s1">&quot;minimalServerEntries&quot;</span><span class="s0">,</span><span class="s1">&quot;additionalIgnores&quot;</span><span class="s0">,</span><span class="s1">&quot;glob&quot;</span><span class="s0">,</span><span class="s1">&quot;picomatch&quot;</span><span class="s0">,</span><span class="s1">&quot;forEach&quot;</span><span class="s0">,</span><span class="s1">&quot;exclude&quot;</span><span class="s0">,</span><span class="s1">&quot;makeIgnoreFn&quot;</span><span class="s0">,</span><span class="s1">&quot;ignores&quot;</span><span class="s0">,</span><span class="s1">&quot;isMatch&quot;</span><span class="s0">,</span><span class="s1">&quot;contains&quot;</span><span class="s0">,</span><span class="s1">&quot;dot&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;startsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;sharedIgnores&quot;</span><span class="s0">,</span><span class="s1">&quot;ciEnvironment&quot;</span><span class="s0">,</span><span class="s1">&quot;hasNextSupport&quot;</span><span class="s0">,</span><span class="s1">&quot;TRACE_IGNORES&quot;</span><span class="s0">,</span><span class="s1">&quot;sharedIgnoresFn&quot;</span><span class="s0">,</span><span class="s1">&quot;serverIgnores&quot;</span><span class="s0">,</span><span class="s1">&quot;nonNullable&quot;</span><span class="s0">,</span><span class="s1">&quot;minimalServerIgnores&quot;</span><span class="s0">,</span><span class="s1">&quot;minimalServerIgnoreFn&quot;</span><span class="s0">,</span><span class="s1">&quot;routesIgnores&quot;</span><span class="s0">,</span><span class="s1">&quot;routeIgnoreFn&quot;</span><span class="s0">,</span><span class="s1">&quot;serverTracedFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;minimalServerTracedFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;addToTracedFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;base&quot;</span><span class="s0">,</span><span class="s1">&quot;dest&quot;</span><span class="s0">,</span><span class="s1">&quot;relative&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;chunksToTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;chunksTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;action&quot;</span><span class="s0">,</span><span class="s1">&quot;input&quot;</span><span class="s0">,</span><span class="s1">&quot;result&quot;</span><span class="s0">,</span><span class="s1">&quot;nodeFileTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;processCwd&quot;</span><span class="s0">,</span><span class="s1">&quot;mixedModules&quot;</span><span class="s0">,</span><span class="s1">&quot;readFile&quot;</span><span class="s0">,</span><span class="s1">&quot;p&quot;</span><span class="s0">,</span><span class="s1">&quot;fs&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;isError&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;readlink&quot;</span><span class="s0">,</span><span class="s1">&quot;stat&quot;</span><span class="s0">,</span><span class="s1">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">&quot;fileList&quot;</span><span class="s0">,</span><span class="s1">&quot;esmFileList&quot;</span><span class="s0">,</span><span class="s1">&quot;parentFilesMap&quot;</span><span class="s0">,</span><span class="s1">&quot;getFilesMapFromReasons&quot;</span><span class="s0">,</span><span class="s1">&quot;cachedLookupIgnore&quot;</span><span class="s0">,</span><span class="s1">&quot;Map&quot;</span><span class="s0">,</span><span class="s1">&quot;cachedLookupIgnoreMinimal&quot;</span><span class="s0">,</span><span class="s1">&quot;entries&quot;</span><span class="s0">,</span><span class="s1">&quot;tracedFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;curFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;curFile&quot;</span><span class="s0">,</span><span class="s1">&quot;filePath&quot;</span><span class="s0">,</span><span class="s1">&quot;entryNameFilesMap&quot;</span><span class="s0">,</span><span class="s1">&quot;cachedLookupIgnoreRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;all&quot;</span><span class="s0">,</span><span class="s1">&quot;entryName&quot;</span><span class="s0">,</span><span class="s1">&quot;entryNameFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;isApp&quot;</span><span class="s0">,</span><span class="s1">&quot;isPages&quot;</span><span class="s0">,</span><span class="s1">&quot;route&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizeAppPath&quot;</span><span class="s0">,</span><span class="s1">&quot;substring&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizePagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;entryOutputPath&quot;</span><span class="s0">,</span><span class="s1">&quot;traceOutputPath&quot;</span><span class="s0">,</span><span class="s1">&quot;existingTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;traceOutputDir&quot;</span><span class="s0">,</span><span class="s1">&quot;dirname&quot;</span><span class="s0">,</span><span class="s1">&quot;curTracedFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;outputFile&quot;</span><span class="s0">,</span><span class="s1">&quot;files&quot;</span><span class="s0">,</span><span class="s1">&quot;writeFile&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;sort&quot;</span><span class="s0">,</span><span class="s1">&quot;moduleTypes&quot;</span><span class="s0">,</span><span class="s1">&quot;modulePath&quot;</span><span class="s0">,</span><span class="s1">&quot;relativeModulePath&quot;</span><span class="s0">,</span><span class="s1">&quot;contextDir&quot;</span><span class="s0">,</span><span class="s1">&quot;item&quot;</span><span class="s0">,</span><span class="s1">&quot;readdir&quot;</span><span class="s0">,</span><span class="s1">&quot;itemPath&quot;</span><span class="s0">,</span><span class="s1">&quot;serverTracedFilesSorted&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;from&quot;</span><span class="s0">,</span><span class="s1">&quot;minimalServerTracedFilesSorted&quot;</span><span class="s0">,</span><span class="s1">&quot;version&quot;</span><span class="s0">,</span><span class="s1">&quot;includeExcludeSpan&quot;</span><span class="s0">,</span><span class="s1">&quot;globOrig&quot;</span><span class="s0">,</span><span class="s1">&quot;pattern&quot;</span><span class="s0">,</span><span class="s1">&quot;reject&quot;</span><span class="s0">,</span><span class="s1">&quot;cwd&quot;</span><span class="s0">,</span><span class="s1">&quot;nodir&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;hasOwnProperty&quot;</span><span class="s0">,</span><span class="s1">&quot;combinedIncludes&quot;</span><span class="s0">,</span><span class="s1">&quot;combinedExcludes&quot;</span><span class="s0">,</span><span class="s1">&quot;curGlob&quot;</span><span class="s0">,</span><span class="s1">&quot;include&quot;</span><span class="s0">,</span><span class="s1">&quot;traceFile&quot;</span><span class="s0">,</span><span class="s1">&quot;pageDir&quot;</span><span class="s0">,</span><span class="s1">&quot;traceContent&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedTraceIncludes&quot;</span><span class="s0">,</span><span class="s1">&quot;includeGlob&quot;</span><span class="s0">,</span><span class="s1">&quot;results&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedInclude&quot;</span><span class="s0">,</span><span class="s1">&quot;combined&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedGlobs&quot;</span><span class="s0">,</span><span class="s1">&quot;delete&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>