<html>
<head>
<title>handlers.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
handlers.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/server/use-cache/handlers.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import DefaultCacheHandler from '../lib/cache-handlers/default.external'</span><span class="s3">\n</span><span class="s1">import type { CacheHandlerCompat } from '../lib/cache-handlers/types'</span><span class="s3">\n\n</span><span class="s1">const debug = process.env.NEXT_PRIVATE_DEBUG_CACHE</span><span class="s3">\n  </span><span class="s1">? (message: string, ...args: any[]) =&gt; {</span><span class="s3">\n      </span><span class="s1">console.log(`use-cache: ${message}`, ...args)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">: undefined</span><span class="s3">\n\n</span><span class="s1">const handlersSymbol = Symbol.for('@next/cache-handlers')</span><span class="s3">\n</span><span class="s1">const handlersMapSymbol = Symbol.for('@next/cache-handlers-map')</span><span class="s3">\n</span><span class="s1">const handlersSetSymbol = Symbol.for('@next/cache-handlers-set')</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The reference to the cache handlers. We store the cache handlers on the</span><span class="s3">\n </span><span class="s1">* global object so that we can access the same instance across different</span><span class="s3">\n </span><span class="s1">* boundaries (such as different copies of the same module).</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const reference: typeof globalThis &amp; {</span><span class="s3">\n  </span><span class="s1">[handlersSymbol]?: {</span><span class="s3">\n    </span><span class="s1">RemoteCache?: CacheHandlerCompat</span><span class="s3">\n    </span><span class="s1">DefaultCache?: CacheHandlerCompat</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">[handlersMapSymbol]?: Map&lt;string, CacheHandlerCompat&gt;</span><span class="s3">\n  </span><span class="s1">[handlersSetSymbol]?: Set&lt;CacheHandlerCompat&gt;</span><span class="s3">\n</span><span class="s1">} = globalThis</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Initialize the cache handlers.</span><span class="s3">\n </span><span class="s1">* @returns `true` if the cache handlers were initialized, `false` if they were already initialized.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function initializeCacheHandlers(): boolean {</span><span class="s3">\n  </span><span class="s1">// If the cache handlers have already been initialized, don't do it again.</span><span class="s3">\n  </span><span class="s1">if (reference[handlersMapSymbol]) {</span><span class="s3">\n    </span><span class="s1">debug?.('cache handlers already initialized')</span><span class="s3">\n    </span><span class="s1">return false</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">debug?.('initializing cache handlers')</span><span class="s3">\n  </span><span class="s1">reference[handlersMapSymbol] = new Map&lt;string, CacheHandlerCompat&gt;()</span><span class="s3">\n\n  </span><span class="s1">// Initialize the cache from the symbol contents first.</span><span class="s3">\n  </span><span class="s1">if (reference[handlersSymbol]) {</span><span class="s3">\n    </span><span class="s1">let fallback: CacheHandlerCompat</span><span class="s3">\n    </span><span class="s1">if (reference[handlersSymbol].DefaultCache) {</span><span class="s3">\n      </span><span class="s1">debug?.('setting </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">cache handler from symbol')</span><span class="s3">\n      </span><span class="s1">fallback = reference[handlersSymbol].DefaultCache</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">debug?.('setting </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">cache handler from default')</span><span class="s3">\n      </span><span class="s1">fallback = DefaultCacheHandler</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">reference[handlersMapSymbol].set('default', fallback)</span><span class="s3">\n\n    </span><span class="s1">if (reference[handlersSymbol].RemoteCache) {</span><span class="s3">\n      </span><span class="s1">debug?.('setting </span><span class="s3">\&quot;</span><span class="s1">remote</span><span class="s3">\&quot; </span><span class="s1">cache handler from symbol')</span><span class="s3">\n      </span><span class="s1">reference[handlersMapSymbol].set(</span><span class="s3">\n        </span><span class="s1">'remote',</span><span class="s3">\n        </span><span class="s1">reference[handlersSymbol].RemoteCache</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">debug?.('setting </span><span class="s3">\&quot;</span><span class="s1">remote</span><span class="s3">\&quot; </span><span class="s1">cache handler from default')</span><span class="s3">\n      </span><span class="s1">reference[handlersMapSymbol].set('remote', fallback)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">debug?.('setting </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">cache handler from default')</span><span class="s3">\n    </span><span class="s1">reference[handlersMapSymbol].set('default', DefaultCacheHandler)</span><span class="s3">\n    </span><span class="s1">debug?.('setting </span><span class="s3">\&quot;</span><span class="s1">remote</span><span class="s3">\&quot; </span><span class="s1">cache handler from default')</span><span class="s3">\n    </span><span class="s1">reference[handlersMapSymbol].set('remote', DefaultCacheHandler)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Create a set of the cache handlers.</span><span class="s3">\n  </span><span class="s1">reference[handlersSetSymbol] = new Set(reference[handlersMapSymbol].values())</span><span class="s3">\n\n  </span><span class="s1">return true</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get a cache handler by kind.</span><span class="s3">\n </span><span class="s1">* @param kind - The kind of cache handler to get.</span><span class="s3">\n </span><span class="s1">* @returns The cache handler, or `undefined` if it does not exist.</span><span class="s3">\n </span><span class="s1">* @throws If the cache handlers are not initialized.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function getCacheHandler(kind: string): CacheHandlerCompat | undefined {</span><span class="s3">\n  </span><span class="s1">// This should never be called before initializeCacheHandlers.</span><span class="s3">\n  </span><span class="s1">if (!reference[handlersMapSymbol]) {</span><span class="s3">\n    </span><span class="s1">throw new Error('Cache handlers not initialized')</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return reference[handlersMapSymbol].get(kind)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get a set iterator over the cache handlers.</span><span class="s3">\n </span><span class="s1">* @returns An iterator over the cache handlers, or `undefined` if they are not</span><span class="s3">\n </span><span class="s1">* initialized.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function getCacheHandlers():</span><span class="s3">\n  </span><span class="s1">| SetIterator&lt;CacheHandlerCompat&gt;</span><span class="s3">\n  </span><span class="s1">| undefined {</span><span class="s3">\n  </span><span class="s1">if (!reference[handlersSetSymbol]) {</span><span class="s3">\n    </span><span class="s1">return undefined</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return reference[handlersSetSymbol].values()</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get a map iterator over the cache handlers (keyed by kind).</span><span class="s3">\n </span><span class="s1">* @returns An iterator over the cache handler entries, or `undefined` if they</span><span class="s3">\n </span><span class="s1">* are not initialized.</span><span class="s3">\n </span><span class="s1">* @throws If the cache handlers are not initialized.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function getCacheHandlerEntries():</span><span class="s3">\n  </span><span class="s1">| MapIterator&lt;[string, CacheHandlerCompat]&gt;</span><span class="s3">\n  </span><span class="s1">| undefined {</span><span class="s3">\n  </span><span class="s1">if (!reference[handlersMapSymbol]) {</span><span class="s3">\n    </span><span class="s1">return undefined</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return reference[handlersMapSymbol].entries()</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Set a cache handler by kind.</span><span class="s3">\n </span><span class="s1">* @param kind - The kind of cache handler to set.</span><span class="s3">\n </span><span class="s1">* @param cacheHandler - The cache handler to set.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function setCacheHandler(</span><span class="s3">\n  </span><span class="s1">kind: string,</span><span class="s3">\n  </span><span class="s1">cacheHandler: CacheHandlerCompat</span><span class="s3">\n</span><span class="s1">): void {</span><span class="s3">\n  </span><span class="s1">// This should never be called before initializeCacheHandlers.</span><span class="s3">\n  </span><span class="s1">if (!reference[handlersMapSymbol] || !reference[handlersSetSymbol]) {</span><span class="s3">\n    </span><span class="s1">throw new Error('Cache handlers not initialized')</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">debug?.('setting cache handler for </span><span class="s3">\&quot;</span><span class="s1">%s</span><span class="s3">\&quot;</span><span class="s1">', kind)</span><span class="s3">\n  </span><span class="s1">reference[handlersMapSymbol].set(kind, cacheHandler)</span><span class="s3">\n  </span><span class="s1">reference[handlersSetSymbol].add(cacheHandler)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;getCacheHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;getCacheHandlerEntries&quot;</span><span class="s0">,</span><span class="s1">&quot;getCacheHandlers&quot;</span><span class="s0">,</span><span class="s1">&quot;initializeCacheHandlers&quot;</span><span class="s0">,</span><span class="s1">&quot;setCacheHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;debug&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;NEXT_PRIVATE_DEBUG_CACHE&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;args&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;log&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;handlersSymbol&quot;</span><span class="s0">,</span><span class="s1">&quot;Symbol&quot;</span><span class="s0">,</span><span class="s1">&quot;for&quot;</span><span class="s0">,</span><span class="s1">&quot;handlersMapSymbol&quot;</span><span class="s0">,</span><span class="s1">&quot;handlersSetSymbol&quot;</span><span class="s0">,</span><span class="s1">&quot;reference&quot;</span><span class="s0">,</span><span class="s1">&quot;globalThis&quot;</span><span class="s0">,</span><span class="s1">&quot;Map&quot;</span><span class="s0">,</span><span class="s1">&quot;fallback&quot;</span><span class="s0">,</span><span class="s1">&quot;DefaultCache&quot;</span><span class="s0">,</span><span class="s1">&quot;DefaultCacheHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;RemoteCache&quot;</span><span class="s0">,</span><span class="s1">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">&quot;values&quot;</span><span class="s0">,</span><span class="s1">&quot;kind&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;entries&quot;</span><span class="s0">,</span><span class="s1">&quot;cacheHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;add&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>