<html>
<head>
<title>no-duplicates.md</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #080808;}
.s3 { color: #006dcc;}
.s4 { color: #871094; font-style: italic;}
.s5 { color: #067d17;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
no-duplicates.md</font>
</center></td></tr></table>
<pre><span class="s0"># </span><span class="s2">import/no-duplicates</span>

<span class="s2">‚ö†Ô∏è This rule </span><span class="s1">_</span><span class="s2">warns</span><span class="s1">_ </span><span class="s2">in the following configs</span><span class="s1">: </span><span class="s2">‚òëÔ∏è `recommended`, üö∏ `warnings`.</span>

<span class="s2">üîß This rule is automatically fixable by the </span><span class="s1">[</span><span class="s2">`--fix` CLI option</span><span class="s1">](</span><span class="s3">https://eslint.org/docs/latest/user-guide/command-line-interface#--fix</span><span class="s1">)</span><span class="s2">.</span>

<span class="s1">&lt;!-- end auto-generated rule header --&gt;</span>

<span class="s2">Reports if a resolved path is imported more than once.</span>

<span class="s2">ESLint core has a similar rule </span><span class="s1">([</span><span class="s2">`no-duplicate-imports`</span><span class="s1">](</span><span class="s3">https://eslint.org/docs/rules/no-duplicate-imports</span><span class="s1">))</span><span class="s2">, but this version</span>
<span class="s2">is different in two key ways</span><span class="s1">:</span>

<span class="s0">1. </span><span class="s2">the paths in the source code don't have to exactly match, they just have to point to the same module on the filesystem. </span><span class="s1">(</span><span class="s2">i.e. `./foo` and `./foo.js`</span><span class="s1">)</span>
<span class="s0">2. </span><span class="s2">this version distinguishes Flow `type` imports from standard imports. </span><span class="s1">([</span><span class="s2">#334</span><span class="s1">](</span><span class="s3">https://github.com/import-js/eslint-plugin-import/pull/334</span><span class="s1">))</span>

<span class="s0">## </span><span class="s2">Rule Details</span>

<span class="s2">Valid</span><span class="s1">:</span>

<span class="s0">```</span><span class="s4">js</span>
<span class="s5">import SomeDefaultClass, * as names from './mod'</span>
<span class="s5">// Flow `type` import from same module is fine</span>
<span class="s5">import type SomeType from './mod'</span>
<span class="s0">```</span>

<span class="s2">...whereas here, both `./mod` imports will be reported</span><span class="s1">:</span>

<span class="s0">```</span><span class="s4">js</span>
<span class="s5">import SomeDefaultClass from './mod'</span>

<span class="s5">// oops, some other import separated these lines</span>
<span class="s5">import foo from './some-other-mod'</span>

<span class="s5">import * as names from './mod'</span>

<span class="s5">// will catch this too, assuming it is the same target module</span>
<span class="s5">import { something } from './mod.js'</span>
<span class="s0">```</span>

<span class="s2">The motivation is that this is likely a result of two developers importing different</span>
<span class="s2">names from the same module at different times </span><span class="s1">(</span><span class="s2">and potentially largely different</span>
<span class="s2">locations in the file.</span><span class="s1">) </span><span class="s2">This rule brings both </span><span class="s1">(</span><span class="s2">or n-many</span><span class="s1">) </span><span class="s2">to attention.</span>

<span class="s0">### </span><span class="s2">Query Strings</span>

<span class="s2">By default, this rule ignores query strings </span><span class="s1">(</span><span class="s2">i.e. paths followed by a question mark</span><span class="s1">)</span><span class="s2">, and thus imports from `./mod?a` and `./mod?b` will be considered as duplicates. However you can use the option `considerQueryString` to handle them as different </span><span class="s1">(</span><span class="s2">primarily because browsers will resolve those imports differently</span><span class="s1">)</span><span class="s2">.</span>

<span class="s2">Config</span><span class="s1">:</span>

<span class="s0">```</span><span class="s4">json</span>
<span class="s5">&quot;import/no-duplicates&quot;: [&quot;error&quot;, {&quot;considerQueryString&quot;: true}]</span>
<span class="s0">```</span>

<span class="s2">And then the following code becomes valid</span><span class="s1">:</span>

<span class="s0">```</span><span class="s4">js</span>
<span class="s5">import minifiedMod from './mod?minify'</span>
<span class="s5">import noCommentsMod from './mod?comments=0'</span>
<span class="s5">import originalMod from './mod'</span>
<span class="s0">```</span>

<span class="s2">It will still catch duplicates when using the same module and the exact same query string</span><span class="s1">:</span>

<span class="s0">```</span><span class="s4">js</span>
<span class="s5">import SomeDefaultClass from './mod?minify'</span>

<span class="s5">// This is invalid, assuming `./mod` and `./mod.js` are the same target:</span>
<span class="s5">import * from './mod.js?minify'</span>
<span class="s0">```</span>

<span class="s0">### </span><span class="s2">Inline Type imports</span>

<span class="s2">TypeScript 4.5 introduced a new </span><span class="s1">[</span><span class="s2">feature</span><span class="s1">](</span><span class="s3">https://devblogs.microsoft.com/typescript/announcing-typescript-4-5/#type-on-import-names</span><span class="s1">) </span><span class="s2">that allows mixing of named value and type imports. In order to support fixing to an inline type import when duplicate imports are detected, `prefer-inline` can be set to true.</span>

<span class="s2">Config</span><span class="s1">:</span>

<span class="s0">```</span><span class="s4">json</span>
<span class="s5">&quot;import/no-duplicates&quot;: [&quot;error&quot;, {&quot;prefer-inline&quot;: true}]</span>
<span class="s0">```</span>

<span class="s1">&lt;!--tabs--&gt;</span>

<span class="s2">‚ùå Invalid `</span><span class="s1">[&quot;</span><span class="s2">error</span><span class="s1">&quot;</span><span class="s2">, {</span><span class="s1">&quot;</span><span class="s2">prefer-inline</span><span class="s1">&quot;: </span><span class="s2">true}</span><span class="s1">]</span><span class="s2">`</span>

<span class="s0">```</span><span class="s4">js</span>
<span class="s5">import { AValue, type AType } from './mama-mia'</span>
<span class="s5">import type { BType } from './mama-mia'</span>

<span class="s5">import { CValue } from './papa-mia'</span>
<span class="s5">import type { CType } from './papa-mia'</span>
<span class="s0">```</span>

<span class="s2">‚úÖ Valid with `</span><span class="s1">[&quot;</span><span class="s2">error</span><span class="s1">&quot;</span><span class="s2">, {</span><span class="s1">&quot;</span><span class="s2">prefer-inline</span><span class="s1">&quot;: </span><span class="s2">true}</span><span class="s1">]</span><span class="s2">`</span>

<span class="s0">```</span><span class="s4">js</span>
<span class="s5">import { AValue, type AType, type BType } from './mama-mia'</span>

<span class="s5">import { CValue, type CType } from './papa-mia'</span>
<span class="s0">```</span>

<span class="s1">&lt;!--tabs--&gt;</span>

<span class="s0">## </span><span class="s2">When Not To Use It</span>

<span class="s2">If the core ESLint version is good enough </span><span class="s1">(</span><span class="s2">i.e. you're </span><span class="s1">_</span><span class="s2">not</span><span class="s1">_ </span><span class="s2">using Flow and you </span><span class="s1">_</span><span class="s2">are</span><span class="s1">_ </span><span class="s2">using </span><span class="s1">[</span><span class="s2">`import/extensions`</span><span class="s1">](</span><span class="s2">./extensions.md</span><span class="s1">))</span><span class="s2">, keep it and don't use this.</span>

<span class="s2">If you like to split up imports across lines or may need to import a default and a namespace,</span>
<span class="s2">you may not want to enable this rule.</span>
</pre>
</body>
</html>