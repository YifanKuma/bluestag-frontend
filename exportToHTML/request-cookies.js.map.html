<html>
<head>
<title>request-cookies.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
request-cookies.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../../src/server/web/spec-extension/adapters/request-cookies.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { RequestCookies } from '../cookies'</span><span class="s3">\n\n</span><span class="s1">import { ResponseCookies } from '../cookies'</span><span class="s3">\n</span><span class="s1">import { ReflectAdapter } from './reflect'</span><span class="s3">\n</span><span class="s1">import { workAsyncStorage } from '../../../app-render/work-async-storage.external'</span><span class="s3">\n</span><span class="s1">import type { RequestStore } from '../../../app-render/work-unit-async-storage.external'</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ReadonlyRequestCookiesError extends Error {</span><span class="s3">\n  </span><span class="s1">constructor() {</span><span class="s3">\n    </span><span class="s1">super(</span><span class="s3">\n      </span><span class="s1">'Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options'</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">public static callable() {</span><span class="s3">\n    </span><span class="s1">throw new ReadonlyRequestCookiesError()</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// We use this to type some APIs but we don't construct instances directly</span><span class="s3">\n</span><span class="s1">export type { ResponseCookies }</span><span class="s3">\n\n</span><span class="s1">// The `cookies()` API is a mix of request and response cookies. For `.get()` methods,</span><span class="s3">\n</span><span class="s1">// we want to return the request cookie if it exists. For mutative methods like `.set()`,</span><span class="s3">\n</span><span class="s1">// we want to return the response cookie.</span><span class="s3">\n</span><span class="s1">export type ReadonlyRequestCookies = Omit&lt;</span><span class="s3">\n  </span><span class="s1">RequestCookies,</span><span class="s3">\n  </span><span class="s1">'set' | 'clear' | 'delete'</span><span class="s3">\n</span><span class="s1">&gt; &amp;</span><span class="s3">\n  </span><span class="s1">Pick&lt;ResponseCookies, 'set' | 'delete'&gt;</span><span class="s3">\n\n</span><span class="s1">export class RequestCookiesAdapter {</span><span class="s3">\n  </span><span class="s1">public static seal(cookies: RequestCookies): ReadonlyRequestCookies {</span><span class="s3">\n    </span><span class="s1">return new Proxy(cookies as any, {</span><span class="s3">\n      </span><span class="s1">get(target, prop, receiver) {</span><span class="s3">\n        </span><span class="s1">switch (prop) {</span><span class="s3">\n          </span><span class="s1">case 'clear':</span><span class="s3">\n          </span><span class="s1">case 'delete':</span><span class="s3">\n          </span><span class="s1">case 'set':</span><span class="s3">\n            </span><span class="s1">return ReadonlyRequestCookiesError.callable</span><span class="s3">\n          </span><span class="s1">default:</span><span class="s3">\n            </span><span class="s1">return ReflectAdapter.get(target, prop, receiver)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const SYMBOL_MODIFY_COOKIE_VALUES = Symbol.for('next.mutated.cookies')</span><span class="s3">\n\n</span><span class="s1">export function getModifiedCookieValues(</span><span class="s3">\n  </span><span class="s1">cookies: ResponseCookies</span><span class="s3">\n</span><span class="s1">): ResponseCookie[] {</span><span class="s3">\n  </span><span class="s1">const modified: ResponseCookie[] | undefined = (cookies as unknown as any)[</span><span class="s3">\n    </span><span class="s1">SYMBOL_MODIFY_COOKIE_VALUES</span><span class="s3">\n  </span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">if (!modified || !Array.isArray(modified) || modified.length === 0) {</span><span class="s3">\n    </span><span class="s1">return []</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return modified</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">type SetCookieArgs =</span><span class="s3">\n  </span><span class="s1">| [key: string, value: string, cookie?: Partial&lt;ResponseCookie&gt;]</span><span class="s3">\n  </span><span class="s1">| [options: ResponseCookie]</span><span class="s3">\n\n</span><span class="s1">export function appendMutableCookies(</span><span class="s3">\n  </span><span class="s1">headers: Headers,</span><span class="s3">\n  </span><span class="s1">mutableCookies: ResponseCookies</span><span class="s3">\n</span><span class="s1">): boolean {</span><span class="s3">\n  </span><span class="s1">const modifiedCookieValues = getModifiedCookieValues(mutableCookies)</span><span class="s3">\n  </span><span class="s1">if (modifiedCookieValues.length === 0) {</span><span class="s3">\n    </span><span class="s1">return false</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Return a new response that extends the response with</span><span class="s3">\n  </span><span class="s1">// the modified cookies as fallbacks. `res` cookies</span><span class="s3">\n  </span><span class="s1">// will still take precedence.</span><span class="s3">\n  </span><span class="s1">const resCookies = new ResponseCookies(headers)</span><span class="s3">\n  </span><span class="s1">const returnedCookies = resCookies.getAll()</span><span class="s3">\n\n  </span><span class="s1">// Set the modified cookies as fallbacks.</span><span class="s3">\n  </span><span class="s1">for (const cookie of modifiedCookieValues) {</span><span class="s3">\n    </span><span class="s1">resCookies.set(cookie)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Set the original cookies as the final values.</span><span class="s3">\n  </span><span class="s1">for (const cookie of returnedCookies) {</span><span class="s3">\n    </span><span class="s1">resCookies.set(cookie)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return true</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">type ResponseCookie = NonNullable&lt;</span><span class="s3">\n  </span><span class="s1">ReturnType&lt;InstanceType&lt;typeof ResponseCookies&gt;['get']&gt;</span><span class="s3">\n</span><span class="s1">&gt;</span><span class="s3">\n\n</span><span class="s1">export class MutableRequestCookiesAdapter {</span><span class="s3">\n  </span><span class="s1">public static wrap(</span><span class="s3">\n    </span><span class="s1">cookies: RequestCookies,</span><span class="s3">\n    </span><span class="s1">onUpdateCookies?: (cookies: string[]) =&gt; void</span><span class="s3">\n  </span><span class="s1">): ResponseCookies {</span><span class="s3">\n    </span><span class="s1">const responseCookies = new ResponseCookies(new Headers())</span><span class="s3">\n    </span><span class="s1">for (const cookie of cookies.getAll()) {</span><span class="s3">\n      </span><span class="s1">responseCookies.set(cookie)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">let modifiedValues: ResponseCookie[] = []</span><span class="s3">\n    </span><span class="s1">const modifiedCookies = new Set&lt;string&gt;()</span><span class="s3">\n    </span><span class="s1">const updateResponseCookies = () =&gt; {</span><span class="s3">\n      </span><span class="s1">// TODO-APP: change method of getting workStore</span><span class="s3">\n      </span><span class="s1">const workStore = workAsyncStorage.getStore()</span><span class="s3">\n      </span><span class="s1">if (workStore) {</span><span class="s3">\n        </span><span class="s1">workStore.pathWasRevalidated = true</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const allCookies = responseCookies.getAll()</span><span class="s3">\n      </span><span class="s1">modifiedValues = allCookies.filter((c) =&gt; modifiedCookies.has(c.name))</span><span class="s3">\n      </span><span class="s1">if (onUpdateCookies) {</span><span class="s3">\n        </span><span class="s1">const serializedCookies: string[] = []</span><span class="s3">\n        </span><span class="s1">for (const cookie of modifiedValues) {</span><span class="s3">\n          </span><span class="s1">const tempCookies = new ResponseCookies(new Headers())</span><span class="s3">\n          </span><span class="s1">tempCookies.set(cookie)</span><span class="s3">\n          </span><span class="s1">serializedCookies.push(tempCookies.toString())</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">onUpdateCookies(serializedCookies)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const wrappedCookies = new Proxy(responseCookies, {</span><span class="s3">\n      </span><span class="s1">get(target, prop, receiver) {</span><span class="s3">\n        </span><span class="s1">switch (prop) {</span><span class="s3">\n          </span><span class="s1">// A special symbol to get the modified cookie values</span><span class="s3">\n          </span><span class="s1">case SYMBOL_MODIFY_COOKIE_VALUES:</span><span class="s3">\n            </span><span class="s1">return modifiedValues</span><span class="s3">\n\n          </span><span class="s1">// TODO: Throw error if trying to set a cookie after the response</span><span class="s3">\n          </span><span class="s1">// headers have been set.</span><span class="s3">\n          </span><span class="s1">case 'delete':</span><span class="s3">\n            </span><span class="s1">return function (...args: [string] | [ResponseCookie]) {</span><span class="s3">\n              </span><span class="s1">modifiedCookies.add(</span><span class="s3">\n                </span><span class="s1">typeof args[0] === 'string' ? args[0] : args[0].name</span><span class="s3">\n              </span><span class="s1">)</span><span class="s3">\n              </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">target.delete(...args)</span><span class="s3">\n                </span><span class="s1">return wrappedCookies</span><span class="s3">\n              </span><span class="s1">} finally {</span><span class="s3">\n                </span><span class="s1">updateResponseCookies()</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">case 'set':</span><span class="s3">\n            </span><span class="s1">return function (...args: SetCookieArgs) {</span><span class="s3">\n              </span><span class="s1">modifiedCookies.add(</span><span class="s3">\n                </span><span class="s1">typeof args[0] === 'string' ? args[0] : args[0].name</span><span class="s3">\n              </span><span class="s1">)</span><span class="s3">\n              </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">target.set(...args)</span><span class="s3">\n                </span><span class="s1">return wrappedCookies</span><span class="s3">\n              </span><span class="s1">} finally {</span><span class="s3">\n                </span><span class="s1">updateResponseCookies()</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">default:</span><span class="s3">\n            </span><span class="s1">return ReflectAdapter.get(target, prop, receiver)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n\n    </span><span class="s1">return wrappedCookies</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function createCookiesWithMutableAccessCheck(</span><span class="s3">\n  </span><span class="s1">requestStore: RequestStore</span><span class="s3">\n</span><span class="s1">): ResponseCookies {</span><span class="s3">\n  </span><span class="s1">const wrappedCookies = new Proxy(requestStore.mutableCookies, {</span><span class="s3">\n    </span><span class="s1">get(target, prop, receiver) {</span><span class="s3">\n      </span><span class="s1">switch (prop) {</span><span class="s3">\n        </span><span class="s1">case 'delete':</span><span class="s3">\n          </span><span class="s1">return function (...args: [string] | [ResponseCookie]) {</span><span class="s3">\n            </span><span class="s1">ensureCookiesAreStillMutable(requestStore, 'cookies().delete')</span><span class="s3">\n            </span><span class="s1">target.delete(...args)</span><span class="s3">\n            </span><span class="s1">return wrappedCookies</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">case 'set':</span><span class="s3">\n          </span><span class="s1">return function (...args: SetCookieArgs) {</span><span class="s3">\n            </span><span class="s1">ensureCookiesAreStillMutable(requestStore, 'cookies().set')</span><span class="s3">\n            </span><span class="s1">target.set(...args)</span><span class="s3">\n            </span><span class="s1">return wrappedCookies</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">default:</span><span class="s3">\n          </span><span class="s1">return ReflectAdapter.get(target, prop, receiver)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">return wrappedCookies</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function areCookiesMutableInCurrentPhase(requestStore: RequestStore) {</span><span class="s3">\n  </span><span class="s1">return requestStore.phase === 'action'</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/** Ensure that cookies() starts throwing on mutation</span><span class="s3">\n </span><span class="s1">* if we changed phases and can no longer mutate.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* This can happen when going:</span><span class="s3">\n </span><span class="s1">*   'render' -&gt; 'after'</span><span class="s3">\n </span><span class="s1">*   'action' -&gt; 'render'</span><span class="s3">\n </span><span class="s1">* */</span><span class="s3">\n</span><span class="s1">function ensureCookiesAreStillMutable(</span><span class="s3">\n  </span><span class="s1">requestStore: RequestStore,</span><span class="s3">\n  </span><span class="s1">_callingExpression: string</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">if (!areCookiesMutableInCurrentPhase(requestStore)) {</span><span class="s3">\n    </span><span class="s1">// TODO: maybe we can give a more precise error message based on callingExpression?</span><span class="s3">\n    </span><span class="s1">throw new ReadonlyRequestCookiesError()</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function responseCookiesToRequestCookies(</span><span class="s3">\n  </span><span class="s1">responseCookies: ResponseCookies</span><span class="s3">\n</span><span class="s1">): RequestCookies {</span><span class="s3">\n  </span><span class="s1">const requestCookies = new RequestCookies(new Headers())</span><span class="s3">\n  </span><span class="s1">for (const cookie of responseCookies.getAll()) {</span><span class="s3">\n    </span><span class="s1">requestCookies.set(cookie)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return requestCookies</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;MutableRequestCookiesAdapter&quot;</span><span class="s0">,</span><span class="s1">&quot;ReadonlyRequestCookiesError&quot;</span><span class="s0">,</span><span class="s1">&quot;RequestCookiesAdapter&quot;</span><span class="s0">,</span><span class="s1">&quot;appendMutableCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;areCookiesMutableInCurrentPhase&quot;</span><span class="s0">,</span><span class="s1">&quot;createCookiesWithMutableAccessCheck&quot;</span><span class="s0">,</span><span class="s1">&quot;getModifiedCookieValues&quot;</span><span class="s0">,</span><span class="s1">&quot;responseCookiesToRequestCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;callable&quot;</span><span class="s0">,</span><span class="s1">&quot;seal&quot;</span><span class="s0">,</span><span class="s1">&quot;cookies&quot;</span><span class="s0">,</span><span class="s1">&quot;Proxy&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;target&quot;</span><span class="s0">,</span><span class="s1">&quot;prop&quot;</span><span class="s0">,</span><span class="s1">&quot;receiver&quot;</span><span class="s0">,</span><span class="s1">&quot;ReflectAdapter&quot;</span><span class="s0">,</span><span class="s1">&quot;SYMBOL_MODIFY_COOKIE_VALUES&quot;</span><span class="s0">,</span><span class="s1">&quot;Symbol&quot;</span><span class="s0">,</span><span class="s1">&quot;for&quot;</span><span class="s0">,</span><span class="s1">&quot;modified&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;headers&quot;</span><span class="s0">,</span><span class="s1">&quot;mutableCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;modifiedCookieValues&quot;</span><span class="s0">,</span><span class="s1">&quot;resCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;ResponseCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;returnedCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;getAll&quot;</span><span class="s0">,</span><span class="s1">&quot;cookie&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;wrap&quot;</span><span class="s0">,</span><span class="s1">&quot;onUpdateCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;responseCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;Headers&quot;</span><span class="s0">,</span><span class="s1">&quot;modifiedValues&quot;</span><span class="s0">,</span><span class="s1">&quot;modifiedCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">&quot;updateResponseCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;workStore&quot;</span><span class="s0">,</span><span class="s1">&quot;workAsyncStorage&quot;</span><span class="s0">,</span><span class="s1">&quot;getStore&quot;</span><span class="s0">,</span><span class="s1">&quot;pathWasRevalidated&quot;</span><span class="s0">,</span><span class="s1">&quot;allCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">&quot;c&quot;</span><span class="s0">,</span><span class="s1">&quot;has&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;serializedCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;tempCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;wrappedCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;args&quot;</span><span class="s0">,</span><span class="s1">&quot;add&quot;</span><span class="s0">,</span><span class="s1">&quot;delete&quot;</span><span class="s0">,</span><span class="s1">&quot;requestStore&quot;</span><span class="s0">,</span><span class="s1">&quot;ensureCookiesAreStillMutable&quot;</span><span class="s0">,</span><span class="s1">&quot;phase&quot;</span><span class="s0">,</span><span class="s1">&quot;_callingExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;requestCookies&quot;</span><span class="s0">,</span><span class="s1">&quot;RequestCookies&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>