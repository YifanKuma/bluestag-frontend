<html>
<head>
<title>app-render.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
.s3 { color: #8c8c8c; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
app-render.d.ts</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">type { ActionResult, DynamicParamTypesShort, FlightRouterState, RenderOpts, Segment, CacheNodeSeedData, PreloadCallbacks } from </span><span class="s2">'./types'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">{ type WorkStore } from </span><span class="s2">'../app-render/work-async-storage.external'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { RequestStore } from </span><span class="s2">'../app-render/work-unit-async-storage.external'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { NextParsedUrlQuery } from </span><span class="s2">'../request-meta'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { AppPageModule } from </span><span class="s2">'../route-modules/app-page/module'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { ClientReferenceManifest } from </span><span class="s2">'../../build/webpack/plugins/flight-manifest-plugin'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { DeepReadonly } from </span><span class="s2">'../../shared/lib/deep-readonly'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { BaseNextRequest, BaseNextResponse } from </span><span class="s2">'../base-http'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">RenderResult, { type AppPageRenderResultMetadata } from </span><span class="s2">'../render-result'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">{ type ImplicitTags } from </span><span class="s2">'../lib/implicit-tags'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">{ parseRelativeUrl } from </span><span class="s2">'../../shared/lib/router/utils/parse-relative-url'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { ServerComponentsHmrCache } from </span><span class="s2">'../response-cache'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { FallbackRouteParams } from </span><span class="s2">'../request/fallback-params'</span><span class="s1">;</span>
<span class="s0">export </span><span class="s1">type GetDynamicParamFromSegment = (segment: string) =&gt; DynamicParam | </span><span class="s0">null</span><span class="s1">;</span>
<span class="s0">export </span><span class="s1">type DynamicParam = {</span>
    <span class="s1">param: string;</span>
    <span class="s1">value: string | string[] | </span><span class="s0">null</span><span class="s1">;</span>
    <span class="s1">treeSegment: Segment;</span>
    <span class="s1">type: DynamicParamTypesShort;</span>
<span class="s1">};</span>
<span class="s0">export </span><span class="s1">type GenerateFlight = </span><span class="s0">typeof </span><span class="s1">generateDynamicFlightRenderResult;</span>
<span class="s0">export </span><span class="s1">type AppSharedContext = {</span>
    <span class="s1">buildId: string;</span>
<span class="s1">};</span>
<span class="s0">export </span><span class="s1">type AppRenderContext = {</span>
    <span class="s1">sharedContext: AppSharedContext;</span>
    <span class="s1">workStore: WorkStore;</span>
    <span class="s1">url: ReturnType&lt;</span><span class="s0">typeof </span><span class="s1">parseRelativeUrl&gt;;</span>
    <span class="s1">componentMod: AppPageModule;</span>
    <span class="s1">renderOpts: RenderOpts;</span>
    <span class="s1">parsedRequestHeaders: ParsedRequestHeaders;</span>
    <span class="s1">getDynamicParamFromSegment: GetDynamicParamFromSegment;</span>
    <span class="s1">query: NextParsedUrlQuery;</span>
    <span class="s1">isPrefetch: boolean;</span>
    <span class="s1">isPossibleServerAction: boolean;</span>
    <span class="s1">requestTimestamp: number;</span>
    <span class="s1">appUsingSizeAdjustment: boolean;</span>
    <span class="s1">flightRouterState?: FlightRouterState;</span>
    <span class="s1">requestId: string;</span>
    <span class="s1">pagePath: string;</span>
    <span class="s1">clientReferenceManifest: DeepReadonly&lt;ClientReferenceManifest&gt;;</span>
    <span class="s1">assetPrefix: string;</span>
    <span class="s1">isNotFoundPath: boolean;</span>
    <span class="s1">nonce: string | undefined;</span>
    <span class="s1">res: BaseNextResponse;</span>
    <span class="s3">/**</span>
     <span class="s3">* For now, the implicit tags are common for the whole route. If we ever start</span>
     <span class="s3">* rendering/revalidating segments independently, they need to move to the</span>
     <span class="s3">* work unit store.</span>
     <span class="s3">*/</span>
    <span class="s1">implicitTags: ImplicitTags;</span>
<span class="s1">};</span>
<span class="s0">interface </span><span class="s1">ParsedRequestHeaders {</span>
    <span class="s3">/**</span>
     <span class="s3">* Router state provided from the client-side router. Used to handle rendering</span>
     <span class="s3">* from the common layout down. This value will be undefined if the request is</span>
     <span class="s3">* not a client-side navigation request, or if the request is a prefetch</span>
     <span class="s3">* request.</span>
     <span class="s3">*/</span>
    <span class="s1">readonly flightRouterState: FlightRouterState | undefined;</span>
    <span class="s1">readonly isPrefetchRequest: boolean;</span>
    <span class="s1">readonly isRuntimePrefetchRequest: boolean;</span>
    <span class="s1">readonly isRouteTreePrefetchRequest: boolean;</span>
    <span class="s1">readonly isDevWarmupRequest: boolean;</span>
    <span class="s1">readonly isHmrRefresh: boolean;</span>
    <span class="s1">readonly isRSCRequest: boolean;</span>
    <span class="s1">readonly nonce: string | undefined;</span>
    <span class="s1">readonly previouslyRevalidatedTags: string[];</span>
<span class="s1">}</span>
<span class="s3">/**</span>
 <span class="s3">* Produces a RenderResult containing the Flight data for the given request. See</span>
 <span class="s3">* `generateDynamicRSCPayload` for information on the contents of the render result.</span>
 <span class="s3">*/</span>
<span class="s1">declare </span><span class="s0">function </span><span class="s1">generateDynamicFlightRenderResult(req: BaseNextRequest, ctx: AppRenderContext, requestStore: RequestStore, options?: {</span>
    <span class="s1">actionResult: ActionResult;</span>
    <span class="s1">skipFlight: boolean;</span>
    <span class="s1">componentTree?: CacheNodeSeedData;</span>
    <span class="s1">preloadCallbacks?: PreloadCallbacks;</span>
    <span class="s1">temporaryReferences?: WeakMap&lt;any, string&gt;;</span>
<span class="s1">}): Promise&lt;RenderResult&gt;;</span>
<span class="s0">export </span><span class="s1">type BinaryStreamOf&lt;T&gt; = ReadableStream&lt;Uint8Array&gt;;</span>
<span class="s0">export </span><span class="s1">type AppPageRender = (req: BaseNextRequest, res: BaseNextResponse, pagePath: string, query: NextParsedUrlQuery, fallbackRouteParams: FallbackRouteParams | </span><span class="s0">null</span><span class="s1">, renderOpts: RenderOpts, serverComponentsHmrCache: ServerComponentsHmrCache | undefined, isDevWarmup: boolean, sharedContext: AppSharedContext) =&gt; Promise&lt;RenderResult&lt;AppPageRenderResultMetadata&gt;&gt;;</span>
<span class="s0">export </span><span class="s1">declare </span><span class="s0">const </span><span class="s1">renderToHTMLOrFlight: AppPageRender;</span>
<span class="s0">export </span><span class="s1">{};</span>
</pre>
</body>
</html>