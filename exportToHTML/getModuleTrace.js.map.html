<html>
<head>
<title>getModuleTrace.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
getModuleTrace.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../../src/build/webpack/plugins/wellknown-errors-plugin/getModuleTrace.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { webpack } from 'next/dist/compiled/webpack/webpack'</span><span class="s3">\n</span><span class="s1">import loaderUtils from 'next/dist/compiled/loader-utils3'</span><span class="s3">\n</span><span class="s1">import { relative } from 'path'</span><span class="s3">\n\n</span><span class="s1">function formatModule(compiler: webpack.Compiler, module: any) {</span><span class="s3">\n  </span><span class="s1">const relativePath = relative(compiler.context, module.resource).replace(</span><span class="s3">\n    </span><span class="s1">/</span><span class="s3">\\</span><span class="s1">?.+$/,</span><span class="s3">\n    </span><span class="s1">''</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">return loaderUtils.isUrlRequest(relativePath)</span><span class="s3">\n    </span><span class="s1">? loaderUtils.urlToRequest(relativePath)</span><span class="s3">\n    </span><span class="s1">: relativePath</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function formatModuleTrace(</span><span class="s3">\n  </span><span class="s1">compiler: webpack.Compiler,</span><span class="s3">\n  </span><span class="s1">moduleTrace: any[]</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">let importTrace: string[] = []</span><span class="s3">\n  </span><span class="s1">let firstExternalModule: any</span><span class="s3">\n  </span><span class="s1">for (let i = moduleTrace.length - 1; i &gt;= 0; i--) {</span><span class="s3">\n    </span><span class="s1">const mod = moduleTrace[i]</span><span class="s3">\n    </span><span class="s1">if (!mod.resource) continue</span><span class="s3">\n\n    </span><span class="s1">if (!mod.resource.includes('node_modules/')) {</span><span class="s3">\n      </span><span class="s1">importTrace.unshift(formatModule(compiler, mod))</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">firstExternalModule = mod</span><span class="s3">\n      </span><span class="s1">break</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">let invalidImportMessage = ''</span><span class="s3">\n  </span><span class="s1">if (firstExternalModule) {</span><span class="s3">\n    </span><span class="s1">const firstExternalPackageName =</span><span class="s3">\n      </span><span class="s1">firstExternalModule.resourceResolveData?.descriptionFileData?.name</span><span class="s3">\n\n    </span><span class="s1">if (firstExternalPackageName === 'styled-jsx') {</span><span class="s3">\n      </span><span class="s1">invalidImportMessage += `</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">nThe error was caused by using 'styled-jsx' in '${importTrace[0]}'. It only works in a Client Component but none of its parents are marked with </span><span class="s3">\&quot;</span><span class="s1">use client</span><span class="s3">\&quot;</span><span class="s1">, so they're Server Components by default.`</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">let formattedExternalFile =</span><span class="s3">\n        </span><span class="s1">firstExternalModule.resource.split('node_modules')</span><span class="s3">\n      </span><span class="s1">formattedExternalFile =</span><span class="s3">\n        </span><span class="s1">formattedExternalFile[formattedExternalFile.length - 1]</span><span class="s3">\n\n      </span><span class="s1">invalidImportMessage += `</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">nThe error was caused by importing '${formattedExternalFile.slice(</span><span class="s3">\n        </span><span class="s1">1</span><span class="s3">\n      </span><span class="s1">)}' in '${importTrace[0]}'.`</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">lastInternalFileName: importTrace[0],</span><span class="s3">\n    </span><span class="s1">invalidImportMessage,</span><span class="s3">\n    </span><span class="s1">formattedModuleTrace: importTrace.map((mod) =&gt; '  ' + mod).join('</span><span class="s3">\\</span><span class="s1">n'),</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getModuleTrace(</span><span class="s3">\n  </span><span class="s1">module: any,</span><span class="s3">\n  </span><span class="s1">compilation: webpack.Compilation,</span><span class="s3">\n  </span><span class="s1">compiler: webpack.Compiler</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">// Get the module trace:</span><span class="s3">\n  </span><span class="s1">// https://cs.github.com/webpack/webpack/blob/9fcaa243573005d6fdece9a3f8d89a0e8b399613/lib/stats/DefaultStatsFactoryPlugin.js#L414</span><span class="s3">\n  </span><span class="s1">const visitedModules = new Set()</span><span class="s3">\n  </span><span class="s1">const moduleTrace = []</span><span class="s3">\n\n  </span><span class="s1">let current = module</span><span class="s3">\n  </span><span class="s1">let isPagesDir = false</span><span class="s3">\n  </span><span class="s1">while (current) {</span><span class="s3">\n    </span><span class="s1">if (visitedModules.has(current)) break</span><span class="s3">\n    </span><span class="s1">if (/[</span><span class="s3">\\\\</span><span class="s1">/]pages/.test(current.resource.replace(compiler.context, ''))) {</span><span class="s3">\n      </span><span class="s1">isPagesDir = true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">visitedModules.add(current)</span><span class="s3">\n    </span><span class="s1">moduleTrace.push(current)</span><span class="s3">\n    </span><span class="s1">const origin = compilation.moduleGraph.getIssuer(current)</span><span class="s3">\n    </span><span class="s1">if (!origin) break</span><span class="s3">\n    </span><span class="s1">current = origin</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">moduleTrace,</span><span class="s3">\n    </span><span class="s1">isPagesDir,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;formatModuleTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;getModuleTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;formatModule&quot;</span><span class="s0">,</span><span class="s1">&quot;compiler&quot;</span><span class="s0">,</span><span class="s1">&quot;module&quot;</span><span class="s0">,</span><span class="s1">&quot;relativePath&quot;</span><span class="s0">,</span><span class="s1">&quot;relative&quot;</span><span class="s0">,</span><span class="s1">&quot;context&quot;</span><span class="s0">,</span><span class="s1">&quot;resource&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;loaderUtils&quot;</span><span class="s0">,</span><span class="s1">&quot;isUrlRequest&quot;</span><span class="s0">,</span><span class="s1">&quot;urlToRequest&quot;</span><span class="s0">,</span><span class="s1">&quot;moduleTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;importTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;firstExternalModule&quot;</span><span class="s0">,</span><span class="s1">&quot;i&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;mod&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;unshift&quot;</span><span class="s0">,</span><span class="s1">&quot;invalidImportMessage&quot;</span><span class="s0">,</span><span class="s1">&quot;firstExternalPackageName&quot;</span><span class="s0">,</span><span class="s1">&quot;resourceResolveData&quot;</span><span class="s0">,</span><span class="s1">&quot;descriptionFileData&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;formattedExternalFile&quot;</span><span class="s0">,</span><span class="s1">&quot;split&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">,</span><span class="s1">&quot;lastInternalFileName&quot;</span><span class="s0">,</span><span class="s1">&quot;formattedModuleTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;compilation&quot;</span><span class="s0">,</span><span class="s1">&quot;visitedModules&quot;</span><span class="s0">,</span><span class="s1">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">&quot;current&quot;</span><span class="s0">,</span><span class="s1">&quot;isPagesDir&quot;</span><span class="s0">,</span><span class="s1">&quot;has&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">,</span><span class="s1">&quot;add&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;origin&quot;</span><span class="s0">,</span><span class="s1">&quot;moduleGraph&quot;</span><span class="s0">,</span><span class="s1">&quot;getIssuer&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;IAcgBA,iBAAiB;eAAjBA;;IA4CAC,cAAc;eAAdA;;;qEAzDQ;sBACC;;;;;;AAEzB,SAASC,aAAaC,QAA0B,EAAEC,OAAW;IAC3D,MAAMC,eAAeC,IAAAA,cAAQ,EAACH,SAASI,OAAO,EAAEH,QAAOI,QAAQ,EAAEC,OAAO,CACtE,SACA;IAEF,OAAOC,qBAAW,CAACC,YAAY,CAACN,gBAC5BK,qBAAW,CAACE,YAAY,CAACP,gBACzBA;AACN;AAEO,SAASL,kBACdG,QAA0B,EAC1BU,WAAkB;IAElB,IAAIC,cAAwB,EAAE;IAC9B,IAAIC;IACJ,IAAK,IAAIC,IAAIH,YAAYI,MAAM,GAAG,GAAGD,KAAK,GAAGA,IAAK;QAChD,MAAME,MAAML,WAAW,CAACG,EAAE;QAC1B,IAAI,CAACE,IAAIV,QAAQ,EAAE;QAEnB,IAAI,CAACU,IAAIV,QAAQ,CAACW,QAAQ,CAAC,kBAAkB;YAC3CL,YAAYM,OAAO,CAAClB,aAAaC,UAAUe;QAC7C,OAAO;YACLH,sBAAsBG;YACtB;QACF;IACF;IAEA,IAAIG,uBAAuB;IAC3B,IAAIN,qBAAqB;YAErBA,8DAAAA;QADF,MAAMO,4BACJP,2CAAAA,oBAAoBQ,mBAAmB,sBAAvCR,+DAAAA,yCAAyCS,mBAAmB,qBAA5DT,6DAA8DU,IAAI;QAEpE,IAAIH,6BAA6B,cAAc;YAC7CD,wBAAwB,CAAC,mDAAmD,EAAEP,WAAW,CAAC,EAAE,CAAC,qIAAqI,CAAC;QACrO,OAAO;YACL,IAAIY,wBACFX,oBAAoBP,QAAQ,CAACmB,KAAK,CAAC;YACrCD,wBACEA,qBAAqB,CAACA,sBAAsBT,MAAM,GAAG,EAAE;YAEzDI,wBAAwB,CAAC,uCAAuC,EAAEK,sBAAsBE,KAAK,CAC3F,GACA,MAAM,EAAEd,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC;QAC9B;IACF;IAEA,OAAO;QACLe,sBAAsBf,WAAW,CAAC,EAAE;QACpCO;QACAS,sBAAsBhB,YAAYiB,GAAG,CAAC,CAACb,MAAQ,OAAOA,KAAKc,IAAI,CAAC;IAClE;AACF;AAEO,SAAS/B,eACdG,OAAW,EACX6B,WAAgC,EAChC9B,QAA0B;IAE1B,wBAAwB;IACxB,kIAAkI;IAClI,MAAM+B,iBAAiB,IAAIC;IAC3B,MAAMtB,cAAc,EAAE;IAEtB,IAAIuB,UAAUhC;IACd,IAAIiC,aAAa;IACjB,MAAOD,QAAS;QACd,IAAIF,eAAeI,GAAG,CAACF,UAAU;QACjC,IAAI,aAAaG,IAAI,CAACH,QAAQ5B,QAAQ,CAACC,OAAO,CAACN,SAASI,OAAO,EAAE,MAAM;YACrE8B,aAAa;QACf;QACAH,eAAeM,GAAG,CAACJ;QACnBvB,YAAY4B,IAAI,CAACL;QACjB,MAAMM,SAAST,YAAYU,WAAW,CAACC,SAAS,CAACR;QACjD,IAAI,CAACM,QAAQ;QACbN,UAAUM;IACZ;IAEA,OAAO;QACL7B;QACAwB;IACF;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>