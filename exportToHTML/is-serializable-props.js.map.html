<html>
<head>
<title>is-serializable-props.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
is-serializable-props.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/lib/is-serializable-props.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">isPlainObject,</span><span class="s3">\n  </span><span class="s1">getObjectClassLabel,</span><span class="s3">\n</span><span class="s1">} from '../shared/lib/is-plain-object'</span><span class="s3">\n\n</span><span class="s1">const regexpPlainIdentifier = /^[A-Za-z_$][A-Za-z0-9_$]*$/</span><span class="s3">\n\n</span><span class="s1">export class SerializableError extends Error {</span><span class="s3">\n  </span><span class="s1">constructor(page: string, method: string, path: string, message: string) {</span><span class="s3">\n    </span><span class="s1">super(</span><span class="s3">\n      </span><span class="s1">path</span><span class="s3">\n        </span><span class="s1">? `Error serializing </span><span class="s3">\\</span><span class="s1">`${path}</span><span class="s3">\\</span><span class="s1">` returned from </span><span class="s3">\\</span><span class="s1">`${method}</span><span class="s3">\\</span><span class="s1">` in </span><span class="s3">\&quot;</span><span class="s1">${page}</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">nReason: ${message}`</span><span class="s3">\n        </span><span class="s1">: `Error serializing props returned from </span><span class="s3">\\</span><span class="s1">`${method}</span><span class="s3">\\</span><span class="s1">` in </span><span class="s3">\&quot;</span><span class="s1">${page}</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">nReason: ${message}`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function isSerializableProps(</span><span class="s3">\n  </span><span class="s1">page: string,</span><span class="s3">\n  </span><span class="s1">method: string,</span><span class="s3">\n  </span><span class="s1">input: any</span><span class="s3">\n</span><span class="s1">): true {</span><span class="s3">\n  </span><span class="s1">if (!isPlainObject(input)) {</span><span class="s3">\n    </span><span class="s1">throw new SerializableError(</span><span class="s3">\n      </span><span class="s1">page,</span><span class="s3">\n      </span><span class="s1">method,</span><span class="s3">\n      </span><span class="s1">'',</span><span class="s3">\n      </span><span class="s1">`Props must be returned as a plain object from ${method}: </span><span class="s3">\\</span><span class="s1">`{ props: { ... } }</span><span class="s3">\\</span><span class="s1">` (received: </span><span class="s3">\\</span><span class="s1">`${getObjectClassLabel(</span><span class="s3">\n        </span><span class="s1">input</span><span class="s3">\n      </span><span class="s1">)}</span><span class="s3">\\</span><span class="s1">`).`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function visit(visited: Map&lt;any, string&gt;, value: any, path: string) {</span><span class="s3">\n    </span><span class="s1">if (visited.has(value)) {</span><span class="s3">\n      </span><span class="s1">throw new SerializableError(</span><span class="s3">\n        </span><span class="s1">page,</span><span class="s3">\n        </span><span class="s1">method,</span><span class="s3">\n        </span><span class="s1">path,</span><span class="s3">\n        </span><span class="s1">`Circular references cannot be expressed in JSON (references: </span><span class="s3">\\</span><span class="s1">`${</span><span class="s3">\n          </span><span class="s1">visited.get(value) || '(self)'</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\\</span><span class="s1">`).`</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">visited.set(value, path)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function isSerializable(</span><span class="s3">\n    </span><span class="s1">refs: Map&lt;any, string&gt;,</span><span class="s3">\n    </span><span class="s1">value: any,</span><span class="s3">\n    </span><span class="s1">path: string</span><span class="s3">\n  </span><span class="s1">): true {</span><span class="s3">\n    </span><span class="s1">const type = typeof value</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">// `null` can be serialized, but not `undefined`.</span><span class="s3">\n      </span><span class="s1">value === null ||</span><span class="s3">\n      </span><span class="s1">// n.b. `bigint`, `function`, `symbol`, and `undefined` cannot be</span><span class="s3">\n      </span><span class="s1">// serialized.</span><span class="s3">\n      </span><span class="s1">//</span><span class="s3">\n      </span><span class="s1">// `object` is special-cased below, as it may represent `null`, an Array,</span><span class="s3">\n      </span><span class="s1">// a plain object, a class, et al.</span><span class="s3">\n      </span><span class="s1">type === 'boolean' ||</span><span class="s3">\n      </span><span class="s1">type === 'number' ||</span><span class="s3">\n      </span><span class="s1">type === 'string'</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (type === 'undefined') {</span><span class="s3">\n      </span><span class="s1">throw new SerializableError(</span><span class="s3">\n        </span><span class="s1">page,</span><span class="s3">\n        </span><span class="s1">method,</span><span class="s3">\n        </span><span class="s1">path,</span><span class="s3">\n        </span><span class="s1">'`undefined` cannot be serialized as JSON. Please use `null` or omit this value.'</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (isPlainObject(value)) {</span><span class="s3">\n      </span><span class="s1">visit(refs, value, path)</span><span class="s3">\n\n      </span><span class="s1">if (</span><span class="s3">\n        </span><span class="s1">Object.entries(value).every(([key, nestedValue]) =&gt; {</span><span class="s3">\n          </span><span class="s1">const nextPath = regexpPlainIdentifier.test(key)</span><span class="s3">\n            </span><span class="s1">? `${path}.${key}`</span><span class="s3">\n            </span><span class="s1">: `${path}[${JSON.stringify(key)}]`</span><span class="s3">\n\n          </span><span class="s1">const newRefs = new Map(refs)</span><span class="s3">\n          </span><span class="s1">return (</span><span class="s3">\n            </span><span class="s1">isSerializable(newRefs, key, nextPath) &amp;&amp;</span><span class="s3">\n            </span><span class="s1">isSerializable(newRefs, nestedValue, nextPath)</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n      </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return true</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">throw new SerializableError(</span><span class="s3">\n        </span><span class="s1">page,</span><span class="s3">\n        </span><span class="s1">method,</span><span class="s3">\n        </span><span class="s1">path,</span><span class="s3">\n        </span><span class="s1">`invariant: Unknown error encountered in Object.`</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (Array.isArray(value)) {</span><span class="s3">\n      </span><span class="s1">visit(refs, value, path)</span><span class="s3">\n\n      </span><span class="s1">if (</span><span class="s3">\n        </span><span class="s1">value.every((nestedValue, index) =&gt; {</span><span class="s3">\n          </span><span class="s1">const newRefs = new Map(refs)</span><span class="s3">\n          </span><span class="s1">return isSerializable(newRefs, nestedValue, `${path}[${index}]`)</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n      </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return true</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">throw new SerializableError(</span><span class="s3">\n        </span><span class="s1">page,</span><span class="s3">\n        </span><span class="s1">method,</span><span class="s3">\n        </span><span class="s1">path,</span><span class="s3">\n        </span><span class="s1">`invariant: Unknown error encountered in Array.`</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// None of these can be expressed as JSON:</span><span class="s3">\n    </span><span class="s1">// const type: </span><span class="s3">\&quot;</span><span class="s1">bigint</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">symbol</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n    </span><span class="s1">throw new SerializableError(</span><span class="s3">\n      </span><span class="s1">page,</span><span class="s3">\n      </span><span class="s1">method,</span><span class="s3">\n      </span><span class="s1">path,</span><span class="s3">\n      </span><span class="s1">'`' +</span><span class="s3">\n        </span><span class="s1">type +</span><span class="s3">\n        </span><span class="s1">'`' +</span><span class="s3">\n        </span><span class="s1">(type === 'object'</span><span class="s3">\n          </span><span class="s1">? ` (</span><span class="s3">\&quot;</span><span class="s1">${Object.prototype.toString.call(value)}</span><span class="s3">\&quot;</span><span class="s1">)`</span><span class="s3">\n          </span><span class="s1">: '') +</span><span class="s3">\n        </span><span class="s1">' cannot be serialized as JSON. Please only return JSON serializable data types.'</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return isSerializable(new Map(), input, '')</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;SerializableError&quot;</span><span class="s0">,</span><span class="s1">&quot;isSerializableProps&quot;</span><span class="s0">,</span><span class="s1">&quot;regexpPlainIdentifier&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;page&quot;</span><span class="s0">,</span><span class="s1">&quot;method&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;input&quot;</span><span class="s0">,</span><span class="s1">&quot;isPlainObject&quot;</span><span class="s0">,</span><span class="s1">&quot;getObjectClassLabel&quot;</span><span class="s0">,</span><span class="s1">&quot;visit&quot;</span><span class="s0">,</span><span class="s1">&quot;visited&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;has&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;isSerializable&quot;</span><span class="s0">,</span><span class="s1">&quot;refs&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;entries&quot;</span><span class="s0">,</span><span class="s1">&quot;every&quot;</span><span class="s0">,</span><span class="s1">&quot;key&quot;</span><span class="s0">,</span><span class="s1">&quot;nestedValue&quot;</span><span class="s0">,</span><span class="s1">&quot;nextPath&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;newRefs&quot;</span><span class="s0">,</span><span class="s1">&quot;Map&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;index&quot;</span><span class="s0">,</span><span class="s1">&quot;prototype&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;call&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;IAOaA,iBAAiB;eAAjBA;;IAUGC,mBAAmB;eAAnBA;;;+BAdT;AAEP,MAAMC,wBAAwB;AAEvB,MAAMF,0BAA0BG;IACrCC,YAAYC,IAAY,EAAEC,MAAc,EAAEC,IAAY,EAAEC,OAAe,CAAE;QACvE,KAAK,CACHD,OACI,CAAC,oBAAoB,EAAEA,KAAK,mBAAmB,EAAED,OAAO,OAAO,EAAED,KAAK,YAAY,EAAEG,SAAS,GAC7F,CAAC,wCAAwC,EAAEF,OAAO,OAAO,EAAED,KAAK,YAAY,EAAEG,SAAS;IAE/F;AACF;AAEO,SAASP,oBACdI,IAAY,EACZC,MAAc,EACdG,KAAU;IAEV,IAAI,CAACC,IAAAA,4BAAa,EAACD,QAAQ;QACzB,MAAM,qBAOL,CAPK,IAAIT,kBACRK,MACAC,QACA,IACA,CAAC,8CAA8C,EAAEA,OAAO,sCAAsC,EAAEK,IAAAA,kCAAmB,EACjHF,OACA,IAAI,CAAC,GANH,qBAAA;mBAAA;wBAAA;0BAAA;QAON;IACF;IAEA,SAASG,MAAMC,OAAyB,EAAEC,KAAU,EAAEP,IAAY;QAChE,IAAIM,QAAQE,GAAG,CAACD,QAAQ;YACtB,MAAM,qBAOL,CAPK,IAAId,kBACRK,MACAC,QACAC,MACA,CAAC,+DAA+D,EAC9DM,QAAQG,GAAG,CAACF,UAAU,SACvB,IAAI,CAAC,GANF,qBAAA;uBAAA;4BAAA;8BAAA;YAON;QACF;QAEAD,QAAQI,GAAG,CAACH,OAAOP;IACrB;IAEA,SAASW,eACPC,IAAsB,EACtBL,KAAU,EACVP,IAAY;QAEZ,MAAMa,OAAO,OAAON;QACpB,IACE,iDAAiD;QACjDA,UAAU,QACV,iEAAiE;QACjE,cAAc;QACd,EAAE;QACF,yEAAyE;QACzE,kCAAkC;QAClCM,SAAS,aACTA,SAAS,YACTA,SAAS,UACT;YACA,OAAO;QACT;QAEA,IAAIA,SAAS,aAAa;YACxB,MAAM,qBAKL,CALK,IAAIpB,kBACRK,MACAC,QACAC,MACA,oFAJI,qBAAA;uBAAA;4BAAA;8BAAA;YAKN;QACF;QAEA,IAAIG,IAAAA,4BAAa,EAACI,QAAQ;YACxBF,MAAMO,MAAML,OAAOP;YAEnB,IACEc,OAAOC,OAAO,CAACR,OAAOS,KAAK,CAAC,CAAC,CAACC,KAAKC,YAAY;gBAC7C,MAAMC,WAAWxB,sBAAsByB,IAAI,CAACH,OACxC,GAAGjB,KAAK,CAAC,EAAEiB,KAAK,GAChB,GAAGjB,KAAK,CAAC,EAAEqB,KAAKC,SAAS,CAACL,KAAK,CAAC,CAAC;gBAErC,MAAMM,UAAU,IAAIC,IAAIZ;gBACxB,OACED,eAAeY,SAASN,KAAKE,aAC7BR,eAAeY,SAASL,aAAaC;YAEzC,IACA;gBACA,OAAO;YACT;YAEA,MAAM,qBAKL,CALK,IAAI1B,kBACRK,MACAC,QACAC,MACA,CAAC,+CAA+C,CAAC,GAJ7C,qBAAA;uBAAA;4BAAA;8BAAA;YAKN;QACF;QAEA,IAAIyB,MAAMC,OAAO,CAACnB,QAAQ;YACxBF,MAAMO,MAAML,OAAOP;YAEnB,IACEO,MAAMS,KAAK,CAAC,CAACE,aAAaS;gBACxB,MAAMJ,UAAU,IAAIC,IAAIZ;gBACxB,OAAOD,eAAeY,SAASL,aAAa,GAAGlB,KAAK,CAAC,EAAE2B,MAAM,CAAC,CAAC;YACjE,IACA;gBACA,OAAO;YACT;YAEA,MAAM,qBAKL,CALK,IAAIlC,kBACRK,MACAC,QACAC,MACA,CAAC,8CAA8C,CAAC,GAJ5C,qBAAA;uBAAA;4BAAA;8BAAA;YAKN;QACF;QAEA,0CAA0C;QAC1C,0DAA0D;QAC1D,MAAM,qBAWL,CAXK,IAAIP,kBACRK,MACAC,QACAC,MACA,MACEa,OACA,MACCA,CAAAA,SAAS,WACN,CAAC,GAAG,EAAEC,OAAOc,SAAS,CAACC,QAAQ,CAACC,IAAI,CAACvB,OAAO,EAAE,CAAC,GAC/C,EAAC,IACL,oFAVE,qBAAA;mBAAA;wBAAA;0BAAA;QAWN;IACF;IAEA,OAAOI,eAAe,IAAIa,OAAOtB,OAAO;AAC1C&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>