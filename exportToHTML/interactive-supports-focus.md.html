<html>
<head>
<title>interactive-supports-focus.md</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #080808;}
.s3 { color: #871094; font-style: italic;}
.s4 { color: #067d17;}
.s5 { color: #006dcc;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
interactive-supports-focus.md</font>
</center></td></tr></table>
<pre><span class="s0"># </span><span class="s2">jsx-a11y/interactive-supports-focus</span>

<span class="s2">üíº This rule is enabled in the following configs</span><span class="s1">: </span><span class="s2">‚òëÔ∏è `recommended`, üîí `strict`.</span>

<span class="s1">&lt;!-- end auto-generated rule header --&gt;</span>

<span class="s2">Elements with an interactive role and interaction handlers </span><span class="s1">(</span><span class="s2">mouse or key press</span><span class="s1">) </span><span class="s2">must be focusable.</span>

<span class="s0">## </span><span class="s2">How do I resolve this error?</span>

<span class="s0">### </span><span class="s2">Case</span><span class="s1">: </span><span class="s2">I got the error </span><span class="s1">&quot;</span><span class="s2">Elements with the </span><span class="s1">'$</span><span class="s2">{role}' interactive role must be tabbable</span><span class="s1">&quot;</span><span class="s2">. How can I fix this?</span>

<span class="s2">This element is a stand-alone control like a button, a link or a form element. A user should be able to reach this element by pressing the tab key on their keyboard.</span>

<span class="s2">Add the `tabIndex` property to your component. A value of zero indicates that this element can be tabbed to.</span>

<span class="s0">```</span><span class="s3">jsx</span>
<span class="s4">&lt;div</span>
  <span class="s4">role=&quot;button&quot;</span>
  <span class="s4">tabIndex={0} /&gt;</span>
<span class="s0">```</span>

<span class="s2">-- or --</span>

<span class="s2">Replace the component with one that renders semantic html element like `</span><span class="s1">&lt;button&gt;</span><span class="s2">`, `</span><span class="s1">&lt;a href&gt;</span><span class="s2">` or `</span><span class="s1">&lt;input&gt;</span><span class="s2">` -- whichever fits your purpose.</span>

<span class="s2">Generally buttons, links and form elements should be reachable via tab key presses. An element that can be tabbed to is said to be in the </span><span class="s1">_</span><span class="s2">tab ring</span><span class="s1">_</span><span class="s2">.</span>

<span class="s0">### </span><span class="s2">Case</span><span class="s1">: </span><span class="s2">I got the error </span><span class="s1">&quot;</span><span class="s2">Elements with the </span><span class="s1">'$</span><span class="s2">{role}' interactive role must be focusable</span><span class="s1">&quot;</span><span class="s2">. How can I fix this?</span>

<span class="s2">This element is part of a group of buttons, links, menu items, etc. Or this element is part of a composite widget. Composite widgets prescribe standard </span><span class="s1">[</span><span class="s2">keyboard interaction patterns</span><span class="s1">](</span><span class="s5">https://www.w3.org/TR/wai-aria-practices-1.1/#kbd_generalnav</span><span class="s1">)</span><span class="s2">. Within a group of similar elements -- like a button bar -- or within a composite widget, elements that can be focused are given a tabindex of -1. This makes the element </span><span class="s1">_</span><span class="s2">focusable</span><span class="s1">_ </span><span class="s2">but not </span><span class="s1">_</span><span class="s2">tabbable</span><span class="s1">_</span><span class="s2">. Generally one item in a group should have a tabindex of zero so that a user can tab to the component. Once an element in the component has focus, your key management behaviors will control traversal within the component's pieces. As the UI author, you will need to implement the key handling behaviors such as listening for traversal key </span><span class="s1">(</span><span class="s2">up/down/left/right</span><span class="s1">) </span><span class="s2">presses and moving the page focus between the focusable elements in your widget.</span>

<span class="s0">```</span><span class="s3">jsx</span>
<span class="s4">&lt;div role=&quot;menu&quot;&gt;</span>
  <span class="s4">&lt;div role=&quot;menuitem&quot; tabIndex=&quot;0&quot;&gt;Open&lt;/div&gt;</span>
  <span class="s4">&lt;div role=&quot;menuitem&quot; tabIndex=&quot;-1&quot;&gt;Save&lt;/div&gt;</span>
  <span class="s4">&lt;div role=&quot;menuitem&quot; tabIndex=&quot;-1&quot;&gt;Close&lt;/div&gt;</span>
<span class="s4">&lt;/div&gt;</span>
<span class="s0">```</span>

<span class="s2">In the example above, the first item in the group can be tabbed to. The developer provides the ability to traverse to the subsequent items via the up/down/left/right arrow keys. Traversing via arrow keys is not provided by the browser or the assistive technology. See </span><span class="s1">[</span><span class="s2">Fundamental Keyboard Navigation Conventions</span><span class="s1">](</span><span class="s5">https://www.w3.org/TR/wai-aria-practices-1.1/#kbd_generalnav</span><span class="s1">) </span><span class="s2">for information about established traversal behaviors for various UI widgets.</span>

<span class="s0">### </span><span class="s2">Case</span><span class="s1">: </span><span class="s2">This element is not a button, link, menuitem, etc. It is catching bubbled events from elements that it contains</span>

<span class="s2">If your element is catching bubbled click or key events from descendant elements, then the proper role for this element is `presentation`.</span>

<span class="s0">```</span><span class="s3">jsx</span>
<span class="s4">&lt;div</span>
  <span class="s4">onClick={onClickHandler}</span>
  <span class="s4">role=&quot;presentation&quot;&gt;</span>
  <span class="s4">&lt;button&gt;Save&lt;/button&gt;</span>
<span class="s4">&lt;/div&gt;</span>
<span class="s0">```</span>

<span class="s2">Marking an element with the role `presentation` indicates to assistive technology that this element should be ignored; it exists to support the web application and is not meant for humans to interact with directly.</span>

<span class="s0">## </span><span class="s2">Rule options</span>

<span class="s2">This rule takes an options object with the key `tabbable`. The value is an array of interactive ARIA roles that should be considered tabbable, not just focusable. Any interactive role not included in this list will be flagged as needing to be focusable </span><span class="s1">(</span><span class="s2">tabindex of -1</span><span class="s1">)</span><span class="s2">.</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">{</span>
  <span class="s4">'jsx-a11y/interactive-supports-focus': [</span>
    <span class="s4">'error',</span>
    <span class="s4">{</span>
      <span class="s4">tabbable: [</span>
        <span class="s4">'button',</span>
        <span class="s4">'checkbox',</span>
        <span class="s4">'link',</span>
        <span class="s4">'searchbox',</span>
        <span class="s4">'spinbutton',</span>
        <span class="s4">'switch',</span>
        <span class="s4">'textbox',</span>
      <span class="s4">],</span>
    <span class="s4">},</span>
  <span class="s4">]</span>
<span class="s4">}</span>
<span class="s0">```</span>

<span class="s2">The recommended options list interactive roles that act as form elements. Generally, elements with a role like `menuitem` are a part of a composite widget. Focus in a composite widget is controlled and moved programmatically to satisfy the prescribed </span><span class="s1">[</span><span class="s2">keyboard interaction pattern</span><span class="s1">](</span><span class="s5">https://www.w3.org/TR/wai-aria-practices-1.1/#kbd_generalnav</span><span class="s1">) </span><span class="s2">for the widget.</span>

<span class="s2">The list of possible values includes</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">[</span>
  <span class="s4">'button',</span>
  <span class="s4">'checkbox',</span>
  <span class="s4">'columnheader',</span>
  <span class="s4">'combobox',</span>
  <span class="s4">'grid',</span>
  <span class="s4">'gridcell',</span>
  <span class="s4">'link',</span>
  <span class="s4">'listbox',</span>
  <span class="s4">'menu',</span>
  <span class="s4">'menubar',</span>
  <span class="s4">'menuitem',</span>
  <span class="s4">'menuitemcheckbox',</span>
  <span class="s4">'menuitemradio',</span>
  <span class="s4">'option',</span>
  <span class="s4">'progressbar',</span>
  <span class="s4">'radio',</span>
  <span class="s4">'radiogroup',</span>
  <span class="s4">'row',</span>
  <span class="s4">'rowheader',</span>
  <span class="s4">'searchbox',</span>
  <span class="s4">'slider',</span>
  <span class="s4">'spinbutton',</span>
  <span class="s4">'switch',</span>
  <span class="s4">'tab',</span>
  <span class="s4">'tablist',</span>
  <span class="s4">'textbox',</span>
  <span class="s4">'toolbar',</span>
  <span class="s4">'tree',</span>
  <span class="s4">'treegrid',</span>
  <span class="s4">'treeitem',</span>
  <span class="s4">'doc-backlink',</span>
  <span class="s4">'doc-biblioref',</span>
  <span class="s4">'doc-glossref',</span>
  <span class="s4">'doc-noteref',</span>
<span class="s4">]</span>
<span class="s0">```</span>

<span class="s0">### </span><span class="s2">Succeed</span>

<span class="s0">```</span><span class="s3">jsx</span>
<span class="s4">&lt;!-- Good: div with onClick attribute is hidden from screen reader --&gt;</span>
<span class="s4">&lt;div aria-hidden onClick={() =&gt; void 0} /&gt;</span>
<span class="s4">&lt;!-- Good: span with onClick attribute is in the tab order --&gt;</span>
<span class="s4">&lt;span onClick=&quot;doSomething();&quot; tabIndex=&quot;0&quot; role=&quot;button&quot;&gt;Click me!&lt;/span&gt;</span>
<span class="s4">&lt;!-- Good: span with onClick attribute may be focused programmatically --&gt;</span>
<span class="s4">&lt;span onClick=&quot;doSomething();&quot; tabIndex=&quot;-1&quot; role=&quot;menuitem&quot;&gt;Click me too!&lt;/span&gt;</span>
<span class="s4">&lt;!-- Good: anchor element with href is inherently focusable --&gt;</span>
<span class="s4">&lt;a href=&quot;javascript:void(0);&quot; onClick=&quot;doSomething();&quot;&gt;Click ALL the things!&lt;/a&gt;</span>
<span class="s4">&lt;!-- Good: buttons are inherently focusable --&gt;</span>
<span class="s4">&lt;button onClick=&quot;doSomething();&quot;&gt;Click the button :)&lt;/button&gt;</span>
<span class="s0">```</span>

<span class="s0">### </span><span class="s2">Fail</span>

<span class="s0">```</span><span class="s3">jsx</span>
<span class="s4">&lt;!-- Bad: span with onClick attribute has no tabindex --&gt;</span>
<span class="s4">&lt;span onclick=&quot;submitForm();&quot; role=&quot;button&quot;&gt;Submit&lt;/span&gt;</span>
<span class="s4">&lt;!-- Bad: anchor element without href is not focusable --&gt;</span>
<span class="s4">&lt;a onclick=&quot;showNextPage();&quot; role=&quot;button&quot;&gt;Next page&lt;/a&gt;</span>
<span class="s0">```</span>

<span class="s0">## </span><span class="s2">Accessibility guidelines</span>

<span class="s0">- </span><span class="s1">[</span><span class="s2">WCAG 2.1.1</span><span class="s1">](</span><span class="s5">https://www.w3.org/WAI/WCAG21/Understanding/keyboard</span><span class="s1">)</span>

<span class="s0">### </span><span class="s2">Resources</span>

<span class="s0">- </span><span class="s1">[</span><span class="s2">Chrome Audit Rules, AX_FOCUS_02</span><span class="s1">](</span><span class="s5">https://github.com/GoogleChrome/accessibility-developer-tools/wiki/Audit-Rules#ax_focus_02</span><span class="s1">)</span>
<span class="s0">- </span><span class="s1">[</span><span class="s2">Mozilla Developer Network - ARIA Techniques</span><span class="s1">](</span><span class="s5">https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_button_role#Keyboard_and_focus</span><span class="s1">)</span>
<span class="s0">- </span><span class="s1">[</span><span class="s2">Fundamental Keyboard Navigation Conventions</span><span class="s1">](</span><span class="s5">https://www.w3.org/TR/wai-aria-practices-1.1/#kbd_generalnav</span><span class="s1">)</span>
<span class="s0">- </span><span class="s1">[</span><span class="s2">WAI-ARIA Authoring Practices Guide - Design Patterns and Widgets</span><span class="s1">](</span><span class="s5">https://www.w3.org/TR/wai-aria-practices-1.1/#aria_ex</span><span class="s1">)</span>
</pre>
</body>
</html>