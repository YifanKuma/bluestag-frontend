<html>
<head>
<title>node.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
node.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/server/base-http/node.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { ServerResponse, IncomingMessage } from 'http'</span><span class="s3">\n</span><span class="s1">import type { Writable, Readable } from 'stream'</span><span class="s3">\n\n</span><span class="s1">import { SYMBOL_CLEARED_COOKIES } from '../api-utils'</span><span class="s3">\n</span><span class="s1">import type { NextApiRequestCookies } from '../api-utils'</span><span class="s3">\n\n</span><span class="s1">import { NEXT_REQUEST_META } from '../request-meta'</span><span class="s3">\n</span><span class="s1">import type { RequestMeta } from '../request-meta'</span><span class="s3">\n\n</span><span class="s1">import { BaseNextRequest, BaseNextResponse, type FetchMetric } from './index'</span><span class="s3">\n</span><span class="s1">import type { OutgoingHttpHeaders } from 'node:http'</span><span class="s3">\n\n</span><span class="s1">type Req = IncomingMessage &amp; {</span><span class="s3">\n  </span><span class="s1">[NEXT_REQUEST_META]?: RequestMeta</span><span class="s3">\n  </span><span class="s1">cookies?: NextApiRequestCookies</span><span class="s3">\n  </span><span class="s1">fetchMetrics?: FetchMetric[]</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export class NodeNextRequest extends BaseNextRequest&lt;Readable&gt; {</span><span class="s3">\n  </span><span class="s1">public headers = this._req.headers</span><span class="s3">\n  </span><span class="s1">public fetchMetrics: FetchMetric[] | undefined = this._req?.fetchMetrics;</span><span class="s3">\n\n  </span><span class="s1">[NEXT_REQUEST_META]: RequestMeta = this._req[NEXT_REQUEST_META] || {}</span><span class="s3">\n\n  </span><span class="s1">constructor(private _req: Req) {</span><span class="s3">\n    </span><span class="s1">super(_req.method!.toUpperCase(), _req.url!, _req)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get originalRequest() {</span><span class="s3">\n    </span><span class="s1">// Need to mimic these changes to the original req object for places where we use it:</span><span class="s3">\n    </span><span class="s1">// render.tsx, api/ssg requests</span><span class="s3">\n    </span><span class="s1">this._req[NEXT_REQUEST_META] = this[NEXT_REQUEST_META]</span><span class="s3">\n    </span><span class="s1">this._req.url = this.url</span><span class="s3">\n    </span><span class="s1">this._req.cookies = this.cookies</span><span class="s3">\n    </span><span class="s1">return this._req</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">set originalRequest(value: Req) {</span><span class="s3">\n    </span><span class="s1">this._req = value</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">private streaming = false</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Returns the request body as a Web Readable Stream. The body here can only</span><span class="s3">\n   </span><span class="s1">* be read once as the body will start flowing as soon as the data handler</span><span class="s3">\n   </span><span class="s1">* is attached.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @internal</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">public stream() {</span><span class="s3">\n    </span><span class="s1">if (this.streaming) {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        </span><span class="s1">'Invariant: NodeNextRequest.stream() can only be called once'</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.streaming = true</span><span class="s3">\n\n    </span><span class="s1">return new ReadableStream({</span><span class="s3">\n      </span><span class="s1">start: (controller) =&gt; {</span><span class="s3">\n        </span><span class="s1">this._req.on('data', (chunk) =&gt; {</span><span class="s3">\n          </span><span class="s1">controller.enqueue(new Uint8Array(chunk))</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">this._req.on('end', () =&gt; {</span><span class="s3">\n          </span><span class="s1">controller.close()</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">this._req.on('error', (err) =&gt; {</span><span class="s3">\n          </span><span class="s1">controller.error(err)</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export class NodeNextResponse extends BaseNextResponse&lt;Writable&gt; {</span><span class="s3">\n  </span><span class="s1">private textBody: string | undefined = undefined</span><span class="s3">\n\n  </span><span class="s1">public [SYMBOL_CLEARED_COOKIES]?: boolean</span><span class="s3">\n\n  </span><span class="s1">get originalResponse() {</span><span class="s3">\n    </span><span class="s1">if (SYMBOL_CLEARED_COOKIES in this) {</span><span class="s3">\n      </span><span class="s1">this._res[SYMBOL_CLEARED_COOKIES] = this[SYMBOL_CLEARED_COOKIES]</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return this._res</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">constructor(</span><span class="s3">\n    </span><span class="s1">private _res: ServerResponse &amp; { [SYMBOL_CLEARED_COOKIES]?: boolean }</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">super(_res)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get sent() {</span><span class="s3">\n    </span><span class="s1">return this._res.finished || this._res.headersSent</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get statusCode() {</span><span class="s3">\n    </span><span class="s1">return this._res.statusCode</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">set statusCode(value: number) {</span><span class="s3">\n    </span><span class="s1">this._res.statusCode = value</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get statusMessage() {</span><span class="s3">\n    </span><span class="s1">return this._res.statusMessage</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">set statusMessage(value: string) {</span><span class="s3">\n    </span><span class="s1">this._res.statusMessage = value</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">setHeader(name: string, value: string | string[]): this {</span><span class="s3">\n    </span><span class="s1">this._res.setHeader(name, value)</span><span class="s3">\n    </span><span class="s1">return this</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">removeHeader(name: string): this {</span><span class="s3">\n    </span><span class="s1">this._res.removeHeader(name)</span><span class="s3">\n    </span><span class="s1">return this</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">getHeaderValues(name: string): string[] | undefined {</span><span class="s3">\n    </span><span class="s1">const values = this._res.getHeader(name)</span><span class="s3">\n\n    </span><span class="s1">if (values === undefined) return undefined</span><span class="s3">\n\n    </span><span class="s1">return (Array.isArray(values) ? values : [values]).map((value) =&gt;</span><span class="s3">\n      </span><span class="s1">value.toString()</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">hasHeader(name: string): boolean {</span><span class="s3">\n    </span><span class="s1">return this._res.hasHeader(name)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">getHeader(name: string): string | undefined {</span><span class="s3">\n    </span><span class="s1">const values = this.getHeaderValues(name)</span><span class="s3">\n    </span><span class="s1">return Array.isArray(values) ? values.join(',') : undefined</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">getHeaders(): OutgoingHttpHeaders {</span><span class="s3">\n    </span><span class="s1">return this._res.getHeaders()</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">appendHeader(name: string, value: string): this {</span><span class="s3">\n    </span><span class="s1">const currentValues = this.getHeaderValues(name) ?? []</span><span class="s3">\n\n    </span><span class="s1">if (!currentValues.includes(value)) {</span><span class="s3">\n      </span><span class="s1">this._res.setHeader(name, [...currentValues, value])</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return this</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">body(value: string) {</span><span class="s3">\n    </span><span class="s1">this.textBody = value</span><span class="s3">\n    </span><span class="s1">return this</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">send() {</span><span class="s3">\n    </span><span class="s1">this._res.end(this.textBody)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">public onClose(callback: () =&gt; void) {</span><span class="s3">\n    </span><span class="s1">this.originalResponse.on('close', callback)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;NodeNextRequest&quot;</span><span class="s0">,</span><span class="s1">&quot;NodeNextResponse&quot;</span><span class="s0">,</span><span class="s1">&quot;BaseNextRequest&quot;</span><span class="s0">,</span><span class="s1">&quot;NEXT_REQUEST_META&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;_req&quot;</span><span class="s0">,</span><span class="s1">&quot;method&quot;</span><span class="s0">,</span><span class="s1">&quot;toUpperCase&quot;</span><span class="s0">,</span><span class="s1">&quot;url&quot;</span><span class="s0">,</span><span class="s1">&quot;headers&quot;</span><span class="s0">,</span><span class="s1">&quot;fetchMetrics&quot;</span><span class="s0">,</span><span class="s1">&quot;streaming&quot;</span><span class="s0">,</span><span class="s1">&quot;originalRequest&quot;</span><span class="s0">,</span><span class="s1">&quot;cookies&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;stream&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;ReadableStream&quot;</span><span class="s0">,</span><span class="s1">&quot;start&quot;</span><span class="s0">,</span><span class="s1">&quot;controller&quot;</span><span class="s0">,</span><span class="s1">&quot;on&quot;</span><span class="s0">,</span><span class="s1">&quot;chunk&quot;</span><span class="s0">,</span><span class="s1">&quot;enqueue&quot;</span><span class="s0">,</span><span class="s1">&quot;Uint8Array&quot;</span><span class="s0">,</span><span class="s1">&quot;close&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;BaseNextResponse&quot;</span><span class="s0">,</span><span class="s1">&quot;originalResponse&quot;</span><span class="s0">,</span><span class="s1">&quot;SYMBOL_CLEARED_COOKIES&quot;</span><span class="s0">,</span><span class="s1">&quot;_res&quot;</span><span class="s0">,</span><span class="s1">&quot;textBody&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;sent&quot;</span><span class="s0">,</span><span class="s1">&quot;finished&quot;</span><span class="s0">,</span><span class="s1">&quot;headersSent&quot;</span><span class="s0">,</span><span class="s1">&quot;statusCode&quot;</span><span class="s0">,</span><span class="s1">&quot;statusMessage&quot;</span><span class="s0">,</span><span class="s1">&quot;setHeader&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;removeHeader&quot;</span><span class="s0">,</span><span class="s1">&quot;getHeaderValues&quot;</span><span class="s0">,</span><span class="s1">&quot;values&quot;</span><span class="s0">,</span><span class="s1">&quot;getHeader&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;hasHeader&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;getHeaders&quot;</span><span class="s0">,</span><span class="s1">&quot;appendHeader&quot;</span><span class="s0">,</span><span class="s1">&quot;currentValues&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;body&quot;</span><span class="s0">,</span><span class="s1">&quot;send&quot;</span><span class="s0">,</span><span class="s1">&quot;end&quot;</span><span class="s0">,</span><span class="s1">&quot;onClose&quot;</span><span class="s0">,</span><span class="s1">&quot;callback&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>