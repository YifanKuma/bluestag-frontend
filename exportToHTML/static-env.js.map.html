<html>
<head>
<title>static-env.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
static-env.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/lib/static-env.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { NextConfigComplete } from '../server/config-shared'</span><span class="s3">\n\n</span><span class="s1">function errorIfEnvConflicted(config: NextConfigComplete, key: string) {</span><span class="s3">\n  </span><span class="s1">const isPrivateKey = /^(?:NODE_.+)|^(?:__.+)$/i.test(key)</span><span class="s3">\n  </span><span class="s1">const hasNextRuntimeKey = key === 'NEXT_RUNTIME'</span><span class="s3">\n\n  </span><span class="s1">if (isPrivateKey || hasNextRuntimeKey) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\n      </span><span class="s1">`The key </span><span class="s3">\&quot;</span><span class="s1">${key}</span><span class="s3">\&quot; </span><span class="s1">under </span><span class="s3">\&quot;</span><span class="s1">env</span><span class="s3">\&quot; </span><span class="s1">in ${config.configFileName} is not allowed. https://nextjs.org/docs/messages/env-key-not-allowed`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Collects all environment variables that are using the `NEXT_PUBLIC_` prefix.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function getNextPublicEnvironmentVariables() {</span><span class="s3">\n  </span><span class="s1">const defineEnv: Record&lt;string, string | undefined&gt; = {}</span><span class="s3">\n  </span><span class="s1">for (const key in process.env) {</span><span class="s3">\n    </span><span class="s1">if (key.startsWith('NEXT_PUBLIC_')) {</span><span class="s3">\n      </span><span class="s1">const value = process.env[key]</span><span class="s3">\n      </span><span class="s1">if (value != null) {</span><span class="s3">\n        </span><span class="s1">defineEnv[`process.env.${key}`] = value</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return defineEnv</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Collects the `env` config value from the Next.js config.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function getNextConfigEnv(config: NextConfigComplete) {</span><span class="s3">\n  </span><span class="s1">// Refactored code below to use for-of</span><span class="s3">\n  </span><span class="s1">const defineEnv: Record&lt;string, string | undefined&gt; = {}</span><span class="s3">\n  </span><span class="s1">const env = config.env</span><span class="s3">\n  </span><span class="s1">for (const key in env) {</span><span class="s3">\n    </span><span class="s1">const value = env[key]</span><span class="s3">\n    </span><span class="s1">if (value != null) {</span><span class="s3">\n      </span><span class="s1">errorIfEnvConflicted(config, key)</span><span class="s3">\n      </span><span class="s1">defineEnv[`process.env.${key}`] = value</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return defineEnv</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getStaticEnv(config: NextConfigComplete) {</span><span class="s3">\n  </span><span class="s1">const staticEnv: Record&lt;string, string | undefined&gt; = {</span><span class="s3">\n    </span><span class="s1">...getNextPublicEnvironmentVariables(),</span><span class="s3">\n    </span><span class="s1">...getNextConfigEnv(config),</span><span class="s3">\n    </span><span class="s1">'process.env.NEXT_DEPLOYMENT_ID': config.deploymentId || '',</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return staticEnv</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function populateStaticEnv(config: NextConfigComplete) {</span><span class="s3">\n  </span><span class="s1">// since inlining comes after static generation we need</span><span class="s3">\n  </span><span class="s1">// to ensure this value is assigned to process env so it</span><span class="s3">\n  </span><span class="s1">// can still be accessed</span><span class="s3">\n  </span><span class="s1">const staticEnv = getStaticEnv(config)</span><span class="s3">\n  </span><span class="s1">for (const key in staticEnv) {</span><span class="s3">\n    </span><span class="s1">const innerKey = key.split('.').pop() || ''</span><span class="s3">\n    </span><span class="s1">if (!process.env[innerKey]) {</span><span class="s3">\n      </span><span class="s1">process.env[innerKey] = staticEnv[key] || ''</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;getNextConfigEnv&quot;</span><span class="s0">,</span><span class="s1">&quot;getNextPublicEnvironmentVariables&quot;</span><span class="s0">,</span><span class="s1">&quot;getStaticEnv&quot;</span><span class="s0">,</span><span class="s1">&quot;populateStaticEnv&quot;</span><span class="s0">,</span><span class="s1">&quot;errorIfEnvConflicted&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;key&quot;</span><span class="s0">,</span><span class="s1">&quot;isPrivateKey&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">,</span><span class="s1">&quot;hasNextRuntimeKey&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;configFileName&quot;</span><span class="s0">,</span><span class="s1">&quot;defineEnv&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;startsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;staticEnv&quot;</span><span class="s0">,</span><span class="s1">&quot;deploymentId&quot;</span><span class="s0">,</span><span class="s1">&quot;innerKey&quot;</span><span class="s0">,</span><span class="s1">&quot;split&quot;</span><span class="s0">,</span><span class="s1">&quot;pop&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;;IAgCgBA,gBAAgB;eAAhBA;;IAhBAC,iCAAiC;eAAjCA;;IA8BAC,YAAY;eAAZA;;IASAC,iBAAiB;eAAjBA;;;AArDhB,SAASC,qBAAqBC,MAA0B,EAAEC,GAAW;IACnE,MAAMC,eAAe,2BAA2BC,IAAI,CAACF;IACrD,MAAMG,oBAAoBH,QAAQ;IAElC,IAAIC,gBAAgBE,mBAAmB;QACrC,MAAM,qBAEL,CAFK,IAAIC,MACR,CAAC,SAAS,EAAEJ,IAAI,iBAAiB,EAAED,OAAOM,cAAc,CAAC,qEAAqE,CAAC,GAD3H,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;AACF;AAKO,SAASV;IACd,MAAMW,YAAgD,CAAC;IACvD,IAAK,MAAMN,OAAOO,QAAQC,GAAG,CAAE;QAC7B,IAAIR,IAAIS,UAAU,CAAC,iBAAiB;YAClC,MAAMC,QAAQH,QAAQC,GAAG,CAACR,IAAI;YAC9B,IAAIU,SAAS,MAAM;gBACjBJ,SAAS,CAAC,CAAC,YAAY,EAAEN,KAAK,CAAC,GAAGU;YACpC;QACF;IACF;IACA,OAAOJ;AACT;AAKO,SAASZ,iBAAiBK,MAA0B;IACzD,sCAAsC;IACtC,MAAMO,YAAgD,CAAC;IACvD,MAAME,MAAMT,OAAOS,GAAG;IACtB,IAAK,MAAMR,OAAOQ,IAAK;QACrB,MAAME,QAAQF,GAAG,CAACR,IAAI;QACtB,IAAIU,SAAS,MAAM;YACjBZ,qBAAqBC,QAAQC;YAC7BM,SAAS,CAAC,CAAC,YAAY,EAAEN,KAAK,CAAC,GAAGU;QACpC;IACF;IACA,OAAOJ;AACT;AAEO,SAASV,aAAaG,MAA0B;IACrD,MAAMY,YAAgD;QACpD,GAAGhB,mCAAmC;QACtC,GAAGD,iBAAiBK,OAAO;QAC3B,kCAAkCA,OAAOa,YAAY,IAAI;IAC3D;IACA,OAAOD;AACT;AAEO,SAASd,kBAAkBE,MAA0B;IAC1D,uDAAuD;IACvD,wDAAwD;IACxD,wBAAwB;IACxB,MAAMY,YAAYf,aAAaG;IAC/B,IAAK,MAAMC,OAAOW,UAAW;QAC3B,MAAME,WAAWb,IAAIc,KAAK,CAAC,KAAKC,GAAG,MAAM;QACzC,IAAI,CAACR,QAAQC,GAAG,CAACK,SAAS,EAAE;YAC1BN,QAAQC,GAAG,CAACK,SAAS,GAAGF,SAAS,CAACX,IAAI,IAAI;QAC5C;IACF;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>