<html>
<head>
<title>bulk-suppressions-file.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
bulk-suppressions-file.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;bulk-suppressions-file.js&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/eslint-bulk-suppressions/bulk-suppressions-file.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.</span><span class="s3">\n</span><span class="s1">// See LICENSE in the project root for license information.</span><span class="s3">\n\n</span><span class="s1">import fs from 'fs';</span><span class="s3">\n</span><span class="s1">import { VSCODE_PID_ENV_VAR_NAME } from './constants';</span><span class="s3">\n\n</span><span class="s1">export interface ISuppression {</span><span class="s3">\n  </span><span class="s1">file: string;</span><span class="s3">\n  </span><span class="s1">scopeId: string;</span><span class="s3">\n  </span><span class="s1">rule: string;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export interface IBulkSuppressionsConfig {</span><span class="s3">\n  </span><span class="s1">serializedSuppressions: Set&lt;string&gt;;</span><span class="s3">\n  </span><span class="s1">jsonObject: IBulkSuppressionsJson;</span><span class="s3">\n  </span><span class="s1">newSerializedSuppressions: Set&lt;string&gt;;</span><span class="s3">\n  </span><span class="s1">newJsonObject: IBulkSuppressionsJson;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export interface IBulkSuppressionsJson {</span><span class="s3">\n  </span><span class="s1">suppressions: ISuppression[];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const IS_RUNNING_IN_VSCODE: boolean = process.env[VSCODE_PID_ENV_VAR_NAME] !== undefined;</span><span class="s3">\n</span><span class="s1">const TEN_SECONDS_MS: number = 10 * 1000;</span><span class="s3">\n</span><span class="s1">const SUPPRESSIONS_JSON_FILENAME: string = '.eslint-bulk-suppressions.json';</span><span class="s3">\n\n</span><span class="s1">function throwIfAnythingOtherThanNotExistError(e: NodeJS.ErrnoException): void | never {</span><span class="s3">\n  </span><span class="s1">if (e?.code !== 'ENOENT') {</span><span class="s3">\n    </span><span class="s1">// Throw an error if any other error than file not found</span><span class="s3">\n    </span><span class="s1">throw e;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">interface ICachedBulkSuppressionsConfig {</span><span class="s3">\n  </span><span class="s1">readTime: number;</span><span class="s3">\n  </span><span class="s1">suppressionsConfig: IBulkSuppressionsConfig;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const suppressionsJsonByFolderPath: Map&lt;string, ICachedBulkSuppressionsConfig&gt; = new Map();</span><span class="s3">\n</span><span class="s1">export function getSuppressionsConfigForEslintConfigFolderPath(</span><span class="s3">\n  </span><span class="s1">eslintConfigFolderPath: string</span><span class="s3">\n</span><span class="s1">): IBulkSuppressionsConfig {</span><span class="s3">\n  </span><span class="s1">const cachedSuppressionsConfig: ICachedBulkSuppressionsConfig | undefined =</span><span class="s3">\n    </span><span class="s1">suppressionsJsonByFolderPath.get(eslintConfigFolderPath);</span><span class="s3">\n\n  </span><span class="s1">let shouldLoad: boolean;</span><span class="s3">\n  </span><span class="s1">let suppressionsConfig: IBulkSuppressionsConfig;</span><span class="s3">\n  </span><span class="s1">if (cachedSuppressionsConfig) {</span><span class="s3">\n    </span><span class="s1">shouldLoad = IS_RUNNING_IN_VSCODE &amp;&amp; cachedSuppressionsConfig.readTime &lt; Date.now() - TEN_SECONDS_MS;</span><span class="s3">\n    </span><span class="s1">suppressionsConfig = cachedSuppressionsConfig.suppressionsConfig;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">shouldLoad = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (shouldLoad) {</span><span class="s3">\n    </span><span class="s1">const suppressionsPath: string = `${eslintConfigFolderPath}/${SUPPRESSIONS_JSON_FILENAME}`;</span><span class="s3">\n    </span><span class="s1">let rawJsonFile: string | undefined;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">rawJsonFile = fs.readFileSync(suppressionsPath).toString();</span><span class="s3">\n    </span><span class="s1">} catch (e) {</span><span class="s3">\n      </span><span class="s1">throwIfAnythingOtherThanNotExistError(e);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!rawJsonFile) {</span><span class="s3">\n      </span><span class="s1">suppressionsConfig = {</span><span class="s3">\n        </span><span class="s1">serializedSuppressions: new Set(),</span><span class="s3">\n        </span><span class="s1">jsonObject: { suppressions: [] },</span><span class="s3">\n        </span><span class="s1">newSerializedSuppressions: new Set(),</span><span class="s3">\n        </span><span class="s1">newJsonObject: { suppressions: [] }</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">const jsonObject: IBulkSuppressionsJson = JSON.parse(rawJsonFile);</span><span class="s3">\n      </span><span class="s1">validateSuppressionsJson(jsonObject);</span><span class="s3">\n\n      </span><span class="s1">const serializedSuppressions: Set&lt;string&gt; = new Set();</span><span class="s3">\n      </span><span class="s1">for (const suppression of jsonObject.suppressions) {</span><span class="s3">\n        </span><span class="s1">serializedSuppressions.add(serializeSuppression(suppression));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">suppressionsConfig = {</span><span class="s3">\n        </span><span class="s1">serializedSuppressions,</span><span class="s3">\n        </span><span class="s1">jsonObject,</span><span class="s3">\n        </span><span class="s1">newSerializedSuppressions: new Set(),</span><span class="s3">\n        </span><span class="s1">newJsonObject: { suppressions: [] }</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">suppressionsJsonByFolderPath.set(eslintConfigFolderPath, { readTime: Date.now(), suppressionsConfig });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return suppressionsConfig!;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getAllBulkSuppressionsConfigsByEslintConfigFolderPath(): [string, IBulkSuppressionsConfig][] {</span><span class="s3">\n  </span><span class="s1">const result: [string, IBulkSuppressionsConfig][] = [];</span><span class="s3">\n  </span><span class="s1">for (const [eslintConfigFolderPath, { suppressionsConfig }] of suppressionsJsonByFolderPath) {</span><span class="s3">\n    </span><span class="s1">result.push([eslintConfigFolderPath, suppressionsConfig]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function writeSuppressionsJsonToFile(</span><span class="s3">\n  </span><span class="s1">eslintConfigFolderPath: string,</span><span class="s3">\n  </span><span class="s1">suppressionsConfig: IBulkSuppressionsConfig</span><span class="s3">\n</span><span class="s1">): void {</span><span class="s3">\n  </span><span class="s1">suppressionsJsonByFolderPath.set(eslintConfigFolderPath, { readTime: Date.now(), suppressionsConfig });</span><span class="s3">\n  </span><span class="s1">const suppressionsPath: string = `${eslintConfigFolderPath}/${SUPPRESSIONS_JSON_FILENAME}`;</span><span class="s3">\n  </span><span class="s1">if (suppressionsConfig.jsonObject.suppressions.length === 0) {</span><span class="s3">\n    </span><span class="s1">deleteFile(suppressionsPath);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">suppressionsConfig.jsonObject.suppressions.sort(compareSuppressions);</span><span class="s3">\n    </span><span class="s1">fs.writeFileSync(suppressionsPath, JSON.stringify(suppressionsConfig.jsonObject, undefined, 2));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function deleteBulkSuppressionsFileInEslintConfigFolder(eslintConfigFolderPath: string): void {</span><span class="s3">\n  </span><span class="s1">const suppressionsPath: string = `${eslintConfigFolderPath}/${SUPPRESSIONS_JSON_FILENAME}`;</span><span class="s3">\n  </span><span class="s1">deleteFile(suppressionsPath);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function deleteFile(filePath: string): void {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">fs.unlinkSync(filePath);</span><span class="s3">\n  </span><span class="s1">} catch (e) {</span><span class="s3">\n    </span><span class="s1">throwIfAnythingOtherThanNotExistError(e);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function serializeSuppression({ file, scopeId, rule }: ISuppression): string {</span><span class="s3">\n  </span><span class="s1">return `${file}|${scopeId}|${rule}`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function compareSuppressions(a: ISuppression, b: ISuppression): -1 | 0 | 1 {</span><span class="s3">\n  </span><span class="s1">if (a.file &lt; b.file) {</span><span class="s3">\n    </span><span class="s1">return -1;</span><span class="s3">\n  </span><span class="s1">} else if (a.file &gt; b.file) {</span><span class="s3">\n    </span><span class="s1">return 1;</span><span class="s3">\n  </span><span class="s1">} else if (a.scopeId &lt; b.scopeId) {</span><span class="s3">\n    </span><span class="s1">return -1;</span><span class="s3">\n  </span><span class="s1">} else if (a.scopeId &gt; b.scopeId) {</span><span class="s3">\n    </span><span class="s1">return 1;</span><span class="s3">\n  </span><span class="s1">} else if (a.rule &lt; b.rule) {</span><span class="s3">\n    </span><span class="s1">return -1;</span><span class="s3">\n  </span><span class="s1">} else if (a.rule &gt; b.rule) {</span><span class="s3">\n    </span><span class="s1">return 1;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function validateSuppressionsJson(json: IBulkSuppressionsJson): json is IBulkSuppressionsJson {</span><span class="s3">\n  </span><span class="s1">if (typeof json !== 'object') {</span><span class="s3">\n    </span><span class="s1">throw new Error(`Invalid JSON object: ${JSON.stringify(json, null, 2)}`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (!json) {</span><span class="s3">\n    </span><span class="s1">throw new Error('JSON object is null.');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const EXPECTED_ROOT_PROPERTY_NAMES: Set&lt;keyof IBulkSuppressionsJson&gt; = new Set(['suppressions']);</span><span class="s3">\n\n  </span><span class="s1">for (const propertyName of Object.getOwnPropertyNames(json)) {</span><span class="s3">\n    </span><span class="s1">if (!EXPECTED_ROOT_PROPERTY_NAMES.has(propertyName as keyof IBulkSuppressionsJson)) {</span><span class="s3">\n      </span><span class="s1">throw new Error(`Unexpected property name: ${propertyName}`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const { suppressions } = json;</span><span class="s3">\n  </span><span class="s1">if (!suppressions) {</span><span class="s3">\n    </span><span class="s1">throw new Error('Missing </span><span class="s3">\&quot;</span><span class="s1">suppressions</span><span class="s3">\&quot; </span><span class="s1">property.');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (!Array.isArray(suppressions)) {</span><span class="s3">\n    </span><span class="s1">throw new Error('</span><span class="s3">\&quot;</span><span class="s1">suppressions</span><span class="s3">\&quot; </span><span class="s1">property is not an array.');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const EXPECTED_SUPPRESSION_PROPERTY_NAMES: Set&lt;keyof ISuppression&gt; = new Set(['file', 'scopeId', 'rule']);</span><span class="s3">\n  </span><span class="s1">for (const suppression of suppressions) {</span><span class="s3">\n    </span><span class="s1">if (typeof suppression !== 'object') {</span><span class="s3">\n      </span><span class="s1">throw new Error(`Invalid suppression: ${JSON.stringify(suppression, null, 2)}`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!suppression) {</span><span class="s3">\n      </span><span class="s1">throw new Error(`Suppression is null: ${JSON.stringify(suppression, null, 2)}`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (const propertyName of Object.getOwnPropertyNames(suppression)) {</span><span class="s3">\n      </span><span class="s1">if (!EXPECTED_SUPPRESSION_PROPERTY_NAMES.has(propertyName as keyof ISuppression)) {</span><span class="s3">\n        </span><span class="s1">throw new Error(`Unexpected property name: ${propertyName}`);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (const propertyName of EXPECTED_SUPPRESSION_PROPERTY_NAMES) {</span><span class="s3">\n      </span><span class="s1">if (!suppression.hasOwnProperty(propertyName)) {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\n          </span><span class="s1">`Missing </span><span class="s3">\&quot;</span><span class="s1">${propertyName}</span><span class="s3">\&quot; </span><span class="s1">property in suppression: ${JSON.stringify(suppression, null, 2)}`</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} else if (typeof suppression[propertyName] !== 'string') {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\n          </span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">${propertyName}</span><span class="s3">\&quot; </span><span class="s1">property in suppression is not a string: ${JSON.stringify(suppression, null, 2)}`</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">]}</span></pre>
</body>
</html>