<html>
<head>
<title>build-prefetch-segment-data-route.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
build-prefetch-segment-data-route.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../src/server/lib/router-utils/build-prefetch-segment-data-route.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import path from '../../../shared/lib/isomorphic/path'</span><span class="s3">\n</span><span class="s1">import { normalizePagePath } from '../../../shared/lib/page-path/normalize-page-path'</span><span class="s3">\n</span><span class="s1">import { getNamedRouteRegex } from '../../../shared/lib/router/utils/route-regex'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">RSC_PREFETCH_SUFFIX,</span><span class="s3">\n  </span><span class="s1">RSC_SEGMENT_SUFFIX,</span><span class="s3">\n  </span><span class="s1">RSC_SEGMENTS_DIR_SUFFIX,</span><span class="s3">\n</span><span class="s1">} from '../../../lib/constants'</span><span class="s3">\n\n</span><span class="s1">export const SEGMENT_PATH_KEY = 'nextSegmentPath'</span><span class="s3">\n\n</span><span class="s1">export type PrefetchSegmentDataRoute = {</span><span class="s3">\n  </span><span class="s1">source: string</span><span class="s3">\n  </span><span class="s1">destination: string</span><span class="s3">\n  </span><span class="s1">routeKeys: { [key: string]: string }</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function buildPrefetchSegmentDataRoute(</span><span class="s3">\n  </span><span class="s1">page: string,</span><span class="s3">\n  </span><span class="s1">segmentPath: string</span><span class="s3">\n</span><span class="s1">): PrefetchSegmentDataRoute {</span><span class="s3">\n  </span><span class="s1">const pagePath = normalizePagePath(page)</span><span class="s3">\n\n  </span><span class="s1">const destination = path.posix.join(</span><span class="s3">\n    </span><span class="s1">`${pagePath}${RSC_SEGMENTS_DIR_SUFFIX}`,</span><span class="s3">\n    </span><span class="s1">`${segmentPath}${RSC_SEGMENT_SUFFIX}`</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">const { namedRegex, routeKeys } = getNamedRouteRegex(destination, {</span><span class="s3">\n    </span><span class="s1">prefixRouteKeys: true,</span><span class="s3">\n    </span><span class="s1">includePrefix: true,</span><span class="s3">\n    </span><span class="s1">includeSuffix: true,</span><span class="s3">\n    </span><span class="s1">excludeOptionalTrailingSlash: true,</span><span class="s3">\n    </span><span class="s1">backreferenceDuplicateKeys: true,</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">destination,</span><span class="s3">\n    </span><span class="s1">source: namedRegex,</span><span class="s3">\n    </span><span class="s1">routeKeys,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Builds a prefetch segment data route that is inverted. This means that it's</span><span class="s3">\n </span><span class="s1">* supposed to rewrite from the previous segment paths route back to the</span><span class="s3">\n </span><span class="s1">* prefetch RSC route.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param page - The page to build the route for.</span><span class="s3">\n </span><span class="s1">* @param segmentPath - The segment path to build the route for.</span><span class="s3">\n </span><span class="s1">* @returns The prefetch segment data route.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function buildInversePrefetchSegmentDataRoute(</span><span class="s3">\n  </span><span class="s1">page: string,</span><span class="s3">\n  </span><span class="s1">segmentPath: string</span><span class="s3">\n</span><span class="s1">): PrefetchSegmentDataRoute {</span><span class="s3">\n  </span><span class="s1">const pagePath = normalizePagePath(page)</span><span class="s3">\n\n  </span><span class="s1">const source = path.posix.join(</span><span class="s3">\n    </span><span class="s1">`${pagePath}${RSC_SEGMENTS_DIR_SUFFIX}`,</span><span class="s3">\n    </span><span class="s1">`${segmentPath}${RSC_SEGMENT_SUFFIX}`</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">const { namedRegex, routeKeys } = getNamedRouteRegex(source, {</span><span class="s3">\n    </span><span class="s1">prefixRouteKeys: true,</span><span class="s3">\n    </span><span class="s1">includePrefix: true,</span><span class="s3">\n    </span><span class="s1">includeSuffix: true,</span><span class="s3">\n    </span><span class="s1">excludeOptionalTrailingSlash: true,</span><span class="s3">\n    </span><span class="s1">backreferenceDuplicateKeys: true,</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n\n  </span><span class="s1">const destination = path.posix.join(`${pagePath}${RSC_PREFETCH_SUFFIX}`)</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">source: namedRegex,</span><span class="s3">\n    </span><span class="s1">destination,</span><span class="s3">\n    </span><span class="s1">routeKeys,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;SEGMENT_PATH_KEY&quot;</span><span class="s0">,</span><span class="s1">&quot;buildInversePrefetchSegmentDataRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;buildPrefetchSegmentDataRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;page&quot;</span><span class="s0">,</span><span class="s1">&quot;segmentPath&quot;</span><span class="s0">,</span><span class="s1">&quot;pagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizePagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;destination&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;posix&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;RSC_SEGMENTS_DIR_SUFFIX&quot;</span><span class="s0">,</span><span class="s1">&quot;RSC_SEGMENT_SUFFIX&quot;</span><span class="s0">,</span><span class="s1">&quot;namedRegex&quot;</span><span class="s0">,</span><span class="s1">&quot;routeKeys&quot;</span><span class="s0">,</span><span class="s1">&quot;getNamedRouteRegex&quot;</span><span class="s0">,</span><span class="s1">&quot;prefixRouteKeys&quot;</span><span class="s0">,</span><span class="s1">&quot;includePrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;includeSuffix&quot;</span><span class="s0">,</span><span class="s1">&quot;excludeOptionalTrailingSlash&quot;</span><span class="s0">,</span><span class="s1">&quot;backreferenceDuplicateKeys&quot;</span><span class="s0">,</span><span class="s1">&quot;source&quot;</span><span class="s0">,</span><span class="s1">&quot;RSC_PREFETCH_SUFFIX&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;IASaA,gBAAgB;eAAhBA;;IA2CGC,oCAAoC;eAApCA;;IAnCAC,6BAA6B;eAA7BA;;;6DAjBC;mCACiB;4BACC;2BAK5B;;;;;;AAEA,MAAMF,mBAAmB;AAQzB,SAASE,8BACdC,IAAY,EACZC,WAAmB;IAEnB,MAAMC,WAAWC,IAAAA,oCAAiB,EAACH;IAEnC,MAAMI,cAAcC,aAAI,CAACC,KAAK,CAACC,IAAI,CACjC,GAAGL,WAAWM,kCAAuB,EAAE,EACvC,GAAGP,cAAcQ,6BAAkB,EAAE;IAGvC,MAAM,EAAEC,UAAU,EAAEC,SAAS,EAAE,GAAGC,IAAAA,8BAAkB,EAACR,aAAa;QAChES,iBAAiB;QACjBC,eAAe;QACfC,eAAe;QACfC,8BAA8B;QAC9BC,4BAA4B;IAC9B;IAEA,OAAO;QACLb;QACAc,QAAQR;QACRC;IACF;AACF;AAWO,SAASb,qCACdE,IAAY,EACZC,WAAmB;IAEnB,MAAMC,WAAWC,IAAAA,oCAAiB,EAACH;IAEnC,MAAMkB,SAASb,aAAI,CAACC,KAAK,CAACC,IAAI,CAC5B,GAAGL,WAAWM,kCAAuB,EAAE,EACvC,GAAGP,cAAcQ,6BAAkB,EAAE;IAGvC,MAAM,EAAEC,UAAU,EAAEC,SAAS,EAAE,GAAGC,IAAAA,8BAAkB,EAACM,QAAQ;QAC3DL,iBAAiB;QACjBC,eAAe;QACfC,eAAe;QACfC,8BAA8B;QAC9BC,4BAA4B;IAC9B;IAEA,MAAMb,cAAcC,aAAI,CAACC,KAAK,CAACC,IAAI,CAAC,GAAGL,WAAWiB,8BAAmB,EAAE;IAEvE,OAAO;QACLD,QAAQR;QACRN;QACAO;IACF;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>