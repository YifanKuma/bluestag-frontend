<html>
<head>
<title>next-middleware-loader.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
next-middleware-loader.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../src/build/webpack/loaders/next-middleware-loader.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type {</span><span class="s3">\n  </span><span class="s1">MiddlewareConfig,</span><span class="s3">\n  </span><span class="s1">MiddlewareMatcher,</span><span class="s3">\n</span><span class="s1">} from '../../analysis/get-page-static-info'</span><span class="s3">\n</span><span class="s1">import { getModuleBuildInfo } from './get-module-build-info'</span><span class="s3">\n</span><span class="s1">import { MIDDLEWARE_LOCATION_REGEXP } from '../../../lib/constants'</span><span class="s3">\n</span><span class="s1">import { loadEntrypoint } from '../../load-entrypoint'</span><span class="s3">\n\n</span><span class="s1">export type MiddlewareLoaderOptions = {</span><span class="s3">\n  </span><span class="s1">absolutePagePath: string</span><span class="s3">\n  </span><span class="s1">page: string</span><span class="s3">\n  </span><span class="s1">rootDir: string</span><span class="s3">\n  </span><span class="s1">matchers?: string</span><span class="s3">\n  </span><span class="s1">preferredRegion: string | string[] | undefined</span><span class="s3">\n  </span><span class="s1">middlewareConfig: string</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// matchers can have special characters that break the loader params</span><span class="s3">\n</span><span class="s1">// parsing so we base64 encode/decode the string</span><span class="s3">\n</span><span class="s1">export function encodeMatchers(matchers: MiddlewareMatcher[]) {</span><span class="s3">\n  </span><span class="s1">return Buffer.from(JSON.stringify(matchers)).toString('base64')</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function decodeMatchers(encodedMatchers: string) {</span><span class="s3">\n  </span><span class="s1">return JSON.parse(</span><span class="s3">\n    </span><span class="s1">Buffer.from(encodedMatchers, 'base64').toString()</span><span class="s3">\n  </span><span class="s1">) as MiddlewareMatcher[]</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default async function middlewareLoader(this: any) {</span><span class="s3">\n  </span><span class="s1">const {</span><span class="s3">\n    </span><span class="s1">absolutePagePath,</span><span class="s3">\n    </span><span class="s1">page,</span><span class="s3">\n    </span><span class="s1">rootDir,</span><span class="s3">\n    </span><span class="s1">matchers: encodedMatchers,</span><span class="s3">\n    </span><span class="s1">preferredRegion,</span><span class="s3">\n    </span><span class="s1">middlewareConfig: middlewareConfigBase64,</span><span class="s3">\n  </span><span class="s1">}: MiddlewareLoaderOptions = this.getOptions()</span><span class="s3">\n  </span><span class="s1">const matchers = encodedMatchers ? decodeMatchers(encodedMatchers) : undefined</span><span class="s3">\n  </span><span class="s1">const pagePath = this.utils.contextify(</span><span class="s3">\n    </span><span class="s1">this.context || this.rootContext,</span><span class="s3">\n    </span><span class="s1">absolutePagePath</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">const middlewareConfig: MiddlewareConfig = JSON.parse(</span><span class="s3">\n    </span><span class="s1">Buffer.from(middlewareConfigBase64, 'base64').toString()</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">const buildInfo = getModuleBuildInfo(this._module)</span><span class="s3">\n  </span><span class="s1">buildInfo.nextEdgeMiddleware = {</span><span class="s3">\n    </span><span class="s1">matchers,</span><span class="s3">\n    </span><span class="s1">page:</span><span class="s3">\n      </span><span class="s1">page.replace(new RegExp(`/${MIDDLEWARE_LOCATION_REGEXP}$`), '') || '/',</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">buildInfo.rootDir = rootDir</span><span class="s3">\n  </span><span class="s1">buildInfo.route = {</span><span class="s3">\n    </span><span class="s1">page,</span><span class="s3">\n    </span><span class="s1">absolutePagePath,</span><span class="s3">\n    </span><span class="s1">preferredRegion,</span><span class="s3">\n    </span><span class="s1">middlewareConfig,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return await loadEntrypoint('middleware', {</span><span class="s3">\n    </span><span class="s1">VAR_USERLAND: pagePath,</span><span class="s3">\n    </span><span class="s1">VAR_DEFINITION_PAGE: page,</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;decodeMatchers&quot;</span><span class="s0">,</span><span class="s1">&quot;middlewareLoader&quot;</span><span class="s0">,</span><span class="s1">&quot;encodeMatchers&quot;</span><span class="s0">,</span><span class="s1">&quot;matchers&quot;</span><span class="s0">,</span><span class="s1">&quot;Buffer&quot;</span><span class="s0">,</span><span class="s1">&quot;from&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;encodedMatchers&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;absolutePagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;page&quot;</span><span class="s0">,</span><span class="s1">&quot;rootDir&quot;</span><span class="s0">,</span><span class="s1">&quot;preferredRegion&quot;</span><span class="s0">,</span><span class="s1">&quot;middlewareConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;middlewareConfigBase64&quot;</span><span class="s0">,</span><span class="s1">&quot;getOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;pagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;utils&quot;</span><span class="s0">,</span><span class="s1">&quot;contextify&quot;</span><span class="s0">,</span><span class="s1">&quot;context&quot;</span><span class="s0">,</span><span class="s1">&quot;rootContext&quot;</span><span class="s0">,</span><span class="s1">&quot;buildInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;getModuleBuildInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;_module&quot;</span><span class="s0">,</span><span class="s1">&quot;nextEdgeMiddleware&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;RegExp&quot;</span><span class="s0">,</span><span class="s1">&quot;MIDDLEWARE_LOCATION_REGEXP&quot;</span><span class="s0">,</span><span class="s1">&quot;route&quot;</span><span class="s0">,</span><span class="s1">&quot;loadEntrypoint&quot;</span><span class="s0">,</span><span class="s1">&quot;VAR_USERLAND&quot;</span><span class="s0">,</span><span class="s1">&quot;VAR_DEFINITION_PAGE&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;IAuBgBA,cAAc;eAAdA;;IAMhB,OAoCC;eApC6BC;;IAVdC,cAAc;eAAdA;;;oCAfmB;2BACQ;gCACZ;AAaxB,SAASA,eAAeC,QAA6B;IAC1D,OAAOC,OAAOC,IAAI,CAACC,KAAKC,SAAS,CAACJ,WAAWK,QAAQ,CAAC;AACxD;AAEO,SAASR,eAAeS,eAAuB;IACpD,OAAOH,KAAKI,KAAK,CACfN,OAAOC,IAAI,CAACI,iBAAiB,UAAUD,QAAQ;AAEnD;AAEe,eAAeP;IAC5B,MAAM,EACJU,gBAAgB,EAChBC,IAAI,EACJC,OAAO,EACPV,UAAUM,eAAe,EACzBK,eAAe,EACfC,kBAAkBC,sBAAsB,EACzC,GAA4B,IAAI,CAACC,UAAU;IAC5C,MAAMd,WAAWM,kBAAkBT,eAAeS,mBAAmBS;IACrE,MAAMC,WAAW,IAAI,CAACC,KAAK,CAACC,UAAU,CACpC,IAAI,CAACC,OAAO,IAAI,IAAI,CAACC,WAAW,EAChCZ;IAGF,MAAMI,mBAAqCT,KAAKI,KAAK,CACnDN,OAAOC,IAAI,CAACW,wBAAwB,UAAUR,QAAQ;IAExD,MAAMgB,YAAYC,IAAAA,sCAAkB,EAAC,IAAI,CAACC,OAAO;IACjDF,UAAUG,kBAAkB,GAAG;QAC7BxB;QACAS,MACEA,KAAKgB,OAAO,CAAC,IAAIC,OAAO,CAAC,CAAC,EAAEC,qCAA0B,CAAC,CAAC,CAAC,GAAG,OAAO;IACvE;IACAN,UAAUX,OAAO,GAAGA;IACpBW,UAAUO,KAAK,GAAG;QAChBnB;QACAD;QACAG;QACAC;IACF;IAEA,OAAO,MAAMiB,IAAAA,8BAAc,EAAC,cAAc;QACxCC,cAAcd;QACde,qBAAqBtB;IACvB;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>