<html>
<head>
<title>create-visual-element.mjs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
create-visual-element.mjs</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">{ isSVGElement, isSVGSVGElement } from </span><span class="s2">'motion-dom'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">{ HTMLVisualElement } from </span><span class="s2">'../../render/html/HTMLVisualElement.mjs'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">{ ObjectVisualElement } from </span><span class="s2">'../../render/object/ObjectVisualElement.mjs'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">{ visualElementStore } from </span><span class="s2">'../../render/store.mjs'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">{ SVGVisualElement } from </span><span class="s2">'../../render/svg/SVGVisualElement.mjs'</span><span class="s1">;</span>

<span class="s0">function </span><span class="s1">createDOMVisualElement(element) {</span>
    <span class="s0">const </span><span class="s1">options = {</span>
        <span class="s1">presenceContext: </span><span class="s0">null</span><span class="s1">,</span>
        <span class="s1">props: {},</span>
        <span class="s1">visualState: {</span>
            <span class="s1">renderState: {</span>
                <span class="s1">transform: {},</span>
                <span class="s1">transformOrigin: {},</span>
                <span class="s1">style: {},</span>
                <span class="s1">vars: {},</span>
                <span class="s1">attrs: {},</span>
            <span class="s1">},</span>
            <span class="s1">latestValues: {},</span>
        <span class="s1">},</span>
    <span class="s1">};</span>
    <span class="s0">const </span><span class="s1">node = isSVGElement(element) &amp;&amp; !isSVGSVGElement(element)</span>
        <span class="s1">? </span><span class="s0">new </span><span class="s1">SVGVisualElement(options)</span>
        <span class="s1">: </span><span class="s0">new </span><span class="s1">HTMLVisualElement(options);</span>
    <span class="s1">node.mount(element);</span>
    <span class="s1">visualElementStore.set(element, node);</span>
<span class="s1">}</span>
<span class="s0">function </span><span class="s1">createObjectVisualElement(subject) {</span>
    <span class="s0">const </span><span class="s1">options = {</span>
        <span class="s1">presenceContext: </span><span class="s0">null</span><span class="s1">,</span>
        <span class="s1">props: {},</span>
        <span class="s1">visualState: {</span>
            <span class="s1">renderState: {</span>
                <span class="s1">output: {},</span>
            <span class="s1">},</span>
            <span class="s1">latestValues: {},</span>
        <span class="s1">},</span>
    <span class="s1">};</span>
    <span class="s0">const </span><span class="s1">node = </span><span class="s0">new </span><span class="s1">ObjectVisualElement(options);</span>
    <span class="s1">node.mount(subject);</span>
    <span class="s1">visualElementStore.set(subject, node);</span>
<span class="s1">}</span>

<span class="s0">export </span><span class="s1">{ createDOMVisualElement, createObjectVisualElement };</span>
</pre>
</body>
</html>