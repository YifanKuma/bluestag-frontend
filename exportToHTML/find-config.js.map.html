<html>
<head>
<title>find-config.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
find-config.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/lib/find-config.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import findUp from 'next/dist/compiled/find-up'</span><span class="s3">\n</span><span class="s1">import { readFile } from 'fs/promises'</span><span class="s3">\n</span><span class="s1">import JSON5 from 'next/dist/compiled/json5'</span><span class="s3">\n</span><span class="s1">import { pathToFileURL } from 'url'</span><span class="s3">\n\n</span><span class="s1">type RecursivePartial&lt;T&gt; = {</span><span class="s3">\n  </span><span class="s1">[P in keyof T]?: RecursivePartial&lt;T[P]&gt;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function findConfigPath(</span><span class="s3">\n  </span><span class="s1">dir: string,</span><span class="s3">\n  </span><span class="s1">key: string</span><span class="s3">\n</span><span class="s1">): Promise&lt;string | undefined&gt; {</span><span class="s3">\n  </span><span class="s1">// If we didn't find the configuration in `package.json`, we should look for</span><span class="s3">\n  </span><span class="s1">// known filenames.</span><span class="s3">\n  </span><span class="s1">return findUp(</span><span class="s3">\n    </span><span class="s1">[</span><span class="s3">\n      </span><span class="s1">`.${key}rc.json`,</span><span class="s3">\n      </span><span class="s1">`${key}.config.json`,</span><span class="s3">\n      </span><span class="s1">`.${key}rc.js`,</span><span class="s3">\n      </span><span class="s1">`${key}.config.js`,</span><span class="s3">\n      </span><span class="s1">`${key}.config.mjs`,</span><span class="s3">\n      </span><span class="s1">`${key}.config.cjs`,</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">cwd: dir,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// We'll allow configuration to be typed, but we force everything provided to</span><span class="s3">\n</span><span class="s1">// become optional. We do not perform any schema validation. We should maybe</span><span class="s3">\n</span><span class="s1">// force all the types to be `unknown` as well.</span><span class="s3">\n</span><span class="s1">export async function findConfig&lt;T&gt;(</span><span class="s3">\n  </span><span class="s1">directory: string,</span><span class="s3">\n  </span><span class="s1">key: string,</span><span class="s3">\n  </span><span class="s1">_returnFile?: boolean</span><span class="s3">\n</span><span class="s1">): Promise&lt;RecursivePartial&lt;T&gt; | null&gt; {</span><span class="s3">\n  </span><span class="s1">// `package.json` configuration always wins. Let's check that first.</span><span class="s3">\n  </span><span class="s1">const packageJsonPath = await findUp('package.json', { cwd: directory })</span><span class="s3">\n  </span><span class="s1">let isESM = false</span><span class="s3">\n\n  </span><span class="s1">if (packageJsonPath) {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">const packageJsonStr = await readFile(packageJsonPath, 'utf8')</span><span class="s3">\n      </span><span class="s1">const packageJson = JSON.parse(packageJsonStr) as {</span><span class="s3">\n        </span><span class="s1">[key: string]: string</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (typeof packageJson !== 'object') {</span><span class="s3">\n        </span><span class="s1">throw new Error() // Stop processing and continue</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (packageJson.type === 'module') {</span><span class="s3">\n        </span><span class="s1">isESM = true</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (packageJson[key] != null &amp;&amp; typeof packageJson[key] === 'object') {</span><span class="s3">\n        </span><span class="s1">return packageJson[key]</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} catch {</span><span class="s3">\n      </span><span class="s1">// Ignore error and continue</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const filePath = await findConfigPath(directory, key)</span><span class="s3">\n\n  </span><span class="s1">const esmImport = (path: string) =&gt; {</span><span class="s3">\n    </span><span class="s1">// Skip mapping to absolute url with pathToFileURL on windows if it's jest</span><span class="s3">\n    </span><span class="s1">// https://github.com/nodejs/node/issues/31710#issuecomment-587345749</span><span class="s3">\n    </span><span class="s1">if (process.platform === 'win32' &amp;&amp; !process.env.JEST_WORKER_ID) {</span><span class="s3">\n      </span><span class="s1">// on windows import(</span><span class="s3">\&quot;</span><span class="s1">C:</span><span class="s3">\\\\</span><span class="s1">path</span><span class="s3">\\\\</span><span class="s1">to</span><span class="s3">\\\\</span><span class="s1">file</span><span class="s3">\&quot;</span><span class="s1">) is not valid, so we need to</span><span class="s3">\n      </span><span class="s1">// use file:// URLs</span><span class="s3">\n      </span><span class="s1">return import(pathToFileURL(path).toString())</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return import(path)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (filePath) {</span><span class="s3">\n    </span><span class="s1">if (filePath.endsWith('.js')) {</span><span class="s3">\n      </span><span class="s1">if (isESM) {</span><span class="s3">\n        </span><span class="s1">return (await esmImport(filePath)).default</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">return require(filePath)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (filePath.endsWith('.mjs')) {</span><span class="s3">\n      </span><span class="s1">return (await esmImport(filePath)).default</span><span class="s3">\n    </span><span class="s1">} else if (filePath.endsWith('.cjs')) {</span><span class="s3">\n      </span><span class="s1">return require(filePath)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// We load JSON contents with JSON5 to allow users to comment in their</span><span class="s3">\n    </span><span class="s1">// configuration file. This pattern was popularized by TypeScript.</span><span class="s3">\n    </span><span class="s1">const fileContents = await readFile(filePath, 'utf8')</span><span class="s3">\n    </span><span class="s1">return JSON5.parse(fileContents)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return null</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;findConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;findConfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;dir&quot;</span><span class="s0">,</span><span class="s1">&quot;key&quot;</span><span class="s0">,</span><span class="s1">&quot;findUp&quot;</span><span class="s0">,</span><span class="s1">&quot;cwd&quot;</span><span class="s0">,</span><span class="s1">&quot;directory&quot;</span><span class="s0">,</span><span class="s1">&quot;_returnFile&quot;</span><span class="s0">,</span><span class="s1">&quot;packageJsonPath&quot;</span><span class="s0">,</span><span class="s1">&quot;isESM&quot;</span><span class="s0">,</span><span class="s1">&quot;packageJsonStr&quot;</span><span class="s0">,</span><span class="s1">&quot;readFile&quot;</span><span class="s0">,</span><span class="s1">&quot;packageJson&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;filePath&quot;</span><span class="s0">,</span><span class="s1">&quot;esmImport&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;platform&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;JEST_WORKER_ID&quot;</span><span class="s0">,</span><span class="s1">&quot;pathToFileURL&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;endsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;default&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;fileContents&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON5&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;IAiCsBA,UAAU;eAAVA;;IAxBNC,cAAc;eAAdA;;;+DATG;0BACM;8DACP;qBACY;;;;;;AAMvB,SAASA,eACdC,GAAW,EACXC,GAAW;IAEX,4EAA4E;IAC5E,mBAAmB;IACnB,OAAOC,IAAAA,eAAM,EACX;QACE,CAAC,CAAC,EAAED,IAAI,OAAO,CAAC;QAChB,GAAGA,IAAI,YAAY,CAAC;QACpB,CAAC,CAAC,EAAEA,IAAI,KAAK,CAAC;QACd,GAAGA,IAAI,UAAU,CAAC;QAClB,GAAGA,IAAI,WAAW,CAAC;QACnB,GAAGA,IAAI,WAAW,CAAC;KACpB,EACD;QACEE,KAAKH;IACP;AAEJ;AAKO,eAAeF,WACpBM,SAAiB,EACjBH,GAAW,EACXI,WAAqB;IAErB,oEAAoE;IACpE,MAAMC,kBAAkB,MAAMJ,IAAAA,eAAM,EAAC,gBAAgB;QAAEC,KAAKC;IAAU;IACtE,IAAIG,QAAQ;IAEZ,IAAID,iBAAiB;QACnB,IAAI;YACF,MAAME,iBAAiB,MAAMC,IAAAA,kBAAQ,EAACH,iBAAiB;YACvD,MAAMI,cAAcC,KAAKC,KAAK,CAACJ;YAI/B,IAAI,OAAOE,gBAAgB,UAAU;gBACnC,MAAM,IAAIG,QAAQ,+BAA+B;;YACnD;YAEA,IAAIH,YAAYI,IAAI,KAAK,UAAU;gBACjCP,QAAQ;YACV;YAEA,IAAIG,WAAW,CAACT,IAAI,IAAI,QAAQ,OAAOS,WAAW,CAACT,IAAI,KAAK,UAAU;gBACpE,OAAOS,WAAW,CAACT,IAAI;YACzB;QACF,EAAE,OAAM;QACN,4BAA4B;QAC9B;IACF;IAEA,MAAMc,WAAW,MAAMhB,eAAeK,WAAWH;IAEjD,MAAMe,YAAY,CAACC;QACjB,0EAA0E;QAC1E,qEAAqE;QACrE,IAAIC,QAAQC,QAAQ,KAAK,WAAW,CAACD,QAAQE,GAAG,CAACC,cAAc,EAAE;YAC/D,sEAAsE;YACtE,mBAAmB;YACnB,OAAO,MAAM,CAACC,IAAAA,kBAAa,EAACL,MAAMM,QAAQ;QAC5C,OAAO;YACL,OAAO,MAAM,CAACN;QAChB;IACF;IAEA,IAAIF,UAAU;QACZ,IAAIA,SAASS,QAAQ,CAAC,QAAQ;YAC5B,IAAIjB,OAAO;gBACT,OAAO,AAAC,CAAA,MAAMS,UAAUD,SAAQ,EAAGU,OAAO;YAC5C,OAAO;gBACL,OAAOC,QAAQX;YACjB;QACF,OAAO,IAAIA,SAASS,QAAQ,CAAC,SAAS;YACpC,OAAO,AAAC,CAAA,MAAMR,UAAUD,SAAQ,EAAGU,OAAO;QAC5C,OAAO,IAAIV,SAASS,QAAQ,CAAC,SAAS;YACpC,OAAOE,QAAQX;QACjB;QAEA,sEAAsE;QACtE,kEAAkE;QAClE,MAAMY,eAAe,MAAMlB,IAAAA,kBAAQ,EAACM,UAAU;QAC9C,OAAOa,cAAK,CAAChB,KAAK,CAACe;IACrB;IAEA,OAAO;AACT&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>