<html>
<head>
<title>is-navigating-to-new-root-layout.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
is-navigating-to-new-root-layout.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../src/client/components/router-reducer/is-navigating-to-new-root-layout.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { FlightRouterState } from '../../../server/app-render/types'</span><span class="s3">\n\n</span><span class="s1">export function isNavigatingToNewRootLayout(</span><span class="s3">\n  </span><span class="s1">currentTree: FlightRouterState,</span><span class="s3">\n  </span><span class="s1">nextTree: FlightRouterState</span><span class="s3">\n</span><span class="s1">): boolean {</span><span class="s3">\n  </span><span class="s1">// Compare segments</span><span class="s3">\n  </span><span class="s1">const currentTreeSegment = currentTree[0]</span><span class="s3">\n  </span><span class="s1">const nextTreeSegment = nextTree[0]</span><span class="s3">\n\n  </span><span class="s1">// If any segment is different before we find the root layout, the root layout has changed.</span><span class="s3">\n  </span><span class="s1">// E.g. /same/(group1)/layout.js -&gt; /same/(group2)/layout.js</span><span class="s3">\n  </span><span class="s1">// First segment is 'same' for both, keep looking. (group1) changed to (group2) before the root layout was found, it must have changed.</span><span class="s3">\n  </span><span class="s1">if (Array.isArray(currentTreeSegment) &amp;&amp; Array.isArray(nextTreeSegment)) {</span><span class="s3">\n    </span><span class="s1">// Compare dynamic param name and type but ignore the value, different values would not affect the current root layout</span><span class="s3">\n    </span><span class="s1">// /[name] - /slug1 and /slug2, both values (slug1 &amp; slug2) still has the same layout /[name]/layout.js</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">currentTreeSegment[0] !== nextTreeSegment[0] ||</span><span class="s3">\n      </span><span class="s1">currentTreeSegment[2] !== nextTreeSegment[2]</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (currentTreeSegment !== nextTreeSegment) {</span><span class="s3">\n    </span><span class="s1">return true</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Current tree root layout found</span><span class="s3">\n  </span><span class="s1">if (currentTree[4]) {</span><span class="s3">\n    </span><span class="s1">// If the next tree doesn't have the root layout flag, it must have changed.</span><span class="s3">\n    </span><span class="s1">return !nextTree[4]</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">// Current tree didn't have its root layout here, must have changed.</span><span class="s3">\n  </span><span class="s1">if (nextTree[4]) {</span><span class="s3">\n    </span><span class="s1">return true</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">// We can't assume it's `parallelRoutes.children` here in case the root layout is `app/@something/layout.js`</span><span class="s3">\n  </span><span class="s1">// But it's not possible to be more than one parallelRoutes before the root layout is found</span><span class="s3">\n  </span><span class="s1">// TODO-APP: change to traverse all parallel routes</span><span class="s3">\n  </span><span class="s1">const currentTreeChild = Object.values(currentTree[1])[0]</span><span class="s3">\n  </span><span class="s1">const nextTreeChild = Object.values(nextTree[1])[0]</span><span class="s3">\n  </span><span class="s1">if (!currentTreeChild || !nextTreeChild) return true</span><span class="s3">\n  </span><span class="s1">return isNavigatingToNewRootLayout(currentTreeChild, nextTreeChild)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;isNavigatingToNewRootLayout&quot;</span><span class="s0">,</span><span class="s1">&quot;currentTree&quot;</span><span class="s0">,</span><span class="s1">&quot;nextTree&quot;</span><span class="s0">,</span><span class="s1">&quot;currentTreeSegment&quot;</span><span class="s0">,</span><span class="s1">&quot;nextTreeSegment&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;currentTreeChild&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;values&quot;</span><span class="s0">,</span><span class="s1">&quot;nextTreeChild&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAEgBA;;;eAAAA;;;AAAT,SAASA,4BACdC,WAA8B,EAC9BC,QAA2B;IAE3B,mBAAmB;IACnB,MAAMC,qBAAqBF,WAAW,CAAC,EAAE;IACzC,MAAMG,kBAAkBF,QAAQ,CAAC,EAAE;IAEnC,2FAA2F;IAC3F,4DAA4D;IAC5D,uIAAuI;IACvI,IAAIG,MAAMC,OAAO,CAACH,uBAAuBE,MAAMC,OAAO,CAACF,kBAAkB;QACvE,sHAAsH;QACtH,uGAAuG;QACvG,IACED,kBAAkB,CAAC,EAAE,KAAKC,eAAe,CAAC,EAAE,IAC5CD,kBAAkB,CAAC,EAAE,KAAKC,eAAe,CAAC,EAAE,EAC5C;YACA,OAAO;QACT;IACF,OAAO,IAAID,uBAAuBC,iBAAiB;QACjD,OAAO;IACT;IAEA,iCAAiC;IACjC,IAAIH,WAAW,CAAC,EAAE,EAAE;QAClB,4EAA4E;QAC5E,OAAO,CAACC,QAAQ,CAAC,EAAE;IACrB;IACA,oEAAoE;IACpE,IAAIA,QAAQ,CAAC,EAAE,EAAE;QACf,OAAO;IACT;IACA,4GAA4G;IAC5G,2FAA2F;IAC3F,mDAAmD;IACnD,MAAMK,mBAAmBC,OAAOC,MAAM,CAACR,WAAW,CAAC,EAAE,CAAC,CAAC,EAAE;IACzD,MAAMS,gBAAgBF,OAAOC,MAAM,CAACP,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE;IACnD,IAAI,CAACK,oBAAoB,CAACG,eAAe,OAAO;IAChD,OAAOV,4BAA4BO,kBAAkBG;AACvD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>