<html>
<head>
<title>next-font-manifest-plugin.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
.s3 { color: #8c8c8c; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
next-font-manifest-plugin.d.ts</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">{ webpack } from </span><span class="s2">'next/dist/compiled/webpack/webpack'</span><span class="s1">;</span>
<span class="s0">export </span><span class="s1">type NextFontManifest = {</span>
    <span class="s1">pages: {</span>
        <span class="s1">[path: string]: string[];</span>
    <span class="s1">};</span>
    <span class="s1">app: {</span>
        <span class="s1">[entry: string]: string[];</span>
    <span class="s1">};</span>
    <span class="s1">appUsingSizeAdjust: boolean;</span>
    <span class="s1">pagesUsingSizeAdjust: boolean;</span>
<span class="s1">};</span>
<span class="s3">/**</span>
 <span class="s3">* The NextFontManifestPlugin collects all font files emitted by next-font-loader and creates a manifest file.</span>
 <span class="s3">* The manifest file is used in the Next.js render functions (_document.tsx for pages/ and app-render for app/) to add preload tags for the font files.</span>
 <span class="s3">* We only want to att preload fonts that are used by the current route.</span>
 <span class="s3">*</span>
 <span class="s3">* For pages/ the plugin finds the fonts imported in the entrypoint chunks and creates a map:</span>
 <span class="s3">* { [route]: fontFile[] }</span>
 <span class="s3">* When rendering the app in _document.tsx, it gets the font files to preload: manifest.pages[currentRouteBeingRendered].</span>
 <span class="s3">*</span>
 <span class="s3">* For app/, the manifest is a bit different.</span>
 <span class="s3">* Instead of creating a map of route to font files, it creates a map of the webpack module request to font files.</span>
 <span class="s3">* { [webpackModuleRequest]: fontFile[]]}</span>
 <span class="s3">* When creating the component tree in app-render it looks for font files to preload: manifest.app[moduleBeingRendered]</span>
 <span class="s3">*/</span>
<span class="s0">export </span><span class="s1">declare </span><span class="s0">class </span><span class="s1">NextFontManifestPlugin {</span>
    <span class="s0">private </span><span class="s1">appDir;</span>
    <span class="s1">constructor(options: {</span>
        <span class="s1">appDir: undefined | string;</span>
    <span class="s1">});</span>
    <span class="s1">apply(compiler: webpack.Compiler): </span><span class="s0">void</span><span class="s1">;</span>
<span class="s1">}</span>
</pre>
</body>
</html>