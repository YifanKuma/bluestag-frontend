<html>
<head>
<title>unambiguous.md</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #080808;}
.s3 { color: #871094; font-style: italic;}
.s4 { color: #067d17;}
.s5 { color: #006dcc;}
.s6 { color: #00627a; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
unambiguous.md</font>
</center></td></tr></table>
<pre><span class="s0"># </span><span class="s2">import/unambiguous</span>

<span class="s1">&lt;!-- end auto-generated rule header --&gt;</span>

<span class="s2">Warn if a `module` could be mistakenly parsed as a `script` by a consumer leveraging</span>
<span class="s1">[</span><span class="s2">Unambiguous JavaScript Grammar</span><span class="s1">] </span><span class="s2">to determine correct parsing goal.</span>

<span class="s2">Will respect the </span><span class="s1">[</span><span class="s2">`parserOptions.sourceType`</span><span class="s1">] </span><span class="s2">from ESLint config, i.e. files parsed</span>
<span class="s2">as `script` per that setting will not be reported.</span>

<span class="s2">This plugin uses </span><span class="s1">[</span><span class="s2">Unambiguous JavaScript Grammar</span><span class="s1">] </span><span class="s2">internally to decide whether</span>
<span class="s2">dependencies should be parsed as modules and searched for exports matching the</span>
<span class="s2">`import`ed names, so it may be beneficial to keep this rule on even if your application</span>
<span class="s2">will run in an explicit `module`-only environment.</span>

<span class="s0">## </span><span class="s2">Rule Details</span>

<span class="s2">For files parsed as `module` by ESLint, the following are valid</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">import 'foo'</span>
<span class="s4">function x() { return 42 }</span>
<span class="s0">```</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">export function x() { return 42 }</span>
<span class="s0">```</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">(function x() { return 42 })()</span>
<span class="s4">export {} // simple way to mark side-effects-only file as 'module' without any imports/exports</span>
<span class="s0">```</span>

<span class="s2">...whereas the following file would be reported</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">(function x() { return 42 })()</span>
<span class="s0">```</span>

<span class="s0">## </span><span class="s2">When Not To Use It</span>

<span class="s2">If your application environment will always know via </span><span class="s1">[</span><span class="s2">some other means</span><span class="s1">](</span><span class="s5">https://github.com/nodejs/node-eps/issues/13</span><span class="s1">)</span>
<span class="s2">how to parse, regardless of syntax, you may not need this rule.</span>

<span class="s2">Remember, though, that this plugin uses this strategy internally, so if you were</span>
<span class="s2">to `import` from a module with no `import`s or `export`s, this plugin would not</span>
<span class="s2">report it as it would not be clear whether it should be considered a `script` or</span>
<span class="s2">a `module`.</span>

<span class="s0">## </span><span class="s2">Further Reading</span>

 <span class="s0">- </span><span class="s1">[</span><span class="s2">Unambiguous JavaScript Grammar</span><span class="s1">]</span>
 <span class="s0">- </span><span class="s1">[</span><span class="s2">`parserOptions.sourceType`</span><span class="s1">]</span>
 <span class="s0">- </span><span class="s1">[</span><span class="s2">node-eps#13</span><span class="s1">](</span><span class="s5">https://github.com/nodejs/node-eps/issues/13</span><span class="s1">)</span>

<span class="s0">[`parserOptions.sourceType`]</span><span class="s1">: </span><span class="s6">https://eslint.org/docs/user-guide/configuring#specifying-parser-options</span>
<span class="s0">[Unambiguous JavaScript Grammar]</span><span class="s1">: </span><span class="s6">https://github.com/nodejs/node-eps/blob/HEAD/002-es-modules.md#32-determining-if-source-is-an-es-module</span>
</pre>
</body>
</html>