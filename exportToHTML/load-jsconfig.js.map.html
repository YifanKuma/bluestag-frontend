<html>
<head>
<title>load-jsconfig.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
load-jsconfig.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/build/load-jsconfig.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import path from 'path'</span><span class="s3">\n</span><span class="s1">import fs from 'fs'</span><span class="s3">\n</span><span class="s1">import type { NextConfigComplete } from '../server/config-shared'</span><span class="s3">\n</span><span class="s1">import * as Log from './output/log'</span><span class="s3">\n</span><span class="s1">import { getTypeScriptConfiguration } from '../lib/typescript/getTypeScriptConfiguration'</span><span class="s3">\n</span><span class="s1">import { readFileSync } from 'fs'</span><span class="s3">\n</span><span class="s1">import isError from '../lib/is-error'</span><span class="s3">\n</span><span class="s1">import { hasNecessaryDependencies } from '../lib/has-necessary-dependencies'</span><span class="s3">\n\n</span><span class="s1">let TSCONFIG_WARNED = false</span><span class="s3">\n\n</span><span class="s1">export function parseJsonFile(filePath: string) {</span><span class="s3">\n  </span><span class="s1">const JSON5 =</span><span class="s3">\n    </span><span class="s1">require('next/dist/compiled/json5') as typeof import('next/dist/compiled/json5')</span><span class="s3">\n  </span><span class="s1">const contents = readFileSync(filePath, 'utf8')</span><span class="s3">\n\n  </span><span class="s1">// Special case an empty file</span><span class="s3">\n  </span><span class="s1">if (contents.trim() === '') {</span><span class="s3">\n    </span><span class="s1">return {}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">return JSON5.parse(contents)</span><span class="s3">\n  </span><span class="s1">} catch (err) {</span><span class="s3">\n    </span><span class="s1">if (!isError(err)) throw err</span><span class="s3">\n    </span><span class="s1">const { codeFrameColumns } =</span><span class="s3">\n      </span><span class="s1">require('next/dist/compiled/babel/code-frame') as typeof import('next/dist/compiled/babel/code-frame')</span><span class="s3">\n    </span><span class="s1">const codeFrame = codeFrameColumns(</span><span class="s3">\n      </span><span class="s1">String(contents),</span><span class="s3">\n      </span><span class="s1">{</span><span class="s3">\n        </span><span class="s1">start: {</span><span class="s3">\n          </span><span class="s1">line: (err as Error &amp; { lineNumber?: number }).lineNumber || 0,</span><span class="s3">\n          </span><span class="s1">column: (err as Error &amp; { columnNumber?: number }).columnNumber || 0,</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">{ message: err.message, highlightCode: true }</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">throw new Error(`Failed to parse </span><span class="s3">\&quot;</span><span class="s1">${filePath}</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">n${codeFrame}`)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export type ResolvedBaseUrl =</span><span class="s3">\n  </span><span class="s1">| { baseUrl: string; isImplicit: boolean }</span><span class="s3">\n  </span><span class="s1">| undefined</span><span class="s3">\n\n</span><span class="s1">export type JsConfig = { compilerOptions: Record&lt;string, any&gt; } | undefined</span><span class="s3">\n\n</span><span class="s1">export default async function loadJsConfig(</span><span class="s3">\n  </span><span class="s1">dir: string,</span><span class="s3">\n  </span><span class="s1">config: NextConfigComplete</span><span class="s3">\n</span><span class="s1">): Promise&lt;{</span><span class="s3">\n  </span><span class="s1">useTypeScript: boolean</span><span class="s3">\n  </span><span class="s1">jsConfig: JsConfig</span><span class="s3">\n  </span><span class="s1">jsConfigPath?: string</span><span class="s3">\n  </span><span class="s1">resolvedBaseUrl: ResolvedBaseUrl</span><span class="s3">\n</span><span class="s1">}&gt; {</span><span class="s3">\n  </span><span class="s1">let typeScriptPath: string | undefined</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const deps = await hasNecessaryDependencies(dir, [</span><span class="s3">\n      </span><span class="s1">{</span><span class="s3">\n        </span><span class="s1">pkg: 'typescript',</span><span class="s3">\n        </span><span class="s1">file: 'typescript/lib/typescript.js',</span><span class="s3">\n        </span><span class="s1">exportsRestrict: true,</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">])</span><span class="s3">\n    </span><span class="s1">typeScriptPath = deps.resolved.get('typescript')</span><span class="s3">\n  </span><span class="s1">} catch {}</span><span class="s3">\n  </span><span class="s1">const tsConfigPath = path.join(dir, config.typescript.tsconfigPath)</span><span class="s3">\n  </span><span class="s1">const useTypeScript = Boolean(typeScriptPath &amp;&amp; fs.existsSync(tsConfigPath))</span><span class="s3">\n\n  </span><span class="s1">let implicitBaseurl</span><span class="s3">\n  </span><span class="s1">let jsConfig: { compilerOptions: Record&lt;string, any&gt; } | undefined</span><span class="s3">\n  </span><span class="s1">// jsconfig is a subset of tsconfig</span><span class="s3">\n  </span><span class="s1">if (useTypeScript) {</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">config.typescript.tsconfigPath !== 'tsconfig.json' &amp;&amp;</span><span class="s3">\n      </span><span class="s1">TSCONFIG_WARNED === false</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">TSCONFIG_WARNED = true</span><span class="s3">\n      </span><span class="s1">Log.info(`Using tsconfig file: ${config.typescript.tsconfigPath}`)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const ts = (await Promise.resolve(</span><span class="s3">\n      </span><span class="s1">require(typeScriptPath!)</span><span class="s3">\n    </span><span class="s1">)) as typeof import('typescript')</span><span class="s3">\n    </span><span class="s1">const tsConfig = await getTypeScriptConfiguration(ts, tsConfigPath, true)</span><span class="s3">\n    </span><span class="s1">jsConfig = { compilerOptions: tsConfig.options }</span><span class="s3">\n    </span><span class="s1">implicitBaseurl = path.dirname(tsConfigPath)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const jsConfigPath = path.join(dir, 'jsconfig.json')</span><span class="s3">\n  </span><span class="s1">if (!useTypeScript &amp;&amp; fs.existsSync(jsConfigPath)) {</span><span class="s3">\n    </span><span class="s1">jsConfig = parseJsonFile(jsConfigPath)</span><span class="s3">\n    </span><span class="s1">implicitBaseurl = path.dirname(jsConfigPath)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">let resolvedBaseUrl: ResolvedBaseUrl</span><span class="s3">\n  </span><span class="s1">if (jsConfig?.compilerOptions?.baseUrl) {</span><span class="s3">\n    </span><span class="s1">resolvedBaseUrl = {</span><span class="s3">\n      </span><span class="s1">baseUrl: path.resolve(dir, jsConfig.compilerOptions.baseUrl),</span><span class="s3">\n      </span><span class="s1">isImplicit: false,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (implicitBaseurl) {</span><span class="s3">\n      </span><span class="s1">resolvedBaseUrl = {</span><span class="s3">\n        </span><span class="s1">baseUrl: implicitBaseurl,</span><span class="s3">\n        </span><span class="s1">isImplicit: true,</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">useTypeScript,</span><span class="s3">\n    </span><span class="s1">jsConfig,</span><span class="s3">\n    </span><span class="s1">resolvedBaseUrl,</span><span class="s3">\n    </span><span class="s1">jsConfigPath: useTypeScript</span><span class="s3">\n      </span><span class="s1">? tsConfigPath</span><span class="s3">\n      </span><span class="s1">: fs.existsSync(jsConfigPath)</span><span class="s3">\n        </span><span class="s1">? jsConfigPath</span><span class="s3">\n        </span><span class="s1">: undefined,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;loadJsConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;parseJsonFile&quot;</span><span class="s0">,</span><span class="s1">&quot;TSCONFIG_WARNED&quot;</span><span class="s0">,</span><span class="s1">&quot;filePath&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON5&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;contents&quot;</span><span class="s0">,</span><span class="s1">&quot;readFileSync&quot;</span><span class="s0">,</span><span class="s1">&quot;trim&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;isError&quot;</span><span class="s0">,</span><span class="s1">&quot;codeFrameColumns&quot;</span><span class="s0">,</span><span class="s1">&quot;codeFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;String&quot;</span><span class="s0">,</span><span class="s1">&quot;start&quot;</span><span class="s0">,</span><span class="s1">&quot;line&quot;</span><span class="s0">,</span><span class="s1">&quot;lineNumber&quot;</span><span class="s0">,</span><span class="s1">&quot;column&quot;</span><span class="s0">,</span><span class="s1">&quot;columnNumber&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;highlightCode&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;dir&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;jsConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;typeScriptPath&quot;</span><span class="s0">,</span><span class="s1">&quot;deps&quot;</span><span class="s0">,</span><span class="s1">&quot;hasNecessaryDependencies&quot;</span><span class="s0">,</span><span class="s1">&quot;pkg&quot;</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">,</span><span class="s1">&quot;exportsRestrict&quot;</span><span class="s0">,</span><span class="s1">&quot;resolved&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;tsConfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;typescript&quot;</span><span class="s0">,</span><span class="s1">&quot;tsconfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;useTypeScript&quot;</span><span class="s0">,</span><span class="s1">&quot;Boolean&quot;</span><span class="s0">,</span><span class="s1">&quot;fs&quot;</span><span class="s0">,</span><span class="s1">&quot;existsSync&quot;</span><span class="s0">,</span><span class="s1">&quot;implicitBaseurl&quot;</span><span class="s0">,</span><span class="s1">&quot;Log&quot;</span><span class="s0">,</span><span class="s1">&quot;info&quot;</span><span class="s0">,</span><span class="s1">&quot;ts&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;tsConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;getTypeScriptConfiguration&quot;</span><span class="s0">,</span><span class="s1">&quot;compilerOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;dirname&quot;</span><span class="s0">,</span><span class="s1">&quot;jsConfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedBaseUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;baseUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;isImplicit&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>