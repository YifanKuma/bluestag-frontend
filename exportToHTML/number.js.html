<html>
<head>
<title>number.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
.s3 { color: #1750eb;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
number.js</font>
</center></td></tr></table>
<pre><span class="s0">var </span><span class="s1">test = require(</span><span class="s2">'tape'</span><span class="s1">);</span>
<span class="s0">var </span><span class="s1">v = require(</span><span class="s2">'es-value-fixtures'</span><span class="s1">);</span>
<span class="s0">var </span><span class="s1">forEach = require(</span><span class="s2">'for-each'</span><span class="s1">);</span>

<span class="s0">var </span><span class="s1">inspect = require(</span><span class="s2">'../'</span><span class="s1">);</span>

<span class="s1">test(</span><span class="s2">'negative zero'</span><span class="s1">, </span><span class="s0">function </span><span class="s1">(t) {</span>
    <span class="s1">t.equal(inspect(</span><span class="s3">0</span><span class="s1">), </span><span class="s2">'0'</span><span class="s1">, </span><span class="s2">'inspect(0) === &quot;0&quot;'</span><span class="s1">);</span>
    <span class="s1">t.equal(inspect(Object(</span><span class="s3">0</span><span class="s1">)), </span><span class="s2">'Object(0)'</span><span class="s1">, </span><span class="s2">'inspect(Object(0)) === &quot;Object(0)&quot;'</span><span class="s1">);</span>

    <span class="s1">t.equal(inspect(-</span><span class="s3">0</span><span class="s1">), </span><span class="s2">'-0'</span><span class="s1">, </span><span class="s2">'inspect(-0) === &quot;-0&quot;'</span><span class="s1">);</span>
    <span class="s1">t.equal(inspect(Object(-</span><span class="s3">0</span><span class="s1">)), </span><span class="s2">'Object(-0)'</span><span class="s1">, </span><span class="s2">'inspect(Object(-0)) === &quot;Object(-0)&quot;'</span><span class="s1">);</span>

    <span class="s1">t.end();</span>
<span class="s1">});</span>

<span class="s1">test(</span><span class="s2">'numericSeparator'</span><span class="s1">, </span><span class="s0">function </span><span class="s1">(t) {</span>
    <span class="s1">forEach(v.nonBooleans, </span><span class="s0">function </span><span class="s1">(nonBoolean) {</span>
        <span class="s1">t[</span><span class="s2">'throws'</span><span class="s1">](</span>
            <span class="s0">function </span><span class="s1">() { inspect(</span><span class="s0">true</span><span class="s1">, { numericSeparator: nonBoolean }); },</span>
            <span class="s1">TypeError,</span>
            <span class="s1">inspect(nonBoolean) + </span><span class="s2">' is not a boolean'</span>
        <span class="s1">);</span>
    <span class="s1">});</span>

    <span class="s1">t.test(</span><span class="s2">'3 digit numbers'</span><span class="s1">, </span><span class="s0">function </span><span class="s1">(st) {</span>
        <span class="s0">var </span><span class="s1">failed = </span><span class="s0">false</span><span class="s1">;</span>
        <span class="s0">for </span><span class="s1">(</span><span class="s0">var </span><span class="s1">i = -</span><span class="s3">999</span><span class="s1">; i &lt; </span><span class="s3">1000</span><span class="s1">; i += </span><span class="s3">1</span><span class="s1">) {</span>
            <span class="s0">var </span><span class="s1">actual = inspect(i);</span>
            <span class="s0">var </span><span class="s1">actualSepNo = inspect(i, { numericSeparator: </span><span class="s0">false </span><span class="s1">});</span>
            <span class="s0">var </span><span class="s1">actualSepYes = inspect(i, { numericSeparator: </span><span class="s0">true </span><span class="s1">});</span>
            <span class="s0">var </span><span class="s1">expected = String(i);</span>
            <span class="s0">if </span><span class="s1">(actual !== expected || actualSepNo !== expected || actualSepYes !== expected) {</span>
                <span class="s1">failed = </span><span class="s0">true</span><span class="s1">;</span>
                <span class="s1">t.equal(actual, expected);</span>
                <span class="s1">t.equal(actualSepNo, expected);</span>
                <span class="s1">t.equal(actualSepYes, expected);</span>
            <span class="s1">}</span>
        <span class="s1">}</span>

        <span class="s1">st.notOk(failed, </span><span class="s2">'all 3 digit numbers passed'</span><span class="s1">);</span>

        <span class="s1">st.end();</span>
    <span class="s1">});</span>

    <span class="s1">t.equal(inspect(</span><span class="s3">1e3</span><span class="s1">), </span><span class="s2">'1000'</span><span class="s1">, </span><span class="s2">'1000'</span><span class="s1">);</span>
    <span class="s1">t.equal(inspect(</span><span class="s3">1e3</span><span class="s1">, { numericSeparator: </span><span class="s0">false </span><span class="s1">}), </span><span class="s2">'1000'</span><span class="s1">, </span><span class="s2">'1000, numericSeparator false'</span><span class="s1">);</span>
    <span class="s1">t.equal(inspect(</span><span class="s3">1e3</span><span class="s1">, { numericSeparator: </span><span class="s0">true </span><span class="s1">}), </span><span class="s2">'1_000'</span><span class="s1">, </span><span class="s2">'1000, numericSeparator true'</span><span class="s1">);</span>
    <span class="s1">t.equal(inspect(-</span><span class="s3">1e3</span><span class="s1">), </span><span class="s2">'-1000'</span><span class="s1">, </span><span class="s2">'-1000'</span><span class="s1">);</span>
    <span class="s1">t.equal(inspect(-</span><span class="s3">1e3</span><span class="s1">, { numericSeparator: </span><span class="s0">false </span><span class="s1">}), </span><span class="s2">'-1000'</span><span class="s1">, </span><span class="s2">'-1000, numericSeparator false'</span><span class="s1">);</span>
    <span class="s1">t.equal(inspect(-</span><span class="s3">1e3</span><span class="s1">, { numericSeparator: </span><span class="s0">true </span><span class="s1">}), </span><span class="s2">'-1_000'</span><span class="s1">, </span><span class="s2">'-1000, numericSeparator true'</span><span class="s1">);</span>

    <span class="s1">t.equal(inspect(</span><span class="s3">1234.5678</span><span class="s1">, { numericSeparator: </span><span class="s0">true </span><span class="s1">}), </span><span class="s2">'1_234.567_8'</span><span class="s1">, </span><span class="s2">'fractional numbers get separators'</span><span class="s1">);</span>
    <span class="s1">t.equal(inspect(</span><span class="s3">1234.56789</span><span class="s1">, { numericSeparator: </span><span class="s0">true </span><span class="s1">}), </span><span class="s2">'1_234.567_89'</span><span class="s1">, </span><span class="s2">'fractional numbers get separators'</span><span class="s1">);</span>
    <span class="s1">t.equal(inspect(</span><span class="s3">1234.567891</span><span class="s1">, { numericSeparator: </span><span class="s0">true </span><span class="s1">}), </span><span class="s2">'1_234.567_891'</span><span class="s1">, </span><span class="s2">'fractional numbers get separators'</span><span class="s1">);</span>

    <span class="s1">t.end();</span>
<span class="s1">});</span>
</pre>
</body>
</html>