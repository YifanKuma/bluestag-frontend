<html>
<head>
<title>no-relative-parent-imports.md</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #080808;}
.s3 { color: #871094; font-style: italic;}
.s4 { color: #067d17;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
no-relative-parent-imports.md</font>
</center></td></tr></table>
<pre><span class="s0"># </span><span class="s2">import/no-relative-parent-imports</span>

<span class="s1">&lt;!-- end auto-generated rule header --&gt;</span>

<span class="s2">Use this rule to prevent imports to folders in relative parent paths.</span>

<span class="s2">This rule is useful for enforcing tree-like folder structures instead of complex graph-like folder structures. While this restriction might be a departure from Node's default resolution style, it can lead large, complex codebases to be easier to maintain. If you've ever had debates over </span><span class="s1">&quot;</span><span class="s2">where to put files</span><span class="s1">&quot; </span><span class="s2">this rule is for you.</span>

<span class="s2">To fix violations of this rule there are three general strategies. Given this example</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">pt</span>
<span class="s4">numbers</span>
<span class="s4">└── three.js</span>
<span class="s4">add.js</span>
<span class="s0">```</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">// ./add.js</span>
<span class="s4">export default function (numbers) {</span>
  <span class="s4">return numbers.reduce((sum, n) =&gt; sum + n, 0);</span>
<span class="s4">}</span>

<span class="s4">// ./numbers/three.js</span>
<span class="s4">import add from '../add'; // violates import/no-relative-parent-imports</span>

<span class="s4">export default function three() {</span>
  <span class="s4">return add([1, 2]);</span>
<span class="s4">}</span>
<span class="s0">```</span>

<span class="s2">You can,</span>

<span class="s0">1. </span><span class="s2">Move the file to be in a sibling folder </span><span class="s1">(</span><span class="s2">or higher</span><span class="s1">) </span><span class="s2">of the dependency.</span>

   <span class="s2">`three.js` could be be in the same folder as `add.js`</span><span class="s1">:</span>

   <span class="s0">```</span><span class="s3">pt</span>
   <span class="s4">three.js</span>
   <span class="s4">add.js</span>
   <span class="s0">```</span>

   <span class="s2">or since `add` doesn't have any imports, it could be in it's own directory </span><span class="s1">(</span><span class="s2">namespace</span><span class="s1">):</span>

   <span class="s0">```</span><span class="s3">pt</span>
   <span class="s4">math</span>
   <span class="s4">└── add.js</span>
   <span class="s4">three.js</span>
   <span class="s0">```</span>

<span class="s0">2. </span><span class="s2">Pass the dependency as an argument at runtime </span><span class="s1">(</span><span class="s2">dependency injection</span><span class="s1">)</span>

   <span class="s0">```</span><span class="s3">js</span>
   <span class="s4">// three.js</span>
   <span class="s4">export default function three(add) {</span>
     <span class="s4">return add([1, 2]);</span>
   <span class="s4">}</span>

   <span class="s4">// somewhere else when you use `three.js`:</span>
   <span class="s4">import add from './add';</span>
   <span class="s4">import three from './numbers/three';</span>
   <span class="s4">console.log(three(add));</span>
   <span class="s0">```</span>

<span class="s0">3. </span><span class="s2">Make the dependency a package so it's globally available to all files in your project</span><span class="s1">:</span>

   <span class="s0">```</span><span class="s3">js</span>
   <span class="s4">import add from 'add'; // from https://www.npmjs.com/package/add</span>
   <span class="s4">export default function three() {</span>
     <span class="s4">return add([1,2]);</span>
   <span class="s4">}</span>
   <span class="s0">```</span>

<span class="s2">These are </span><span class="s1">(</span><span class="s2">respectively</span><span class="s1">) </span><span class="s2">static, dynamic &amp; global solutions to graph-like dependency resolution.</span>

<span class="s0">## </span><span class="s2">Examples</span>

<span class="s2">Given the following folder structure</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">pt</span>
<span class="s4">my-project</span>
<span class="s4">├── lib</span>
<span class="s4">│   ├── a.js</span>
<span class="s4">│   └── b.js</span>
<span class="s4">└── main.js</span>
<span class="s0">```</span>

<span class="s2">And the .eslintrc file</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">json</span>
<span class="s4">{</span>
  <span class="s4">...</span>
  <span class="s4">&quot;rules&quot;: {</span>
    <span class="s4">&quot;import/no-relative-parent-imports&quot;: &quot;error&quot;</span>
  <span class="s4">}</span>
<span class="s4">}</span>
<span class="s0">```</span>

<span class="s2">The following patterns are considered problems</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">/**</span>
 <span class="s4">*  in my-project/lib/a.js</span>
 <span class="s4">*/</span>

<span class="s4">import bar from '../main'; // Import parent file using a relative path</span>
<span class="s0">```</span>

<span class="s2">The following patterns are NOT considered problems</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">/**</span>
 <span class="s4">*  in my-project/main.js</span>
 <span class="s4">*/</span>

<span class="s4">import foo from 'foo'; // Import package using module path</span>
<span class="s4">import a from './lib/a'; // Import child file using relative path</span>

<span class="s4">/**</span>
 <span class="s4">*  in my-project/lib/a.js</span>
 <span class="s4">*/</span>

<span class="s4">import b from './b'; // Import sibling file using relative path</span>
<span class="s0">```</span>
</pre>
</body>
</html>