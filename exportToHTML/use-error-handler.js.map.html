<html>
<head>
<title>use-error-handler.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
use-error-handler.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../../src/next-devtools/userspace/app/errors/use-error-handler.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { useEffect } from 'react'</span><span class="s3">\n</span><span class="s1">import { isNextRouterError } from '../../../../client/components/is-next-router-error'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">formatConsoleArgs,</span><span class="s3">\n  </span><span class="s1">parseConsoleArgs,</span><span class="s3">\n</span><span class="s1">} from '../../../../client/lib/console'</span><span class="s3">\n</span><span class="s1">import isError from '../../../../lib/is-error'</span><span class="s3">\n</span><span class="s1">import { createConsoleError } from '../../../shared/console-error'</span><span class="s3">\n</span><span class="s1">import { coerceError, setOwnerStackIfAvailable } from './stitched-error'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">forwardUnhandledError,</span><span class="s3">\n  </span><span class="s1">isTerminalLoggingEnabled,</span><span class="s3">\n  </span><span class="s1">logUnhandledRejection,</span><span class="s3">\n</span><span class="s1">} from '../forward-logs'</span><span class="s3">\n\n</span><span class="s1">const queueMicroTask =</span><span class="s3">\n  </span><span class="s1">globalThis.queueMicrotask || ((cb: () =&gt; void) =&gt; Promise.resolve().then(cb))</span><span class="s3">\n\n</span><span class="s1">type ErrorHandler = (error: Error) =&gt; void</span><span class="s3">\n\n</span><span class="s1">const errorQueue: Array&lt;Error&gt; = []</span><span class="s3">\n</span><span class="s1">const errorHandlers: Array&lt;ErrorHandler&gt; = []</span><span class="s3">\n</span><span class="s1">const rejectionQueue: Array&lt;Error&gt; = []</span><span class="s3">\n</span><span class="s1">const rejectionHandlers: Array&lt;ErrorHandler&gt; = []</span><span class="s3">\n\n</span><span class="s1">export function handleConsoleError(</span><span class="s3">\n  </span><span class="s1">originError: unknown,</span><span class="s3">\n  </span><span class="s1">consoleErrorArgs: any[]</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">let error: Error</span><span class="s3">\n  </span><span class="s1">const { environmentName } = parseConsoleArgs(consoleErrorArgs)</span><span class="s3">\n  </span><span class="s1">if (isError(originError)) {</span><span class="s3">\n    </span><span class="s1">error = createConsoleError(originError, environmentName)</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">error = createConsoleError(</span><span class="s3">\n      </span><span class="s1">formatConsoleArgs(consoleErrorArgs),</span><span class="s3">\n      </span><span class="s1">environmentName</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">setOwnerStackIfAvailable(error)</span><span class="s3">\n\n  </span><span class="s1">errorQueue.push(error)</span><span class="s3">\n  </span><span class="s1">for (const handler of errorHandlers) {</span><span class="s3">\n    </span><span class="s1">// Delayed the error being passed to React Dev Overlay,</span><span class="s3">\n    </span><span class="s1">// avoid the state being synchronously updated in the component.</span><span class="s3">\n    </span><span class="s1">queueMicroTask(() =&gt; {</span><span class="s3">\n      </span><span class="s1">handler(error)</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function handleClientError(error: Error) {</span><span class="s3">\n  </span><span class="s1">errorQueue.push(error)</span><span class="s3">\n  </span><span class="s1">for (const handler of errorHandlers) {</span><span class="s3">\n    </span><span class="s1">// Delayed the error being passed to React Dev Overlay,</span><span class="s3">\n    </span><span class="s1">// avoid the state being synchronously updated in the component.</span><span class="s3">\n    </span><span class="s1">queueMicroTask(() =&gt; {</span><span class="s3">\n      </span><span class="s1">handler(error)</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function useErrorHandler(</span><span class="s3">\n  </span><span class="s1">handleOnUnhandledError: ErrorHandler,</span><span class="s3">\n  </span><span class="s1">handleOnUnhandledRejection: ErrorHandler</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">useEffect(() =&gt; {</span><span class="s3">\n    </span><span class="s1">// Handle queued errors.</span><span class="s3">\n    </span><span class="s1">errorQueue.forEach(handleOnUnhandledError)</span><span class="s3">\n    </span><span class="s1">rejectionQueue.forEach(handleOnUnhandledRejection)</span><span class="s3">\n\n    </span><span class="s1">// Listen to new errors.</span><span class="s3">\n    </span><span class="s1">errorHandlers.push(handleOnUnhandledError)</span><span class="s3">\n    </span><span class="s1">rejectionHandlers.push(handleOnUnhandledRejection)</span><span class="s3">\n\n    </span><span class="s1">return () =&gt; {</span><span class="s3">\n      </span><span class="s1">// Remove listeners.</span><span class="s3">\n      </span><span class="s1">errorHandlers.splice(errorHandlers.indexOf(handleOnUnhandledError), 1)</span><span class="s3">\n      </span><span class="s1">rejectionHandlers.splice(</span><span class="s3">\n        </span><span class="s1">rejectionHandlers.indexOf(handleOnUnhandledRejection),</span><span class="s3">\n        </span><span class="s1">1</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n\n      </span><span class="s1">// Reset error queues.</span><span class="s3">\n      </span><span class="s1">errorQueue.splice(0, errorQueue.length)</span><span class="s3">\n      </span><span class="s1">rejectionQueue.splice(0, rejectionQueue.length)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, [handleOnUnhandledError, handleOnUnhandledRejection])</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function onUnhandledError(event: WindowEventMap['error']): void | boolean {</span><span class="s3">\n  </span><span class="s1">const thrownValue: unknown = event.error</span><span class="s3">\n  </span><span class="s1">if (isNextRouterError(thrownValue)) {</span><span class="s3">\n    </span><span class="s1">event.preventDefault()</span><span class="s3">\n    </span><span class="s1">return false</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">// When there's an error property present, we log the error to error overlay.</span><span class="s3">\n  </span><span class="s1">// Otherwise we don't do anything as it's not logging in the console either.</span><span class="s3">\n  </span><span class="s1">if (thrownValue) {</span><span class="s3">\n    </span><span class="s1">const error = coerceError(thrownValue)</span><span class="s3">\n    </span><span class="s1">setOwnerStackIfAvailable(error)</span><span class="s3">\n    </span><span class="s1">handleClientError(error)</span><span class="s3">\n    </span><span class="s1">if (isTerminalLoggingEnabled) {</span><span class="s3">\n      </span><span class="s1">forwardUnhandledError(error)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function onUnhandledRejection(ev: WindowEventMap['unhandledrejection']): void {</span><span class="s3">\n  </span><span class="s1">const reason: unknown = ev?.reason</span><span class="s3">\n  </span><span class="s1">if (isNextRouterError(reason)) {</span><span class="s3">\n    </span><span class="s1">ev.preventDefault()</span><span class="s3">\n    </span><span class="s1">return</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const error = coerceError(reason)</span><span class="s3">\n  </span><span class="s1">setOwnerStackIfAvailable(error)</span><span class="s3">\n\n  </span><span class="s1">rejectionQueue.push(error)</span><span class="s3">\n  </span><span class="s1">for (const handler of rejectionHandlers) {</span><span class="s3">\n    </span><span class="s1">handler(error)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (isTerminalLoggingEnabled) {</span><span class="s3">\n    </span><span class="s1">logUnhandledRejection(reason)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function handleGlobalErrors() {</span><span class="s3">\n  </span><span class="s1">if (typeof window !== 'undefined') {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">// Increase the number of stack frames on the client</span><span class="s3">\n      </span><span class="s1">Error.stackTraceLimit = 50</span><span class="s3">\n    </span><span class="s1">} catch {}</span><span class="s3">\n\n    </span><span class="s1">window.addEventListener('error', onUnhandledError)</span><span class="s3">\n    </span><span class="s1">window.addEventListener('unhandledrejection', onUnhandledRejection)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;handleClientError&quot;</span><span class="s0">,</span><span class="s1">&quot;handleConsoleError&quot;</span><span class="s0">,</span><span class="s1">&quot;handleGlobalErrors&quot;</span><span class="s0">,</span><span class="s1">&quot;useErrorHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;queueMicroTask&quot;</span><span class="s0">,</span><span class="s1">&quot;globalThis&quot;</span><span class="s0">,</span><span class="s1">&quot;queueMicrotask&quot;</span><span class="s0">,</span><span class="s1">&quot;cb&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;errorQueue&quot;</span><span class="s0">,</span><span class="s1">&quot;errorHandlers&quot;</span><span class="s0">,</span><span class="s1">&quot;rejectionQueue&quot;</span><span class="s0">,</span><span class="s1">&quot;rejectionHandlers&quot;</span><span class="s0">,</span><span class="s1">&quot;originError&quot;</span><span class="s0">,</span><span class="s1">&quot;consoleErrorArgs&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;environmentName&quot;</span><span class="s0">,</span><span class="s1">&quot;parseConsoleArgs&quot;</span><span class="s0">,</span><span class="s1">&quot;isError&quot;</span><span class="s0">,</span><span class="s1">&quot;createConsoleError&quot;</span><span class="s0">,</span><span class="s1">&quot;formatConsoleArgs&quot;</span><span class="s0">,</span><span class="s1">&quot;setOwnerStackIfAvailable&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;handler&quot;</span><span class="s0">,</span><span class="s1">&quot;handleOnUnhandledError&quot;</span><span class="s0">,</span><span class="s1">&quot;handleOnUnhandledRejection&quot;</span><span class="s0">,</span><span class="s1">&quot;useEffect&quot;</span><span class="s0">,</span><span class="s1">&quot;forEach&quot;</span><span class="s0">,</span><span class="s1">&quot;splice&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOf&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;onUnhandledError&quot;</span><span class="s0">,</span><span class="s1">&quot;event&quot;</span><span class="s0">,</span><span class="s1">&quot;thrownValue&quot;</span><span class="s0">,</span><span class="s1">&quot;isNextRouterError&quot;</span><span class="s0">,</span><span class="s1">&quot;preventDefault&quot;</span><span class="s0">,</span><span class="s1">&quot;coerceError&quot;</span><span class="s0">,</span><span class="s1">&quot;isTerminalLoggingEnabled&quot;</span><span class="s0">,</span><span class="s1">&quot;forwardUnhandledError&quot;</span><span class="s0">,</span><span class="s1">&quot;onUnhandledRejection&quot;</span><span class="s0">,</span><span class="s1">&quot;ev&quot;</span><span class="s0">,</span><span class="s1">&quot;reason&quot;</span><span class="s0">,</span><span class="s1">&quot;logUnhandledRejection&quot;</span><span class="s0">,</span><span class="s1">&quot;window&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;stackTraceLimit&quot;</span><span class="s0">,</span><span class="s1">&quot;addEventListener&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>