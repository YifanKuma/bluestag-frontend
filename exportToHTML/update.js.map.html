<html>
<head>
<title>update.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
update.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;update.js&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/update.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;AAAA,SAAS;;;AAET,uDAA+C;AAG/C,6CAA2C;AAE3C,iDAAiD;AACpC,QAAA,MAAM,GAAG,IAAA,6BAAW,EAC/B,oBAAC,CAAC,QAAQ,EACV,oBAAC,CAAC,SAAS,EACX,oBAAC,CAAC,UAAU,EACZ,oBAAC,CAAC,WAAW,EACb,CAAC,GAAG,EAAE,OAAO,GAAG,EAAE,EAAE,EAAE;IACpB,oBAAC,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,OAAO,CAAC,CAAA;IAC1B,WAAW,CAAC,GAAG,CAAC,CAAA;AAClB,CAAC,CACF,CAAA;AAED,MAAM,WAAW,GAAG,CAAC,GAA0B,EAAE,EAAE;IACjD,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAA;IAEzB,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC;QACpB,GAAG,CAAC,UAAU,GAAG,IAAI,GAAG,EAAE,CAAA;IAC5B,CAAC;IAED,GAAG,CAAC,MAAM;QACR,MAAM,CAAC,CAAC;YACN,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CACb,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC;gBAClB,CAAC;gBACC,qBAAqB;gBACrB,CACE,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;oBAC9C,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,CAClB;gBACD,oBAAoB;iBACrB;YACL,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CACb,CAAC;YACC,qBAAqB;YACrB,CACE,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;gBAC9C,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,CAClB;YACD,oBAAoB;aACrB,CAAA;AACT,CAAC,CAAA&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// tar -u</span><span class="s3">\n\n</span><span class="s1">import { makeCommand } from './make-command.js'</span><span class="s3">\n</span><span class="s1">import { type TarOptionsWithAliases } from './options.js'</span><span class="s3">\n\n</span><span class="s1">import { replace as r } from './replace.js'</span><span class="s3">\n\n</span><span class="s1">// just call tar.r with the filter and mtimeCache</span><span class="s3">\n</span><span class="s1">export const update = makeCommand(</span><span class="s3">\n  </span><span class="s1">r.syncFile,</span><span class="s3">\n  </span><span class="s1">r.asyncFile,</span><span class="s3">\n  </span><span class="s1">r.syncNoFile,</span><span class="s3">\n  </span><span class="s1">r.asyncNoFile,</span><span class="s3">\n  </span><span class="s1">(opt, entries = []) =&gt; {</span><span class="s3">\n    </span><span class="s1">r.validate?.(opt, entries)</span><span class="s3">\n    </span><span class="s1">mtimeFilter(opt)</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">)</span><span class="s3">\n\n</span><span class="s1">const mtimeFilter = (opt: TarOptionsWithAliases) =&gt; {</span><span class="s3">\n  </span><span class="s1">const filter = opt.filter</span><span class="s3">\n\n  </span><span class="s1">if (!opt.mtimeCache) {</span><span class="s3">\n    </span><span class="s1">opt.mtimeCache = new Map()</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">opt.filter =</span><span class="s3">\n    </span><span class="s1">filter ?</span><span class="s3">\n      </span><span class="s1">(path, stat) =&gt;</span><span class="s3">\n        </span><span class="s1">filter(path, stat) &amp;&amp;</span><span class="s3">\n        </span><span class="s1">!(</span><span class="s3">\n          </span><span class="s1">/* c8 ignore start */</span><span class="s3">\n          </span><span class="s1">(</span><span class="s3">\n            </span><span class="s1">(opt.mtimeCache?.get(path) ?? stat.mtime ?? 0) &gt;</span><span class="s3">\n            </span><span class="s1">(stat.mtime ?? 0)</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">/* c8 ignore stop */</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">: (path, stat) =&gt;</span><span class="s3">\n        </span><span class="s1">!(</span><span class="s3">\n          </span><span class="s1">/* c8 ignore start */</span><span class="s3">\n          </span><span class="s1">(</span><span class="s3">\n            </span><span class="s1">(opt.mtimeCache?.get(path) ?? stat.mtime ?? 0) &gt;</span><span class="s3">\n            </span><span class="s1">(stat.mtime ?? 0)</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">/* c8 ignore stop */</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">]}</span></pre>
</body>
</html>