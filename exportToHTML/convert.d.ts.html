<html>
<head>
<title>convert.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
.s3 { color: #8c8c8c; font-style: italic;}
.s4 { color: #8c8c8c; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
convert.d.ts</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">* as ts from </span><span class="s2">'typescript'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { TSError } from </span><span class="s2">'./node-utils'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { ParserWeakMap, ParserWeakMapESTreeToTSNode } from </span><span class="s2">'./parser-options'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { SemanticOrSyntacticError } from </span><span class="s2">'./semantic-or-syntactic-errors'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { TSESTree, TSNode } from </span><span class="s2">'./ts-estree'</span><span class="s1">;</span>
<span class="s0">export interface </span><span class="s1">ConverterOptions {</span>
    <span class="s1">allowInvalidAST?: boolean;</span>
    <span class="s1">errorOnUnknownASTType?: boolean;</span>
    <span class="s1">shouldPreserveNodeMaps?: boolean;</span>
    <span class="s1">suppressDeprecatedPropertyWarnings?: boolean;</span>
<span class="s1">}</span>
<span class="s3">/**</span>
 <span class="s3">* Extends and formats a given error object</span>
 <span class="s3">* </span><span class="s4">@param </span><span class="s3">error the error object</span>
 <span class="s3">* </span><span class="s4">@returns </span><span class="s3">converted error object</span>
 <span class="s3">*/</span>
<span class="s0">export </span><span class="s1">declare </span><span class="s0">function </span><span class="s1">convertError(error: SemanticOrSyntacticError | ts.DiagnosticWithLocation): TSError;</span>
<span class="s0">export interface </span><span class="s1">ASTMaps {</span>
    <span class="s1">esTreeNodeToTSNodeMap: ParserWeakMapESTreeToTSNode;</span>
    <span class="s1">tsNodeToESTreeNodeMap: ParserWeakMap&lt;TSNode, TSESTree.Node&gt;;</span>
<span class="s1">}</span>
<span class="s0">export </span><span class="s1">declare </span><span class="s0">class </span><span class="s1">Converter {</span>
    <span class="s1">#private;</span>
    <span class="s0">private </span><span class="s1">allowPattern;</span>
    <span class="s0">private </span><span class="s1">readonly ast;</span>
    <span class="s0">private </span><span class="s1">readonly esTreeNodeToTSNodeMap;</span>
    <span class="s0">private </span><span class="s1">readonly options;</span>
    <span class="s0">private </span><span class="s1">readonly tsNodeToESTreeNodeMap;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts a TypeScript node into an ESTree node</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">ast the full TypeScript AST</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">options additional options for the conversion</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">the converted ESTreeNode</span>
     <span class="s3">*/</span>
    <span class="s1">constructor(ast: ts.SourceFile, options?: ConverterOptions);</span>
    <span class="s0">private </span><span class="s1">assertModuleSpecifier;</span>
    <span class="s0">private </span><span class="s1">convertBindingNameWithTypeAnnotation;</span>
    <span class="s3">/**</span>
     <span class="s3">* Coverts body Nodes and add a directive field to StringLiterals</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">nodes of ts.Node</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">parent parentNode</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">Array of body statements</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">convertBodyExpressions;</span>
    <span class="s0">private </span><span class="s1">convertChainExpression;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts a TypeScript node into an ESTree node.</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">child the child ts.Node</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">parent parentNode</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">the converted ESTree node</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">convertChild;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts TypeScript node array into an ESTree node list.</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">children the child `ts.NodeArray` or `ts.Node[]`</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">parent parentNode</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">the converted ESTree node list</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">convertChildren;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts a TypeScript node into an ESTree node.</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">child the child ts.Node</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">parent parentNode</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">the converted ESTree node</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">convertPattern;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts a child into a type annotation. This creates an intermediary</span>
     <span class="s3">* TypeAnnotation node to match what Flow does.</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">child The TypeScript AST node to convert.</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">parent parentNode</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">The type annotation node.</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">convertTypeAnnotation;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts a ts.Node's typeArguments to TSTypeParameterInstantiation node</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">typeArguments ts.NodeArray typeArguments</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">node parent used to create this node</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">TypeParameterInstantiation node</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">convertTypeArgumentsToTypeParameterInstantiation;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts a ts.Node's typeParameters to TSTypeParameterDeclaration node</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">typeParameters ts.Node typeParameters</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">TypeParameterDeclaration node</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">convertTSTypeParametersToTypeParametersDeclaration;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts an array of ts.Node parameters into an array of ESTreeNode params</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">parameters An array of ts.Node params to be converted</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">an array of converted ESTreeNode params</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">convertParameters;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts a TypeScript node into an ESTree node.</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">node the child ts.Node</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">parent parentNode</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">allowPattern flag to determine if patterns are allowed</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">the converted ESTree node</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">converter;</span>
    <span class="s0">private </span><span class="s1">convertImportAttributes;</span>
    <span class="s0">private </span><span class="s1">convertJSXIdentifier;</span>
    <span class="s0">private </span><span class="s1">convertJSXNamespaceOrIdentifier;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts a TypeScript JSX node.tagName into an ESTree node.name</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">node the tagName object from a JSX ts.Node</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">the converted ESTree name object</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">convertJSXTagName;</span>
    <span class="s0">private </span><span class="s1">convertMethodSignature;</span>
    <span class="s3">/**</span>
     <span class="s3">* Uses the provided range location to adjust the location data of the given Node</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">result The node that will have its location data mutated</span>
     <span class="s3">* </span><span class="s4">@param </span><span class="s3">childRange The child node range used to expand location</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">fixParentLocation;</span>
    <span class="s3">/**</span>
     <span class="s3">* Converts a TypeScript node into an ESTree node.</span>
     <span class="s3">* The core of the conversion logic:</span>
     <span class="s3">* Identify and convert each relevant TypeScript SyntaxKind</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">the converted ESTree node</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">convertNode;</span>
    <span class="s0">private </span><span class="s1">createNode;</span>
    <span class="s1">convertProgram(): TSESTree.Program;</span>
    <span class="s3">/**</span>
     <span class="s3">* For nodes that are copied directly from the TypeScript AST into</span>
     <span class="s3">* ESTree mostly as-is. The only difference is the addition of a type</span>
     <span class="s3">* property instead of a kind property. Recursively copies all children.</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">deeplyCopy;</span>
    <span class="s3">/**</span>
     <span class="s3">* Fixes the exports of the given ts.Node</span>
     <span class="s3">* </span><span class="s4">@returns </span><span class="s3">the ESTreeNode with fixed exports</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">fixExports;</span>
    <span class="s1">getASTMaps(): ASTMaps;</span>
    <span class="s3">/**</span>
     <span class="s3">* Register specific TypeScript node into map with first ESTree node provided</span>
     <span class="s3">*/</span>
    <span class="s0">private </span><span class="s1">registerTSNodeInNodeMap;</span>
<span class="s1">}</span>
</pre>
</body>
</html>