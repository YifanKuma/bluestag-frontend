<html>
<head>
<title>getTypeScriptIntent.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
getTypeScriptIntent.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/lib/typescript/getTypeScriptIntent.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { existsSync, promises as fs } from 'fs'</span><span class="s3">\n</span><span class="s1">import path from 'path'</span><span class="s3">\n</span><span class="s1">import { recursiveReadDir } from '../recursive-readdir'</span><span class="s3">\n\n</span><span class="s1">export type TypeScriptIntent = { firstTimeSetup: boolean }</span><span class="s3">\n\n</span><span class="s1">export async function getTypeScriptIntent(</span><span class="s3">\n  </span><span class="s1">baseDir: string,</span><span class="s3">\n  </span><span class="s1">intentDirs: string[],</span><span class="s3">\n  </span><span class="s1">tsconfigPath: string</span><span class="s3">\n</span><span class="s1">): Promise&lt;TypeScriptIntent | false&gt; {</span><span class="s3">\n  </span><span class="s1">const resolvedTsConfigPath = path.join(baseDir, tsconfigPath)</span><span class="s3">\n\n  </span><span class="s1">// The integration turns on if we find a `tsconfig.json` in the user's</span><span class="s3">\n  </span><span class="s1">// project.</span><span class="s3">\n  </span><span class="s1">const hasTypeScriptConfiguration = existsSync(resolvedTsConfigPath)</span><span class="s3">\n  </span><span class="s1">if (hasTypeScriptConfiguration) {</span><span class="s3">\n    </span><span class="s1">const content = await fs</span><span class="s3">\n      </span><span class="s1">.readFile(resolvedTsConfigPath, { encoding: 'utf8' })</span><span class="s3">\n      </span><span class="s1">.then(</span><span class="s3">\n        </span><span class="s1">(txt) =&gt; txt.trim(),</span><span class="s3">\n        </span><span class="s1">() =&gt; null</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">return { firstTimeSetup: content === '' || content === '{}' }</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Next.js also offers a friendly setup mode that bootstraps a TypeScript</span><span class="s3">\n  </span><span class="s1">// project for the user when we detect TypeScript files. So, we need to check</span><span class="s3">\n  </span><span class="s1">// the `pages/` directory for a TypeScript file.</span><span class="s3">\n  </span><span class="s1">// Checking all directories is too slow, so this is a happy medium.</span><span class="s3">\n  </span><span class="s1">const tsFilesRegex = /.*</span><span class="s3">\\</span><span class="s1">.(ts|tsx)$/</span><span class="s3">\n  </span><span class="s1">const excludedRegex = /(node_modules|.*</span><span class="s3">\\</span><span class="s1">.d</span><span class="s3">\\</span><span class="s1">.ts$)/</span><span class="s3">\n  </span><span class="s1">for (const dir of intentDirs) {</span><span class="s3">\n    </span><span class="s1">const typescriptFiles = await recursiveReadDir(dir, {</span><span class="s3">\n      </span><span class="s1">pathnameFilter: (name) =&gt; tsFilesRegex.test(name),</span><span class="s3">\n      </span><span class="s1">ignoreFilter: (name) =&gt; excludedRegex.test(name),</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">if (typescriptFiles.length) {</span><span class="s3">\n      </span><span class="s1">return { firstTimeSetup: true }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return false</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;getTypeScriptIntent&quot;</span><span class="s0">,</span><span class="s1">&quot;baseDir&quot;</span><span class="s0">,</span><span class="s1">&quot;intentDirs&quot;</span><span class="s0">,</span><span class="s1">&quot;tsconfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedTsConfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;hasTypeScriptConfiguration&quot;</span><span class="s0">,</span><span class="s1">&quot;existsSync&quot;</span><span class="s0">,</span><span class="s1">&quot;content&quot;</span><span class="s0">,</span><span class="s1">&quot;fs&quot;</span><span class="s0">,</span><span class="s1">&quot;readFile&quot;</span><span class="s0">,</span><span class="s1">&quot;encoding&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;txt&quot;</span><span class="s0">,</span><span class="s1">&quot;trim&quot;</span><span class="s0">,</span><span class="s1">&quot;firstTimeSetup&quot;</span><span class="s0">,</span><span class="s1">&quot;tsFilesRegex&quot;</span><span class="s0">,</span><span class="s1">&quot;excludedRegex&quot;</span><span class="s0">,</span><span class="s1">&quot;dir&quot;</span><span class="s0">,</span><span class="s1">&quot;typescriptFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;recursiveReadDir&quot;</span><span class="s0">,</span><span class="s1">&quot;pathnameFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAMsBA;;;eAAAA;;;oBANqB;6DAC1B;kCACgB;;;;;;AAI1B,eAAeA,oBACpBC,OAAe,EACfC,UAAoB,EACpBC,YAAoB;IAEpB,MAAMC,uBAAuBC,aAAI,CAACC,IAAI,CAACL,SAASE;IAEhD,sEAAsE;IACtE,WAAW;IACX,MAAMI,6BAA6BC,IAAAA,cAAU,EAACJ;IAC9C,IAAIG,4BAA4B;QAC9B,MAAME,UAAU,MAAMC,YAAE,CACrBC,QAAQ,CAACP,sBAAsB;YAAEQ,UAAU;QAAO,GAClDC,IAAI,CACH,CAACC,MAAQA,IAAIC,IAAI,IACjB,IAAM;QAEV,OAAO;YAAEC,gBAAgBP,YAAY,MAAMA,YAAY;QAAK;IAC9D;IAEA,yEAAyE;IACzE,6EAA6E;IAC7E,gDAAgD;IAChD,mEAAmE;IACnE,MAAMQ,eAAe;IACrB,MAAMC,gBAAgB;IACtB,KAAK,MAAMC,OAAOjB,WAAY;QAC5B,MAAMkB,kBAAkB,MAAMC,IAAAA,kCAAgB,EAACF,KAAK;YAClDG,gBAAgB,CAACC,OAASN,aAAaO,IAAI,CAACD;YAC5CE,cAAc,CAACF,OAASL,cAAcM,IAAI,CAACD;QAC7C;QACA,IAAIH,gBAAgBM,MAAM,EAAE;YAC1B,OAAO;gBAAEV,gBAAgB;YAAK;QAChC;IACF;IAEA,OAAO;AACT&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>