<html>
<head>
<title>app-link-gc.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
app-link-gc.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/client/app-link-gc.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;export function linkGc() {</span><span class="s3">\n  </span><span class="s1">// TODO-APP: Remove this logic when Float has GC built-in in development.</span><span class="s3">\n  </span><span class="s1">if (process.env.NODE_ENV !== 'production') {</span><span class="s3">\n    </span><span class="s1">const callback = (mutationList: MutationRecord[]) =&gt; {</span><span class="s3">\n      </span><span class="s1">for (const mutation of mutationList) {</span><span class="s3">\n        </span><span class="s1">if (mutation.type === 'childList') {</span><span class="s3">\n          </span><span class="s1">for (const node of mutation.addedNodes) {</span><span class="s3">\n            </span><span class="s1">if (</span><span class="s3">\n              </span><span class="s1">'tagName' in node &amp;&amp;</span><span class="s3">\n              </span><span class="s1">(node as HTMLLinkElement).tagName === 'LINK'</span><span class="s3">\n            </span><span class="s1">) {</span><span class="s3">\n              </span><span class="s1">const link = node as HTMLLinkElement</span><span class="s3">\n              </span><span class="s1">if (link.dataset.precedence?.startsWith('next')) {</span><span class="s3">\n                </span><span class="s1">const href = link.getAttribute('href')</span><span class="s3">\n                </span><span class="s1">if (href) {</span><span class="s3">\n                  </span><span class="s1">const [resource, version] = href.split('?v=', 2)</span><span class="s3">\n                  </span><span class="s1">if (version) {</span><span class="s3">\n                    </span><span class="s1">const currentOrigin = window.location.origin</span><span class="s3">\n                    </span><span class="s1">const allLinks = [</span><span class="s3">\n                      </span><span class="s1">...document.querySelectorAll(</span><span class="s3">\n                        </span><span class="s1">'link[href^=</span><span class="s3">\&quot;</span><span class="s1">' + resource + '</span><span class="s3">\&quot;</span><span class="s1">]'</span><span class="s3">\n                      </span><span class="s1">),</span><span class="s3">\n                      </span><span class="s1">// It's possible that the resource is a full URL or only pathname,</span><span class="s3">\n                      </span><span class="s1">// so we need to remove the alternative href as well.</span><span class="s3">\n                      </span><span class="s1">...document.querySelectorAll(</span><span class="s3">\n                        </span><span class="s1">'link[href^=</span><span class="s3">\&quot;</span><span class="s1">' +</span><span class="s3">\n                          </span><span class="s1">(resource.startsWith(currentOrigin)</span><span class="s3">\n                            </span><span class="s1">? resource.slice(currentOrigin.length)</span><span class="s3">\n                            </span><span class="s1">: currentOrigin + resource) +</span><span class="s3">\n                          </span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">]'</span><span class="s3">\n                      </span><span class="s1">),</span><span class="s3">\n                    </span><span class="s1">] as HTMLLinkElement[]</span><span class="s3">\n\n                    </span><span class="s1">for (const otherLink of allLinks) {</span><span class="s3">\n                      </span><span class="s1">if (otherLink.dataset.precedence?.startsWith('next')) {</span><span class="s3">\n                        </span><span class="s1">const otherHref = otherLink.getAttribute('href')</span><span class="s3">\n                        </span><span class="s1">if (otherHref) {</span><span class="s3">\n                          </span><span class="s1">const [, otherVersion] = otherHref.split('?v=', 2)</span><span class="s3">\n                          </span><span class="s1">if (!otherVersion || +otherVersion &lt; +version) {</span><span class="s3">\n                            </span><span class="s1">// Delay the removal of the stylesheet to avoid FOUC</span><span class="s3">\n                            </span><span class="s1">// caused by `@font-face` rules, as they seem to be</span><span class="s3">\n                            </span><span class="s1">// a couple of ticks delayed between the old and new</span><span class="s3">\n                            </span><span class="s1">// styles being swapped even if the font is cached.</span><span class="s3">\n                            </span><span class="s1">setTimeout(() =&gt; {</span><span class="s3">\n                              </span><span class="s1">otherLink.remove()</span><span class="s3">\n                            </span><span class="s1">}, 5)</span><span class="s3">\n                            </span><span class="s1">const preloadLink = document.querySelector(</span><span class="s3">\n                              </span><span class="s1">`link[rel=</span><span class="s3">\&quot;</span><span class="s1">preload</span><span class="s3">\&quot;</span><span class="s1">][as=</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">][href=</span><span class="s3">\&quot;</span><span class="s1">${otherHref}</span><span class="s3">\&quot;</span><span class="s1">]`</span><span class="s3">\n                            </span><span class="s1">)</span><span class="s3">\n                            </span><span class="s1">if (preloadLink) {</span><span class="s3">\n                              </span><span class="s1">preloadLink.remove()</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                          </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                      </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Create an observer instance linked to the callback function</span><span class="s3">\n    </span><span class="s1">const observer = new MutationObserver(callback)</span><span class="s3">\n    </span><span class="s1">observer.observe(document.head, {</span><span class="s3">\n      </span><span class="s1">childList: true,</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;linkGc&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;NODE_ENV&quot;</span><span class="s0">,</span><span class="s1">&quot;callback&quot;</span><span class="s0">,</span><span class="s1">&quot;mutationList&quot;</span><span class="s0">,</span><span class="s1">&quot;mutation&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;node&quot;</span><span class="s0">,</span><span class="s1">&quot;addedNodes&quot;</span><span class="s0">,</span><span class="s1">&quot;tagName&quot;</span><span class="s0">,</span><span class="s1">&quot;link&quot;</span><span class="s0">,</span><span class="s1">&quot;dataset&quot;</span><span class="s0">,</span><span class="s1">&quot;precedence&quot;</span><span class="s0">,</span><span class="s1">&quot;startsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;href&quot;</span><span class="s0">,</span><span class="s1">&quot;getAttribute&quot;</span><span class="s0">,</span><span class="s1">&quot;resource&quot;</span><span class="s0">,</span><span class="s1">&quot;version&quot;</span><span class="s0">,</span><span class="s1">&quot;split&quot;</span><span class="s0">,</span><span class="s1">&quot;currentOrigin&quot;</span><span class="s0">,</span><span class="s1">&quot;window&quot;</span><span class="s0">,</span><span class="s1">&quot;location&quot;</span><span class="s0">,</span><span class="s1">&quot;origin&quot;</span><span class="s0">,</span><span class="s1">&quot;allLinks&quot;</span><span class="s0">,</span><span class="s1">&quot;document&quot;</span><span class="s0">,</span><span class="s1">&quot;querySelectorAll&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;otherLink&quot;</span><span class="s0">,</span><span class="s1">&quot;otherHref&quot;</span><span class="s0">,</span><span class="s1">&quot;otherVersion&quot;</span><span class="s0">,</span><span class="s1">&quot;setTimeout&quot;</span><span class="s0">,</span><span class="s1">&quot;remove&quot;</span><span class="s0">,</span><span class="s1">&quot;preloadLink&quot;</span><span class="s0">,</span><span class="s1">&quot;querySelector&quot;</span><span class="s0">,</span><span class="s1">&quot;observer&quot;</span><span class="s0">,</span><span class="s1">&quot;MutationObserver&quot;</span><span class="s0">,</span><span class="s1">&quot;observe&quot;</span><span class="s0">,</span><span class="s1">&quot;head&quot;</span><span class="s0">,</span><span class="s1">&quot;childList&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAAgBA;;;eAAAA;;;AAAT,SAASA;IACd,yEAAyE;IACzE,IAAIC,QAAQC,GAAG,CAACC,QAAQ,KAAK,cAAc;QACzC,MAAMC,WAAW,CAACC;YAChB,KAAK,MAAMC,YAAYD,aAAc;gBACnC,IAAIC,SAASC,IAAI,KAAK,aAAa;oBACjC,KAAK,MAAMC,QAAQF,SAASG,UAAU,CAAE;wBACtC,IACE,aAAaD,QACb,AAACA,KAAyBE,OAAO,KAAK,QACtC;gCAEIC;4BADJ,MAAMA,OAAOH;4BACb,KAAIG,2BAAAA,KAAKC,OAAO,CAACC,UAAU,qBAAvBF,yBAAyBG,UAAU,CAAC,SAAS;gCAC/C,MAAMC,OAAOJ,KAAKK,YAAY,CAAC;gCAC/B,IAAID,MAAM;oCACR,MAAM,CAACE,UAAUC,QAAQ,GAAGH,KAAKI,KAAK,CAAC,OAAO;oCAC9C,IAAID,SAAS;wCACX,MAAME,gBAAgBC,OAAOC,QAAQ,CAACC,MAAM;wCAC5C,MAAMC,WAAW;+CACZC,SAASC,gBAAgB,CAC1B,iBAAiBT,WAAW;4CAE9B,kEAAkE;4CAClE,qDAAqD;+CAClDQ,SAASC,gBAAgB,CAC1B,iBACGT,CAAAA,SAASH,UAAU,CAACM,iBACjBH,SAASU,KAAK,CAACP,cAAcQ,MAAM,IACnCR,gBAAgBH,QAAO,IAC3B;yCAEL;wCAED,KAAK,MAAMY,aAAaL,SAAU;gDAC5BK;4CAAJ,KAAIA,gCAAAA,UAAUjB,OAAO,CAACC,UAAU,qBAA5BgB,8BAA8Bf,UAAU,CAAC,SAAS;gDACpD,MAAMgB,YAAYD,UAAUb,YAAY,CAAC;gDACzC,IAAIc,WAAW;oDACb,MAAM,GAAGC,aAAa,GAAGD,UAAUX,KAAK,CAAC,OAAO;oDAChD,IAAI,CAACY,gBAAgB,CAACA,eAAe,CAACb,SAAS;wDAC7C,oDAAoD;wDACpD,mDAAmD;wDACnD,oDAAoD;wDACpD,mDAAmD;wDACnDc,WAAW;4DACTH,UAAUI,MAAM;wDAClB,GAAG;wDACH,MAAMC,cAAcT,SAASU,aAAa,CACxC,AAAC,2CAAwCL,YAAU;wDAErD,IAAII,aAAa;4DACfA,YAAYD,MAAM;wDACpB;oDACF;gDACF;4CACF;wCACF;oCACF;gCACF;4BACF;wBACF;oBACF;gBACF;YACF;QACF;QAEA,8DAA8D;QAC9D,MAAMG,WAAW,IAAIC,iBAAiBjC;QACtCgC,SAASE,OAAO,CAACb,SAASc,IAAI,EAAE;YAC9BC,WAAW;QACb;IACF;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>