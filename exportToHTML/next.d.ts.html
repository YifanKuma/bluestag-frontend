<html>
<head>
<title>next.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
.s3 { color: #8c8c8c; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
next.d.ts</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">type { Options as DevServerOptions } from </span><span class="s2">'./dev/next-dev-server'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { Options as ServerOptions } from </span><span class="s2">'./next-server'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { IncomingMessage, ServerResponse } from </span><span class="s2">'http'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { Duplex } from </span><span class="s2">'stream'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { NextUrlWithParsedQuery } from </span><span class="s2">'./request-meta'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s2">'./require-hook'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s2">'./node-polyfill-crypto'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { </span><span class="s0">default </span><span class="s1">as NextNodeServer } from </span><span class="s2">'./next-server'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">type { ServerFields } from </span><span class="s2">'./lib/router-utils/setup-dev-bundler'</span><span class="s1">;</span>
<span class="s0">export </span><span class="s1">type NextServerOptions = Omit&lt;ServerOptions | DevServerOptions, </span><span class="s2">'conf'</span><span class="s1">&gt; &amp; Partial&lt;Pick&lt;ServerOptions | DevServerOptions, </span><span class="s2">'conf'</span><span class="s1">&gt;&gt;;</span>
<span class="s0">export </span><span class="s1">type RequestHandler = (req: IncomingMessage, res: ServerResponse, parsedUrl?: NextUrlWithParsedQuery | undefined) =&gt; Promise&lt;</span><span class="s0">void</span><span class="s1">&gt;;</span>
<span class="s0">export </span><span class="s1">type UpgradeHandler = (req: IncomingMessage, socket: Duplex, head: Buffer) =&gt; Promise&lt;</span><span class="s0">void</span><span class="s1">&gt;;</span>
<span class="s1">declare </span><span class="s0">const </span><span class="s1">SYMBOL_LOAD_CONFIG: unique symbol;</span>
<span class="s0">interface </span><span class="s1">NextWrapperServer {</span>
    <span class="s1">options: NextServerOptions;</span>
    <span class="s1">hostname: string | undefined;</span>
    <span class="s1">port: number | undefined;</span>
    <span class="s1">getRequestHandler(): RequestHandler;</span>
    <span class="s1">prepare(serverFields?: ServerFields): Promise&lt;</span><span class="s0">void</span><span class="s1">&gt;;</span>
    <span class="s1">setAssetPrefix(assetPrefix: string): </span><span class="s0">void</span><span class="s1">;</span>
    <span class="s1">close(): Promise&lt;</span><span class="s0">void</span><span class="s1">&gt;;</span>
    <span class="s1">getUpgradeHandler(): UpgradeHandler;</span>
    <span class="s1">logError(...args: Parameters&lt;NextNodeServer[</span><span class="s2">'logError'</span><span class="s1">]&gt;): </span><span class="s0">void</span><span class="s1">;</span>
    <span class="s1">revalidate(...args: Parameters&lt;NextNodeServer[</span><span class="s2">'revalidate'</span><span class="s1">]&gt;): ReturnType&lt;NextNodeServer[</span><span class="s2">'revalidate'</span><span class="s1">]&gt;;</span>
    <span class="s1">logErrorWithOriginalStack(err: unknown, type: string): </span><span class="s0">void</span><span class="s1">;</span>
    <span class="s1">render(...args: Parameters&lt;NextNodeServer[</span><span class="s2">'render'</span><span class="s1">]&gt;): ReturnType&lt;NextNodeServer[</span><span class="s2">'render'</span><span class="s1">]&gt;;</span>
    <span class="s1">renderToHTML(...args: Parameters&lt;NextNodeServer[</span><span class="s2">'renderToHTML'</span><span class="s1">]&gt;): ReturnType&lt;NextNodeServer[</span><span class="s2">'renderToHTML'</span><span class="s1">]&gt;;</span>
    <span class="s1">renderError(...args: Parameters&lt;NextNodeServer[</span><span class="s2">'renderError'</span><span class="s1">]&gt;): ReturnType&lt;NextNodeServer[</span><span class="s2">'renderError'</span><span class="s1">]&gt;;</span>
    <span class="s1">renderErrorToHTML(...args: Parameters&lt;NextNodeServer[</span><span class="s2">'renderErrorToHTML'</span><span class="s1">]&gt;): ReturnType&lt;NextNodeServer[</span><span class="s2">'renderErrorToHTML'</span><span class="s1">]&gt;;</span>
    <span class="s1">render404(...args: Parameters&lt;NextNodeServer[</span><span class="s2">'render404'</span><span class="s1">]&gt;): ReturnType&lt;NextNodeServer[</span><span class="s2">'render404'</span><span class="s1">]&gt;;</span>
<span class="s1">}</span>
<span class="s3">/** The wrapper server used by `next start` */</span>
<span class="s0">export </span><span class="s1">declare </span><span class="s0">class </span><span class="s1">NextServer </span><span class="s0">implements </span><span class="s1">NextWrapperServer {</span>
    <span class="s0">private </span><span class="s1">serverPromise?;</span>
    <span class="s0">private </span><span class="s1">server?;</span>
    <span class="s0">private </span><span class="s1">reqHandler?;</span>
    <span class="s0">private </span><span class="s1">reqHandlerPromise?;</span>
    <span class="s0">private </span><span class="s1">preparedAssetPrefix?;</span>
    <span class="s1">options: NextServerOptions;</span>
    <span class="s1">constructor(options: NextServerOptions);</span>
    <span class="s1">get hostname(): string | undefined;</span>
    <span class="s1">get port(): number | undefined;</span>
    <span class="s1">getRequestHandler(): RequestHandler;</span>
    <span class="s1">getUpgradeHandler(): UpgradeHandler;</span>
    <span class="s1">setAssetPrefix(assetPrefix: string): </span><span class="s0">void</span><span class="s1">;</span>
    <span class="s1">logError(...args: Parameters&lt;NextWrapperServer[</span><span class="s2">'logError'</span><span class="s1">]&gt;): </span><span class="s0">void</span><span class="s1">;</span>
    <span class="s1">logErrorWithOriginalStack(err: unknown, type: string): Promise&lt;any&gt;;</span>
    <span class="s1">revalidate(...args: Parameters&lt;NextWrapperServer[</span><span class="s2">'revalidate'</span><span class="s1">]&gt;): Promise&lt;</span><span class="s0">void</span><span class="s1">&gt;;</span>
    <span class="s1">render(...args: Parameters&lt;NextWrapperServer[</span><span class="s2">'render'</span><span class="s1">]&gt;): Promise&lt;</span><span class="s0">void</span><span class="s1">&gt;;</span>
    <span class="s1">renderToHTML(...args: Parameters&lt;NextWrapperServer[</span><span class="s2">'renderToHTML'</span><span class="s1">]&gt;): Promise&lt;string | </span><span class="s0">null</span><span class="s1">&gt;;</span>
    <span class="s1">renderError(...args: Parameters&lt;NextWrapperServer[</span><span class="s2">'renderError'</span><span class="s1">]&gt;): Promise&lt;</span><span class="s0">void</span><span class="s1">&gt;;</span>
    <span class="s1">renderErrorToHTML(...args: Parameters&lt;NextWrapperServer[</span><span class="s2">'renderErrorToHTML'</span><span class="s1">]&gt;): Promise&lt;string | </span><span class="s0">null</span><span class="s1">&gt;;</span>
    <span class="s1">render404(...args: Parameters&lt;NextWrapperServer[</span><span class="s2">'render404'</span><span class="s1">]&gt;): Promise&lt;</span><span class="s0">void</span><span class="s1">&gt;;</span>
    <span class="s1">prepare(serverFields?: ServerFields): Promise&lt;</span><span class="s0">void</span><span class="s1">&gt;;</span>
    <span class="s1">close(): Promise&lt;</span><span class="s0">void</span><span class="s1">&gt;;</span>
    <span class="s0">private </span><span class="s1">createServer;</span>
    <span class="s0">private </span><span class="s1">[SYMBOL_LOAD_CONFIG];</span>
    <span class="s0">private </span><span class="s1">getServer;</span>
    <span class="s0">private </span><span class="s1">getServerRequestHandler;</span>
<span class="s1">}</span>
<span class="s1">declare </span><span class="s0">function </span><span class="s1">createServer(options: NextServerOptions &amp; {</span>
    <span class="s1">turbo?: boolean;</span>
    <span class="s1">turbopack?: boolean;</span>
<span class="s1">}): NextWrapperServer;</span>
<span class="s0">export default </span><span class="s1">createServer;</span>
</pre>
</body>
</html>