<html>
<head>
<title>extractFormattedPhoneNumberFromPossibleRfc3966NumberUri.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
extractFormattedPhoneNumberFromPossibleRfc3966NumberUri.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;extractFormattedPhoneNumberFromPossibleRfc3966NumberUri.js&quot;</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_extractPhoneContext&quot;</span><span class="s0">,</span><span class="s1">&quot;_interopRequireWildcard&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;_ParseError&quot;</span><span class="s0">,</span><span class="s1">&quot;_interopRequireDefault&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;__esModule&quot;</span><span class="s0">,</span><span class="s1">&quot;t&quot;</span><span class="s0">,</span><span class="s1">&quot;WeakMap&quot;</span><span class="s0">,</span><span class="s1">&quot;r&quot;</span><span class="s0">,</span><span class="s1">&quot;n&quot;</span><span class="s0">,</span><span class="s1">&quot;o&quot;</span><span class="s0">,</span><span class="s1">&quot;i&quot;</span><span class="s0">,</span><span class="s1">&quot;f&quot;</span><span class="s0">,</span><span class="s1">&quot;__proto__&quot;</span><span class="s0">,</span><span class="s1">&quot;_typeof&quot;</span><span class="s0">,</span><span class="s1">&quot;has&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;_t&quot;</span><span class="s0">,</span><span class="s1">&quot;hasOwnProperty&quot;</span><span class="s0">,</span><span class="s1">&quot;call&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;defineProperty&quot;</span><span class="s0">,</span><span class="s1">&quot;getOwnPropertyDescriptor&quot;</span><span class="s0">,</span><span class="s1">&quot;extractFormattedPhoneNumberFromPossibleRfc3966NumberUri&quot;</span><span class="s0">,</span><span class="s1">&quot;numberToParse&quot;</span><span class="s0">,</span><span class="s1">&quot;_ref&quot;</span><span class="s0">,</span><span class="s1">&quot;extractFormattedPhoneNumber&quot;</span><span class="s0">,</span><span class="s1">&quot;phoneContext&quot;</span><span class="s0">,</span><span class="s1">&quot;extractPhoneContext&quot;</span><span class="s0">,</span><span class="s1">&quot;isPhoneContextValid&quot;</span><span class="s0">,</span><span class="s1">&quot;ParseError&quot;</span><span class="s0">,</span><span class="s1">&quot;phoneNumberString&quot;</span><span class="s0">,</span><span class="s1">&quot;charAt&quot;</span><span class="s0">,</span><span class="s1">&quot;PLUS_SIGN&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOfRfc3966Prefix&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOf&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_PREFIX_&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOfNationalNumber&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOfPhoneContext&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_PHONE_CONTEXT_&quot;</span><span class="s0">,</span><span class="s1">&quot;substring&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOfIsdn&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_ISDN_SUBADDRESS_&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../source/helpers/extractFormattedPhoneNumberFromPossibleRfc3966NumberUri.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import extractPhoneContext, {</span><span class="s3">\r\n\t</span><span class="s1">isPhoneContextValid,</span><span class="s3">\r\n\t</span><span class="s1">PLUS_SIGN,</span><span class="s3">\r\n\t</span><span class="s1">RFC3966_PREFIX_,</span><span class="s3">\r\n\t</span><span class="s1">RFC3966_PHONE_CONTEXT_,</span><span class="s3">\r\n\t</span><span class="s1">RFC3966_ISDN_SUBADDRESS_</span><span class="s3">\r\n</span><span class="s1">} from './extractPhoneContext.js'</span><span class="s3">\r\n\r\n</span><span class="s1">import ParseError from '../ParseError.js'</span><span class="s3">\r\n\r\n</span><span class="s1">/**</span><span class="s3">\r\n </span><span class="s1">* @param  {string} numberToParse</span><span class="s3">\r\n </span><span class="s1">* @param  {string} nationalNumber</span><span class="s3">\r\n </span><span class="s1">* @return {}</span><span class="s3">\r\n </span><span class="s1">*/</span><span class="s3">\r\n</span><span class="s1">export default function extractFormattedPhoneNumberFromPossibleRfc3966NumberUri(numberToParse, {</span><span class="s3">\r\n\t</span><span class="s1">extractFormattedPhoneNumber</span><span class="s3">\r\n</span><span class="s1">}) {</span><span class="s3">\r\n\t</span><span class="s1">const phoneContext = extractPhoneContext(numberToParse)</span><span class="s3">\r\n\t</span><span class="s1">if (!isPhoneContextValid(phoneContext)) {</span><span class="s3">\r\n\t\t</span><span class="s1">throw new ParseError('NOT_A_NUMBER')</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">let phoneNumberString</span><span class="s3">\r\n\r\n\t</span><span class="s1">if (phoneContext === null) {</span><span class="s3">\r\n\t\t</span><span class="s1">// Extract a possible number from the string passed in.</span><span class="s3">\r\n\t\t</span><span class="s1">// (this strips leading characters that could not be the start of a phone number)</span><span class="s3">\r\n\t\t</span><span class="s1">phoneNumberString = extractFormattedPhoneNumber(numberToParse) || ''</span><span class="s3">\r\n\t</span><span class="s1">} else {</span><span class="s3">\r\n\t\t</span><span class="s1">phoneNumberString = ''</span><span class="s3">\r\n\r\n\t\t</span><span class="s1">// If the phone context contains a phone number prefix, we need to capture</span><span class="s3">\r\n\t\t</span><span class="s1">// it, whereas domains will be ignored.</span><span class="s3">\r\n\t\t</span><span class="s1">if (phoneContext.charAt(0) === PLUS_SIGN) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">phoneNumberString += phoneContext</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t\t</span><span class="s1">// Now append everything between the </span><span class="s3">\&quot;</span><span class="s1">tel:</span><span class="s3">\&quot; </span><span class="s1">prefix and the phone-context.</span><span class="s3">\r\n\t\t</span><span class="s1">// This should include the national number, an optional extension or</span><span class="s3">\r\n\t\t</span><span class="s1">// isdn-subaddress component. Note we also handle the case when </span><span class="s3">\&quot;</span><span class="s1">tel:</span><span class="s3">\&quot; </span><span class="s1">is</span><span class="s3">\r\n\t\t</span><span class="s1">// missing, as we have seen in some of the phone number inputs.</span><span class="s3">\r\n\t\t</span><span class="s1">// In that case, we append everything from the beginning.</span><span class="s3">\r\n\t\t</span><span class="s1">const indexOfRfc3966Prefix = numberToParse.indexOf(RFC3966_PREFIX_)</span><span class="s3">\r\n\t\t</span><span class="s1">let indexOfNationalNumber</span><span class="s3">\r\n\t\t</span><span class="s1">// RFC 3966 </span><span class="s3">\&quot;</span><span class="s1">tel:</span><span class="s3">\&quot; </span><span class="s1">prefix is preset at this stage because</span><span class="s3">\r\n\t\t</span><span class="s1">// `isPhoneContextValid()` requires it to be present.</span><span class="s3">\r\n\t\t</span><span class="s1">/* istanbul ignore else */</span><span class="s3">\r\n\t\t</span><span class="s1">if (indexOfRfc3966Prefix &gt;= 0) {</span><span class="s3">\r\n\t\t\t</span><span class="s1">indexOfNationalNumber = indexOfRfc3966Prefix + RFC3966_PREFIX_.length</span><span class="s3">\r\n\t\t</span><span class="s1">} else {</span><span class="s3">\r\n\t\t\t</span><span class="s1">indexOfNationalNumber = 0</span><span class="s3">\r\n\t\t</span><span class="s1">}</span><span class="s3">\r\n\t\t</span><span class="s1">const indexOfPhoneContext = numberToParse.indexOf(RFC3966_PHONE_CONTEXT_)</span><span class="s3">\r\n\t\t</span><span class="s1">phoneNumberString += numberToParse.substring(indexOfNationalNumber, indexOfPhoneContext)</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">// Delete the isdn-subaddress and everything after it if it is present.</span><span class="s3">\r\n\t</span><span class="s1">// Note extension won't appear at the same time with isdn-subaddress</span><span class="s3">\r\n\t</span><span class="s1">// according to paragraph 5.3 of the RFC3966 spec.</span><span class="s3">\r\n\t</span><span class="s1">const indexOfIsdn = phoneNumberString.indexOf(RFC3966_ISDN_SUBADDRESS_)</span><span class="s3">\r\n\t</span><span class="s1">if (indexOfIsdn &gt; 0) {</span><span class="s3">\r\n\t\t</span><span class="s1">phoneNumberString = phoneNumberString.substring(0, indexOfIsdn)</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\t</span><span class="s1">// If both phone context and isdn-subaddress are absent but other</span><span class="s3">\r\n\t</span><span class="s1">// parameters are present, the parameters are left in nationalNumber.</span><span class="s3">\r\n\t</span><span class="s1">// This is because we are concerned about deleting content from a potential</span><span class="s3">\r\n\t</span><span class="s1">// number string when there is no strong evidence that the number is</span><span class="s3">\r\n\t</span><span class="s1">// actually written in RFC3966.</span><span class="s3">\r\n\r\n\t</span><span class="s1">if (phoneNumberString !== '') {</span><span class="s3">\r\n\t\t</span><span class="s1">return phoneNumberString</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n</span><span class="s1">}&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>