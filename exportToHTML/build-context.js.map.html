<html>
<head>
<title>build-context.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
build-context.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/build/build-context.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { LoadedEnvFiles } from '@next/env'</span><span class="s3">\n</span><span class="s1">import type { Rewrite, Redirect } from '../lib/load-custom-routes'</span><span class="s3">\n</span><span class="s1">import type { __ApiPreviewProps } from '../server/api-utils'</span><span class="s3">\n</span><span class="s1">import type { NextConfigComplete } from '../server/config-shared'</span><span class="s3">\n</span><span class="s1">import type { Span } from '../trace'</span><span class="s3">\n</span><span class="s1">import type getBaseWebpackConfig from './webpack-config'</span><span class="s3">\n</span><span class="s1">import type { TelemetryPluginState } from './webpack/plugins/telemetry-plugin/telemetry-plugin'</span><span class="s3">\n</span><span class="s1">import type { Telemetry } from '../telemetry/storage'</span><span class="s3">\n\n</span><span class="s1">// A layer for storing data that is used by plugins to communicate with each</span><span class="s3">\n</span><span class="s1">// other between different steps of the build process. This is only internal</span><span class="s3">\n</span><span class="s1">// to Next.js and will not be a part of the final build output.</span><span class="s3">\n</span><span class="s1">// These states don't need to be deeply merged.</span><span class="s3">\n</span><span class="s1">let pluginState: Record&lt;string, any&gt; = {}</span><span class="s3">\n</span><span class="s1">export function resumePluginState(resumedState?: Record&lt;string, any&gt;) {</span><span class="s3">\n  </span><span class="s1">Object.assign(pluginState, resumedState)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// This method gives you the plugin state with typed and mutable value fields</span><span class="s3">\n</span><span class="s1">// behind a proxy so we can lazily initialize the values **after** resuming the</span><span class="s3">\n</span><span class="s1">// plugin state.</span><span class="s3">\n</span><span class="s1">export function getProxiedPluginState&lt;State extends Record&lt;string, any&gt;&gt;(</span><span class="s3">\n  </span><span class="s1">initialState: State</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">return new Proxy(pluginState, {</span><span class="s3">\n    </span><span class="s1">get(target, key: string) {</span><span class="s3">\n      </span><span class="s1">if (typeof target[key] === 'undefined') {</span><span class="s3">\n        </span><span class="s1">return (target[key] = initialState[key])</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return target[key]</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">set(target, key: string, value) {</span><span class="s3">\n      </span><span class="s1">target[key] = value</span><span class="s3">\n      </span><span class="s1">return true</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">}) as State</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getPluginState() {</span><span class="s3">\n  </span><span class="s1">return pluginState</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export interface MappedPages {</span><span class="s3">\n  </span><span class="s1">[page: string]: string</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// a global object to store context for the current build</span><span class="s3">\n</span><span class="s1">// this is used to pass data between different steps of the build without having</span><span class="s3">\n</span><span class="s1">// to pass it through function arguments.</span><span class="s3">\n</span><span class="s1">// Not exhaustive, but should be extended to as needed whilst refactoring</span><span class="s3">\n</span><span class="s1">export const NextBuildContext: Partial&lt;{</span><span class="s3">\n  </span><span class="s1">compilerIdx?: number</span><span class="s3">\n  </span><span class="s1">pluginState: Record&lt;string, any&gt;</span><span class="s3">\n  </span><span class="s1">// core fields</span><span class="s3">\n  </span><span class="s1">dir: string</span><span class="s3">\n  </span><span class="s1">distDir: string</span><span class="s3">\n  </span><span class="s1">buildId: string</span><span class="s3">\n  </span><span class="s1">encryptionKey: string</span><span class="s3">\n  </span><span class="s1">config: NextConfigComplete</span><span class="s3">\n  </span><span class="s1">appDir: string</span><span class="s3">\n  </span><span class="s1">pagesDir: string</span><span class="s3">\n  </span><span class="s1">rewrites: {</span><span class="s3">\n    </span><span class="s1">fallback: Rewrite[]</span><span class="s3">\n    </span><span class="s1">afterFiles: Rewrite[]</span><span class="s3">\n    </span><span class="s1">beforeFiles: Rewrite[]</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">originalRewrites: {</span><span class="s3">\n    </span><span class="s1">fallback: Rewrite[]</span><span class="s3">\n    </span><span class="s1">afterFiles: Rewrite[]</span><span class="s3">\n    </span><span class="s1">beforeFiles: Rewrite[]</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">hasRewrites: boolean</span><span class="s3">\n  </span><span class="s1">originalRedirects: Redirect[]</span><span class="s3">\n  </span><span class="s1">loadedEnvFiles: LoadedEnvFiles</span><span class="s3">\n  </span><span class="s1">previewProps: __ApiPreviewProps</span><span class="s3">\n  </span><span class="s1">mappedPages: MappedPages | undefined</span><span class="s3">\n  </span><span class="s1">mappedAppPages: MappedPages | undefined</span><span class="s3">\n  </span><span class="s1">mappedRootPaths: MappedPages</span><span class="s3">\n  </span><span class="s1">hasInstrumentationHook: boolean</span><span class="s3">\n\n  </span><span class="s1">// misc fields</span><span class="s3">\n  </span><span class="s1">telemetry: Telemetry</span><span class="s3">\n  </span><span class="s1">telemetryState: TelemetryPluginState</span><span class="s3">\n  </span><span class="s1">nextBuildSpan: Span</span><span class="s3">\n\n  </span><span class="s1">// cli fields</span><span class="s3">\n  </span><span class="s1">reactProductionProfiling: boolean</span><span class="s3">\n  </span><span class="s1">noMangling: boolean</span><span class="s3">\n  </span><span class="s1">appDirOnly: boolean</span><span class="s3">\n  </span><span class="s1">clientRouterFilters: Parameters&lt;</span><span class="s3">\n    </span><span class="s1">typeof getBaseWebpackConfig</span><span class="s3">\n  </span><span class="s1">&gt;[1]['clientRouterFilters']</span><span class="s3">\n  </span><span class="s1">previewModeId: string</span><span class="s3">\n  </span><span class="s1">fetchCacheKeyPrefix?: string</span><span class="s3">\n  </span><span class="s1">allowedRevalidateHeaderKeys?: string[]</span><span class="s3">\n  </span><span class="s1">isCompileMode?: boolean</span><span class="s3">\n  </span><span class="s1">debugPrerender: boolean</span><span class="s3">\n</span><span class="s1">}&gt; = {}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;NextBuildContext&quot;</span><span class="s0">,</span><span class="s1">&quot;getPluginState&quot;</span><span class="s0">,</span><span class="s1">&quot;getProxiedPluginState&quot;</span><span class="s0">,</span><span class="s1">&quot;resumePluginState&quot;</span><span class="s0">,</span><span class="s1">&quot;pluginState&quot;</span><span class="s0">,</span><span class="s1">&quot;resumedState&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;assign&quot;</span><span class="s0">,</span><span class="s1">&quot;initialState&quot;</span><span class="s0">,</span><span class="s1">&quot;Proxy&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;target&quot;</span><span class="s0">,</span><span class="s1">&quot;key&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;;IAkDaA,gBAAgB;eAAhBA;;IAZGC,cAAc;eAAdA;;IAjBAC,qBAAqB;eAArBA;;IAPAC,iBAAiB;eAAjBA;;;AALhB,4EAA4E;AAC5E,4EAA4E;AAC5E,+DAA+D;AAC/D,+CAA+C;AAC/C,IAAIC,cAAmC,CAAC;AACjC,SAASD,kBAAkBE,YAAkC;IAClEC,OAAOC,MAAM,CAACH,aAAaC;AAC7B;AAKO,SAASH,sBACdM,YAAmB;IAEnB,OAAO,IAAIC,MAAML,aAAa;QAC5BM,KAAIC,MAAM,EAAEC,GAAW;YACrB,IAAI,OAAOD,MAAM,CAACC,IAAI,KAAK,aAAa;gBACtC,OAAQD,MAAM,CAACC,IAAI,GAAGJ,YAAY,CAACI,IAAI;YACzC;YACA,OAAOD,MAAM,CAACC,IAAI;QACpB;QACAC,KAAIF,MAAM,EAAEC,GAAW,EAAEE,KAAK;YAC5BH,MAAM,CAACC,IAAI,GAAGE;YACd,OAAO;QACT;IACF;AACF;AAEO,SAASb;IACd,OAAOG;AACT;AAUO,MAAMJ,mBA+CR,CAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>