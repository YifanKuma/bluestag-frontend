<html>
<head>
<title>no-named-as-default-member.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #067d17;}
.s1 { color: #080808;}
.s2 { color: #0033b3;}
.s3 { color: #8c8c8c; font-style: italic;}
.s4 { color: #1750eb;}
.s5 { color: #0037a6;}
.s6 { color: #8c8c8c; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
no-named-as-default-member.js</font>
</center></td></tr></table>
<pre><span class="s0">'use strict'</span><span class="s1">;</span>





<span class="s2">var </span><span class="s1">_builder = require(</span><span class="s0">'../exportMap/builder'</span><span class="s1">);</span><span class="s2">var </span><span class="s1">_builder2 = _interopRequireDefault(_builder);</span>
<span class="s2">var </span><span class="s1">_importDeclaration = require(</span><span class="s0">'../importDeclaration'</span><span class="s1">);</span><span class="s2">var </span><span class="s1">_importDeclaration2 = _interopRequireDefault(_importDeclaration);</span>
<span class="s2">var </span><span class="s1">_docsUrl = require(</span><span class="s0">'../docsUrl'</span><span class="s1">);</span><span class="s2">var </span><span class="s1">_docsUrl2 = _interopRequireDefault(_docsUrl);</span><span class="s2">function </span><span class="s1">_interopRequireDefault(obj) {</span><span class="s2">return </span><span class="s1">obj &amp;&amp; obj.__esModule ? obj : { </span><span class="s0">'default'</span><span class="s1">: obj };}</span>

<span class="s3">//------------------------------------------------------------------------------</span>
<span class="s3">// Rule Definition</span>
<span class="s3">//------------------------------------------------------------------------------</span>

<span class="s1">module.exports = {</span>
  <span class="s1">meta: {</span>
    <span class="s1">type: </span><span class="s0">'suggestion'</span><span class="s1">,</span>
    <span class="s1">docs: {</span>
      <span class="s1">category: </span><span class="s0">'Helpful warnings'</span><span class="s1">,</span>
      <span class="s1">description: </span><span class="s0">'Forbid use of exported name as property of default export.'</span><span class="s1">,</span>
      <span class="s1">url: (</span><span class="s4">0</span><span class="s1">, _docsUrl2[</span><span class="s0">'default'</span><span class="s1">])(</span><span class="s0">'no-named-as-default-member'</span><span class="s1">) },</span>

    <span class="s1">schema: [] },</span>


  <span class="s1">create: </span><span class="s2">function </span><span class="s1">() {</span><span class="s2">function </span><span class="s1">create(context) {</span>
      <span class="s2">var </span><span class="s1">fileImports = </span><span class="s2">new </span><span class="s1">Map();</span>
      <span class="s2">var </span><span class="s1">allPropertyLookups = </span><span class="s2">new </span><span class="s1">Map();</span>

      <span class="s2">function </span><span class="s1">storePropertyLookup(objectName, propName, node) {</span>
        <span class="s2">var </span><span class="s1">lookups = allPropertyLookups.get(objectName) || [];</span>
        <span class="s1">lookups.push({ node: node, propName: propName });</span>
        <span class="s1">allPropertyLookups.set(objectName, lookups);</span>
      <span class="s1">}</span>

      <span class="s2">return </span><span class="s1">{</span>
        <span class="s1">ImportDefaultSpecifier: </span><span class="s2">function </span><span class="s1">() {</span><span class="s2">function </span><span class="s1">ImportDefaultSpecifier(node) {</span>
            <span class="s2">var </span><span class="s1">declaration = (</span><span class="s4">0</span><span class="s1">, _importDeclaration2[</span><span class="s0">'default'</span><span class="s1">])(context, node);</span>
            <span class="s2">var </span><span class="s1">exportMap = _builder2[</span><span class="s0">'default'</span><span class="s1">].get(declaration.source.value, context);</span>
            <span class="s2">if </span><span class="s1">(exportMap == </span><span class="s2">null</span><span class="s1">) {</span><span class="s2">return</span><span class="s1">;}</span>

            <span class="s2">if </span><span class="s1">(exportMap.errors.length) {</span>
              <span class="s1">exportMap.reportErrors(context, declaration);</span>
              <span class="s2">return</span><span class="s1">;</span>
            <span class="s1">}</span>

            <span class="s1">fileImports.set(node.local.name, {</span>
              <span class="s1">exportMap: exportMap,</span>
              <span class="s1">sourcePath: declaration.source.value });</span>

          <span class="s1">}</span><span class="s2">return </span><span class="s1">ImportDefaultSpecifier;}(),</span>

        <span class="s1">MemberExpression: </span><span class="s2">function </span><span class="s1">() {</span><span class="s2">function </span><span class="s1">MemberExpression(node) {</span>
            <span class="s2">var </span><span class="s1">objectName = node.object.name;</span>
            <span class="s2">var </span><span class="s1">propName = node.property.name;</span>
            <span class="s1">storePropertyLookup(objectName, propName, node);</span>
          <span class="s1">}</span><span class="s2">return </span><span class="s1">MemberExpression;}(),</span>

        <span class="s1">VariableDeclarator: </span><span class="s2">function </span><span class="s1">() {</span><span class="s2">function </span><span class="s1">VariableDeclarator(node) {</span>
            <span class="s2">var </span><span class="s1">isDestructure = node.id.type === </span><span class="s0">'ObjectPattern' </span><span class="s1">&amp;&amp;</span>
            <span class="s1">node.init != </span><span class="s2">null </span><span class="s1">&amp;&amp;</span>
            <span class="s1">node.init.type === </span><span class="s0">'Identifier'</span><span class="s1">;</span>
            <span class="s2">if </span><span class="s1">(!isDestructure) {</span><span class="s2">return</span><span class="s1">;}</span>

            <span class="s2">var </span><span class="s1">objectName = node.init.name;</span><span class="s2">var </span><span class="s1">_iteratorNormalCompletion = </span><span class="s2">true</span><span class="s1">;</span><span class="s2">var </span><span class="s1">_didIteratorError = </span><span class="s2">false</span><span class="s1">;</span><span class="s2">var </span><span class="s1">_iteratorError = undefined;</span><span class="s2">try </span><span class="s1">{</span>
              <span class="s2">for </span><span class="s1">(</span><span class="s2">var </span><span class="s1">_iterator = node.id.properties[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = </span><span class="s2">true</span><span class="s1">) {</span><span class="s2">var </span><span class="s1">_ref = _step.value;</span><span class="s2">var </span><span class="s1">key = _ref.key;</span>
                <span class="s2">if </span><span class="s1">(key == </span><span class="s2">null</span><span class="s1">) {</span><span class="s2">continue</span><span class="s1">;} </span><span class="s3">// true for rest properties</span>
                <span class="s1">storePropertyLookup(objectName, key.name, key);</span>
              <span class="s1">}} </span><span class="s2">catch </span><span class="s1">(err) {_didIteratorError = </span><span class="s2">true</span><span class="s1">;_iteratorError = err;} </span><span class="s2">finally </span><span class="s1">{</span><span class="s2">try </span><span class="s1">{</span><span class="s2">if </span><span class="s1">(!_iteratorNormalCompletion &amp;&amp; _iterator[</span><span class="s0">'return'</span><span class="s1">]) {_iterator[</span><span class="s0">'return'</span><span class="s1">]();}} </span><span class="s2">finally </span><span class="s1">{</span><span class="s2">if </span><span class="s1">(_didIteratorError) {</span><span class="s2">throw </span><span class="s1">_iteratorError;}}}</span>
          <span class="s1">}</span><span class="s2">return </span><span class="s1">VariableDeclarator;}(),</span>

        <span class="s0">'Program:exit'</span><span class="s1">: </span><span class="s2">function </span><span class="s1">() {</span><span class="s2">function </span><span class="s1">ProgramExit() {</span>
            <span class="s1">allPropertyLookups.forEach(</span><span class="s2">function </span><span class="s1">(lookups, objectName) {</span>
              <span class="s2">var </span><span class="s1">fileImport = fileImports.get(objectName);</span>
              <span class="s2">if </span><span class="s1">(fileImport == </span><span class="s2">null</span><span class="s1">) {</span><span class="s2">return</span><span class="s1">;}</span><span class="s2">var </span><span class="s1">_iteratorNormalCompletion2 = </span><span class="s2">true</span><span class="s1">;</span><span class="s2">var </span><span class="s1">_didIteratorError2 = </span><span class="s2">false</span><span class="s1">;</span><span class="s2">var </span><span class="s1">_iteratorError2 = undefined;</span><span class="s2">try </span><span class="s1">{</span>

                <span class="s2">for </span><span class="s1">(</span><span class="s2">var </span><span class="s1">_iterator2 = lookups[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = </span><span class="s2">true</span><span class="s1">) {</span><span class="s2">var </span><span class="s1">_ref2 = _step2.value;</span><span class="s2">var </span><span class="s1">propName = _ref2.propName,node = _ref2.node;</span>
                  <span class="s3">// the default import can have a &quot;default&quot; property</span>
                  <span class="s2">if </span><span class="s1">(propName === </span><span class="s0">'default'</span><span class="s1">) {</span><span class="s2">continue</span><span class="s1">;}</span>
                  <span class="s2">if </span><span class="s1">(!fileImport.exportMap.namespace.has(propName)) {</span><span class="s2">continue</span><span class="s1">;}</span>

                  <span class="s1">context.report({</span>
                    <span class="s1">node: node,</span>
                    <span class="s1">message: </span><span class="s0">'Caution: `' </span><span class="s1">+ String(objectName) + </span><span class="s0">'` also has a named export `' </span><span class="s1">+ String(propName) + </span><span class="s0">'`. Check if you meant to write `import {' </span><span class="s1">+ String(propName) + </span><span class="s0">'} from </span><span class="s5">\'</span><span class="s0">' </span><span class="s1">+ String(fileImport.sourcePath) + </span><span class="s0">'</span><span class="s5">\'</span><span class="s0">` instead.' </span><span class="s1">});</span>

                <span class="s1">}} </span><span class="s2">catch </span><span class="s1">(err) {_didIteratorError2 = </span><span class="s2">true</span><span class="s1">;_iteratorError2 = err;} </span><span class="s2">finally </span><span class="s1">{</span><span class="s2">try </span><span class="s1">{</span><span class="s2">if </span><span class="s1">(!_iteratorNormalCompletion2 &amp;&amp; _iterator2[</span><span class="s0">'return'</span><span class="s1">]) {_iterator2[</span><span class="s0">'return'</span><span class="s1">]();}} </span><span class="s2">finally </span><span class="s1">{</span><span class="s2">if </span><span class="s1">(_didIteratorError2) {</span><span class="s2">throw </span><span class="s1">_iteratorError2;}}}</span>
            <span class="s1">});</span>
          <span class="s1">}</span><span class="s2">return </span><span class="s1">ProgramExit;}() };</span>

    <span class="s1">}</span><span class="s2">return </span><span class="s1">create;}() }; </span><span class="s3">/**</span>
                           <span class="s3">* </span><span class="s6">@fileoverview </span><span class="s3">Rule to warn about potentially confused use of name exports</span>
                           <span class="s3">* </span><span class="s6">@author </span><span class="s3">Desmond Brand</span>
                           <span class="s3">* </span><span class="s6">@copyright </span><span class="s3">2016 Desmond Brand. All rights reserved.</span>
                           <span class="s3">* See LICENSE in root directory for full license.</span>
                           <span class="s3">*/</span>
<span class="s3">//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ydWxlcy9uby1uYW1lZC1hcy1kZWZhdWx0LW1lbWJlci5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwibWV0YSIsInR5cGUiLCJkb2NzIiwiY2F0ZWdvcnkiLCJkZXNjcmlwdGlvbiIsInVybCIsInNjaGVtYSIsImNyZWF0ZSIsImNvbnRleHQiLCJmaWxlSW1wb3J0cyIsIk1hcCIsImFsbFByb3BlcnR5TG9va3VwcyIsInN0b3JlUHJvcGVydHlMb29rdXAiLCJvYmplY3ROYW1lIiwicHJvcE5hbWUiLCJub2RlIiwibG9va3VwcyIsImdldCIsInB1c2giLCJzZXQiLCJJbXBvcnREZWZhdWx0U3BlY2lmaWVyIiwiZGVjbGFyYXRpb24iLCJleHBvcnRNYXAiLCJFeHBvcnRNYXBCdWlsZGVyIiwic291cmNlIiwidmFsdWUiLCJlcnJvcnMiLCJsZW5ndGgiLCJyZXBvcnRFcnJvcnMiLCJsb2NhbCIsIm5hbWUiLCJzb3VyY2VQYXRoIiwiTWVtYmVyRXhwcmVzc2lvbiIsIm9iamVjdCIsInByb3BlcnR5IiwiVmFyaWFibGVEZWNsYXJhdG9yIiwiaXNEZXN0cnVjdHVyZSIsImlkIiwiaW5pdCIsInByb3BlcnRpZXMiLCJrZXkiLCJmb3JFYWNoIiwiZmlsZUltcG9ydCIsIm5hbWVzcGFjZSIsImhhcyIsInJlcG9ydCIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7OztBQU1BLCtDO0FBQ0EseUQ7QUFDQSxxQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUFBLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsUUFBTTtBQUNKQyxVQUFNLFlBREY7QUFFSkMsVUFBTTtBQUNKQyxnQkFBVSxrQkFETjtBQUVKQyxtQkFBYSw0REFGVDtBQUdKQyxXQUFLLDBCQUFRLDRCQUFSLENBSEQsRUFGRjs7QUFPSkMsWUFBUSxFQVBKLEVBRFM7OztBQVdmQyxRQVhlLCtCQVdSQyxPQVhRLEVBV0M7QUFDZCxVQUFNQyxjQUFjLElBQUlDLEdBQUosRUFBcEI7QUFDQSxV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LHdEQUFzSEEsUUFBdEgseUJBQXlJNEIsV0FBV1gsVUFBcEosa0JBRmEsRUFBZjs7QUFJRCxpQkFiaUQ7QUFjbkQsYUFkRDtBQWVELFdBcERJLHdCQUFQOztBQXNERCxLQTNFYyxtQkFBakIsQyxDQWRBIiwiZmlsZSI6Im5vLW5hbWVkLWFzLWRlZmF1bHQtbWVtYmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFJ1bGUgdG8gd2FybiBhYm91dCBwb3RlbnRpYWxseSBjb25mdXNlZCB1c2Ugb2YgbmFtZSBleHBvcnRzXG4gKiBAYXV0aG9yIERlc21vbmQgQnJhbmRcbiAqIEBjb3B5cmlnaHQgMjAxNiBEZXNtb25kIEJyYW5kLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogU2VlIExJQ0VOU0UgaW4gcm9vdCBkaXJlY3RvcnkgZm9yIGZ1bGwgbGljZW5zZS5cbiAqL1xuaW1wb3J0IEV4cG9ydE1hcEJ1aWxkZXIgZnJvbSAnLi4vZXhwb3J0TWFwL2J1aWxkZXInO1xuaW1wb3J0IGltcG9ydERlY2xhcmF0aW9uIGZyb20gJy4uL2ltcG9ydERlY2xhcmF0aW9uJztcbmltcG9ydCBkb2NzVXJsIGZyb20gJy4uL2RvY3NVcmwnO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUnVsZSBEZWZpbml0aW9uXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbWV0YToge1xuICAgIHR5cGU6ICdzdWdnZXN0aW9uJyxcbiAgICBkb2NzOiB7XG4gICAgICBjYXRlZ29yeTogJ0hlbHBmdWwgd2FybmluZ3MnLFxuICAgICAgZGVzY3JpcHRpb246ICdGb3JiaWQgdXNlIG9mIGV4cG9ydGVkIG5hbWUgYXMgcHJvcGVydHkgb2YgZGVmYXVsdCBleHBvcnQuJyxcbiAgICAgIHVybDogZG9jc1VybCgnbm8tbmFtZWQtYXMtZGVmYXVsdC1tZW1iZXInKSxcbiAgICB9LFxuICAgIHNjaGVtYTogW10sXG4gIH0sXG5cbiAgY3JlYXRlKGNvbnRleHQpIHtcbiAgICBjb25zdCBmaWxlSW1wb3J0cyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBhbGxQcm9wZXJ0eUxvb2t1cHMgPSBuZXcgTWFwKCk7XG5cbiAgICBmdW5jdGlvbiBzdG9yZVByb3BlcnR5TG9va3VwKG9iamVjdE5hbWUsIHByb3BOYW1lLCBub2RlKSB7XG4gICAgICBjb25zdCBsb29rdXBzID0gYWxsUHJvcGVydHlMb29rdXBzLmdldChvYmplY3ROYW1lKSB8fCBbXTtcbiAgICAgIGxvb2t1cHMucHVzaCh7IG5vZGUsIHByb3BOYW1lIH0pO1xuICAgICAgYWxsUHJvcGVydHlMb29rdXBzLnNldChvYmplY3ROYW1lLCBsb29rdXBzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgSW1wb3J0RGVmYXVsdFNwZWNpZmllcihub2RlKSB7XG4gICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uID0gaW1wb3J0RGVjbGFyYXRpb24oY29udGV4dCwgbm9kZSk7XG4gICAgICAgIGNvbnN0IGV4cG9ydE1hcCA9IEV4cG9ydE1hcEJ1aWxkZXIuZ2V0KGRlY2xhcmF0aW9uLnNvdXJjZS52YWx1ZSwgY29udGV4dCk7XG4gICAgICAgIGlmIChleHBvcnRNYXAgPT0gbnVsbCkgeyByZXR1cm47IH1cblxuICAgICAgICBpZiAoZXhwb3J0TWFwLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICBleHBvcnRNYXAucmVwb3J0RXJyb3JzKGNvbnRleHQsIGRlY2xhcmF0aW9uKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmaWxlSW1wb3J0cy5zZXQobm9kZS5sb2NhbC5uYW1lLCB7XG4gICAgICAgICAgZXhwb3J0TWFwLFxuICAgICAgICAgIHNvdXJjZVBhdGg6IGRlY2xhcmF0aW9uLnNvdXJjZS52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBNZW1iZXJFeHByZXNzaW9uKG5vZGUpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0TmFtZSA9IG5vZGUub2JqZWN0Lm5hbWU7XG4gICAgICAgIGNvbnN0IHByb3BOYW1lID0gbm9kZS5wcm9wZXJ0eS5uYW1lO1xuICAgICAgICBzdG9yZVByb3BlcnR5TG9va3VwKG9iamVjdE5hbWUsIHByb3BOYW1lLCBub2RlKTtcbiAgICAgIH0sXG5cbiAgICAgIFZhcmlhYmxlRGVjbGFyYXRvcihub2RlKSB7XG4gICAgICAgIGNvbnN0IGlzRGVzdHJ1Y3R1cmUgPSBub2RlLmlkLnR5cGUgPT09ICdPYmplY3RQYXR0ZXJuJ1xuICAgICAgICAgICYmIG5vZGUuaW5pdCAhPSBudWxsXG4gICAgICAgICAgJiYgbm9kZS5pbml0LnR5cGUgPT09ICdJZGVudGlmaWVyJztcbiAgICAgICAgaWYgKCFpc0Rlc3RydWN0dXJlKSB7IHJldHVybjsgfVxuXG4gICAgICAgIGNvbnN0IG9iamVjdE5hbWUgPSBub2RlLmluaXQubmFtZTtcbiAgICAgICAgZm9yIChjb25zdCB7IGtleSB9IG9mIG5vZGUuaWQucHJvcGVydGllcykge1xuICAgICAgICAgIGlmIChrZXkgPT0gbnVsbCkgeyBjb250aW51ZTsgfSAgLy8gdHJ1ZSBmb3IgcmVzdCBwcm9wZXJ0aWVzXG4gICAgICAgICAgc3RvcmVQcm9wZXJ0eUxvb2t1cChvYmplY3ROYW1lLCBrZXkubmFtZSwga2V5KTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgJ1Byb2dyYW06ZXhpdCcoKSB7XG4gICAgICAgIGFsbFByb3BlcnR5TG9va3Vwcy5mb3JFYWNoKChsb29rdXBzLCBvYmplY3ROYW1lKSA9PiB7XG4gICAgICAgICAgY29uc3QgZmlsZUltcG9ydCA9IGZpbGVJbXBvcnRzLmdldChvYmplY3ROYW1lKTtcbiAgICAgICAgICBpZiAoZmlsZUltcG9ydCA9PSBudWxsKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgZm9yIChjb25zdCB7IHByb3BOYW1lLCBub2RlIH0gb2YgbG9va3Vwcykge1xuICAgICAgICAgICAgLy8gdGhlIGRlZmF1bHQgaW1wb3J0IGNhbiBoYXZlIGEgXCJkZWZhdWx0XCIgcHJvcGVydHlcbiAgICAgICAgICAgIGlmIChwcm9wTmFtZSA9PT0gJ2RlZmF1bHQnKSB7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICBpZiAoIWZpbGVJbXBvcnQuZXhwb3J0TWFwLm5hbWVzcGFjZS5oYXMocHJvcE5hbWUpKSB7IGNvbnRpbnVlOyB9XG5cbiAgICAgICAgICAgIGNvbnRleHQucmVwb3J0KHtcbiAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogYENhdXRpb246IFxcYCR7b2JqZWN0TmFtZX1cXGAgYWxzbyBoYXMgYSBuYW1lZCBleHBvcnQgXFxgJHtwcm9wTmFtZX1cXGAuIENoZWNrIGlmIHlvdSBtZWFudCB0byB3cml0ZSBcXGBpbXBvcnQgeyR7cHJvcE5hbWV9fSBmcm9tICcke2ZpbGVJbXBvcnQuc291cmNlUGF0aH0nXFxgIGluc3RlYWQuYCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH07XG4gIH0sXG59O1xuIl19</span></pre>
</body>
</html>