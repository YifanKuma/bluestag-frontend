<html>
<head>
<title>verify-root-layout.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
verify-root-layout.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/lib/verify-root-layout.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import path from 'path'</span><span class="s3">\n</span><span class="s1">import * as Log from '../build/output/log'</span><span class="s3">\n</span><span class="s1">import { promises as fs } from 'fs'</span><span class="s3">\n</span><span class="s1">import { bold } from './picocolors'</span><span class="s3">\n</span><span class="s1">import { APP_DIR_ALIAS } from './constants'</span><span class="s3">\n</span><span class="s1">import type { PageExtensions } from '../build/page-extensions-type'</span><span class="s3">\n\n</span><span class="s1">const globOrig =</span><span class="s3">\n  </span><span class="s1">require('next/dist/compiled/glob') as typeof import('next/dist/compiled/glob')</span><span class="s3">\n</span><span class="s1">const glob = (cwd: string, pattern: string): Promise&lt;string[]&gt; =&gt; {</span><span class="s3">\n  </span><span class="s1">return new Promise((resolve, reject) =&gt; {</span><span class="s3">\n    </span><span class="s1">globOrig(pattern, { cwd }, (err, files) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (err) {</span><span class="s3">\n        </span><span class="s1">return reject(err)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">resolve(files)</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function getRootLayout(isTs: boolean) {</span><span class="s3">\n  </span><span class="s1">if (isTs) {</span><span class="s3">\n    </span><span class="s1">return `export const metadata = {</span><span class="s3">\n  </span><span class="s1">title: 'Next.js',</span><span class="s3">\n  </span><span class="s1">description: 'Generated by Next.js',</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function RootLayout({</span><span class="s3">\n  </span><span class="s1">children,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">children: React.ReactNode</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">return (</span><span class="s3">\n    </span><span class="s1">&lt;html lang=</span><span class="s3">\&quot;</span><span class="s1">en</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n      </span><span class="s1">&lt;body&gt;{children}&lt;/body&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/html&gt;</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return `export const metadata = {</span><span class="s3">\n  </span><span class="s1">title: 'Next.js',</span><span class="s3">\n  </span><span class="s1">description: 'Generated by Next.js',</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function RootLayout({ children }) {</span><span class="s3">\n  </span><span class="s1">return (</span><span class="s3">\n    </span><span class="s1">&lt;html lang=</span><span class="s3">\&quot;</span><span class="s1">en</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n      </span><span class="s1">&lt;body&gt;{children}&lt;/body&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/html&gt;</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export async function verifyRootLayout({</span><span class="s3">\n  </span><span class="s1">dir,</span><span class="s3">\n  </span><span class="s1">appDir,</span><span class="s3">\n  </span><span class="s1">tsconfigPath,</span><span class="s3">\n  </span><span class="s1">pagePath,</span><span class="s3">\n  </span><span class="s1">pageExtensions,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">dir: string</span><span class="s3">\n  </span><span class="s1">appDir: string</span><span class="s3">\n  </span><span class="s1">tsconfigPath: string</span><span class="s3">\n  </span><span class="s1">pagePath: string</span><span class="s3">\n  </span><span class="s1">pageExtensions: PageExtensions</span><span class="s3">\n</span><span class="s1">}): Promise&lt;[boolean, string | undefined]&gt; {</span><span class="s3">\n  </span><span class="s1">let rootLayoutPath: string | undefined</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const layoutFiles = await glob(</span><span class="s3">\n      </span><span class="s1">appDir,</span><span class="s3">\n      </span><span class="s1">`**/layout.{${pageExtensions.join(',')}}`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">const isFileUnderAppDir = pagePath.startsWith(`${APP_DIR_ALIAS}/`)</span><span class="s3">\n    </span><span class="s1">const normalizedPagePath = pagePath.replace(`${APP_DIR_ALIAS}/`, '')</span><span class="s3">\n    </span><span class="s1">const pagePathSegments = normalizedPagePath.split('/')</span><span class="s3">\n\n    </span><span class="s1">// Find an available dir to place the layout file in, the layout file can't affect any other layout.</span><span class="s3">\n    </span><span class="s1">// Place the layout as close to app/ as possible.</span><span class="s3">\n    </span><span class="s1">let availableDir: string | undefined</span><span class="s3">\n\n    </span><span class="s1">if (isFileUnderAppDir) {</span><span class="s3">\n      </span><span class="s1">if (layoutFiles.length === 0) {</span><span class="s3">\n        </span><span class="s1">// If there's no other layout file we can place the layout file in the app dir.</span><span class="s3">\n        </span><span class="s1">// However, if the page is within a route group directly under app (e.g. app/(routegroup)/page.js)</span><span class="s3">\n        </span><span class="s1">// prefer creating the root layout in that route group.</span><span class="s3">\n        </span><span class="s1">const firstSegmentValue = pagePathSegments[0]</span><span class="s3">\n        </span><span class="s1">availableDir = firstSegmentValue.startsWith('(')</span><span class="s3">\n          </span><span class="s1">? firstSegmentValue</span><span class="s3">\n          </span><span class="s1">: ''</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">pagePathSegments.pop() // remove the page from segments</span><span class="s3">\n\n        </span><span class="s1">let currentSegments: string[] = []</span><span class="s3">\n        </span><span class="s1">for (const segment of pagePathSegments) {</span><span class="s3">\n          </span><span class="s1">currentSegments.push(segment)</span><span class="s3">\n          </span><span class="s1">// Find the dir closest to app/ where a layout can be created without affecting other layouts.</span><span class="s3">\n          </span><span class="s1">if (</span><span class="s3">\n            </span><span class="s1">!layoutFiles.some((file) =&gt;</span><span class="s3">\n              </span><span class="s1">file.startsWith(currentSegments.join('/'))</span><span class="s3">\n            </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">availableDir = currentSegments.join('/')</span><span class="s3">\n            </span><span class="s1">break</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">availableDir = ''</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (typeof availableDir === 'string') {</span><span class="s3">\n      </span><span class="s1">const resolvedTsConfigPath = path.join(dir, tsconfigPath)</span><span class="s3">\n      </span><span class="s1">const hasTsConfig = await fs.access(resolvedTsConfigPath).then(</span><span class="s3">\n        </span><span class="s1">() =&gt; true,</span><span class="s3">\n        </span><span class="s1">() =&gt; false</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n\n      </span><span class="s1">rootLayoutPath = path.join(</span><span class="s3">\n        </span><span class="s1">appDir,</span><span class="s3">\n        </span><span class="s1">availableDir,</span><span class="s3">\n        </span><span class="s1">`layout.${hasTsConfig ? 'tsx' : 'js'}`</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">await fs.writeFile(rootLayoutPath, getRootLayout(hasTsConfig))</span><span class="s3">\n\n      </span><span class="s1">Log.warn(</span><span class="s3">\n        </span><span class="s1">`Your page ${bold(</span><span class="s3">\n          </span><span class="s1">`app/${normalizedPagePath}`</span><span class="s3">\n        </span><span class="s1">)} did not have a root layout. We created ${bold(</span><span class="s3">\n          </span><span class="s1">`app${rootLayoutPath.replace(appDir, '')}`</span><span class="s3">\n        </span><span class="s1">)} for you.`</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n\n      </span><span class="s1">// Created root layout</span><span class="s3">\n      </span><span class="s1">return [true, rootLayoutPath]</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} catch (e) {</span><span class="s3">\n    </span><span class="s1">console.error(e)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Didn't create root layout</span><span class="s3">\n  </span><span class="s1">return [false, rootLayoutPath]</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;verifyRootLayout&quot;</span><span class="s0">,</span><span class="s1">&quot;globOrig&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;glob&quot;</span><span class="s0">,</span><span class="s1">&quot;cwd&quot;</span><span class="s0">,</span><span class="s1">&quot;pattern&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;reject&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;files&quot;</span><span class="s0">,</span><span class="s1">&quot;getRootLayout&quot;</span><span class="s0">,</span><span class="s1">&quot;isTs&quot;</span><span class="s0">,</span><span class="s1">&quot;dir&quot;</span><span class="s0">,</span><span class="s1">&quot;appDir&quot;</span><span class="s0">,</span><span class="s1">&quot;tsconfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;pagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;pageExtensions&quot;</span><span class="s0">,</span><span class="s1">&quot;rootLayoutPath&quot;</span><span class="s0">,</span><span class="s1">&quot;layoutFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;isFileUnderAppDir&quot;</span><span class="s0">,</span><span class="s1">&quot;startsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;APP_DIR_ALIAS&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizedPagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;pagePathSegments&quot;</span><span class="s0">,</span><span class="s1">&quot;split&quot;</span><span class="s0">,</span><span class="s1">&quot;availableDir&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;firstSegmentValue&quot;</span><span class="s0">,</span><span class="s1">&quot;pop&quot;</span><span class="s0">,</span><span class="s1">&quot;currentSegments&quot;</span><span class="s0">,</span><span class="s1">&quot;segment&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;some&quot;</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedTsConfigPath&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;hasTsConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;fs&quot;</span><span class="s0">,</span><span class="s1">&quot;access&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;writeFile&quot;</span><span class="s0">,</span><span class="s1">&quot;Log&quot;</span><span class="s0">,</span><span class="s1">&quot;warn&quot;</span><span class="s0">,</span><span class="s1">&quot;bold&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAwDsBA;;;eAAAA;;;6DAxDL;6DACI;oBACU;4BACV;2BACS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAG9B,MAAMC,WACJC,QAAQ;AACV,MAAMC,OAAO,CAACC,KAAaC;IACzB,OAAO,IAAIC,QAAQ,CAACC,SAASC;QAC3BP,SAASI,SAAS;YAAED;QAAI,GAAG,CAACK,KAAKC;YAC/B,IAAID,KAAK;gBACP,OAAOD,OAAOC;YAChB;YACAF,QAAQG;QACV;IACF;AACF;AAEA,SAASC,cAAcC,IAAa;IAClC,IAAIA,MAAM;QACR,OAAO,CAAC;;;;;;;;;;;;;;;;AAgBZ,CAAC;IACC;IAEA,OAAO,CAAC;;;;;;;;;;;;AAYV,CAAC;AACD;AAEO,eAAeZ,iBAAiB,EACrCa,GAAG,EACHC,MAAM,EACNC,YAAY,EACZC,QAAQ,EACRC,cAAc,EAOf;IACC,IAAIC;IACJ,IAAI;QACF,MAAMC,cAAc,MAAMhB,KACxBW,QACA,CAAC,WAAW,EAAEG,eAAeG,IAAI,CAAC,KAAK,CAAC,CAAC;QAE3C,MAAMC,oBAAoBL,SAASM,UAAU,CAAC,GAAGC,wBAAa,CAAC,CAAC,CAAC;QACjE,MAAMC,qBAAqBR,SAASS,OAAO,CAAC,GAAGF,wBAAa,CAAC,CAAC,CAAC,EAAE;QACjE,MAAMG,mBAAmBF,mBAAmBG,KAAK,CAAC;QAElD,oGAAoG;QACpG,iDAAiD;QACjD,IAAIC;QAEJ,IAAIP,mBAAmB;YACrB,IAAIF,YAAYU,MAAM,KAAK,GAAG;gBAC5B,+EAA+E;gBAC/E,kGAAkG;gBAClG,uDAAuD;gBACvD,MAAMC,oBAAoBJ,gBAAgB,CAAC,EAAE;gBAC7CE,eAAeE,kBAAkBR,UAAU,CAAC,OACxCQ,oBACA;YACN,OAAO;gBACLJ,iBAAiBK,GAAG,GAAG,gCAAgC;;gBAEvD,IAAIC,kBAA4B,EAAE;gBAClC,KAAK,MAAMC,WAAWP,iBAAkB;oBACtCM,gBAAgBE,IAAI,CAACD;oBACrB,8FAA8F;oBAC9F,IACE,CAACd,YAAYgB,IAAI,CAAC,CAACC,OACjBA,KAAKd,UAAU,CAACU,gBAAgBZ,IAAI,CAAC,QAEvC;wBACAQ,eAAeI,gBAAgBZ,IAAI,CAAC;wBACpC;oBACF;gBACF;YACF;QACF,OAAO;YACLQ,eAAe;QACjB;QAEA,IAAI,OAAOA,iBAAiB,UAAU;YACpC,MAAMS,uBAAuBC,aAAI,CAAClB,IAAI,CAACP,KAAKE;YAC5C,MAAMwB,cAAc,MAAMC,YAAE,CAACC,MAAM,CAACJ,sBAAsBK,IAAI,CAC5D,IAAM,MACN,IAAM;YAGRxB,iBAAiBoB,aAAI,CAAClB,IAAI,CACxBN,QACAc,cACA,CAAC,OAAO,EAAEW,cAAc,QAAQ,MAAM;YAExC,MAAMC,YAAE,CAACG,SAAS,CAACzB,gBAAgBP,cAAc4B;YAEjDK,KAAIC,IAAI,CACN,CAAC,UAAU,EAAEC,IAAAA,gBAAI,EACf,CAAC,IAAI,EAAEtB,oBAAoB,EAC3B,wCAAwC,EAAEsB,IAAAA,gBAAI,EAC9C,CAAC,GAAG,EAAE5B,eAAeO,OAAO,CAACX,QAAQ,KAAK,EAC1C,SAAS,CAAC;YAGd,sBAAsB;YACtB,OAAO;gBAAC;gBAAMI;aAAe;QAC/B;IACF,EAAE,OAAO6B,GAAG;QACVC,QAAQC,KAAK,CAACF;IAChB;IAEA,4BAA4B;IAC5B,OAAO;QAAC;QAAO7B;KAAe;AAChC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>