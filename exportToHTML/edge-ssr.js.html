<html>
<head>
<title>edge-ssr.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #067d17;}
.s1 { color: #080808;}
.s2 { color: #0033b3;}
.s3 { color: #1750eb;}
.s4 { color: #8c8c8c; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
edge-ssr.js</font>
</center></td></tr></table>
<pre><span class="s0">&quot;use strict&quot;</span><span class="s1">;</span>
<span class="s1">Object.defineProperty(exports, </span><span class="s0">&quot;__esModule&quot;</span><span class="s1">, {</span>
    <span class="s1">value: </span><span class="s2">true</span>
<span class="s1">});</span>
<span class="s3">0 </span><span class="s1">&amp;&amp; (module.exports = {</span>
    <span class="s1">ComponentMod: </span><span class="s2">null</span><span class="s1">,</span>
    <span class="s2">default</span><span class="s1">: </span><span class="s2">null</span>
<span class="s1">});</span>
<span class="s2">function </span><span class="s1">_export(target, all) {</span>
    <span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">name </span><span class="s2">in </span><span class="s1">all)Object.defineProperty(target, name, {</span>
        <span class="s1">enumerable: </span><span class="s2">true</span><span class="s1">,</span>
        <span class="s1">get: all[name]</span>
    <span class="s1">});</span>
<span class="s1">}</span>
<span class="s1">_export(exports, {</span>
    <span class="s1">ComponentMod: </span><span class="s2">function</span><span class="s1">() {</span>
        <span class="s2">return </span><span class="s1">ComponentMod;</span>
    <span class="s1">},</span>
    <span class="s2">default</span><span class="s1">: </span><span class="s2">function</span><span class="s1">() {</span>
        <span class="s2">return </span><span class="s1">nHandler;</span>
    <span class="s1">}</span>
<span class="s1">});</span>
<span class="s1">require(</span><span class="s0">&quot;../../server/web/globals&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_adapter = require(</span><span class="s0">&quot;../../server/web/adapter&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_incrementalcache = require(</span><span class="s0">&quot;../../server/lib/incremental-cache&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_handlers = require(</span><span class="s0">&quot;../../server/use-cache/handlers&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_VAR_MODULE_DOCUMENT = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_default(require(</span><span class="s0">&quot;VAR_MODULE_DOCUMENT&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_VAR_MODULE_APP = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_wildcard(require(</span><span class="s0">&quot;VAR_MODULE_APP&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_VAR_USERLAND = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_wildcard(require(</span><span class="s0">&quot;VAR_USERLAND&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_VAR_MODULE_GLOBAL_ERROR = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_wildcard(require(</span><span class="s0">&quot;VAR_MODULE_GLOBAL_ERROR&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_module = </span><span class="s4">/*#__PURE__*/ </span><span class="s1">_interop_require_default(require(</span><span class="s0">&quot;../../server/route-modules/pages/module&quot;</span><span class="s1">));</span>
<span class="s2">const </span><span class="s1">_web = require(</span><span class="s0">&quot;../../server/base-http/web&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_tracer = require(</span><span class="s0">&quot;../../server/lib/trace/tracer&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_constants = require(</span><span class="s0">&quot;../../server/lib/trace/constants&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_constants1 = require(</span><span class="s0">&quot;../../lib/constants&quot;</span><span class="s1">);</span>
<span class="s2">function </span><span class="s1">_interop_require_default(obj) {</span>
    <span class="s2">return </span><span class="s1">obj &amp;&amp; obj.__esModule ? obj : {</span>
        <span class="s2">default</span><span class="s1">: obj</span>
    <span class="s1">};</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">_getRequireWildcardCache(nodeInterop) {</span>
    <span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">WeakMap !== </span><span class="s0">&quot;function&quot;</span><span class="s1">) </span><span class="s2">return null</span><span class="s1">;</span>
    <span class="s2">var </span><span class="s1">cacheBabelInterop = </span><span class="s2">new </span><span class="s1">WeakMap();</span>
    <span class="s2">var </span><span class="s1">cacheNodeInterop = </span><span class="s2">new </span><span class="s1">WeakMap();</span>
    <span class="s2">return </span><span class="s1">(_getRequireWildcardCache = </span><span class="s2">function</span><span class="s1">(nodeInterop) {</span>
        <span class="s2">return </span><span class="s1">nodeInterop ? cacheNodeInterop : cacheBabelInterop;</span>
    <span class="s1">})(nodeInterop);</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">_interop_require_wildcard(obj, nodeInterop) {</span>
    <span class="s2">if </span><span class="s1">(!nodeInterop &amp;&amp; obj &amp;&amp; obj.__esModule) {</span>
        <span class="s2">return </span><span class="s1">obj;</span>
    <span class="s1">}</span>
    <span class="s2">if </span><span class="s1">(obj === </span><span class="s2">null </span><span class="s1">|| </span><span class="s2">typeof </span><span class="s1">obj !== </span><span class="s0">&quot;object&quot; </span><span class="s1">&amp;&amp; </span><span class="s2">typeof </span><span class="s1">obj !== </span><span class="s0">&quot;function&quot;</span><span class="s1">) {</span>
        <span class="s2">return </span><span class="s1">{</span>
            <span class="s2">default</span><span class="s1">: obj</span>
        <span class="s1">};</span>
    <span class="s1">}</span>
    <span class="s2">var </span><span class="s1">cache = _getRequireWildcardCache(nodeInterop);</span>
    <span class="s2">if </span><span class="s1">(cache &amp;&amp; cache.has(obj)) {</span>
        <span class="s2">return </span><span class="s1">cache.get(obj);</span>
    <span class="s1">}</span>
    <span class="s2">var </span><span class="s1">newObj = {</span>
        <span class="s1">__proto__: </span><span class="s2">null</span>
    <span class="s1">};</span>
    <span class="s2">var </span><span class="s1">hasPropertyDescriptor = Object.defineProperty &amp;&amp; Object.getOwnPropertyDescriptor;</span>
    <span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">key </span><span class="s2">in </span><span class="s1">obj){</span>
        <span class="s2">if </span><span class="s1">(key !== </span><span class="s0">&quot;default&quot; </span><span class="s1">&amp;&amp; Object.prototype.hasOwnProperty.call(obj, key)) {</span>
            <span class="s2">var </span><span class="s1">desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : </span><span class="s2">null</span><span class="s1">;</span>
            <span class="s2">if </span><span class="s1">(desc &amp;&amp; (desc.get || desc.set)) {</span>
                <span class="s1">Object.defineProperty(newObj, key, desc);</span>
            <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                <span class="s1">newObj[key] = obj[key];</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s1">newObj.default = obj;</span>
    <span class="s2">if </span><span class="s1">(cache) {</span>
        <span class="s1">cache.set(obj, newObj);</span>
    <span class="s1">}</span>
    <span class="s2">return </span><span class="s1">newObj;</span>
<span class="s1">}</span>
<span class="s4">// INJECT:nextConfig</span>
<span class="s4">// INJECT:pageRouteModuleOptions</span>
<span class="s4">// INJECT:errorRouteModuleOptions</span>
<span class="s4">// INJECT:user500RouteModuleOptions</span>
<span class="s4">// Initialize the cache handlers interface.</span>
<span class="s1">(</span><span class="s3">0</span><span class="s1">, _handlers.initializeCacheHandlers)();</span>
<span class="s1">globalThis.nextConfig = nextConfig;</span>
<span class="s2">const </span><span class="s1">pageMod = {</span>
    <span class="s1">..._VAR_USERLAND,</span>
    <span class="s1">routeModule: </span><span class="s2">new </span><span class="s1">_module.default({</span>
        <span class="s1">...pageRouteModuleOptions,</span>
        <span class="s1">components: {</span>
            <span class="s1">App: _VAR_MODULE_APP.default,</span>
            <span class="s1">Document: _VAR_MODULE_DOCUMENT.default</span>
        <span class="s1">},</span>
        <span class="s1">userland: _VAR_USERLAND</span>
    <span class="s1">})</span>
<span class="s1">};</span>
<span class="s2">const </span><span class="s1">errorMod = {</span>
    <span class="s1">..._VAR_MODULE_GLOBAL_ERROR,</span>
    <span class="s1">routeModule: </span><span class="s2">new </span><span class="s1">_module.default({</span>
        <span class="s1">...errorRouteModuleOptions,</span>
        <span class="s1">components: {</span>
            <span class="s1">App: _VAR_MODULE_APP.default,</span>
            <span class="s1">Document: _VAR_MODULE_DOCUMENT.default</span>
        <span class="s1">},</span>
        <span class="s1">userland: _VAR_MODULE_GLOBAL_ERROR</span>
    <span class="s1">})</span>
<span class="s1">};</span>
<span class="s4">// FIXME: this needs to be made compatible with the template</span>
<span class="s2">const </span><span class="s1">error500Mod = userland500Page ? {</span>
    <span class="s1">...userland500Page,</span>
    <span class="s1">routeModule: </span><span class="s2">new </span><span class="s1">_module.default({</span>
        <span class="s1">...user500RouteModuleOptions,</span>
        <span class="s1">components: {</span>
            <span class="s1">App: _VAR_MODULE_APP.default,</span>
            <span class="s1">Document: _VAR_MODULE_DOCUMENT.default</span>
        <span class="s1">},</span>
        <span class="s1">userland: userland500Page</span>
    <span class="s1">})</span>
<span class="s1">} : </span><span class="s2">null</span><span class="s1">;</span>
<span class="s2">const </span><span class="s1">ComponentMod = pageMod;</span>
<span class="s1">async </span><span class="s2">function </span><span class="s1">requestHandler(req, _event) {</span>
    <span class="s2">var </span><span class="s1">_nextConfig_experimental_amp, _nextConfig_i18n;</span>
    <span class="s2">let </span><span class="s1">srcPage = </span><span class="s0">'VAR_PAGE'</span><span class="s1">;</span>
    <span class="s2">const </span><span class="s1">relativeUrl = </span><span class="s0">`</span><span class="s1">${req.nextUrl.pathname}${req.nextUrl.search}</span><span class="s0">`</span><span class="s1">;</span>
    <span class="s2">const </span><span class="s1">baseReq = </span><span class="s2">new </span><span class="s1">_web.WebNextRequest(req);</span>
    <span class="s2">const </span><span class="s1">pageRouteModule = pageMod.routeModule;</span>
    <span class="s2">const </span><span class="s1">prepareResult = </span><span class="s2">await </span><span class="s1">pageRouteModule.prepare(baseReq, </span><span class="s2">null</span><span class="s1">, {</span>
        <span class="s1">srcPage,</span>
        <span class="s1">multiZoneDraftMode: </span><span class="s2">false</span>
    <span class="s1">});</span>
    <span class="s2">if </span><span class="s1">(!prepareResult) {</span>
        <span class="s2">return new </span><span class="s1">Response(</span><span class="s0">'Bad Request'</span><span class="s1">, {</span>
            <span class="s1">status: </span><span class="s3">400</span>
        <span class="s1">});</span>
    <span class="s1">}</span>
    <span class="s2">const </span><span class="s1">{ query, params, buildId, isNextDataRequest, buildManifest, prerenderManifest, reactLoadableManifest, clientReferenceManifest, subresourceIntegrityManifest, dynamicCssManifest } = prepareResult;</span>
    <span class="s2">const </span><span class="s1">renderContext = {</span>
        <span class="s1">page: srcPage,</span>
        <span class="s1">query,</span>
        <span class="s1">params,</span>
        <span class="s1">sharedContext: {</span>
            <span class="s1">buildId,</span>
            <span class="s1">deploymentId: process.env.NEXT_DEPLOYMENT_ID,</span>
            <span class="s1">customServer: undefined</span>
        <span class="s1">},</span>
        <span class="s1">renderContext: {</span>
            <span class="s1">isFallback: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">isDraftMode: </span><span class="s2">false</span><span class="s1">,</span>
            <span class="s1">developmentNotFoundSourcePage: undefined</span>
        <span class="s1">},</span>
        <span class="s1">renderOpts: {</span>
            <span class="s1">params,</span>
            <span class="s1">page: srcPage,</span>
            <span class="s1">supportsDynamicResponse: </span><span class="s2">true</span><span class="s1">,</span>
            <span class="s1">Component: pageMod.Component,</span>
            <span class="s1">ComponentMod: pageMod,</span>
            <span class="s1">pageConfig: pageMod.pageConfig,</span>
            <span class="s1">routeModule: pageMod.routeModule,</span>
            <span class="s1">canonicalBase: nextConfig.amp.canonicalBase || </span><span class="s0">''</span><span class="s1">,</span>
            <span class="s1">previewProps: prerenderManifest.preview,</span>
            <span class="s1">ampOptimizerConfig: (_nextConfig_experimental_amp = nextConfig.experimental.amp) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s3">0 </span><span class="s1">: _nextConfig_experimental_amp.optimizer,</span>
            <span class="s1">basePath: nextConfig.basePath,</span>
            <span class="s1">assetPrefix: nextConfig.assetPrefix,</span>
            <span class="s1">images: nextConfig.images,</span>
            <span class="s1">optimizeCss: nextConfig.experimental.optimizeCss,</span>
            <span class="s1">nextConfigOutput: nextConfig.output,</span>
            <span class="s1">nextScriptWorkers: nextConfig.experimental.nextScriptWorkers,</span>
            <span class="s1">disableOptimizedLoading: nextConfig.experimental.disableOptimizedLoading,</span>
            <span class="s1">domainLocales: (_nextConfig_i18n = nextConfig.i18n) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s3">0 </span><span class="s1">: _nextConfig_i18n.domains,</span>
            <span class="s1">distDir: </span><span class="s0">''</span><span class="s1">,</span>
            <span class="s1">crossOrigin: nextConfig.crossOrigin ? nextConfig.crossOrigin : undefined,</span>
            <span class="s1">largePageDataBytes: nextConfig.experimental.largePageDataBytes,</span>
            <span class="s4">// Only the `publicRuntimeConfig` key is exposed to the client side</span>
            <span class="s4">// It'll be rendered as part of __NEXT_DATA__ on the client side</span>
            <span class="s1">runtimeConfig: Object.keys(nextConfig.publicRuntimeConfig).length &gt; </span><span class="s3">0 </span><span class="s1">? nextConfig.publicRuntimeConfig : undefined,</span>
            <span class="s1">isExperimentalCompile: nextConfig.experimental.isExperimentalCompile,</span>
            <span class="s4">// `htmlLimitedBots` is passed to server as serialized config in string format</span>
            <span class="s1">experimental: {</span>
                <span class="s1">clientTraceMetadata: nextConfig.experimental.clientTraceMetadata</span>
            <span class="s1">},</span>
            <span class="s1">buildManifest,</span>
            <span class="s1">subresourceIntegrityManifest,</span>
            <span class="s1">reactLoadableManifest,</span>
            <span class="s1">clientReferenceManifest,</span>
            <span class="s1">dynamicCssManifest</span>
        <span class="s1">}</span>
    <span class="s1">};</span>
    <span class="s2">let </span><span class="s1">finalStatus = </span><span class="s3">200</span><span class="s1">;</span>
    <span class="s2">const </span><span class="s1">renderResultToResponse = (result)=&gt;{</span>
        <span class="s4">// Handle null responses</span>
        <span class="s2">if </span><span class="s1">(result.isNull) {</span>
            <span class="s1">finalStatus = </span><span class="s3">500</span><span class="s1">;</span>
            <span class="s2">return new </span><span class="s1">Response(</span><span class="s2">null</span><span class="s1">, {</span>
                <span class="s1">status: </span><span class="s3">500</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s4">// Extract metadata</span>
        <span class="s2">const </span><span class="s1">{ metadata } = result;</span>
        <span class="s1">finalStatus = metadata.statusCode || </span><span class="s3">200</span><span class="s1">;</span>
        <span class="s2">const </span><span class="s1">headers = </span><span class="s2">new </span><span class="s1">Headers();</span>
        <span class="s4">// Set content type</span>
        <span class="s2">const </span><span class="s1">contentType = result.contentType || _constants1.HTML_CONTENT_TYPE_HEADER;</span>
        <span class="s1">headers.set(</span><span class="s0">'Content-Type'</span><span class="s1">, contentType);</span>
        <span class="s4">// Add metadata headers</span>
        <span class="s2">if </span><span class="s1">(metadata.headers) {</span>
            <span class="s2">for </span><span class="s1">(</span><span class="s2">const </span><span class="s1">[key, value] of Object.entries(metadata.headers)){</span>
                <span class="s2">if </span><span class="s1">(value !== undefined) {</span>
                    <span class="s2">if </span><span class="s1">(Array.isArray(value)) {</span>
                        <span class="s4">// Handle multiple header values</span>
                        <span class="s2">for </span><span class="s1">(</span><span class="s2">const </span><span class="s1">v of value){</span>
                            <span class="s1">headers.append(key, String(v));</span>
                        <span class="s1">}</span>
                    <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                        <span class="s1">headers.set(key, String(value));</span>
                    <span class="s1">}</span>
                <span class="s1">}</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s4">// Handle static response</span>
        <span class="s2">if </span><span class="s1">(!result.isDynamic) {</span>
            <span class="s2">const </span><span class="s1">body = result.toUnchunkedString();</span>
            <span class="s1">headers.set(</span><span class="s0">'Content-Length'</span><span class="s1">, String(</span><span class="s2">new </span><span class="s1">TextEncoder().encode(body).length));</span>
            <span class="s2">return new </span><span class="s1">Response(body, {</span>
                <span class="s1">status: finalStatus,</span>
                <span class="s1">headers</span>
            <span class="s1">});</span>
        <span class="s1">}</span>
        <span class="s4">// Handle dynamic/streaming response</span>
        <span class="s4">// For edge runtime, we need to create a readable stream that pipes from the result</span>
        <span class="s2">const </span><span class="s1">{ readable, writable } = </span><span class="s2">new </span><span class="s1">TransformStream();</span>
        <span class="s4">// Start piping the result to the writable stream</span>
        <span class="s4">// This is done asynchronously to avoid blocking the response creation</span>
        <span class="s1">result.pipeTo(writable).catch((err)=&gt;{</span>
            <span class="s1">console.error(</span><span class="s0">'Error piping RenderResult to response:'</span><span class="s1">, err);</span>
        <span class="s1">});</span>
        <span class="s2">return new </span><span class="s1">Response(readable, {</span>
            <span class="s1">status: finalStatus,</span>
            <span class="s1">headers</span>
        <span class="s1">});</span>
    <span class="s1">};</span>
    <span class="s2">const </span><span class="s1">invokeRender = async (span)=&gt;{</span>
        <span class="s2">try </span><span class="s1">{</span>
            <span class="s2">const </span><span class="s1">result = </span><span class="s2">await </span><span class="s1">pageRouteModule.render(</span><span class="s4">// @ts-expect-error we don't type this for edge</span>
            <span class="s1">baseReq, </span><span class="s2">new </span><span class="s1">_web.WebNextResponse(undefined), {</span>
                <span class="s1">...renderContext,</span>
                <span class="s1">renderOpts: {</span>
                    <span class="s1">...renderContext.renderOpts,</span>
                    <span class="s1">getServerSideProps: pageMod.getServerSideProps,</span>
                    <span class="s1">Component: pageMod.default || pageMod,</span>
                    <span class="s1">ComponentMod: pageMod,</span>
                    <span class="s1">pageConfig: pageMod.config,</span>
                    <span class="s1">isNextDataRequest</span>
                <span class="s1">}</span>
            <span class="s1">}).finally(()=&gt;{</span>
                <span class="s2">if </span><span class="s1">(!span) </span><span class="s2">return</span><span class="s1">;</span>
                <span class="s1">span.setAttributes({</span>
                    <span class="s0">'http.status_code'</span><span class="s1">: finalStatus,</span>
                    <span class="s0">'next.rsc'</span><span class="s1">: </span><span class="s2">false</span>
                <span class="s1">});</span>
                <span class="s2">const </span><span class="s1">rootSpanAttributes = tracer.getRootSpanAttributes();</span>
                <span class="s4">// We were unable to get attributes, probably OTEL is not enabled</span>
                <span class="s2">if </span><span class="s1">(!rootSpanAttributes) {</span>
                    <span class="s2">return</span><span class="s1">;</span>
                <span class="s1">}</span>
                <span class="s2">if </span><span class="s1">(rootSpanAttributes.get(</span><span class="s0">'next.span_type'</span><span class="s1">) !== _constants.BaseServerSpan.handleRequest) {</span>
                    <span class="s1">console.warn(</span><span class="s0">`Unexpected root span type '</span><span class="s1">${rootSpanAttributes.get(</span><span class="s0">'next.span_type'</span><span class="s1">)}</span><span class="s0">'. Please report this Next.js issue https://github.com/vercel/next.js`</span><span class="s1">);</span>
                    <span class="s2">return</span><span class="s1">;</span>
                <span class="s1">}</span>
                <span class="s2">const </span><span class="s1">route = rootSpanAttributes.get(</span><span class="s0">'next.route'</span><span class="s1">);</span>
                <span class="s2">if </span><span class="s1">(route) {</span>
                    <span class="s2">const </span><span class="s1">name = </span><span class="s0">`</span><span class="s1">${req.method} ${route}</span><span class="s0">`</span><span class="s1">;</span>
                    <span class="s1">span.setAttributes({</span>
                        <span class="s0">'next.route'</span><span class="s1">: route,</span>
                        <span class="s0">'http.route'</span><span class="s1">: route,</span>
                        <span class="s0">'next.span_name'</span><span class="s1">: name</span>
                    <span class="s1">});</span>
                    <span class="s1">span.updateName(name);</span>
                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">span.updateName(</span><span class="s0">`</span><span class="s1">${req.method} ${relativeUrl}</span><span class="s0">`</span><span class="s1">);</span>
                <span class="s1">}</span>
            <span class="s1">});</span>
            <span class="s2">return </span><span class="s1">renderResultToResponse(result);</span>
        <span class="s1">} </span><span class="s2">catch </span><span class="s1">(err) {</span>
            <span class="s2">const </span><span class="s1">errModule = error500Mod || errorMod;</span>
            <span class="s2">const </span><span class="s1">errRouteModule = errModule.routeModule;</span>
            <span class="s2">if </span><span class="s1">(errRouteModule.isDev) {</span>
                <span class="s2">throw </span><span class="s1">err;</span>
            <span class="s1">}</span>
            <span class="s2">await </span><span class="s1">errRouteModule.onRequestError(baseReq, err, {</span>
                <span class="s1">routerKind: </span><span class="s0">'Pages Router'</span><span class="s1">,</span>
                <span class="s1">routePath: srcPage,</span>
                <span class="s1">routeType: </span><span class="s0">'render'</span><span class="s1">,</span>
                <span class="s1">revalidateReason: undefined</span>
            <span class="s1">});</span>
            <span class="s2">const </span><span class="s1">errResult = </span><span class="s2">await </span><span class="s1">errRouteModule.render(</span><span class="s4">// @ts-expect-error we don't type this for edge</span>
            <span class="s1">baseReq, </span><span class="s2">new </span><span class="s1">_web.WebNextResponse(undefined), {</span>
                <span class="s1">...renderContext,</span>
                <span class="s1">page: error500Mod ? </span><span class="s0">'/500' </span><span class="s1">: </span><span class="s0">'/_error'</span><span class="s1">,</span>
                <span class="s1">renderOpts: {</span>
                    <span class="s1">...renderContext.renderOpts,</span>
                    <span class="s1">getServerSideProps: errModule.getServerSideProps,</span>
                    <span class="s1">Component: errModule.default || errModule,</span>
                    <span class="s1">ComponentMod: errModule,</span>
                    <span class="s1">pageConfig: errModule.config</span>
                <span class="s1">}</span>
            <span class="s1">});</span>
            <span class="s2">return </span><span class="s1">renderResultToResponse(errResult);</span>
        <span class="s1">}</span>
    <span class="s1">};</span>
    <span class="s2">const </span><span class="s1">tracer = (</span><span class="s3">0</span><span class="s1">, _tracer.getTracer)();</span>
    <span class="s2">return </span><span class="s1">tracer.withPropagatedContext(req.headers, ()=&gt;tracer.trace(_constants.BaseServerSpan.handleRequest, {</span>
            <span class="s1">spanName: </span><span class="s0">`</span><span class="s1">${req.method} ${relativeUrl}</span><span class="s0">`</span><span class="s1">,</span>
            <span class="s1">kind: _tracer.SpanKind.SERVER,</span>
            <span class="s1">attributes: {</span>
                <span class="s0">'http.method'</span><span class="s1">: req.method,</span>
                <span class="s0">'http.target'</span><span class="s1">: relativeUrl,</span>
                <span class="s0">'http.route'</span><span class="s1">: srcPage</span>
            <span class="s1">}</span>
        <span class="s1">}, invokeRender));</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">nHandler(opts) {</span>
    <span class="s2">return </span><span class="s1">(</span><span class="s3">0</span><span class="s1">, _adapter.adapter)({</span>
        <span class="s1">...opts,</span>
        <span class="s1">IncrementalCache: _incrementalcache.IncrementalCache,</span>
        <span class="s1">handler: requestHandler,</span>
        <span class="s1">incrementalCacheHandler,</span>
        <span class="s1">bypassNextUrl: </span><span class="s2">true</span>
    <span class="s1">});</span>
<span class="s1">}</span>

<span class="s4">//# sourceMappingURL=edge-ssr.js.map</span></pre>
</body>
</html>