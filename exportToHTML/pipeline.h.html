<html>
<head>
<title>pipeline.h</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #8c8c8c; font-style: italic;}
.s1 { color: #080808;}
.s2 { color: #0033b3;}
.s3 { color: #00627a;}
.s4 { color: #067d17;}
.s5 { color: #000000;}
.s6 { color: #871094; font-style: italic;}
.s7 { color: #1750eb; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
pipeline.h</font>
</center></td></tr></table>
<pre><span class="s0">// Copyright 2013 Lovell Fuller and others.</span>
<span class="s0">// SPDX-License-Identifier: Apache-2.0</span>

<span class="s2">#ifndef </span><span class="s3">SRC_PIPELINE_H_</span>
<span class="s2">#define </span><span class="s3">SRC_PIPELINE_H_</span>

<span class="s2">#include </span><span class="s4">&lt;memory&gt;</span>
<span class="s2">#include </span><span class="s4">&lt;string&gt;</span>
<span class="s2">#include </span><span class="s4">&lt;vector&gt;</span>
<span class="s2">#include </span><span class="s4">&lt;unordered_map&gt;</span>

<span class="s2">#include </span><span class="s4">&lt;napi.h&gt;</span>
<span class="s2">#include </span><span class="s4">&lt;vips/vips8&gt;</span>

<span class="s2">#include </span><span class="s4">&quot;./common.h&quot;</span>

Napi<span class="s1">::Value </span><span class="s3">pipeline</span><span class="s1">(</span><span class="s2">const </span>Napi<span class="s1">::</span>CallbackInfo<span class="s2">&amp; </span>info<span class="s1">);</span>

<span class="s2">struct </span>Composite <span class="s1">{</span>
  sharp<span class="s1">::InputDescriptor </span><span class="s2">*</span><span class="s1">input;</span>
  <span class="s1">VipsBlendMode mode;</span>
  <span class="s2">int </span><span class="s1">gravity;</span>
  <span class="s2">int </span><span class="s1">left;</span>
  <span class="s2">int </span><span class="s1">top;</span>
  <span class="s2">bool </span><span class="s1">hasOffset;</span>
  <span class="s2">bool </span><span class="s1">tile;</span>
  <span class="s2">bool </span><span class="s1">premultiplied;</span>

  <span class="s3">Composite</span><span class="s1">():</span>
    <span class="s3">input</span><span class="s1">(</span><span class="s6">nullptr</span><span class="s1">),</span>
    <span class="s3">mode</span><span class="s1">(VIPS_BLEND_MODE_OVER),</span>
    <span class="s3">gravity</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">left</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">top</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">hasOffset</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">tile</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">premultiplied</span><span class="s1">(</span><span class="s6">false</span><span class="s1">) {}</span>
<span class="s1">};</span>

<span class="s2">struct </span>PipelineBaton <span class="s1">{</span>
  sharp<span class="s1">::InputDescriptor </span><span class="s2">*</span><span class="s1">input;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;</span>sharp<span class="s1">::InputDescriptor </span><span class="s2">*&gt; </span><span class="s1">join;</span>
  std<span class="s1">::string formatOut;</span>
  std<span class="s1">::string fileOut;</span>
  <span class="s2">void *</span><span class="s1">bufferOut;</span>
  <span class="s2">size_t </span><span class="s1">bufferOutLength;</span>
  <span class="s2">int </span><span class="s1">pageHeightOut;</span>
  <span class="s2">int </span><span class="s1">pagesOut;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;</span><span class="s1">Composite </span><span class="s2">*&gt; </span><span class="s1">composite;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;</span>sharp<span class="s1">::InputDescriptor </span><span class="s2">*&gt; </span><span class="s1">joinChannelIn;</span>
  <span class="s2">int </span><span class="s1">topOffsetPre;</span>
  <span class="s2">int </span><span class="s1">leftOffsetPre;</span>
  <span class="s2">int </span><span class="s1">widthPre;</span>
  <span class="s2">int </span><span class="s1">heightPre;</span>
  <span class="s2">int </span><span class="s1">topOffsetPost;</span>
  <span class="s2">int </span><span class="s1">leftOffsetPost;</span>
  <span class="s2">int </span><span class="s1">widthPost;</span>
  <span class="s2">int </span><span class="s1">heightPost;</span>
  <span class="s2">int </span><span class="s1">width;</span>
  <span class="s2">int </span><span class="s1">height;</span>
  <span class="s2">int </span><span class="s1">channels;</span>
  <span class="s1">VipsKernel kernel;</span>
  sharp<span class="s1">::Canvas canvas;</span>
  <span class="s2">int </span><span class="s1">position;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">resizeBackground;</span>
  <span class="s2">bool </span><span class="s1">hasCropOffset;</span>
  <span class="s2">int </span><span class="s1">cropOffsetLeft;</span>
  <span class="s2">int </span><span class="s1">cropOffsetTop;</span>
  <span class="s2">bool </span><span class="s1">hasAttentionCenter;</span>
  <span class="s2">int </span><span class="s1">attentionX;</span>
  <span class="s2">int </span><span class="s1">attentionY;</span>
  <span class="s2">bool </span><span class="s1">premultiplied;</span>
  <span class="s2">bool </span><span class="s1">tileCentre;</span>
  <span class="s2">bool </span><span class="s1">fastShrinkOnLoad;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">tint;</span>
  <span class="s2">bool </span><span class="s1">flatten;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">flattenBackground;</span>
  <span class="s2">bool </span><span class="s1">unflatten;</span>
  <span class="s2">bool </span><span class="s1">negate;</span>
  <span class="s2">bool </span><span class="s1">negateAlpha;</span>
  <span class="s2">double </span><span class="s1">blurSigma;</span>
  <span class="s1">VipsPrecision precision;</span>
  <span class="s2">double </span><span class="s1">minAmpl;</span>
  <span class="s2">double </span><span class="s1">brightness;</span>
  <span class="s2">double </span><span class="s1">saturation;</span>
  <span class="s2">int </span><span class="s1">hue;</span>
  <span class="s2">double </span><span class="s1">lightness;</span>
  <span class="s2">int </span><span class="s1">medianSize;</span>
  <span class="s2">double </span><span class="s1">sharpenSigma;</span>
  <span class="s2">double </span><span class="s1">sharpenM1;</span>
  <span class="s2">double </span><span class="s1">sharpenM2;</span>
  <span class="s2">double </span><span class="s1">sharpenX1;</span>
  <span class="s2">double </span><span class="s1">sharpenY2;</span>
  <span class="s2">double </span><span class="s1">sharpenY3;</span>
  <span class="s2">int </span><span class="s1">threshold;</span>
  <span class="s2">bool </span><span class="s1">thresholdGrayscale;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">trimBackground;</span>
  <span class="s2">double </span><span class="s1">trimThreshold;</span>
  <span class="s2">bool </span><span class="s1">trimLineArt;</span>
  <span class="s2">int </span><span class="s1">trimOffsetLeft;</span>
  <span class="s2">int </span><span class="s1">trimOffsetTop;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">linearA;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">linearB;</span>
  <span class="s2">int </span><span class="s1">dilateWidth;</span>
  <span class="s2">int </span><span class="s1">erodeWidth;</span>
  <span class="s2">double </span><span class="s1">gamma;</span>
  <span class="s2">double </span><span class="s1">gammaOut;</span>
  <span class="s2">bool </span><span class="s1">greyscale;</span>
  <span class="s2">bool </span><span class="s1">normalise;</span>
  <span class="s2">int </span><span class="s1">normaliseLower;</span>
  <span class="s2">int </span><span class="s1">normaliseUpper;</span>
  <span class="s2">int </span><span class="s1">claheWidth;</span>
  <span class="s2">int </span><span class="s1">claheHeight;</span>
  <span class="s2">int </span><span class="s1">claheMaxSlope;</span>
  <span class="s2">int </span><span class="s1">angle;</span>
  <span class="s2">double </span><span class="s1">rotationAngle;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">rotationBackground;</span>
  <span class="s2">bool </span><span class="s1">rotateBefore;</span>
  <span class="s2">bool </span><span class="s1">orientBefore;</span>
  <span class="s2">bool </span><span class="s1">flip;</span>
  <span class="s2">bool </span><span class="s1">flop;</span>
  <span class="s2">int </span><span class="s1">extendTop;</span>
  <span class="s2">int </span><span class="s1">extendBottom;</span>
  <span class="s2">int </span><span class="s1">extendLeft;</span>
  <span class="s2">int </span><span class="s1">extendRight;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">extendBackground;</span>
  <span class="s1">VipsExtend extendWith;</span>
  <span class="s2">bool </span><span class="s1">withoutEnlargement;</span>
  <span class="s2">bool </span><span class="s1">withoutReduction;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">affineMatrix;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">affineBackground;</span>
  <span class="s2">double </span><span class="s1">affineIdx;</span>
  <span class="s2">double </span><span class="s1">affineIdy;</span>
  <span class="s2">double </span><span class="s1">affineOdx;</span>
  <span class="s2">double </span><span class="s1">affineOdy;</span>
  std<span class="s1">::string affineInterpolator;</span>
  <span class="s2">int </span><span class="s1">jpegQuality;</span>
  <span class="s2">bool </span><span class="s1">jpegProgressive;</span>
  std<span class="s1">::string jpegChromaSubsampling;</span>
  <span class="s2">bool </span><span class="s1">jpegTrellisQuantisation;</span>
  <span class="s2">int </span><span class="s1">jpegQuantisationTable;</span>
  <span class="s2">bool </span><span class="s1">jpegOvershootDeringing;</span>
  <span class="s2">bool </span><span class="s1">jpegOptimiseScans;</span>
  <span class="s2">bool </span><span class="s1">jpegOptimiseCoding;</span>
  <span class="s2">bool </span><span class="s1">pngProgressive;</span>
  <span class="s2">int </span><span class="s1">pngCompressionLevel;</span>
  <span class="s2">bool </span><span class="s1">pngAdaptiveFiltering;</span>
  <span class="s2">bool </span><span class="s1">pngPalette;</span>
  <span class="s2">int </span><span class="s1">pngQuality;</span>
  <span class="s2">int </span><span class="s1">pngEffort;</span>
  <span class="s2">int </span><span class="s1">pngBitdepth;</span>
  <span class="s2">double </span><span class="s1">pngDither;</span>
  <span class="s2">int </span><span class="s1">jp2Quality;</span>
  <span class="s2">bool </span><span class="s1">jp2Lossless;</span>
  <span class="s2">int </span><span class="s1">jp2TileHeight;</span>
  <span class="s2">int </span><span class="s1">jp2TileWidth;</span>
  std<span class="s1">::string jp2ChromaSubsampling;</span>
  <span class="s2">int </span><span class="s1">webpQuality;</span>
  <span class="s2">int </span><span class="s1">webpAlphaQuality;</span>
  <span class="s2">bool </span><span class="s1">webpNearLossless;</span>
  <span class="s2">bool </span><span class="s1">webpLossless;</span>
  <span class="s2">bool </span><span class="s1">webpSmartSubsample;</span>
  <span class="s2">bool </span><span class="s1">webpSmartDeblock;</span>
  <span class="s1">VipsForeignWebpPreset webpPreset;</span>
  <span class="s2">int </span><span class="s1">webpEffort;</span>
  <span class="s2">bool </span><span class="s1">webpMinSize;</span>
  <span class="s2">bool </span><span class="s1">webpMixed;</span>
  <span class="s2">int </span><span class="s1">gifBitdepth;</span>
  <span class="s2">int </span><span class="s1">gifEffort;</span>
  <span class="s2">double </span><span class="s1">gifDither;</span>
  <span class="s2">double </span><span class="s1">gifInterFrameMaxError;</span>
  <span class="s2">double </span><span class="s1">gifInterPaletteMaxError;</span>
  <span class="s2">bool </span><span class="s1">gifKeepDuplicateFrames;</span>
  <span class="s2">bool </span><span class="s1">gifReuse;</span>
  <span class="s2">bool </span><span class="s1">gifProgressive;</span>
  <span class="s2">int </span><span class="s1">tiffQuality;</span>
  <span class="s1">VipsForeignTiffCompression tiffCompression;</span>
  <span class="s1">VipsForeignTiffPredictor tiffPredictor;</span>
  <span class="s2">bool </span><span class="s1">tiffPyramid;</span>
  <span class="s2">int </span><span class="s1">tiffBitdepth;</span>
  <span class="s2">bool </span><span class="s1">tiffMiniswhite;</span>
  <span class="s2">bool </span><span class="s1">tiffTile;</span>
  <span class="s2">int </span><span class="s1">tiffTileHeight;</span>
  <span class="s2">int </span><span class="s1">tiffTileWidth;</span>
  <span class="s2">double </span><span class="s1">tiffXres;</span>
  <span class="s2">double </span><span class="s1">tiffYres;</span>
  <span class="s1">VipsForeignTiffResunit tiffResolutionUnit;</span>
  <span class="s2">int </span><span class="s1">heifQuality;</span>
  <span class="s1">VipsForeignHeifCompression heifCompression;</span>
  <span class="s2">int </span><span class="s1">heifEffort;</span>
  std<span class="s1">::string heifChromaSubsampling;</span>
  <span class="s2">bool </span><span class="s1">heifLossless;</span>
  <span class="s2">int </span><span class="s1">heifBitdepth;</span>
  <span class="s2">double </span><span class="s1">jxlDistance;</span>
  <span class="s2">int </span><span class="s1">jxlDecodingTier;</span>
  <span class="s2">int </span><span class="s1">jxlEffort;</span>
  <span class="s2">bool </span><span class="s1">jxlLossless;</span>
  <span class="s1">VipsBandFormat rawDepth;</span>
  std<span class="s1">::string err;</span>
  <span class="s2">int </span><span class="s1">keepMetadata;</span>
  <span class="s2">int </span><span class="s1">withMetadataOrientation;</span>
  <span class="s2">double </span><span class="s1">withMetadataDensity;</span>
  std<span class="s1">::string withIccProfile;</span>
  std<span class="s1">::unordered_map</span><span class="s2">&lt;</span>std<span class="s1">::string, </span>std<span class="s1">::string</span><span class="s2">&gt; </span><span class="s1">withExif;</span>
  <span class="s2">bool </span><span class="s1">withExifMerge;</span>
  std<span class="s1">::string withXmp;</span>
  <span class="s2">int </span><span class="s1">timeoutSeconds;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">convKernel;</span>
  <span class="s2">int </span><span class="s1">convKernelWidth;</span>
  <span class="s2">int </span><span class="s1">convKernelHeight;</span>
  <span class="s2">double </span><span class="s1">convKernelScale;</span>
  <span class="s2">double </span><span class="s1">convKernelOffset;</span>
  sharp<span class="s1">::InputDescriptor </span><span class="s2">*</span><span class="s1">boolean;</span>
  <span class="s1">VipsOperationBoolean booleanOp;</span>
  <span class="s1">VipsOperationBoolean bandBoolOp;</span>
  <span class="s2">int </span><span class="s1">extractChannel;</span>
  <span class="s2">bool </span><span class="s1">removeAlpha;</span>
  <span class="s2">double </span><span class="s1">ensureAlpha;</span>
  <span class="s1">VipsInterpretation colourspacePipeline;</span>
  <span class="s1">VipsInterpretation colourspace;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;int&gt; </span><span class="s1">delay;</span>
  <span class="s2">int </span><span class="s1">loop;</span>
  <span class="s2">int </span><span class="s1">tileSize;</span>
  <span class="s2">int </span><span class="s1">tileOverlap;</span>
  <span class="s1">VipsForeignDzContainer tileContainer;</span>
  <span class="s1">VipsForeignDzLayout tileLayout;</span>
  std<span class="s1">::string tileFormat;</span>
  <span class="s2">int </span><span class="s1">tileAngle;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">tileBackground;</span>
  <span class="s2">int </span><span class="s1">tileSkipBlanks;</span>
  <span class="s1">VipsForeignDzDepth tileDepth;</span>
  std<span class="s1">::string tileId;</span>
  std<span class="s1">::string tileBasename;</span>
  std<span class="s1">::vector</span><span class="s2">&lt;double&gt; </span><span class="s1">recombMatrix;</span>

  <span class="s3">PipelineBaton</span><span class="s1">():</span>
    <span class="s3">input</span><span class="s1">(</span><span class="s6">nullptr</span><span class="s1">),</span>
    <span class="s3">bufferOutLength</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">pageHeightOut</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">pagesOut</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">topOffsetPre</span><span class="s1">(</span><span class="s2">-</span><span class="s7">1</span><span class="s1">),</span>
    <span class="s3">topOffsetPost</span><span class="s1">(</span><span class="s2">-</span><span class="s7">1</span><span class="s1">),</span>
    <span class="s3">channels</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">kernel</span><span class="s1">(VIPS_KERNEL_LANCZOS3),</span>
    <span class="s3">canvas</span><span class="s1">(</span>sharp<span class="s1">::</span>Canvas<span class="s1">::CROP),</span>
    <span class="s3">position</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">resizeBackground</span><span class="s1">{ </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">255.0 </span><span class="s1">},</span>
    <span class="s3">hasCropOffset</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">cropOffsetLeft</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">cropOffsetTop</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">hasAttentionCenter</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">attentionX</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">attentionY</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">premultiplied</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">tint</span><span class="s1">{ </span><span class="s2">-</span><span class="s7">1.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0 </span><span class="s1">},</span>
    <span class="s3">flatten</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">flattenBackground</span><span class="s1">{ </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0 </span><span class="s1">},</span>
    <span class="s3">unflatten</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">negate</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">negateAlpha</span><span class="s1">(</span><span class="s6">true</span><span class="s1">),</span>
    <span class="s3">blurSigma</span><span class="s1">(</span><span class="s7">0.0</span><span class="s1">),</span>
    <span class="s3">brightness</span><span class="s1">(</span><span class="s7">1.0</span><span class="s1">),</span>
    <span class="s3">saturation</span><span class="s1">(</span><span class="s7">1.0</span><span class="s1">),</span>
    <span class="s3">hue</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">lightness</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">medianSize</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">sharpenSigma</span><span class="s1">(</span><span class="s7">0.0</span><span class="s1">),</span>
    <span class="s3">sharpenM1</span><span class="s1">(</span><span class="s7">1.0</span><span class="s1">),</span>
    <span class="s3">sharpenM2</span><span class="s1">(</span><span class="s7">2.0</span><span class="s1">),</span>
    <span class="s3">sharpenX1</span><span class="s1">(</span><span class="s7">2.0</span><span class="s1">),</span>
    <span class="s3">sharpenY2</span><span class="s1">(</span><span class="s7">10.0</span><span class="s1">),</span>
    <span class="s3">sharpenY3</span><span class="s1">(</span><span class="s7">20.0</span><span class="s1">),</span>
    <span class="s3">threshold</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">thresholdGrayscale</span><span class="s1">(</span><span class="s6">true</span><span class="s1">),</span>
    <span class="s3">trimBackground</span><span class="s1">{},</span>
    <span class="s3">trimThreshold</span><span class="s1">(</span><span class="s2">-</span><span class="s7">1.0</span><span class="s1">),</span>
    <span class="s3">trimLineArt</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">trimOffsetLeft</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">trimOffsetTop</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">linearA</span><span class="s1">{},</span>
    <span class="s3">linearB</span><span class="s1">{},</span>
    <span class="s3">dilateWidth</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">erodeWidth</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">gamma</span><span class="s1">(</span><span class="s7">0.0</span><span class="s1">),</span>
    <span class="s3">greyscale</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">normalise</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">normaliseLower</span><span class="s1">(</span><span class="s7">1</span><span class="s1">),</span>
    <span class="s3">normaliseUpper</span><span class="s1">(</span><span class="s7">99</span><span class="s1">),</span>
    <span class="s3">claheWidth</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">claheHeight</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">claheMaxSlope</span><span class="s1">(</span><span class="s7">3</span><span class="s1">),</span>
    <span class="s3">angle</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">rotationAngle</span><span class="s1">(</span><span class="s7">0.0</span><span class="s1">),</span>
    <span class="s3">rotationBackground</span><span class="s1">{ </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">255.0 </span><span class="s1">},</span>
    <span class="s3">flip</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">flop</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">extendTop</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">extendBottom</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">extendLeft</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">extendRight</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">extendBackground</span><span class="s1">{ </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">255.0 </span><span class="s1">},</span>
    <span class="s3">extendWith</span><span class="s1">(VIPS_EXTEND_BACKGROUND),</span>
    <span class="s3">withoutEnlargement</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">withoutReduction</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">affineMatrix</span><span class="s1">{ </span><span class="s7">1.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">1.0 </span><span class="s1">},</span>
    <span class="s3">affineBackground</span><span class="s1">{ </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">0.0</span><span class="s1">, </span><span class="s7">255.0 </span><span class="s1">},</span>
    <span class="s3">affineIdx</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">affineIdy</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">affineOdx</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">affineOdy</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">affineInterpolator</span><span class="s1">(</span><span class="s4">&quot;bicubic&quot;</span><span class="s1">),</span>
    <span class="s3">jpegQuality</span><span class="s1">(</span><span class="s7">80</span><span class="s1">),</span>
    <span class="s3">jpegProgressive</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">jpegChromaSubsampling</span><span class="s1">(</span><span class="s4">&quot;4:2:0&quot;</span><span class="s1">),</span>
    <span class="s3">jpegTrellisQuantisation</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">jpegQuantisationTable</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">jpegOvershootDeringing</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">jpegOptimiseScans</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">jpegOptimiseCoding</span><span class="s1">(</span><span class="s6">true</span><span class="s1">),</span>
    <span class="s3">pngProgressive</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">pngCompressionLevel</span><span class="s1">(</span><span class="s7">6</span><span class="s1">),</span>
    <span class="s3">pngAdaptiveFiltering</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">pngPalette</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">pngQuality</span><span class="s1">(</span><span class="s7">100</span><span class="s1">),</span>
    <span class="s3">pngEffort</span><span class="s1">(</span><span class="s7">7</span><span class="s1">),</span>
    <span class="s3">pngBitdepth</span><span class="s1">(</span><span class="s7">8</span><span class="s1">),</span>
    <span class="s3">pngDither</span><span class="s1">(</span><span class="s7">1.0</span><span class="s1">),</span>
    <span class="s3">jp2Quality</span><span class="s1">(</span><span class="s7">80</span><span class="s1">),</span>
    <span class="s3">jp2Lossless</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">jp2TileHeight</span><span class="s1">(</span><span class="s7">512</span><span class="s1">),</span>
    <span class="s3">jp2TileWidth</span><span class="s1">(</span><span class="s7">512</span><span class="s1">),</span>
    <span class="s3">jp2ChromaSubsampling</span><span class="s1">(</span><span class="s4">&quot;4:4:4&quot;</span><span class="s1">),</span>
    <span class="s3">webpQuality</span><span class="s1">(</span><span class="s7">80</span><span class="s1">),</span>
    <span class="s3">webpAlphaQuality</span><span class="s1">(</span><span class="s7">100</span><span class="s1">),</span>
    <span class="s3">webpNearLossless</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">webpLossless</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">webpSmartSubsample</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">webpSmartDeblock</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">webpPreset</span><span class="s1">(VIPS_FOREIGN_WEBP_PRESET_DEFAULT),</span>
    <span class="s3">webpEffort</span><span class="s1">(</span><span class="s7">4</span><span class="s1">),</span>
    <span class="s3">webpMinSize</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">webpMixed</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">gifBitdepth</span><span class="s1">(</span><span class="s7">8</span><span class="s1">),</span>
    <span class="s3">gifEffort</span><span class="s1">(</span><span class="s7">7</span><span class="s1">),</span>
    <span class="s3">gifDither</span><span class="s1">(</span><span class="s7">1.0</span><span class="s1">),</span>
    <span class="s3">gifInterFrameMaxError</span><span class="s1">(</span><span class="s7">0.0</span><span class="s1">),</span>
    <span class="s3">gifInterPaletteMaxError</span><span class="s1">(</span><span class="s7">3.0</span><span class="s1">),</span>
    <span class="s3">gifKeepDuplicateFrames</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">gifReuse</span><span class="s1">(</span><span class="s6">true</span><span class="s1">),</span>
    <span class="s3">gifProgressive</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">tiffQuality</span><span class="s1">(</span><span class="s7">80</span><span class="s1">),</span>
    <span class="s3">tiffCompression</span><span class="s1">(VIPS_FOREIGN_TIFF_COMPRESSION_JPEG),</span>
    <span class="s3">tiffPredictor</span><span class="s1">(VIPS_FOREIGN_TIFF_PREDICTOR_HORIZONTAL),</span>
    <span class="s3">tiffPyramid</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">tiffBitdepth</span><span class="s1">(</span><span class="s7">8</span><span class="s1">),</span>
    <span class="s3">tiffMiniswhite</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">tiffTile</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">tiffTileHeight</span><span class="s1">(</span><span class="s7">256</span><span class="s1">),</span>
    <span class="s3">tiffTileWidth</span><span class="s1">(</span><span class="s7">256</span><span class="s1">),</span>
    <span class="s3">tiffXres</span><span class="s1">(</span><span class="s7">1.0</span><span class="s1">),</span>
    <span class="s3">tiffYres</span><span class="s1">(</span><span class="s7">1.0</span><span class="s1">),</span>
    <span class="s3">tiffResolutionUnit</span><span class="s1">(VIPS_FOREIGN_TIFF_RESUNIT_INCH),</span>
    <span class="s3">heifQuality</span><span class="s1">(</span><span class="s7">50</span><span class="s1">),</span>
    <span class="s3">heifCompression</span><span class="s1">(VIPS_FOREIGN_HEIF_COMPRESSION_AV1),</span>
    <span class="s3">heifEffort</span><span class="s1">(</span><span class="s7">4</span><span class="s1">),</span>
    <span class="s3">heifChromaSubsampling</span><span class="s1">(</span><span class="s4">&quot;4:4:4&quot;</span><span class="s1">),</span>
    <span class="s3">heifLossless</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">heifBitdepth</span><span class="s1">(</span><span class="s7">8</span><span class="s1">),</span>
    <span class="s3">jxlDistance</span><span class="s1">(</span><span class="s7">1.0</span><span class="s1">),</span>
    <span class="s3">jxlDecodingTier</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">jxlEffort</span><span class="s1">(</span><span class="s7">7</span><span class="s1">),</span>
    <span class="s3">jxlLossless</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">rawDepth</span><span class="s1">(VIPS_FORMAT_UCHAR),</span>
    <span class="s3">keepMetadata</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">withMetadataOrientation</span><span class="s1">(</span><span class="s2">-</span><span class="s7">1</span><span class="s1">),</span>
    <span class="s3">withMetadataDensity</span><span class="s1">(</span><span class="s7">0.0</span><span class="s1">),</span>
    <span class="s3">withExifMerge</span><span class="s1">(</span><span class="s6">true</span><span class="s1">),</span>
    <span class="s3">timeoutSeconds</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">convKernelWidth</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">convKernelHeight</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">convKernelScale</span><span class="s1">(</span><span class="s7">0.0</span><span class="s1">),</span>
    <span class="s3">convKernelOffset</span><span class="s1">(</span><span class="s7">0.0</span><span class="s1">),</span>
    <span class="s3">boolean</span><span class="s1">(</span><span class="s6">nullptr</span><span class="s1">),</span>
    <span class="s3">booleanOp</span><span class="s1">(VIPS_OPERATION_BOOLEAN_LAST),</span>
    <span class="s3">bandBoolOp</span><span class="s1">(VIPS_OPERATION_BOOLEAN_LAST),</span>
    <span class="s3">extractChannel</span><span class="s1">(</span><span class="s2">-</span><span class="s7">1</span><span class="s1">),</span>
    <span class="s3">removeAlpha</span><span class="s1">(</span><span class="s6">false</span><span class="s1">),</span>
    <span class="s3">ensureAlpha</span><span class="s1">(</span><span class="s2">-</span><span class="s7">1.0</span><span class="s1">),</span>
    <span class="s3">colourspacePipeline</span><span class="s1">(VIPS_INTERPRETATION_LAST),</span>
    <span class="s3">colourspace</span><span class="s1">(VIPS_INTERPRETATION_LAST),</span>
    <span class="s3">loop</span><span class="s1">(</span><span class="s2">-</span><span class="s7">1</span><span class="s1">),</span>
    <span class="s3">tileSize</span><span class="s1">(</span><span class="s7">256</span><span class="s1">),</span>
    <span class="s3">tileOverlap</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">tileContainer</span><span class="s1">(VIPS_FOREIGN_DZ_CONTAINER_FS),</span>
    <span class="s3">tileLayout</span><span class="s1">(VIPS_FOREIGN_DZ_LAYOUT_DZ),</span>
    <span class="s3">tileAngle</span><span class="s1">(</span><span class="s7">0</span><span class="s1">),</span>
    <span class="s3">tileBackground</span><span class="s1">{ </span><span class="s7">255.0</span><span class="s1">, </span><span class="s7">255.0</span><span class="s1">, </span><span class="s7">255.0</span><span class="s1">, </span><span class="s7">255.0 </span><span class="s1">},</span>
    <span class="s3">tileSkipBlanks</span><span class="s1">(</span><span class="s2">-</span><span class="s7">1</span><span class="s1">),</span>
    <span class="s3">tileDepth</span><span class="s1">(VIPS_FOREIGN_DZ_DEPTH_LAST) {}</span>
<span class="s1">};</span>

<span class="s2">#endif  </span><span class="s0">// SRC_PIPELINE_H_</span>
</pre>
</body>
</html>