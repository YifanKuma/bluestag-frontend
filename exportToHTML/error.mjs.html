<html>
<head>
<title>error.mjs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
error.mjs</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">{ WasiErrno } from </span><span class="s2">&quot;./types.mjs&quot;</span><span class="s1">;</span>
<span class="s0">export function </span><span class="s1">strerror(errno) {</span>
    <span class="s0">switch </span><span class="s1">(errno) {</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ESUCCESS: </span><span class="s0">return </span><span class="s2">'Success'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.E2BIG: </span><span class="s0">return </span><span class="s2">'Argument list too long'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EACCES: </span><span class="s0">return </span><span class="s2">'Permission denied'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EADDRINUSE: </span><span class="s0">return </span><span class="s2">'Address in use'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EADDRNOTAVAIL: </span><span class="s0">return </span><span class="s2">'Address not available'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EAFNOSUPPORT: </span><span class="s0">return </span><span class="s2">'Address family not supported by protocol'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EAGAIN: </span><span class="s0">return </span><span class="s2">'Resource temporarily unavailable'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EALREADY: </span><span class="s0">return </span><span class="s2">'Operation already in progress'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EBADF: </span><span class="s0">return </span><span class="s2">'Bad file descriptor'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EBADMSG: </span><span class="s0">return </span><span class="s2">'Bad message'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EBUSY: </span><span class="s0">return </span><span class="s2">'Resource busy'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ECANCELED: </span><span class="s0">return </span><span class="s2">'Operation canceled'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ECHILD: </span><span class="s0">return </span><span class="s2">'No child process'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ECONNABORTED: </span><span class="s0">return </span><span class="s2">'Connection aborted'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ECONNREFUSED: </span><span class="s0">return </span><span class="s2">'Connection refused'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ECONNRESET: </span><span class="s0">return </span><span class="s2">'Connection reset by peer'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EDEADLK: </span><span class="s0">return </span><span class="s2">'Resource deadlock would occur'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EDESTADDRREQ: </span><span class="s0">return </span><span class="s2">'Destination address required'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EDOM: </span><span class="s0">return </span><span class="s2">'Domain error'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EDQUOT: </span><span class="s0">return </span><span class="s2">'Quota exceeded'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EEXIST: </span><span class="s0">return </span><span class="s2">'File exists'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EFAULT: </span><span class="s0">return </span><span class="s2">'Bad address'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EFBIG: </span><span class="s0">return </span><span class="s2">'File too large'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EHOSTUNREACH: </span><span class="s0">return </span><span class="s2">'Host is unreachable'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EIDRM: </span><span class="s0">return </span><span class="s2">'Identifier removed'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EILSEQ: </span><span class="s0">return </span><span class="s2">'Illegal byte sequence'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EINPROGRESS: </span><span class="s0">return </span><span class="s2">'Operation in progress'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EINTR: </span><span class="s0">return </span><span class="s2">'Interrupted system call'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EINVAL: </span><span class="s0">return </span><span class="s2">'Invalid argument'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EIO: </span><span class="s0">return </span><span class="s2">'I/O error'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EISCONN: </span><span class="s0">return </span><span class="s2">'Socket is connected'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EISDIR: </span><span class="s0">return </span><span class="s2">'Is a directory'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ELOOP: </span><span class="s0">return </span><span class="s2">'Symbolic link loop'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EMFILE: </span><span class="s0">return </span><span class="s2">'No file descriptors available'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EMLINK: </span><span class="s0">return </span><span class="s2">'Too many links'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EMSGSIZE: </span><span class="s0">return </span><span class="s2">'Message too large'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EMULTIHOP: </span><span class="s0">return </span><span class="s2">'Multihop attempted'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENAMETOOLONG: </span><span class="s0">return </span><span class="s2">'Filename too long'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENETDOWN: </span><span class="s0">return </span><span class="s2">'Network is down'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENETRESET: </span><span class="s0">return </span><span class="s2">'Connection reset by network'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENETUNREACH: </span><span class="s0">return </span><span class="s2">'Network unreachable'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENFILE: </span><span class="s0">return </span><span class="s2">'Too many files open in system'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOBUFS: </span><span class="s0">return </span><span class="s2">'No buffer space available'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENODEV: </span><span class="s0">return </span><span class="s2">'No such device'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOENT: </span><span class="s0">return </span><span class="s2">'No such file or directory'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOEXEC: </span><span class="s0">return </span><span class="s2">'Exec format error'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOLCK: </span><span class="s0">return </span><span class="s2">'No locks available'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOLINK: </span><span class="s0">return </span><span class="s2">'Link has been severed'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOMEM: </span><span class="s0">return </span><span class="s2">'Out of memory'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOMSG: </span><span class="s0">return </span><span class="s2">'No message of the desired type'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOPROTOOPT: </span><span class="s0">return </span><span class="s2">'Protocol not available'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOSPC: </span><span class="s0">return </span><span class="s2">'No space left on device'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOSYS: </span><span class="s0">return </span><span class="s2">'Function not implemented'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOTCONN: </span><span class="s0">return </span><span class="s2">'Socket not connected'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOTDIR: </span><span class="s0">return </span><span class="s2">'Not a directory'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOTEMPTY: </span><span class="s0">return </span><span class="s2">'Directory not empty'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOTRECOVERABLE: </span><span class="s0">return </span><span class="s2">'State not recoverable'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOTSOCK: </span><span class="s0">return </span><span class="s2">'Not a socket'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOTSUP: </span><span class="s0">return </span><span class="s2">'Not supported'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOTTY: </span><span class="s0">return </span><span class="s2">'Not a tty'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENXIO: </span><span class="s0">return </span><span class="s2">'No such device or address'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EOVERFLOW: </span><span class="s0">return </span><span class="s2">'Value too large for data type'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EOWNERDEAD: </span><span class="s0">return </span><span class="s2">'Previous owner died'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EPERM: </span><span class="s0">return </span><span class="s2">'Operation not permitted'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EPIPE: </span><span class="s0">return </span><span class="s2">'Broken pipe'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EPROTO: </span><span class="s0">return </span><span class="s2">'Protocol error'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EPROTONOSUPPORT: </span><span class="s0">return </span><span class="s2">'Protocol not supported'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EPROTOTYPE: </span><span class="s0">return </span><span class="s2">'Protocol wrong type for socket'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ERANGE: </span><span class="s0">return </span><span class="s2">'Result not representable'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EROFS: </span><span class="s0">return </span><span class="s2">'Read-only file system'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ESPIPE: </span><span class="s0">return </span><span class="s2">'Invalid seek'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ESRCH: </span><span class="s0">return </span><span class="s2">'No such process'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ESTALE: </span><span class="s0">return </span><span class="s2">'Stale file handle'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ETIMEDOUT: </span><span class="s0">return </span><span class="s2">'Operation timed out'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ETXTBSY: </span><span class="s0">return </span><span class="s2">'Text file busy'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.EXDEV: </span><span class="s0">return </span><span class="s2">'Cross-device link'</span><span class="s1">;</span>
        <span class="s0">case </span><span class="s1">WasiErrno.ENOTCAPABLE: </span><span class="s0">return </span><span class="s2">'Capabilities insufficient'</span><span class="s1">;</span>
        <span class="s0">default</span><span class="s1">: </span><span class="s0">return </span><span class="s2">'Unknown error'</span><span class="s1">;</span>
    <span class="s1">}</span>
<span class="s1">}</span>
<span class="s0">export class </span><span class="s1">WasiError </span><span class="s0">extends </span><span class="s1">Error {</span>
    <span class="s1">constructor(message, errno) {</span>
        <span class="s0">super</span><span class="s1">(message);</span>
        <span class="s0">this</span><span class="s1">.errno = errno;</span>
    <span class="s1">}</span>
    <span class="s1">getErrorMessage() {</span>
        <span class="s0">return </span><span class="s1">strerror(</span><span class="s0">this</span><span class="s1">.errno);</span>
    <span class="s1">}</span>
<span class="s1">}</span>
<span class="s1">Object.defineProperty(WasiError.prototype, </span><span class="s2">'name'</span><span class="s1">, {</span>
    <span class="s1">configurable: </span><span class="s0">true</span><span class="s1">,</span>
    <span class="s1">writable: </span><span class="s0">true</span><span class="s1">,</span>
    <span class="s1">value: </span><span class="s2">'WasiError'</span>
<span class="s1">});</span>
</pre>
</body>
</html>