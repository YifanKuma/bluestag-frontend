<html>
<head>
<title>serve-static.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
serve-static.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/server/serve-static.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { IncomingMessage, ServerResponse } from 'http'</span><span class="s3">\n</span><span class="s1">import send from 'next/dist/compiled/send'</span><span class="s3">\n\n</span><span class="s1">// TODO: Remove this once </span><span class="s3">\&quot;</span><span class="s1">send</span><span class="s3">\&quot; </span><span class="s1">has updated the </span><span class="s3">\&quot;</span><span class="s1">mime</span><span class="s3">\&quot;</span><span class="s1">, or next.js use custom version of </span><span class="s3">\&quot;</span><span class="s1">mime</span><span class="s3">\&quot;\n</span><span class="s1">// Although </span><span class="s3">\&quot;</span><span class="s1">mime</span><span class="s3">\&quot; </span><span class="s1">has already add avif in version 2.4.7, </span><span class="s3">\&quot;</span><span class="s1">send</span><span class="s3">\&quot; </span><span class="s1">is still using mime@1.6.0</span><span class="s3">\n</span><span class="s1">send.mime.define({</span><span class="s3">\n  </span><span class="s1">'image/avif': ['avif'],</span><span class="s3">\n  </span><span class="s1">'image/x-icns': ['icns'],</span><span class="s3">\n  </span><span class="s1">'image/jxl': ['jxl'],</span><span class="s3">\n  </span><span class="s1">'image/heic': ['heic'],</span><span class="s3">\n</span><span class="s1">})</span><span class="s3">\n\n</span><span class="s1">export function serveStatic(</span><span class="s3">\n  </span><span class="s1">req: IncomingMessage,</span><span class="s3">\n  </span><span class="s1">res: ServerResponse,</span><span class="s3">\n  </span><span class="s1">path: string,</span><span class="s3">\n  </span><span class="s1">opts?: Parameters&lt;typeof send&gt;[2]</span><span class="s3">\n</span><span class="s1">): Promise&lt;void&gt; {</span><span class="s3">\n  </span><span class="s1">return new Promise((resolve, reject) =&gt; {</span><span class="s3">\n    </span><span class="s1">send(req, path, opts)</span><span class="s3">\n      </span><span class="s1">.on('directory', () =&gt; {</span><span class="s3">\n        </span><span class="s1">// We don't allow directories to be read.</span><span class="s3">\n        </span><span class="s1">const err: any = new Error('No directory access')</span><span class="s3">\n        </span><span class="s1">err.code = 'ENOENT'</span><span class="s3">\n        </span><span class="s1">reject(err)</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n      </span><span class="s1">.on('error', reject)</span><span class="s3">\n      </span><span class="s1">.pipe(res)</span><span class="s3">\n      </span><span class="s1">.on('finish', resolve)</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export const getContentType: (extWithoutDot: string) =&gt; string | null =</span><span class="s3">\n  </span><span class="s1">'getType' in send.mime</span><span class="s3">\n    </span><span class="s1">? (extWithoutDot: string) =&gt; send.mime.getType(extWithoutDot)</span><span class="s3">\n    </span><span class="s1">: (extWithoutDot: string) =&gt; (send.mime as any).lookup(extWithoutDot)</span><span class="s3">\n\n</span><span class="s1">export const getExtension: (contentType: string) =&gt; string | null =</span><span class="s3">\n  </span><span class="s1">'getExtension' in send.mime</span><span class="s3">\n    </span><span class="s1">? (contentType: string) =&gt; send.mime.getExtension(contentType)</span><span class="s3">\n    </span><span class="s1">: (contentType: string) =&gt; (send.mime as any).extension(contentType)</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;getContentType&quot;</span><span class="s0">,</span><span class="s1">&quot;getExtension&quot;</span><span class="s0">,</span><span class="s1">&quot;serveStatic&quot;</span><span class="s0">,</span><span class="s1">&quot;send&quot;</span><span class="s0">,</span><span class="s1">&quot;mime&quot;</span><span class="s0">,</span><span class="s1">&quot;define&quot;</span><span class="s0">,</span><span class="s1">&quot;req&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;opts&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;reject&quot;</span><span class="s0">,</span><span class="s1">&quot;on&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;pipe&quot;</span><span class="s0">,</span><span class="s1">&quot;extWithoutDot&quot;</span><span class="s0">,</span><span class="s1">&quot;getType&quot;</span><span class="s0">,</span><span class="s1">&quot;lookup&quot;</span><span class="s0">,</span><span class="s1">&quot;contentType&quot;</span><span class="s0">,</span><span class="s1">&quot;extension&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;IAgCaA,cAAc;eAAdA;;IAKAC,YAAY;eAAZA;;IAzBGC,WAAW;eAAXA;;;6DAXC;;;;;;AAEjB,gGAAgG;AAChG,0FAA0F;AAC1FC,aAAI,CAACC,IAAI,CAACC,MAAM,CAAC;IACf,cAAc;QAAC;KAAO;IACtB,gBAAgB;QAAC;KAAO;IACxB,aAAa;QAAC;KAAM;IACpB,cAAc;QAAC;KAAO;AACxB;AAEO,SAASH,YACdI,GAAoB,EACpBC,GAAmB,EACnBC,IAAY,EACZC,IAAiC;IAEjC,OAAO,IAAIC,QAAQ,CAACC,SAASC;QAC3BT,IAAAA,aAAI,EAACG,KAAKE,MAAMC,MACbI,EAAE,CAAC,aAAa;YACf,yCAAyC;YACzC,MAAMC,MAAW,qBAAgC,CAAhC,IAAIC,MAAM,wBAAV,qBAAA;uBAAA;4BAAA;8BAAA;YAA+B;YAChDD,IAAIE,IAAI,GAAG;YACXJ,OAAOE;QACT,GACCD,EAAE,CAAC,SAASD,QACZK,IAAI,CAACV,KACLM,EAAE,CAAC,UAAUF;IAClB;AACF;AAEO,MAAMX,iBACX,aAAaG,aAAI,CAACC,IAAI,GAClB,CAACc,gBAA0Bf,aAAI,CAACC,IAAI,CAACe,OAAO,CAACD,iBAC7C,CAACA,gBAA0B,AAACf,aAAI,CAACC,IAAI,CAASgB,MAAM,CAACF;AAEpD,MAAMjB,eACX,kBAAkBE,aAAI,CAACC,IAAI,GACvB,CAACiB,cAAwBlB,aAAI,CAACC,IAAI,CAACH,YAAY,CAACoB,eAChD,CAACA,cAAwB,AAAClB,aAAI,CAACC,IAAI,CAASkB,SAAS,CAACD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>