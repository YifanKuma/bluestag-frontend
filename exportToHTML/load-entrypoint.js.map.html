<html>
<head>
<title>load-entrypoint.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
load-entrypoint.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/build/load-entrypoint.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import fs from 'fs/promises'</span><span class="s3">\n</span><span class="s1">import path from 'path'</span><span class="s3">\n</span><span class="s1">import { loadBindings } from './swc'</span><span class="s3">\n\n</span><span class="s1">// NOTE: this should be updated if this loader file is moved.</span><span class="s3">\n</span><span class="s1">const PACKAGE_ROOT = path.normalize(path.join(__dirname, '../..'))</span><span class="s3">\n</span><span class="s1">const TEMPLATE_SRC_FOLDER = path.normalize(path.join(__dirname, './templates'))</span><span class="s3">\n</span><span class="s1">const TEMPLATES_ESM_FOLDER = path.normalize(</span><span class="s3">\n  </span><span class="s1">path.join(__dirname, '../../dist/esm/build/templates')</span><span class="s3">\n</span><span class="s1">)</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Load the entrypoint file from the ESM directory and performs string</span><span class="s3">\n </span><span class="s1">* replacements of the template variables specified in the `replacements`</span><span class="s3">\n </span><span class="s1">* argument.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* For non-string replacements, the template should use the</span><span class="s3">\n </span><span class="s1">* `declare const ${key}: ${type}` syntax. to ensure that the type is correct</span><span class="s3">\n </span><span class="s1">* and the typescript can compile. You may have to use `@ts-expect-error` to</span><span class="s3">\n </span><span class="s1">* handle replacement values that are related to imports.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param entrypoint the entrypoint to load</span><span class="s3">\n </span><span class="s1">* @param replacements string replacements to perform</span><span class="s3">\n </span><span class="s1">* @param injections code injections to perform</span><span class="s3">\n </span><span class="s1">* @param imports optional imports to insert or set to null</span><span class="s3">\n </span><span class="s1">* @returns the loaded file with the replacements</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export async function loadEntrypoint(</span><span class="s3">\n  </span><span class="s1">entrypoint:</span><span class="s3">\n    </span><span class="s1">| 'app-page'</span><span class="s3">\n    </span><span class="s1">| 'app-route'</span><span class="s3">\n    </span><span class="s1">| 'edge-app-route'</span><span class="s3">\n    </span><span class="s1">| 'edge-ssr'</span><span class="s3">\n    </span><span class="s1">| 'edge-ssr-app'</span><span class="s3">\n    </span><span class="s1">| 'middleware'</span><span class="s3">\n    </span><span class="s1">| 'pages'</span><span class="s3">\n    </span><span class="s1">| 'pages-api',</span><span class="s3">\n  </span><span class="s1">replacements: Record&lt;`VAR_${string}`, string&gt;,</span><span class="s3">\n  </span><span class="s1">injections?: Record&lt;string, string&gt;,</span><span class="s3">\n  </span><span class="s1">imports?: Record&lt;string, string | null&gt;</span><span class="s3">\n</span><span class="s1">): Promise&lt;string&gt; {</span><span class="s3">\n  </span><span class="s1">let bindings = await loadBindings()</span><span class="s3">\n\n  </span><span class="s1">const templatePath = path.resolve(</span><span class="s3">\n    </span><span class="s1">path.join(TEMPLATES_ESM_FOLDER, `${entrypoint}.js`)</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">let content = await fs.readFile(templatePath)</span><span class="s3">\n\n  </span><span class="s1">return bindings.expandNextJsTemplate(</span><span class="s3">\n    </span><span class="s1">content,</span><span class="s3">\n    </span><span class="s1">// Ensure that we use unix-style path separators for the import paths</span><span class="s3">\n    </span><span class="s1">path.join(TEMPLATE_SRC_FOLDER, `${entrypoint}.js`).replace(/</span><span class="s3">\\\\</span><span class="s1">/g, '/'),</span><span class="s3">\n    </span><span class="s1">PACKAGE_ROOT.replace(/</span><span class="s3">\\\\</span><span class="s1">/g, '/'),</span><span class="s3">\n    </span><span class="s1">replacements,</span><span class="s3">\n    </span><span class="s1">injections ?? {},</span><span class="s3">\n    </span><span class="s1">imports ?? {}</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;loadEntrypoint&quot;</span><span class="s0">,</span><span class="s1">&quot;PACKAGE_ROOT&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;normalize&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;__dirname&quot;</span><span class="s0">,</span><span class="s1">&quot;TEMPLATE_SRC_FOLDER&quot;</span><span class="s0">,</span><span class="s1">&quot;TEMPLATES_ESM_FOLDER&quot;</span><span class="s0">,</span><span class="s1">&quot;entrypoint&quot;</span><span class="s0">,</span><span class="s1">&quot;replacements&quot;</span><span class="s0">,</span><span class="s1">&quot;injections&quot;</span><span class="s0">,</span><span class="s1">&quot;imports&quot;</span><span class="s0">,</span><span class="s1">&quot;bindings&quot;</span><span class="s0">,</span><span class="s1">&quot;loadBindings&quot;</span><span class="s0">,</span><span class="s1">&quot;templatePath&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;content&quot;</span><span class="s0">,</span><span class="s1">&quot;fs&quot;</span><span class="s0">,</span><span class="s1">&quot;readFile&quot;</span><span class="s0">,</span><span class="s1">&quot;expandNextJsTemplate&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BA2BsBA;;;eAAAA;;;iEA3BP;6DACE;qBACY;;;;;;AAE7B,6DAA6D;AAC7D,MAAMC,eAAeC,aAAI,CAACC,SAAS,CAACD,aAAI,CAACE,IAAI,CAACC,WAAW;AACzD,MAAMC,sBAAsBJ,aAAI,CAACC,SAAS,CAACD,aAAI,CAACE,IAAI,CAACC,WAAW;AAChE,MAAME,uBAAuBL,aAAI,CAACC,SAAS,CACzCD,aAAI,CAACE,IAAI,CAACC,WAAW;AAmBhB,eAAeL,eACpBQ,UAQe,EACfC,YAA6C,EAC7CC,UAAmC,EACnCC,OAAuC;IAEvC,IAAIC,WAAW,MAAMC,IAAAA,iBAAY;IAEjC,MAAMC,eAAeZ,aAAI,CAACa,OAAO,CAC/Bb,aAAI,CAACE,IAAI,CAACG,sBAAsB,GAAGC,WAAW,GAAG,CAAC;IAEpD,IAAIQ,UAAU,MAAMC,iBAAE,CAACC,QAAQ,CAACJ;IAEhC,OAAOF,SAASO,oBAAoB,CAClCH,SACA,qEAAqE;IACrEd,aAAI,CAACE,IAAI,CAACE,qBAAqB,GAAGE,WAAW,GAAG,CAAC,EAAEY,OAAO,CAAC,OAAO,MAClEnB,aAAamB,OAAO,CAAC,OAAO,MAC5BX,cACAC,cAAc,CAAC,GACfC,WAAW,CAAC;AAEhB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>