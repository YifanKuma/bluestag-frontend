<html>
<head>
<title>connection.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
connection.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/server/request/connection.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { workAsyncStorage } from '../app-render/work-async-storage.external'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">throwForMissingRequestStore,</span><span class="s3">\n  </span><span class="s1">workUnitAsyncStorage,</span><span class="s3">\n</span><span class="s1">} from '../app-render/work-unit-async-storage.external'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">postponeWithTracking,</span><span class="s3">\n  </span><span class="s1">throwToInterruptStaticGeneration,</span><span class="s3">\n  </span><span class="s1">trackDynamicDataInDynamicRender,</span><span class="s3">\n</span><span class="s1">} from '../app-render/dynamic-rendering'</span><span class="s3">\n</span><span class="s1">import { StaticGenBailoutError } from '../../client/components/static-generation-bailout'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">makeHangingPromise,</span><span class="s3">\n  </span><span class="s1">makeDevtoolsIOAwarePromise,</span><span class="s3">\n</span><span class="s1">} from '../dynamic-rendering-utils'</span><span class="s3">\n</span><span class="s1">import { isRequestAPICallableInsideAfter } from './utils'</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This function allows you to indicate that you require an actual user Request before continuing.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* During prerendering it will never resolve and during rendering it resolves immediately.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function connection(): Promise&lt;void&gt; {</span><span class="s3">\n  </span><span class="s1">const callingExpression = 'connection'</span><span class="s3">\n  </span><span class="s1">const workStore = workAsyncStorage.getStore()</span><span class="s3">\n  </span><span class="s1">const workUnitStore = workUnitAsyncStorage.getStore()</span><span class="s3">\n\n  </span><span class="s1">if (workStore) {</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">workUnitStore &amp;&amp;</span><span class="s3">\n      </span><span class="s1">workUnitStore.phase === 'after' &amp;&amp;</span><span class="s3">\n      </span><span class="s1">!isRequestAPICallableInsideAfter()</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        </span><span class="s1">`Route ${workStore.route} used </span><span class="s3">\&quot;</span><span class="s1">connection</span><span class="s3">\&quot; </span><span class="s1">inside </span><span class="s3">\&quot;</span><span class="s1">after(...)</span><span class="s3">\&quot;</span><span class="s1">. The </span><span class="s3">\\</span><span class="s1">`connection()</span><span class="s3">\\</span><span class="s1">` function is used to indicate the subsequent code must only run when there is an actual Request, but </span><span class="s3">\&quot;</span><span class="s1">after(...)</span><span class="s3">\&quot; </span><span class="s1">executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (workStore.forceStatic) {</span><span class="s3">\n      </span><span class="s1">// When using forceStatic, we override all other logic and always just</span><span class="s3">\n      </span><span class="s1">// return a resolving promise without tracking.</span><span class="s3">\n      </span><span class="s1">return Promise.resolve(undefined)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (workStore.dynamicShouldError) {</span><span class="s3">\n      </span><span class="s1">throw new StaticGenBailoutError(</span><span class="s3">\n        </span><span class="s1">`Route ${workStore.route} with </span><span class="s3">\\</span><span class="s1">`dynamic = </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;\\</span><span class="s1">` couldn't be rendered statically because it used </span><span class="s3">\\</span><span class="s1">`connection</span><span class="s3">\\</span><span class="s1">`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (workUnitStore) {</span><span class="s3">\n      </span><span class="s1">switch (workUnitStore.type) {</span><span class="s3">\n        </span><span class="s1">case 'cache': {</span><span class="s3">\n          </span><span class="s1">const error = new Error(</span><span class="s3">\n            </span><span class="s1">`Route ${workStore.route} used </span><span class="s3">\&quot;</span><span class="s1">connection</span><span class="s3">\&quot; </span><span class="s1">inside </span><span class="s3">\&quot;</span><span class="s1">use cache</span><span class="s3">\&quot;</span><span class="s1">. The </span><span class="s3">\\</span><span class="s1">`connection()</span><span class="s3">\\</span><span class="s1">` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">Error.captureStackTrace(error, connection)</span><span class="s3">\n          </span><span class="s1">workStore.invalidDynamicUsageError ??= error</span><span class="s3">\n          </span><span class="s1">throw error</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">case 'private-cache': {</span><span class="s3">\n          </span><span class="s1">// It might not be intuitive to throw for private caches as well, but</span><span class="s3">\n          </span><span class="s1">// we don't consider runtime prefetches as </span><span class="s3">\&quot;</span><span class="s1">actual requests</span><span class="s3">\&quot; </span><span class="s1">(in the</span><span class="s3">\n          </span><span class="s1">// navigation sense), despite allowing them to read cookies.</span><span class="s3">\n          </span><span class="s1">const error = new Error(</span><span class="s3">\n            </span><span class="s1">`Route ${workStore.route} used </span><span class="s3">\&quot;</span><span class="s1">connection</span><span class="s3">\&quot; </span><span class="s1">inside </span><span class="s3">\&quot;</span><span class="s1">use cache: private</span><span class="s3">\&quot;</span><span class="s1">. The </span><span class="s3">\\</span><span class="s1">`connection()</span><span class="s3">\\</span><span class="s1">` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">Error.captureStackTrace(error, connection)</span><span class="s3">\n          </span><span class="s1">workStore.invalidDynamicUsageError ??= error</span><span class="s3">\n          </span><span class="s1">throw error</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">case 'unstable-cache':</span><span class="s3">\n          </span><span class="s1">throw new Error(</span><span class="s3">\n            </span><span class="s1">`Route ${workStore.route} used </span><span class="s3">\&quot;</span><span class="s1">connection</span><span class="s3">\&quot; </span><span class="s1">inside a function cached with </span><span class="s3">\&quot;</span><span class="s1">unstable_cache(...)</span><span class="s3">\&quot;</span><span class="s1">. The </span><span class="s3">\\</span><span class="s1">`connection()</span><span class="s3">\\</span><span class="s1">` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">case 'prerender':</span><span class="s3">\n        </span><span class="s1">case 'prerender-client':</span><span class="s3">\n        </span><span class="s1">case 'prerender-runtime':</span><span class="s3">\n          </span><span class="s1">// We return a promise that never resolves to allow the prerender to</span><span class="s3">\n          </span><span class="s1">// stall at this point.</span><span class="s3">\n          </span><span class="s1">return makeHangingPromise(</span><span class="s3">\n            </span><span class="s1">workUnitStore.renderSignal,</span><span class="s3">\n            </span><span class="s1">workStore.route,</span><span class="s3">\n            </span><span class="s1">'`connection()`'</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">case 'prerender-ppr':</span><span class="s3">\n          </span><span class="s1">// We use React's postpone API to interrupt rendering here to create a</span><span class="s3">\n          </span><span class="s1">// dynamic hole</span><span class="s3">\n          </span><span class="s1">return postponeWithTracking(</span><span class="s3">\n            </span><span class="s1">workStore.route,</span><span class="s3">\n            </span><span class="s1">'connection',</span><span class="s3">\n            </span><span class="s1">workUnitStore.dynamicTracking</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">case 'prerender-legacy':</span><span class="s3">\n          </span><span class="s1">// We throw an error here to interrupt prerendering to mark the route</span><span class="s3">\n          </span><span class="s1">// as dynamic</span><span class="s3">\n          </span><span class="s1">return throwToInterruptStaticGeneration(</span><span class="s3">\n            </span><span class="s1">'connection',</span><span class="s3">\n            </span><span class="s1">workStore,</span><span class="s3">\n            </span><span class="s1">workUnitStore</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">case 'request':</span><span class="s3">\n          </span><span class="s1">trackDynamicDataInDynamicRender(workUnitStore)</span><span class="s3">\n          </span><span class="s1">if (process.env.NODE_ENV === 'development') {</span><span class="s3">\n            </span><span class="s1">// Semantically we only need the dev tracking when running in `next dev`</span><span class="s3">\n            </span><span class="s1">// but since you would never use next dev with production NODE_ENV we use this</span><span class="s3">\n            </span><span class="s1">// as a proxy so we can statically exclude this code from production builds.</span><span class="s3">\n            </span><span class="s1">return makeDevtoolsIOAwarePromise(undefined)</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">return Promise.resolve(undefined)</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">default:</span><span class="s3">\n          </span><span class="s1">workUnitStore satisfies never</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// If we end up here, there was no work store or work unit store present.</span><span class="s3">\n  </span><span class="s1">throwForMissingRequestStore(callingExpression)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;connection&quot;</span><span class="s0">,</span><span class="s1">&quot;callingExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;workStore&quot;</span><span class="s0">,</span><span class="s1">&quot;workAsyncStorage&quot;</span><span class="s0">,</span><span class="s1">&quot;getStore&quot;</span><span class="s0">,</span><span class="s1">&quot;workUnitStore&quot;</span><span class="s0">,</span><span class="s1">&quot;workUnitAsyncStorage&quot;</span><span class="s0">,</span><span class="s1">&quot;phase&quot;</span><span class="s0">,</span><span class="s1">&quot;isRequestAPICallableInsideAfter&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;route&quot;</span><span class="s0">,</span><span class="s1">&quot;forceStatic&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;dynamicShouldError&quot;</span><span class="s0">,</span><span class="s1">&quot;StaticGenBailoutError&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;captureStackTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;invalidDynamicUsageError&quot;</span><span class="s0">,</span><span class="s1">&quot;makeHangingPromise&quot;</span><span class="s0">,</span><span class="s1">&quot;renderSignal&quot;</span><span class="s0">,</span><span class="s1">&quot;postponeWithTracking&quot;</span><span class="s0">,</span><span class="s1">&quot;dynamicTracking&quot;</span><span class="s0">,</span><span class="s1">&quot;throwToInterruptStaticGeneration&quot;</span><span class="s0">,</span><span class="s1">&quot;trackDynamicDataInDynamicRender&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;NODE_ENV&quot;</span><span class="s0">,</span><span class="s1">&quot;makeDevtoolsIOAwarePromise&quot;</span><span class="s0">,</span><span class="s1">&quot;throwForMissingRequestStore&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAsBgBA;;;eAAAA;;;0CAtBiB;8CAI1B;kCAKA;yCAC+B;uCAI/B;uBACyC;AAOzC,SAASA;IACd,MAAMC,oBAAoB;IAC1B,MAAMC,YAAYC,0CAAgB,CAACC,QAAQ;IAC3C,MAAMC,gBAAgBC,kDAAoB,CAACF,QAAQ;IAEnD,IAAIF,WAAW;QACb,IACEG,iBACAA,cAAcE,KAAK,KAAK,WACxB,CAACC,IAAAA,sCAA+B,KAChC;YACA,MAAM,qBAEL,CAFK,IAAIC,MACR,CAAC,MAAM,EAAEP,UAAUQ,KAAK,CAAC,6UAA6U,CAAC,GADnW,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;QAEA,IAAIR,UAAUS,WAAW,EAAE;YACzB,sEAAsE;YACtE,+CAA+C;YAC/C,OAAOC,QAAQC,OAAO,CAACC;QACzB;QAEA,IAAIZ,UAAUa,kBAAkB,EAAE;YAChC,MAAM,qBAEL,CAFK,IAAIC,8CAAqB,CAC7B,CAAC,MAAM,EAAEd,UAAUQ,KAAK,CAAC,oNAAoN,CAAC,GAD1O,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;QAEA,IAAIL,eAAe;YACjB,OAAQA,cAAcY,IAAI;gBACxB,KAAK;oBAAS;wBACZ,MAAMC,QAAQ,qBAEb,CAFa,IAAIT,MAChB,CAAC,MAAM,EAAEP,UAAUQ,KAAK,CAAC,kVAAkV,CAAC,GADhW,qBAAA;mCAAA;wCAAA;0CAAA;wBAEd;wBACAD,MAAMU,iBAAiB,CAACD,OAAOlB;wBAC/BE,UAAUkB,wBAAwB,KAAKF;wBACvC,MAAMA;oBACR;gBACA,KAAK;oBAAiB;wBACpB,qEAAqE;wBACrE,oEAAoE;wBACpE,4DAA4D;wBAC5D,MAAMA,QAAQ,qBAEb,CAFa,IAAIT,MAChB,CAAC,MAAM,EAAEP,UAAUQ,KAAK,CAAC,iXAAiX,CAAC,GAD/X,qBAAA;mCAAA;wCAAA;0CAAA;wBAEd;wBACAD,MAAMU,iBAAiB,CAACD,OAAOlB;wBAC/BE,UAAUkB,wBAAwB,KAAKF;wBACvC,MAAMA;oBACR;gBACA,KAAK;oBACH,MAAM,qBAEL,CAFK,IAAIT,MACR,CAAC,MAAM,EAAEP,UAAUQ,KAAK,CAAC,0XAA0X,CAAC,GADhZ,qBAAA;+BAAA;oCAAA;sCAAA;oBAEN;gBACF,KAAK;gBACL,KAAK;gBACL,KAAK;oBACH,oEAAoE;oBACpE,uBAAuB;oBACvB,OAAOW,IAAAA,yCAAkB,EACvBhB,cAAciB,YAAY,EAC1BpB,UAAUQ,KAAK,EACf;gBAEJ,KAAK;oBACH,sEAAsE;oBACtE,eAAe;oBACf,OAAOa,IAAAA,sCAAoB,EACzBrB,UAAUQ,KAAK,EACf,cACAL,cAAcmB,eAAe;gBAEjC,KAAK;oBACH,qEAAqE;oBACrE,aAAa;oBACb,OAAOC,IAAAA,kDAAgC,EACrC,cACAvB,WACAG;gBAEJ,KAAK;oBACHqB,IAAAA,iDAA+B,EAACrB;oBAChC,IAAIsB,QAAQC,GAAG,CAACC,QAAQ,KAAK,eAAe;wBAC1C,wEAAwE;wBACxE,8EAA8E;wBAC9E,4EAA4E;wBAC5E,OAAOC,IAAAA,iDAA0B,EAAChB;oBACpC,OAAO;wBACL,OAAOF,QAAQC,OAAO,CAACC;oBACzB;gBACF;oBACET;YACJ;QACF;IACF;IAEA,yEAAyE;IACzE0B,IAAAA,yDAA2B,EAAC9B;AAC9B&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>