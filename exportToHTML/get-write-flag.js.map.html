<html>
<head>
<title>get-write-flag.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
get-write-flag.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;get-write-flag.js&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/get-write-flag.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;AAAA,qDAAqD;AACrD,uDAAuD;AACvD,wDAAwD;AACxD,wDAAwD;AACxD,qDAAqD;AACrD,uDAAuD;AACvD,8CAA8C;;;;;;AAE9C,4CAAmB;AAEnB,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,iBAAiB,IAAI,OAAO,CAAC,QAAQ,CAAA;AAClE,MAAM,SAAS,GAAG,QAAQ,KAAK,OAAO,CAAA;AAEtC,qBAAqB;AACrB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,YAAE,CAAC,SAAS,CAAA;AACnD,MAAM,eAAe,GACnB,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC;IAC1C,YAAE,CAAC,SAAS,CAAC,eAAe;IAC5B,CAAC,CAAA;AACH,oBAAoB;AAEpB,MAAM,WAAW,GAAG,SAAS,IAAI,CAAC,CAAC,eAAe,CAAA;AAClD,MAAM,SAAS,GAAG,GAAG,GAAG,IAAI,CAAA;AAC5B,MAAM,QAAQ,GAAG,eAAe,GAAG,OAAO,GAAG,OAAO,GAAG,QAAQ,CAAA;AAClD,QAAA,YAAY,GACvB,CAAC,WAAW,CAAC,CAAC;IACZ,GAAG,EAAE,CAAC,GAAG;IACX,CAAC,CAAC,CAAC,IAAY,EAAE,EAAE,CAAC,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// Get the appropriate flag to use for creating files</span><span class="s3">\n</span><span class="s1">// We use fmap on Windows platforms for files less than</span><span class="s3">\n</span><span class="s1">// 512kb.  This is a fairly low limit, but avoids making</span><span class="s3">\n</span><span class="s1">// things slower in some cases.  Since most of what this</span><span class="s3">\n</span><span class="s1">// library is used for is extracting tarballs of many</span><span class="s3">\n</span><span class="s1">// relatively small files in npm packages and the like,</span><span class="s3">\n</span><span class="s1">// it can be a big boost on Windows platforms.</span><span class="s3">\n\n</span><span class="s1">import fs from 'fs'</span><span class="s3">\n\n</span><span class="s1">const platform = process.env.__FAKE_PLATFORM__ || process.platform</span><span class="s3">\n</span><span class="s1">const isWindows = platform === 'win32'</span><span class="s3">\n\n</span><span class="s1">/* c8 ignore start */</span><span class="s3">\n</span><span class="s1">const { O_CREAT, O_TRUNC, O_WRONLY } = fs.constants</span><span class="s3">\n</span><span class="s1">const UV_FS_O_FILEMAP =</span><span class="s3">\n  </span><span class="s1">Number(process.env.__FAKE_FS_O_FILENAME__) ||</span><span class="s3">\n  </span><span class="s1">fs.constants.UV_FS_O_FILEMAP ||</span><span class="s3">\n  </span><span class="s1">0</span><span class="s3">\n</span><span class="s1">/* c8 ignore stop */</span><span class="s3">\n\n</span><span class="s1">const fMapEnabled = isWindows &amp;&amp; !!UV_FS_O_FILEMAP</span><span class="s3">\n</span><span class="s1">const fMapLimit = 512 * 1024</span><span class="s3">\n</span><span class="s1">const fMapFlag = UV_FS_O_FILEMAP | O_TRUNC | O_CREAT | O_WRONLY</span><span class="s3">\n</span><span class="s1">export const getWriteFlag =</span><span class="s3">\n  </span><span class="s1">!fMapEnabled ?</span><span class="s3">\n    </span><span class="s1">() =&gt; 'w'</span><span class="s3">\n  </span><span class="s1">: (size: number) =&gt; (size &lt; fMapLimit ? fMapFlag : 'w')</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">]}</span></pre>
</body>
</html>