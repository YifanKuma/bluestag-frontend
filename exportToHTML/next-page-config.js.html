<html>
<head>
<title>next-page-config.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #067d17;}
.s1 { color: #080808;}
.s2 { color: #0033b3;}
.s3 { color: #8c8c8c; font-style: italic;}
.s4 { color: #1750eb;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
next-page-config.js</font>
</center></td></tr></table>
<pre><span class="s0">&quot;use strict&quot;</span><span class="s1">;</span>
<span class="s1">Object.defineProperty(exports, </span><span class="s0">&quot;__esModule&quot;</span><span class="s1">, {</span>
    <span class="s1">value: </span><span class="s2">true</span>
<span class="s1">});</span>
<span class="s1">Object.defineProperty(exports, </span><span class="s3">// config to parsing pageConfig for client bundles</span>
<span class="s0">&quot;default&quot;</span><span class="s1">, {</span>
    <span class="s1">enumerable: </span><span class="s2">true</span><span class="s1">,</span>
    <span class="s1">get: </span><span class="s2">function</span><span class="s1">() {</span>
        <span class="s2">return </span><span class="s1">nextPageConfig;</span>
    <span class="s1">}</span>
<span class="s1">});</span>
<span class="s2">const </span><span class="s1">_core = require(</span><span class="s0">&quot;next/dist/compiled/babel/core&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">_constants = require(</span><span class="s0">&quot;../../../shared/lib/constants&quot;</span><span class="s1">);</span>
<span class="s2">const </span><span class="s1">CONFIG_KEY = </span><span class="s0">'config'</span><span class="s1">;</span>
<span class="s3">// replace program path with just a variable with the drop identifier</span>
<span class="s2">function </span><span class="s1">replaceBundle(path, t) {</span>
    <span class="s1">path.parentPath.replaceWith(t.program([</span>
        <span class="s1">t.variableDeclaration(</span><span class="s0">'const'</span><span class="s1">, [</span>
            <span class="s1">t.variableDeclarator(t.identifier(_constants.STRING_LITERAL_DROP_BUNDLE), t.stringLiteral(</span><span class="s0">`</span><span class="s1">${_constants.STRING_LITERAL_DROP_BUNDLE} ${Date.now()}</span><span class="s0">`</span><span class="s1">))</span>
        <span class="s1">])</span>
    <span class="s1">], []));</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">errorMessage(state, details) {</span>
    <span class="s2">const </span><span class="s1">pageName = (state.filename || </span><span class="s0">''</span><span class="s1">).split(state.cwd || </span><span class="s0">''</span><span class="s1">).pop() || </span><span class="s0">'unknown'</span><span class="s1">;</span>
    <span class="s2">return </span><span class="s0">`Invalid page config export found. </span><span class="s1">${details} </span><span class="s0">in file </span><span class="s1">${pageName}</span><span class="s0">. See: https://nextjs.org/docs/messages/invalid-page-config`</span><span class="s1">;</span>
<span class="s1">}</span>
<span class="s2">function </span><span class="s1">nextPageConfig({ types: t }) {</span>
    <span class="s2">return </span><span class="s1">{</span>
        <span class="s1">visitor: {</span>
            <span class="s1">Program: {</span>
                <span class="s1">enter (path, state) {</span>
                    <span class="s1">path.traverse({</span>
                        <span class="s1">ExportDeclaration (exportPath, exportState) {</span>
                            <span class="s2">var </span><span class="s1">_exportPath_node_specifiers;</span>
                            <span class="s2">if </span><span class="s1">(_core.types.isExportNamedDeclaration(exportPath.node) &amp;&amp; ((_exportPath_node_specifiers = exportPath.node.specifiers) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s4">0 </span><span class="s1">: _exportPath_node_specifiers.some((specifier)=&gt;{</span>
                                <span class="s2">return </span><span class="s1">(t.isIdentifier(specifier.exported) ? specifier.exported.name : specifier.exported.value) === CONFIG_KEY;</span>
                            <span class="s1">})) &amp;&amp; _core.types.isStringLiteral(exportPath.node.source)) {</span>
                                <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(errorMessage(exportState, </span><span class="s0">'Expected object but got export from'</span><span class="s1">)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                                    <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                                    <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                                    <span class="s1">configurable: </span><span class="s2">true</span>
                                <span class="s1">});</span>
                            <span class="s1">}</span>
                        <span class="s1">},</span>
                        <span class="s1">ExportNamedDeclaration (exportPath, exportState) {</span>
                            <span class="s2">var </span><span class="s1">_exportPath_node_declaration, _exportPath_scope_getBinding;</span>
                            <span class="s2">if </span><span class="s1">(exportState.bundleDropped || !exportPath.node.declaration &amp;&amp; exportPath.node.specifiers.length === </span><span class="s4">0</span><span class="s1">) {</span>
                                <span class="s2">return</span><span class="s1">;</span>
                            <span class="s1">}</span>
                            <span class="s2">const </span><span class="s1">config = {};</span>
                            <span class="s2">const </span><span class="s1">declarations = [</span>
                                <span class="s1">...((_exportPath_node_declaration = exportPath.node.declaration) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s4">0 </span><span class="s1">: _exportPath_node_declaration.declarations) || [],</span>
                                <span class="s1">(_exportPath_scope_getBinding = exportPath.scope.getBinding(CONFIG_KEY)) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s4">0 </span><span class="s1">: _exportPath_scope_getBinding.path.node</span>
                            <span class="s1">].filter(Boolean);</span>
                            <span class="s2">for </span><span class="s1">(</span><span class="s2">const </span><span class="s1">specifier of exportPath.node.specifiers){</span>
                                <span class="s2">if </span><span class="s1">((t.isIdentifier(specifier.exported) ? specifier.exported.name : specifier.exported.value) === CONFIG_KEY) {</span>
                                    <span class="s3">// export {} from 'somewhere'</span>
                                    <span class="s2">if </span><span class="s1">(_core.types.isStringLiteral(exportPath.node.source)) {</span>
                                        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(errorMessage(exportState, </span><span class="s0">`Expected object but got import`</span><span class="s1">)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                                            <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                                            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                                            <span class="s1">configurable: </span><span class="s2">true</span>
                                        <span class="s1">});</span>
                                    <span class="s3">// import hello from 'world'</span>
                                    <span class="s3">// export { hello as config }</span>
                                    <span class="s1">} </span><span class="s2">else if </span><span class="s1">(_core.types.isIdentifier(specifier.local)) {</span>
                                        <span class="s2">var </span><span class="s1">_exportPath_scope_getBinding1;</span>
                                        <span class="s2">if </span><span class="s1">(_core.types.isImportSpecifier((_exportPath_scope_getBinding1 = exportPath.scope.getBinding(specifier.local.name)) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s4">0 </span><span class="s1">: _exportPath_scope_getBinding1.path.node)) {</span>
                                            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(errorMessage(exportState, </span><span class="s0">`Expected object but got import`</span><span class="s1">)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                                                <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                                                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                                                <span class="s1">configurable: </span><span class="s2">true</span>
                                            <span class="s1">});</span>
                                        <span class="s1">}</span>
                                    <span class="s1">}</span>
                                <span class="s1">}</span>
                            <span class="s1">}</span>
                            <span class="s2">for </span><span class="s1">(</span><span class="s2">const </span><span class="s1">declaration of declarations){</span>
                                <span class="s2">if </span><span class="s1">(!_core.types.isIdentifier(declaration.id, {</span>
                                    <span class="s1">name: CONFIG_KEY</span>
                                <span class="s1">})) {</span>
                                    <span class="s2">continue</span><span class="s1">;</span>
                                <span class="s1">}</span>
                                <span class="s2">let </span><span class="s1">{ init } = declaration;</span>
                                <span class="s2">if </span><span class="s1">(_core.types.isTSAsExpression(init)) {</span>
                                    <span class="s1">init = init.expression;</span>
                                <span class="s1">}</span>
                                <span class="s2">if </span><span class="s1">(!_core.types.isObjectExpression(init)) {</span>
                                    <span class="s2">const </span><span class="s1">got = init ? init.type : </span><span class="s0">'undefined'</span><span class="s1">;</span>
                                    <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(errorMessage(exportState, </span><span class="s0">`Expected object but got </span><span class="s1">${got}</span><span class="s0">`</span><span class="s1">)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                                        <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                                        <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                                        <span class="s1">configurable: </span><span class="s2">true</span>
                                    <span class="s1">});</span>
                                <span class="s1">}</span>
                                <span class="s2">for </span><span class="s1">(</span><span class="s2">const </span><span class="s1">prop of init.properties){</span>
                                    <span class="s2">if </span><span class="s1">(_core.types.isSpreadElement(prop)) {</span>
                                        <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(errorMessage(exportState, </span><span class="s0">`Property spread is not allowed`</span><span class="s1">)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                                            <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                                            <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                                            <span class="s1">configurable: </span><span class="s2">true</span>
                                        <span class="s1">});</span>
                                    <span class="s1">}</span>
                                    <span class="s2">const </span><span class="s1">{ name } = prop.key;</span>
                                    <span class="s2">if </span><span class="s1">(_core.types.isIdentifier(prop.key, {</span>
                                        <span class="s1">name: </span><span class="s0">'amp'</span>
                                    <span class="s1">})) {</span>
                                        <span class="s2">if </span><span class="s1">(!_core.types.isObjectProperty(prop)) {</span>
                                            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(errorMessage(exportState, </span><span class="s0">`Invalid property &quot;</span><span class="s1">${name}</span><span class="s0">&quot;`</span><span class="s1">)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                                                <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                                                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                                                <span class="s1">configurable: </span><span class="s2">true</span>
                                            <span class="s1">});</span>
                                        <span class="s1">}</span>
                                        <span class="s2">if </span><span class="s1">(!_core.types.isBooleanLiteral(prop.value) &amp;&amp; !_core.types.isStringLiteral(prop.value)) {</span>
                                            <span class="s2">throw </span><span class="s1">Object.defineProperty(</span><span class="s2">new </span><span class="s1">Error(errorMessage(exportState, </span><span class="s0">`Invalid value for &quot;</span><span class="s1">${name}</span><span class="s0">&quot;`</span><span class="s1">)), </span><span class="s0">&quot;__NEXT_ERROR_CODE&quot;</span><span class="s1">, {</span>
                                                <span class="s1">value: </span><span class="s0">&quot;E394&quot;</span><span class="s1">,</span>
                                                <span class="s1">enumerable: </span><span class="s2">false</span><span class="s1">,</span>
                                                <span class="s1">configurable: </span><span class="s2">true</span>
                                            <span class="s1">});</span>
                                        <span class="s1">}</span>
                                        <span class="s1">config.amp = prop.value.value;</span>
                                    <span class="s1">}</span>
                                <span class="s1">}</span>
                            <span class="s1">}</span>
                            <span class="s2">if </span><span class="s1">(config.amp === </span><span class="s2">true</span><span class="s1">) {</span>
                                <span class="s2">var </span><span class="s1">_exportState_file_opts, _exportState_file;</span>
                                <span class="s2">if </span><span class="s1">(!((_exportState_file = exportState.file) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s4">0 </span><span class="s1">: (_exportState_file_opts = _exportState_file.opts) == </span><span class="s2">null </span><span class="s1">? </span><span class="s2">void </span><span class="s4">0 </span><span class="s1">: _exportState_file_opts.caller.isDev)) {</span>
                                    <span class="s3">// don't replace bundle in development so HMR can track</span>
                                    <span class="s3">// dependencies and trigger reload when they are changed</span>
                                    <span class="s1">replaceBundle(exportPath, t);</span>
                                <span class="s1">}</span>
                                <span class="s1">exportState.bundleDropped = </span><span class="s2">true</span><span class="s1">;</span>
                                <span class="s2">return</span><span class="s1">;</span>
                            <span class="s1">}</span>
                        <span class="s1">}</span>
                    <span class="s1">}, state);</span>
                <span class="s1">}</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
    <span class="s1">};</span>
<span class="s1">}</span>

<span class="s3">//# sourceMappingURL=next-page-config.js.map</span></pre>
</body>
</html>