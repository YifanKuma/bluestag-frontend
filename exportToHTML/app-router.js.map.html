<html>
<head>
<title>app-router.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
app-router.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/client/components/app-router.tsx&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;'use client'</span><span class="s3">\n\n</span><span class="s1">import React, {</span><span class="s3">\n  </span><span class="s1">useEffect,</span><span class="s3">\n  </span><span class="s1">useMemo,</span><span class="s3">\n  </span><span class="s1">startTransition,</span><span class="s3">\n  </span><span class="s1">useInsertionEffect,</span><span class="s3">\n  </span><span class="s1">useDeferredValue,</span><span class="s3">\n</span><span class="s1">} from 'react'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">AppRouterContext,</span><span class="s3">\n  </span><span class="s1">LayoutRouterContext,</span><span class="s3">\n  </span><span class="s1">GlobalLayoutRouterContext,</span><span class="s3">\n</span><span class="s1">} from '../../shared/lib/app-router-context.shared-runtime'</span><span class="s3">\n</span><span class="s1">import type { CacheNode } from '../../shared/lib/app-router-context.shared-runtime'</span><span class="s3">\n</span><span class="s1">import { ACTION_RESTORE } from './router-reducer/router-reducer-types'</span><span class="s3">\n</span><span class="s1">import type { AppRouterState } from './router-reducer/router-reducer-types'</span><span class="s3">\n</span><span class="s1">import { createHrefFromUrl } from './router-reducer/create-href-from-url'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">SearchParamsContext,</span><span class="s3">\n  </span><span class="s1">PathnameContext,</span><span class="s3">\n  </span><span class="s1">PathParamsContext,</span><span class="s3">\n</span><span class="s1">} from '../../shared/lib/hooks-client-context.shared-runtime'</span><span class="s3">\n</span><span class="s1">import { dispatchAppRouterAction, useActionQueue } from './use-action-queue'</span><span class="s3">\n</span><span class="s1">import { isBot } from '../../shared/lib/router/utils/is-bot'</span><span class="s3">\n</span><span class="s1">import { addBasePath } from '../add-base-path'</span><span class="s3">\n</span><span class="s1">import { AppRouterAnnouncer } from './app-router-announcer'</span><span class="s3">\n</span><span class="s1">import { RedirectBoundary } from './redirect-boundary'</span><span class="s3">\n</span><span class="s1">import { findHeadInCache } from './router-reducer/reducers/find-head-in-cache'</span><span class="s3">\n</span><span class="s1">import { unresolvedThenable } from './unresolved-thenable'</span><span class="s3">\n</span><span class="s1">import { removeBasePath } from '../remove-base-path'</span><span class="s3">\n</span><span class="s1">import { hasBasePath } from '../has-base-path'</span><span class="s3">\n</span><span class="s1">import { getSelectedParams } from './router-reducer/compute-changed-path'</span><span class="s3">\n</span><span class="s1">import type { FlightRouterState } from '../../server/app-render/types'</span><span class="s3">\n</span><span class="s1">import { useNavFailureHandler } from './nav-failure-handler'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">dispatchTraverseAction,</span><span class="s3">\n  </span><span class="s1">publicAppRouterInstance,</span><span class="s3">\n  </span><span class="s1">type AppRouterActionQueue,</span><span class="s3">\n  </span><span class="s1">type GlobalErrorState,</span><span class="s3">\n</span><span class="s1">} from './app-router-instance'</span><span class="s3">\n</span><span class="s1">import { getRedirectTypeFromError, getURLFromRedirectError } from './redirect'</span><span class="s3">\n</span><span class="s1">import { isRedirectError, RedirectType } from './redirect-error'</span><span class="s3">\n</span><span class="s1">import { pingVisibleLinks } from './links'</span><span class="s3">\n</span><span class="s1">import RootErrorBoundary from './errors/root-error-boundary'</span><span class="s3">\n</span><span class="s1">import DefaultGlobalError from './builtin/global-error'</span><span class="s3">\n</span><span class="s1">import { RootLayoutBoundary } from '../../lib/framework/boundary-components'</span><span class="s3">\n\n</span><span class="s1">const globalMutable: {</span><span class="s3">\n  </span><span class="s1">pendingMpaPath?: string</span><span class="s3">\n</span><span class="s1">} = {}</span><span class="s3">\n\n</span><span class="s1">export function isExternalURL(url: URL) {</span><span class="s3">\n  </span><span class="s1">return url.origin !== window.location.origin</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Given a link href, constructs the URL that should be prefetched. Returns null</span><span class="s3">\n </span><span class="s1">* in cases where prefetching should be disabled, like external URLs, or</span><span class="s3">\n </span><span class="s1">* during development.</span><span class="s3">\n </span><span class="s1">* @param href The href passed to &lt;Link&gt;, router.prefetch(), or similar</span><span class="s3">\n </span><span class="s1">* @returns A URL object to prefetch, or null if prefetching should be disabled</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function createPrefetchURL(href: string): URL | null {</span><span class="s3">\n  </span><span class="s1">// Don't prefetch for bots as they don't navigate.</span><span class="s3">\n  </span><span class="s1">if (isBot(window.navigator.userAgent)) {</span><span class="s3">\n    </span><span class="s1">return null</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">let url: URL</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">url = new URL(addBasePath(href), window.location.href)</span><span class="s3">\n  </span><span class="s1">} catch (_) {</span><span class="s3">\n    </span><span class="s1">// TODO: Does this need to throw or can we just console.error instead? Does</span><span class="s3">\n    </span><span class="s1">// anyone rely on this throwing? (Seems unlikely.)</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\n      </span><span class="s1">`Cannot prefetch '${href}' because it cannot be converted to a URL.`</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Don't prefetch during development (improves compilation performance)</span><span class="s3">\n  </span><span class="s1">if (process.env.NODE_ENV === 'development') {</span><span class="s3">\n    </span><span class="s1">return null</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// External urls can't be prefetched in the same way.</span><span class="s3">\n  </span><span class="s1">if (isExternalURL(url)) {</span><span class="s3">\n    </span><span class="s1">return null</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return url</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function HistoryUpdater({</span><span class="s3">\n  </span><span class="s1">appRouterState,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">appRouterState: AppRouterState</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">useInsertionEffect(() =&gt; {</span><span class="s3">\n    </span><span class="s1">if (process.env.__NEXT_APP_NAV_FAIL_HANDLING) {</span><span class="s3">\n      </span><span class="s1">// clear pending URL as navigation is no longer</span><span class="s3">\n      </span><span class="s1">// in flight</span><span class="s3">\n      </span><span class="s1">window.next.__pendingUrl = undefined</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const { tree, pushRef, canonicalUrl } = appRouterState</span><span class="s3">\n    </span><span class="s1">const historyState = {</span><span class="s3">\n      </span><span class="s1">...(pushRef.preserveCustomHistoryState ? window.history.state : {}),</span><span class="s3">\n      </span><span class="s1">// Identifier is shortened intentionally.</span><span class="s3">\n      </span><span class="s1">// __NA is used to identify if the history entry can be handled by the app-router.</span><span class="s3">\n      </span><span class="s1">// __N is used to identify if the history entry can be handled by the old router.</span><span class="s3">\n      </span><span class="s1">__NA: true,</span><span class="s3">\n      </span><span class="s1">__PRIVATE_NEXTJS_INTERNALS_TREE: tree,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">pushRef.pendingPush &amp;&amp;</span><span class="s3">\n      </span><span class="s1">// Skip pushing an additional history entry if the canonicalUrl is the same as the current url.</span><span class="s3">\n      </span><span class="s1">// This mirrors the browser behavior for normal navigation.</span><span class="s3">\n      </span><span class="s1">createHrefFromUrl(new URL(window.location.href)) !== canonicalUrl</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// This intentionally mutates React state, pushRef is overwritten to ensure additional push/replace calls do not trigger an additional history entry.</span><span class="s3">\n      </span><span class="s1">pushRef.pendingPush = false</span><span class="s3">\n      </span><span class="s1">window.history.pushState(historyState, '', canonicalUrl)</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">window.history.replaceState(historyState, '', canonicalUrl)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, [appRouterState])</span><span class="s3">\n\n  </span><span class="s1">useEffect(() =&gt; {</span><span class="s3">\n    </span><span class="s1">// The Next-Url and the base tree may affect the result of a prefetch</span><span class="s3">\n    </span><span class="s1">// task. Re-prefetch all visible links with the updated values. In most</span><span class="s3">\n    </span><span class="s1">// cases, this will not result in any new network requests, only if</span><span class="s3">\n    </span><span class="s1">// the prefetch result actually varies on one of these inputs.</span><span class="s3">\n    </span><span class="s1">if (process.env.__NEXT_CLIENT_SEGMENT_CACHE) {</span><span class="s3">\n      </span><span class="s1">pingVisibleLinks(appRouterState.nextUrl, appRouterState.tree)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, [appRouterState.nextUrl, appRouterState.tree])</span><span class="s3">\n\n  </span><span class="s1">return null</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function createEmptyCacheNode(): CacheNode {</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">lazyData: null,</span><span class="s3">\n    </span><span class="s1">rsc: null,</span><span class="s3">\n    </span><span class="s1">prefetchRsc: null,</span><span class="s3">\n    </span><span class="s1">head: null,</span><span class="s3">\n    </span><span class="s1">prefetchHead: null,</span><span class="s3">\n    </span><span class="s1">parallelRoutes: new Map(),</span><span class="s3">\n    </span><span class="s1">loading: null,</span><span class="s3">\n    </span><span class="s1">navigatedAt: -1,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function copyNextJsInternalHistoryState(data: any) {</span><span class="s3">\n  </span><span class="s1">if (data == null) data = {}</span><span class="s3">\n  </span><span class="s1">const currentState = window.history.state</span><span class="s3">\n  </span><span class="s1">const __NA = currentState?.__NA</span><span class="s3">\n  </span><span class="s1">if (__NA) {</span><span class="s3">\n    </span><span class="s1">data.__NA = __NA</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const __PRIVATE_NEXTJS_INTERNALS_TREE =</span><span class="s3">\n    </span><span class="s1">currentState?.__PRIVATE_NEXTJS_INTERNALS_TREE</span><span class="s3">\n  </span><span class="s1">if (__PRIVATE_NEXTJS_INTERNALS_TREE) {</span><span class="s3">\n    </span><span class="s1">data.__PRIVATE_NEXTJS_INTERNALS_TREE = __PRIVATE_NEXTJS_INTERNALS_TREE</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return data</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function Head({</span><span class="s3">\n  </span><span class="s1">headCacheNode,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">headCacheNode: CacheNode | null</span><span class="s3">\n</span><span class="s1">}): React.ReactNode {</span><span class="s3">\n  </span><span class="s1">// If this segment has a `prefetchHead`, it's the statically prefetched data.</span><span class="s3">\n  </span><span class="s1">// We should use that on initial render instead of `head`. Then we'll switch</span><span class="s3">\n  </span><span class="s1">// to `head` when the dynamic response streams in.</span><span class="s3">\n  </span><span class="s1">const head = headCacheNode !== null ? headCacheNode.head : null</span><span class="s3">\n  </span><span class="s1">const prefetchHead =</span><span class="s3">\n    </span><span class="s1">headCacheNode !== null ? headCacheNode.prefetchHead : null</span><span class="s3">\n\n  </span><span class="s1">// If no prefetch data is available, then we go straight to rendering `head`.</span><span class="s3">\n  </span><span class="s1">const resolvedPrefetchRsc = prefetchHead !== null ? prefetchHead : head</span><span class="s3">\n\n  </span><span class="s1">// We use `useDeferredValue` to handle switching between the prefetched and</span><span class="s3">\n  </span><span class="s1">// final values. The second argument is returned on initial render, then it</span><span class="s3">\n  </span><span class="s1">// re-renders with the first argument.</span><span class="s3">\n  </span><span class="s1">return useDeferredValue(head, resolvedPrefetchRsc)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The global router that wraps the application components.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function Router({</span><span class="s3">\n  </span><span class="s1">actionQueue,</span><span class="s3">\n  </span><span class="s1">assetPrefix,</span><span class="s3">\n  </span><span class="s1">globalError,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">actionQueue: AppRouterActionQueue</span><span class="s3">\n  </span><span class="s1">assetPrefix: string</span><span class="s3">\n  </span><span class="s1">globalError: GlobalErrorState</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">const state = useActionQueue(actionQueue)</span><span class="s3">\n  </span><span class="s1">const { canonicalUrl } = state</span><span class="s3">\n  </span><span class="s1">// Add memoized pathname/query for useSearchParams and usePathname.</span><span class="s3">\n  </span><span class="s1">const { searchParams, pathname } = useMemo(() =&gt; {</span><span class="s3">\n    </span><span class="s1">const url = new URL(</span><span class="s3">\n      </span><span class="s1">canonicalUrl,</span><span class="s3">\n      </span><span class="s1">typeof window === 'undefined' ? 'http://n' : window.location.href</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">// This is turned into a readonly class in `useSearchParams`</span><span class="s3">\n      </span><span class="s1">searchParams: url.searchParams,</span><span class="s3">\n      </span><span class="s1">pathname: hasBasePath(url.pathname)</span><span class="s3">\n        </span><span class="s1">? removeBasePath(url.pathname)</span><span class="s3">\n        </span><span class="s1">: url.pathname,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, [canonicalUrl])</span><span class="s3">\n\n  </span><span class="s1">if (process.env.NODE_ENV !== 'production') {</span><span class="s3">\n    </span><span class="s1">// eslint-disable-next-line react-hooks/rules-of-hooks</span><span class="s3">\n    </span><span class="s1">const { cache, prefetchCache, tree } = state</span><span class="s3">\n\n    </span><span class="s1">// This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes</span><span class="s3">\n    </span><span class="s1">// eslint-disable-next-line react-hooks/rules-of-hooks</span><span class="s3">\n    </span><span class="s1">useEffect(() =&gt; {</span><span class="s3">\n      </span><span class="s1">// Add `window.nd` for debugging purposes.</span><span class="s3">\n      </span><span class="s1">// This is not meant for use in applications as concurrent rendering will affect the cache/tree/router.</span><span class="s3">\n      </span><span class="s1">// @ts-ignore this is for debugging</span><span class="s3">\n      </span><span class="s1">window.nd = {</span><span class="s3">\n        </span><span class="s1">router: publicAppRouterInstance,</span><span class="s3">\n        </span><span class="s1">cache,</span><span class="s3">\n        </span><span class="s1">prefetchCache,</span><span class="s3">\n        </span><span class="s1">tree,</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}, [cache, prefetchCache, tree])</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">useEffect(() =&gt; {</span><span class="s3">\n    </span><span class="s1">// If the app is restored from bfcache, it's possible that</span><span class="s3">\n    </span><span class="s1">// pushRef.mpaNavigation is true, which would mean that any re-render of this component</span><span class="s3">\n    </span><span class="s1">// would trigger the mpa navigation logic again from the lines below.</span><span class="s3">\n    </span><span class="s1">// This will restore the router to the initial state in the event that the app is restored from bfcache.</span><span class="s3">\n    </span><span class="s1">function handlePageShow(event: PageTransitionEvent) {</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\n        </span><span class="s1">!event.persisted ||</span><span class="s3">\n        </span><span class="s1">!window.history.state?.__PRIVATE_NEXTJS_INTERNALS_TREE</span><span class="s3">\n      </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// Clear the pendingMpaPath value so that a subsequent MPA navigation to the same URL can be triggered.</span><span class="s3">\n      </span><span class="s1">// This is necessary because if the browser restored from bfcache, the pendingMpaPath would still be set to the value</span><span class="s3">\n      </span><span class="s1">// of the last MPA navigation.</span><span class="s3">\n      </span><span class="s1">globalMutable.pendingMpaPath = undefined</span><span class="s3">\n\n      </span><span class="s1">dispatchAppRouterAction({</span><span class="s3">\n        </span><span class="s1">type: ACTION_RESTORE,</span><span class="s3">\n        </span><span class="s1">url: new URL(window.location.href),</span><span class="s3">\n        </span><span class="s1">tree: window.history.state.__PRIVATE_NEXTJS_INTERNALS_TREE,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">window.addEventListener('pageshow', handlePageShow)</span><span class="s3">\n\n    </span><span class="s1">return () =&gt; {</span><span class="s3">\n      </span><span class="s1">window.removeEventListener('pageshow', handlePageShow)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, [])</span><span class="s3">\n\n  </span><span class="s1">useEffect(() =&gt; {</span><span class="s3">\n    </span><span class="s1">// Ensure that any redirect errors that bubble up outside of the RedirectBoundary</span><span class="s3">\n    </span><span class="s1">// are caught and handled by the router.</span><span class="s3">\n    </span><span class="s1">function handleUnhandledRedirect(</span><span class="s3">\n      </span><span class="s1">event: ErrorEvent | PromiseRejectionEvent</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">const error = 'reason' in event ? event.reason : event.error</span><span class="s3">\n      </span><span class="s1">if (isRedirectError(error)) {</span><span class="s3">\n        </span><span class="s1">event.preventDefault()</span><span class="s3">\n        </span><span class="s1">const url = getURLFromRedirectError(error)</span><span class="s3">\n        </span><span class="s1">const redirectType = getRedirectTypeFromError(error)</span><span class="s3">\n        </span><span class="s1">// TODO: This should access the router methods directly, rather than</span><span class="s3">\n        </span><span class="s1">// go through the public interface.</span><span class="s3">\n        </span><span class="s1">if (redirectType === RedirectType.push) {</span><span class="s3">\n          </span><span class="s1">publicAppRouterInstance.push(url, {})</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">publicAppRouterInstance.replace(url, {})</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">window.addEventListener('error', handleUnhandledRedirect)</span><span class="s3">\n    </span><span class="s1">window.addEventListener('unhandledrejection', handleUnhandledRedirect)</span><span class="s3">\n\n    </span><span class="s1">return () =&gt; {</span><span class="s3">\n      </span><span class="s1">window.removeEventListener('error', handleUnhandledRedirect)</span><span class="s3">\n      </span><span class="s1">window.removeEventListener('unhandledrejection', handleUnhandledRedirect)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, [])</span><span class="s3">\n\n  </span><span class="s1">// When mpaNavigation flag is set do a hard navigation to the new url.</span><span class="s3">\n  </span><span class="s1">// Infinitely suspend because we don't actually want to rerender any child</span><span class="s3">\n  </span><span class="s1">// components with the new URL and any entangled state updates shouldn't</span><span class="s3">\n  </span><span class="s1">// commit either (eg: useTransition isPending should stay true until the page</span><span class="s3">\n  </span><span class="s1">// unloads).</span><span class="s3">\n  </span><span class="s1">//</span><span class="s3">\n  </span><span class="s1">// This is a side effect in render. Don't try this at home, kids. It's</span><span class="s3">\n  </span><span class="s1">// probably safe because we know this is a singleton component and it's never</span><span class="s3">\n  </span><span class="s1">// in &lt;Offscreen&gt;. At least I hope so. (It will run twice in dev strict mode,</span><span class="s3">\n  </span><span class="s1">// but that's... fine?)</span><span class="s3">\n  </span><span class="s1">const { pushRef } = state</span><span class="s3">\n  </span><span class="s1">if (pushRef.mpaNavigation) {</span><span class="s3">\n    </span><span class="s1">// if there's a re-render, we don't want to trigger another redirect if one is already in flight to the same URL</span><span class="s3">\n    </span><span class="s1">if (globalMutable.pendingMpaPath !== canonicalUrl) {</span><span class="s3">\n      </span><span class="s1">const location = window.location</span><span class="s3">\n      </span><span class="s1">if (pushRef.pendingPush) {</span><span class="s3">\n        </span><span class="s1">location.assign(canonicalUrl)</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">location.replace(canonicalUrl)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">globalMutable.pendingMpaPath = canonicalUrl</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// TODO-APP: Should we listen to navigateerror here to catch failed</span><span class="s3">\n    </span><span class="s1">// navigations somehow? And should we call window.stop() if a SPA navigation</span><span class="s3">\n    </span><span class="s1">// should interrupt an MPA one?</span><span class="s3">\n    </span><span class="s1">// NOTE: This is intentionally using `throw` instead of `use` because we're</span><span class="s3">\n    </span><span class="s1">// inside an externally mutable condition (pushRef.mpaNavigation), which</span><span class="s3">\n    </span><span class="s1">// violates the rules of hooks.</span><span class="s3">\n    </span><span class="s1">throw unresolvedThenable</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">useEffect(() =&gt; {</span><span class="s3">\n    </span><span class="s1">const originalPushState = window.history.pushState.bind(window.history)</span><span class="s3">\n    </span><span class="s1">const originalReplaceState = window.history.replaceState.bind(</span><span class="s3">\n      </span><span class="s1">window.history</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">// Ensure the canonical URL in the Next.js Router is updated when the URL is changed so that `usePathname` and `useSearchParams` hold the pushed values.</span><span class="s3">\n    </span><span class="s1">const applyUrlFromHistoryPushReplace = (</span><span class="s3">\n      </span><span class="s1">url: string | URL | null | undefined</span><span class="s3">\n    </span><span class="s1">) =&gt; {</span><span class="s3">\n      </span><span class="s1">const href = window.location.href</span><span class="s3">\n      </span><span class="s1">const tree: FlightRouterState | undefined =</span><span class="s3">\n        </span><span class="s1">window.history.state?.__PRIVATE_NEXTJS_INTERNALS_TREE</span><span class="s3">\n\n      </span><span class="s1">startTransition(() =&gt; {</span><span class="s3">\n        </span><span class="s1">dispatchAppRouterAction({</span><span class="s3">\n          </span><span class="s1">type: ACTION_RESTORE,</span><span class="s3">\n          </span><span class="s1">url: new URL(url ?? href, href),</span><span class="s3">\n          </span><span class="s1">tree,</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Patch pushState to ensure external changes to the history are reflected in the Next.js Router.</span><span class="s3">\n     </span><span class="s1">* Ensures Next.js internal history state is copied to the new history entry.</span><span class="s3">\n     </span><span class="s1">* Ensures usePathname and useSearchParams hold the newly provided url.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">window.history.pushState = function pushState(</span><span class="s3">\n      </span><span class="s1">data: any,</span><span class="s3">\n      </span><span class="s1">_unused: string,</span><span class="s3">\n      </span><span class="s1">url?: string | URL | null</span><span class="s3">\n    </span><span class="s1">): void {</span><span class="s3">\n      </span><span class="s1">// Avoid a loop when Next.js internals trigger pushState/replaceState</span><span class="s3">\n      </span><span class="s1">if (data?.__NA || data?._N) {</span><span class="s3">\n        </span><span class="s1">return originalPushState(data, _unused, url)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">data = copyNextJsInternalHistoryState(data)</span><span class="s3">\n\n      </span><span class="s1">if (url) {</span><span class="s3">\n        </span><span class="s1">applyUrlFromHistoryPushReplace(url)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return originalPushState(data, _unused, url)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Patch replaceState to ensure external changes to the history are reflected in the Next.js Router.</span><span class="s3">\n     </span><span class="s1">* Ensures Next.js internal history state is copied to the new history entry.</span><span class="s3">\n     </span><span class="s1">* Ensures usePathname and useSearchParams hold the newly provided url.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">window.history.replaceState = function replaceState(</span><span class="s3">\n      </span><span class="s1">data: any,</span><span class="s3">\n      </span><span class="s1">_unused: string,</span><span class="s3">\n      </span><span class="s1">url?: string | URL | null</span><span class="s3">\n    </span><span class="s1">): void {</span><span class="s3">\n      </span><span class="s1">// Avoid a loop when Next.js internals trigger pushState/replaceState</span><span class="s3">\n      </span><span class="s1">if (data?.__NA || data?._N) {</span><span class="s3">\n        </span><span class="s1">return originalReplaceState(data, _unused, url)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">data = copyNextJsInternalHistoryState(data)</span><span class="s3">\n\n      </span><span class="s1">if (url) {</span><span class="s3">\n        </span><span class="s1">applyUrlFromHistoryPushReplace(url)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return originalReplaceState(data, _unused, url)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle popstate event, this is used to handle back/forward in the browser.</span><span class="s3">\n     </span><span class="s1">* By default dispatches ACTION_RESTORE, however if the history entry was not pushed/replaced by app-router it will reload the page.</span><span class="s3">\n     </span><span class="s1">* That case can happen when the old router injected the history entry.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">const onPopState = (event: PopStateEvent) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (!event.state) {</span><span class="s3">\n        </span><span class="s1">// TODO-APP: this case only happens when pushState/replaceState was called outside of Next.js. It should probably reload the page in this case.</span><span class="s3">\n        </span><span class="s1">return</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// This case happens when the history entry was pushed by the `pages` router.</span><span class="s3">\n      </span><span class="s1">if (!event.state.__NA) {</span><span class="s3">\n        </span><span class="s1">window.location.reload()</span><span class="s3">\n        </span><span class="s1">return</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// TODO-APP: Ideally the back button should not use startTransition as it should apply the updates synchronously</span><span class="s3">\n      </span><span class="s1">// Without startTransition works if the cache is there for this path</span><span class="s3">\n      </span><span class="s1">startTransition(() =&gt; {</span><span class="s3">\n        </span><span class="s1">dispatchTraverseAction(</span><span class="s3">\n          </span><span class="s1">window.location.href,</span><span class="s3">\n          </span><span class="s1">event.state.__PRIVATE_NEXTJS_INTERNALS_TREE</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Register popstate event to call onPopstate.</span><span class="s3">\n    </span><span class="s1">window.addEventListener('popstate', onPopState)</span><span class="s3">\n    </span><span class="s1">return () =&gt; {</span><span class="s3">\n      </span><span class="s1">window.history.pushState = originalPushState</span><span class="s3">\n      </span><span class="s1">window.history.replaceState = originalReplaceState</span><span class="s3">\n      </span><span class="s1">window.removeEventListener('popstate', onPopState)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, [])</span><span class="s3">\n\n  </span><span class="s1">const { cache, tree, nextUrl, focusAndScrollRef } = state</span><span class="s3">\n\n  </span><span class="s1">const matchingHead = useMemo(() =&gt; {</span><span class="s3">\n    </span><span class="s1">return findHeadInCache(cache, tree[1])</span><span class="s3">\n  </span><span class="s1">}, [cache, tree])</span><span class="s3">\n\n  </span><span class="s1">// Add memoized pathParams for useParams.</span><span class="s3">\n  </span><span class="s1">const pathParams = useMemo(() =&gt; {</span><span class="s3">\n    </span><span class="s1">return getSelectedParams(tree)</span><span class="s3">\n  </span><span class="s1">}, [tree])</span><span class="s3">\n\n  </span><span class="s1">const layoutRouterContext = useMemo(() =&gt; {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">parentTree: tree,</span><span class="s3">\n      </span><span class="s1">parentCacheNode: cache,</span><span class="s3">\n      </span><span class="s1">parentSegmentPath: null,</span><span class="s3">\n      </span><span class="s1">// Root node always has `url`</span><span class="s3">\n      </span><span class="s1">// Provided in AppTreeContext to ensure it can be overwritten in layout-router</span><span class="s3">\n      </span><span class="s1">url: canonicalUrl,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, [tree, cache, canonicalUrl])</span><span class="s3">\n\n  </span><span class="s1">const globalLayoutRouterContext = useMemo(() =&gt; {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">tree,</span><span class="s3">\n      </span><span class="s1">focusAndScrollRef,</span><span class="s3">\n      </span><span class="s1">nextUrl,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, [tree, focusAndScrollRef, nextUrl])</span><span class="s3">\n\n  </span><span class="s1">let head</span><span class="s3">\n  </span><span class="s1">if (matchingHead !== null) {</span><span class="s3">\n    </span><span class="s1">// The head is wrapped in an extra component so we can use</span><span class="s3">\n    </span><span class="s1">// `useDeferredValue` to swap between the prefetched and final versions of</span><span class="s3">\n    </span><span class="s1">// the head. (This is what LayoutRouter does for segment data, too.)</span><span class="s3">\n    </span><span class="s1">//</span><span class="s3">\n    </span><span class="s1">// The `key` is used to remount the component whenever the head moves to</span><span class="s3">\n    </span><span class="s1">// a different segment.</span><span class="s3">\n    </span><span class="s1">const [headCacheNode, headKey, headKeyWithoutSearchParams] = matchingHead</span><span class="s3">\n\n    </span><span class="s1">head = (</span><span class="s3">\n      </span><span class="s1">&lt;Head</span><span class="s3">\n        </span><span class="s1">key={</span><span class="s3">\n          </span><span class="s1">// Necessary for PPR: omit search params from the key to match prerendered keys</span><span class="s3">\n          </span><span class="s1">typeof window === 'undefined' ? headKeyWithoutSearchParams : headKey</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">headCacheNode={headCacheNode}</span><span class="s3">\n      </span><span class="s1">/&gt;</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">head = null</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">let content = (</span><span class="s3">\n    </span><span class="s1">&lt;RedirectBoundary&gt;</span><span class="s3">\n      </span><span class="s1">{head}</span><span class="s3">\n      </span><span class="s1">{/* RootLayoutBoundary enables detection of Suspense boundaries around the root layout.</span><span class="s3">\n          </span><span class="s1">When users wrap their layout in &lt;Suspense&gt;, this creates the component stack pattern</span><span class="s3">\n          \&quot;</span><span class="s1">Suspense -&gt; RootLayoutBoundary</span><span class="s3">\&quot; </span><span class="s1">which dynamic-rendering.ts uses to allow dynamic rendering. */}</span><span class="s3">\n      </span><span class="s1">&lt;RootLayoutBoundary&gt;{cache.rsc}&lt;/RootLayoutBoundary&gt;</span><span class="s3">\n      </span><span class="s1">&lt;AppRouterAnnouncer tree={tree} /&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/RedirectBoundary&gt;</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">if (process.env.NODE_ENV !== 'production') {</span><span class="s3">\n    </span><span class="s1">// In development, we apply few error boundaries and hot-reloader:</span><span class="s3">\n    </span><span class="s1">// - DevRootHTTPAccessFallbackBoundary: avoid using navigation API like notFound() in root layout</span><span class="s3">\n    </span><span class="s1">// - HotReloader:</span><span class="s3">\n    </span><span class="s1">//  - hot-reload the app when the code changes</span><span class="s3">\n    </span><span class="s1">//  - render dev overlay</span><span class="s3">\n    </span><span class="s1">//  - catch runtime errors and display global-error when necessary</span><span class="s3">\n    </span><span class="s1">if (typeof window !== 'undefined') {</span><span class="s3">\n      </span><span class="s1">const { DevRootHTTPAccessFallbackBoundary } =</span><span class="s3">\n        </span><span class="s1">require('./dev-root-http-access-fallback-boundary') as typeof import('./dev-root-http-access-fallback-boundary')</span><span class="s3">\n      </span><span class="s1">content = (</span><span class="s3">\n        </span><span class="s1">&lt;DevRootHTTPAccessFallbackBoundary&gt;</span><span class="s3">\n          </span><span class="s1">{content}</span><span class="s3">\n        </span><span class="s1">&lt;/DevRootHTTPAccessFallbackBoundary&gt;</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const HotReloader: typeof import('../dev/hot-reloader/app/hot-reloader-app').default =</span><span class="s3">\n      </span><span class="s1">(</span><span class="s3">\n        </span><span class="s1">require('../dev/hot-reloader/app/hot-reloader-app') as typeof import('../dev/hot-reloader/app/hot-reloader-app')</span><span class="s3">\n      </span><span class="s1">).default</span><span class="s3">\n\n    </span><span class="s1">content = (</span><span class="s3">\n      </span><span class="s1">&lt;HotReloader assetPrefix={assetPrefix} globalError={globalError}&gt;</span><span class="s3">\n        </span><span class="s1">{content}</span><span class="s3">\n      </span><span class="s1">&lt;/HotReloader&gt;</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">content = (</span><span class="s3">\n      </span><span class="s1">&lt;RootErrorBoundary</span><span class="s3">\n        </span><span class="s1">errorComponent={globalError[0]}</span><span class="s3">\n        </span><span class="s1">errorStyles={globalError[1]}</span><span class="s3">\n      </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">{content}</span><span class="s3">\n      </span><span class="s1">&lt;/RootErrorBoundary&gt;</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return (</span><span class="s3">\n    </span><span class="s1">&lt;&gt;</span><span class="s3">\n      </span><span class="s1">&lt;HistoryUpdater appRouterState={state} /&gt;</span><span class="s3">\n      </span><span class="s1">&lt;RuntimeStyles /&gt;</span><span class="s3">\n      </span><span class="s1">&lt;PathParamsContext.Provider value={pathParams}&gt;</span><span class="s3">\n        </span><span class="s1">&lt;PathnameContext.Provider value={pathname}&gt;</span><span class="s3">\n          </span><span class="s1">&lt;SearchParamsContext.Provider value={searchParams}&gt;</span><span class="s3">\n            </span><span class="s1">&lt;GlobalLayoutRouterContext.Provider</span><span class="s3">\n              </span><span class="s1">value={globalLayoutRouterContext}</span><span class="s3">\n            </span><span class="s1">&gt;</span><span class="s3">\n              </span><span class="s1">{/* TODO: We should be able to remove this context. useRouter</span><span class="s3">\n                  </span><span class="s1">should import from app-router-instance instead. It's only</span><span class="s3">\n                  </span><span class="s1">necessary because useRouter is shared between Pages and</span><span class="s3">\n                  </span><span class="s1">App Router. We should fork that module, then remove this</span><span class="s3">\n                  </span><span class="s1">context provider. */}</span><span class="s3">\n              </span><span class="s1">&lt;AppRouterContext.Provider value={publicAppRouterInstance}&gt;</span><span class="s3">\n                </span><span class="s1">&lt;LayoutRouterContext.Provider value={layoutRouterContext}&gt;</span><span class="s3">\n                  </span><span class="s1">{content}</span><span class="s3">\n                </span><span class="s1">&lt;/LayoutRouterContext.Provider&gt;</span><span class="s3">\n              </span><span class="s1">&lt;/AppRouterContext.Provider&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/GlobalLayoutRouterContext.Provider&gt;</span><span class="s3">\n          </span><span class="s1">&lt;/SearchParamsContext.Provider&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/PathnameContext.Provider&gt;</span><span class="s3">\n      </span><span class="s1">&lt;/PathParamsContext.Provider&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/&gt;</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function AppRouter({</span><span class="s3">\n  </span><span class="s1">actionQueue,</span><span class="s3">\n  </span><span class="s1">globalErrorState,</span><span class="s3">\n  </span><span class="s1">assetPrefix,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">actionQueue: AppRouterActionQueue</span><span class="s3">\n  </span><span class="s1">globalErrorState: GlobalErrorState</span><span class="s3">\n  </span><span class="s1">assetPrefix: string</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">useNavFailureHandler()</span><span class="s3">\n\n  </span><span class="s1">const router = (</span><span class="s3">\n    </span><span class="s1">&lt;Router</span><span class="s3">\n      </span><span class="s1">actionQueue={actionQueue}</span><span class="s3">\n      </span><span class="s1">assetPrefix={assetPrefix}</span><span class="s3">\n      </span><span class="s1">globalError={globalErrorState}</span><span class="s3">\n    </span><span class="s1">/&gt;</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n\n  </span><span class="s1">// At the very top level, use the default GlobalError component as the final fallback.</span><span class="s3">\n  </span><span class="s1">// When the app router itself fails, which means the framework itself fails, we show the default error.</span><span class="s3">\n  </span><span class="s1">return (</span><span class="s3">\n    </span><span class="s1">&lt;RootErrorBoundary errorComponent={DefaultGlobalError}&gt;</span><span class="s3">\n      </span><span class="s1">{router}</span><span class="s3">\n    </span><span class="s1">&lt;/RootErrorBoundary&gt;</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const runtimeStyles = new Set&lt;string&gt;()</span><span class="s3">\n</span><span class="s1">let runtimeStyleChanged = new Set&lt;() =&gt; void&gt;()</span><span class="s3">\n\n</span><span class="s1">globalThis._N_E_STYLE_LOAD = function (href: string) {</span><span class="s3">\n  </span><span class="s1">let len = runtimeStyles.size</span><span class="s3">\n  </span><span class="s1">runtimeStyles.add(href)</span><span class="s3">\n  </span><span class="s1">if (runtimeStyles.size !== len) {</span><span class="s3">\n    </span><span class="s1">runtimeStyleChanged.forEach((cb) =&gt; cb())</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">// TODO figure out how to get a promise here</span><span class="s3">\n  </span><span class="s1">// But maybe it's not necessary as react would block rendering until it's loaded</span><span class="s3">\n  </span><span class="s1">return Promise.resolve()</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function RuntimeStyles() {</span><span class="s3">\n  </span><span class="s1">const [, forceUpdate] = React.useState(0)</span><span class="s3">\n  </span><span class="s1">const renderedStylesSize = runtimeStyles.size</span><span class="s3">\n  </span><span class="s1">useEffect(() =&gt; {</span><span class="s3">\n    </span><span class="s1">const changed = () =&gt; forceUpdate((c) =&gt; c + 1)</span><span class="s3">\n    </span><span class="s1">runtimeStyleChanged.add(changed)</span><span class="s3">\n    </span><span class="s1">if (renderedStylesSize !== runtimeStyles.size) {</span><span class="s3">\n      </span><span class="s1">changed()</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return () =&gt; {</span><span class="s3">\n      </span><span class="s1">runtimeStyleChanged.delete(changed)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, [renderedStylesSize, forceUpdate])</span><span class="s3">\n\n  </span><span class="s1">const dplId = process.env.NEXT_DEPLOYMENT_ID</span><span class="s3">\n    </span><span class="s1">? `?dpl=${process.env.NEXT_DEPLOYMENT_ID}`</span><span class="s3">\n    </span><span class="s1">: ''</span><span class="s3">\n  </span><span class="s1">return [...runtimeStyles].map((href, i) =&gt; (</span><span class="s3">\n    </span><span class="s1">&lt;link</span><span class="s3">\n      </span><span class="s1">key={i}</span><span class="s3">\n      </span><span class="s1">rel=</span><span class="s3">\&quot;</span><span class="s1">stylesheet</span><span class="s3">\&quot;\n      </span><span class="s1">href={`${href}${dplId}`}</span><span class="s3">\n      </span><span class="s1">// @ts-ignore</span><span class="s3">\n      </span><span class="s1">precedence=</span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot;\n      </span><span class="s1">// TODO figure out crossOrigin and nonce</span><span class="s3">\n      </span><span class="s1">// crossOrigin={TODO}</span><span class="s3">\n      </span><span class="s1">// nonce={TODO}</span><span class="s3">\n    </span><span class="s1">/&gt;</span><span class="s3">\n  </span><span class="s1">))</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;createEmptyCacheNode&quot;</span><span class="s0">,</span><span class="s1">&quot;createPrefetchURL&quot;</span><span class="s0">,</span><span class="s1">&quot;AppRouter&quot;</span><span class="s0">,</span><span class="s1">&quot;isExternalURL&quot;</span><span class="s0">,</span><span class="s1">&quot;globalMutable&quot;</span><span class="s0">,</span><span class="s1">&quot;url&quot;</span><span class="s0">,</span><span class="s1">&quot;origin&quot;</span><span class="s0">,</span><span class="s1">&quot;window&quot;</span><span class="s0">,</span><span class="s1">&quot;location&quot;</span><span class="s0">,</span><span class="s1">&quot;href&quot;</span><span class="s0">,</span><span class="s1">&quot;isBot&quot;</span><span class="s0">,</span><span class="s1">&quot;navigator&quot;</span><span class="s0">,</span><span class="s1">&quot;userAgent&quot;</span><span class="s0">,</span><span class="s1">&quot;URL&quot;</span><span class="s0">,</span><span class="s1">&quot;addBasePath&quot;</span><span class="s0">,</span><span class="s1">&quot;_&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;NODE_ENV&quot;</span><span class="s0">,</span><span class="s1">&quot;HistoryUpdater&quot;</span><span class="s0">,</span><span class="s1">&quot;appRouterState&quot;</span><span class="s0">,</span><span class="s1">&quot;useInsertionEffect&quot;</span><span class="s0">,</span><span class="s1">&quot;__NEXT_APP_NAV_FAIL_HANDLING&quot;</span><span class="s0">,</span><span class="s1">&quot;next&quot;</span><span class="s0">,</span><span class="s1">&quot;__pendingUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;tree&quot;</span><span class="s0">,</span><span class="s1">&quot;pushRef&quot;</span><span class="s0">,</span><span class="s1">&quot;canonicalUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;historyState&quot;</span><span class="s0">,</span><span class="s1">&quot;preserveCustomHistoryState&quot;</span><span class="s0">,</span><span class="s1">&quot;history&quot;</span><span class="s0">,</span><span class="s1">&quot;state&quot;</span><span class="s0">,</span><span class="s1">&quot;__NA&quot;</span><span class="s0">,</span><span class="s1">&quot;__PRIVATE_NEXTJS_INTERNALS_TREE&quot;</span><span class="s0">,</span><span class="s1">&quot;pendingPush&quot;</span><span class="s0">,</span><span class="s1">&quot;createHrefFromUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;pushState&quot;</span><span class="s0">,</span><span class="s1">&quot;replaceState&quot;</span><span class="s0">,</span><span class="s1">&quot;useEffect&quot;</span><span class="s0">,</span><span class="s1">&quot;__NEXT_CLIENT_SEGMENT_CACHE&quot;</span><span class="s0">,</span><span class="s1">&quot;pingVisibleLinks&quot;</span><span class="s0">,</span><span class="s1">&quot;nextUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;lazyData&quot;</span><span class="s0">,</span><span class="s1">&quot;rsc&quot;</span><span class="s0">,</span><span class="s1">&quot;prefetchRsc&quot;</span><span class="s0">,</span><span class="s1">&quot;head&quot;</span><span class="s0">,</span><span class="s1">&quot;prefetchHead&quot;</span><span class="s0">,</span><span class="s1">&quot;parallelRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;Map&quot;</span><span class="s0">,</span><span class="s1">&quot;loading&quot;</span><span class="s0">,</span><span class="s1">&quot;navigatedAt&quot;</span><span class="s0">,</span><span class="s1">&quot;copyNextJsInternalHistoryState&quot;</span><span class="s0">,</span><span class="s1">&quot;data&quot;</span><span class="s0">,</span><span class="s1">&quot;currentState&quot;</span><span class="s0">,</span><span class="s1">&quot;Head&quot;</span><span class="s0">,</span><span class="s1">&quot;headCacheNode&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedPrefetchRsc&quot;</span><span class="s0">,</span><span class="s1">&quot;useDeferredValue&quot;</span><span class="s0">,</span><span class="s1">&quot;Router&quot;</span><span class="s0">,</span><span class="s1">&quot;actionQueue&quot;</span><span class="s0">,</span><span class="s1">&quot;assetPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;globalError&quot;</span><span class="s0">,</span><span class="s1">&quot;useActionQueue&quot;</span><span class="s0">,</span><span class="s1">&quot;searchParams&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;useMemo&quot;</span><span class="s0">,</span><span class="s1">&quot;hasBasePath&quot;</span><span class="s0">,</span><span class="s1">&quot;removeBasePath&quot;</span><span class="s0">,</span><span class="s1">&quot;cache&quot;</span><span class="s0">,</span><span class="s1">&quot;prefetchCache&quot;</span><span class="s0">,</span><span class="s1">&quot;nd&quot;</span><span class="s0">,</span><span class="s1">&quot;router&quot;</span><span class="s0">,</span><span class="s1">&quot;publicAppRouterInstance&quot;</span><span class="s0">,</span><span class="s1">&quot;handlePageShow&quot;</span><span class="s0">,</span><span class="s1">&quot;event&quot;</span><span class="s0">,</span><span class="s1">&quot;persisted&quot;</span><span class="s0">,</span><span class="s1">&quot;pendingMpaPath&quot;</span><span class="s0">,</span><span class="s1">&quot;dispatchAppRouterAction&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;ACTION_RESTORE&quot;</span><span class="s0">,</span><span class="s1">&quot;addEventListener&quot;</span><span class="s0">,</span><span class="s1">&quot;removeEventListener&quot;</span><span class="s0">,</span><span class="s1">&quot;handleUnhandledRedirect&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;reason&quot;</span><span class="s0">,</span><span class="s1">&quot;isRedirectError&quot;</span><span class="s0">,</span><span class="s1">&quot;preventDefault&quot;</span><span class="s0">,</span><span class="s1">&quot;getURLFromRedirectError&quot;</span><span class="s0">,</span><span class="s1">&quot;redirectType&quot;</span><span class="s0">,</span><span class="s1">&quot;getRedirectTypeFromError&quot;</span><span class="s0">,</span><span class="s1">&quot;RedirectType&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;mpaNavigation&quot;</span><span class="s0">,</span><span class="s1">&quot;assign&quot;</span><span class="s0">,</span><span class="s1">&quot;unresolvedThenable&quot;</span><span class="s0">,</span><span class="s1">&quot;originalPushState&quot;</span><span class="s0">,</span><span class="s1">&quot;bind&quot;</span><span class="s0">,</span><span class="s1">&quot;originalReplaceState&quot;</span><span class="s0">,</span><span class="s1">&quot;applyUrlFromHistoryPushReplace&quot;</span><span class="s0">,</span><span class="s1">&quot;startTransition&quot;</span><span class="s0">,</span><span class="s1">&quot;_unused&quot;</span><span class="s0">,</span><span class="s1">&quot;_N&quot;</span><span class="s0">,</span><span class="s1">&quot;onPopState&quot;</span><span class="s0">,</span><span class="s1">&quot;reload&quot;</span><span class="s0">,</span><span class="s1">&quot;dispatchTraverseAction&quot;</span><span class="s0">,</span><span class="s1">&quot;focusAndScrollRef&quot;</span><span class="s0">,</span><span class="s1">&quot;matchingHead&quot;</span><span class="s0">,</span><span class="s1">&quot;findHeadInCache&quot;</span><span class="s0">,</span><span class="s1">&quot;pathParams&quot;</span><span class="s0">,</span><span class="s1">&quot;getSelectedParams&quot;</span><span class="s0">,</span><span class="s1">&quot;layoutRouterContext&quot;</span><span class="s0">,</span><span class="s1">&quot;parentTree&quot;</span><span class="s0">,</span><span class="s1">&quot;parentCacheNode&quot;</span><span class="s0">,</span><span class="s1">&quot;parentSegmentPath&quot;</span><span class="s0">,</span><span class="s1">&quot;globalLayoutRouterContext&quot;</span><span class="s0">,</span><span class="s1">&quot;headKey&quot;</span><span class="s0">,</span><span class="s1">&quot;headKeyWithoutSearchParams&quot;</span><span class="s0">,</span><span class="s1">&quot;content&quot;</span><span class="s0">,</span><span class="s1">&quot;RedirectBoundary&quot;</span><span class="s0">,</span><span class="s1">&quot;RootLayoutBoundary&quot;</span><span class="s0">,</span><span class="s1">&quot;AppRouterAnnouncer&quot;</span><span class="s0">,</span><span class="s1">&quot;DevRootHTTPAccessFallbackBoundary&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;HotReloader&quot;</span><span class="s0">,</span><span class="s1">&quot;default&quot;</span><span class="s0">,</span><span class="s1">&quot;RootErrorBoundary&quot;</span><span class="s0">,</span><span class="s1">&quot;errorComponent&quot;</span><span class="s0">,</span><span class="s1">&quot;errorStyles&quot;</span><span class="s0">,</span><span class="s1">&quot;RuntimeStyles&quot;</span><span class="s0">,</span><span class="s1">&quot;PathParamsContext&quot;</span><span class="s0">,</span><span class="s1">&quot;Provider&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;PathnameContext&quot;</span><span class="s0">,</span><span class="s1">&quot;SearchParamsContext&quot;</span><span class="s0">,</span><span class="s1">&quot;GlobalLayoutRouterContext&quot;</span><span class="s0">,</span><span class="s1">&quot;AppRouterContext&quot;</span><span class="s0">,</span><span class="s1">&quot;LayoutRouterContext&quot;</span><span class="s0">,</span><span class="s1">&quot;globalErrorState&quot;</span><span class="s0">,</span><span class="s1">&quot;useNavFailureHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;DefaultGlobalError&quot;</span><span class="s0">,</span><span class="s1">&quot;runtimeStyles&quot;</span><span class="s0">,</span><span class="s1">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">&quot;runtimeStyleChanged&quot;</span><span class="s0">,</span><span class="s1">&quot;globalThis&quot;</span><span class="s0">,</span><span class="s1">&quot;_N_E_STYLE_LOAD&quot;</span><span class="s0">,</span><span class="s1">&quot;len&quot;</span><span class="s0">,</span><span class="s1">&quot;size&quot;</span><span class="s0">,</span><span class="s1">&quot;add&quot;</span><span class="s0">,</span><span class="s1">&quot;forEach&quot;</span><span class="s0">,</span><span class="s1">&quot;cb&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;forceUpdate&quot;</span><span class="s0">,</span><span class="s1">&quot;React&quot;</span><span class="s0">,</span><span class="s1">&quot;useState&quot;</span><span class="s0">,</span><span class="s1">&quot;renderedStylesSize&quot;</span><span class="s0">,</span><span class="s1">&quot;changed&quot;</span><span class="s0">,</span><span class="s1">&quot;c&quot;</span><span class="s0">,</span><span class="s1">&quot;delete&quot;</span><span class="s0">,</span><span class="s1">&quot;dplId&quot;</span><span class="s0">,</span><span class="s1">&quot;NEXT_DEPLOYMENT_ID&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;i&quot;</span><span class="s0">,</span><span class="s1">&quot;link&quot;</span><span class="s0">,</span><span class="s1">&quot;rel&quot;</span><span class="s0">,</span><span class="s1">&quot;precedence&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>