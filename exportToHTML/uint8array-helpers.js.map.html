<html>
<head>
<title>uint8array-helpers.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
uint8array-helpers.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/server/stream-utils/uint8array-helpers.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Find the starting index of Uint8Array `b` within Uint8Array `a`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function indexOfUint8Array(a: Uint8Array, b: Uint8Array) {</span><span class="s3">\n  </span><span class="s1">if (b.length === 0) return 0</span><span class="s3">\n  </span><span class="s1">if (a.length === 0 || b.length &gt; a.length) return -1</span><span class="s3">\n\n  </span><span class="s1">// start iterating through `a`</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt;= a.length - b.length; i++) {</span><span class="s3">\n    </span><span class="s1">let completeMatch = true</span><span class="s3">\n    </span><span class="s1">// from index `i`, iterate through `b` and check for mismatch</span><span class="s3">\n    </span><span class="s1">for (let j = 0; j &lt; b.length; j++) {</span><span class="s3">\n      </span><span class="s1">// if the values do not match, then this isn't a complete match, exit `b` iteration early and iterate to next index of `a`.</span><span class="s3">\n      </span><span class="s1">if (a[i + j] !== b[j]) {</span><span class="s3">\n        </span><span class="s1">completeMatch = false</span><span class="s3">\n        </span><span class="s1">break</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (completeMatch) {</span><span class="s3">\n      </span><span class="s1">return i</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return -1</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Check if two Uint8Arrays are strictly equivalent.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isEquivalentUint8Arrays(a: Uint8Array, b: Uint8Array) {</span><span class="s3">\n  </span><span class="s1">if (a.length !== b.length) return false</span><span class="s3">\n\n  </span><span class="s1">for (let i = 0; i &lt; a.length; i++) {</span><span class="s3">\n    </span><span class="s1">if (a[i] !== b[i]) return false</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return true</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Remove Uint8Array `b` from Uint8Array `a`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* If `b` is not in `a`, `a` is returned unchanged.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Otherwise, the function returns a new Uint8Array instance with size `a.length - b.length`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function removeFromUint8Array(a: Uint8Array, b: Uint8Array) {</span><span class="s3">\n  </span><span class="s1">const tagIndex = indexOfUint8Array(a, b)</span><span class="s3">\n  </span><span class="s1">if (tagIndex === 0) return a.subarray(b.length)</span><span class="s3">\n  </span><span class="s1">if (tagIndex &gt; -1) {</span><span class="s3">\n    </span><span class="s1">const removed = new Uint8Array(a.length - b.length)</span><span class="s3">\n    </span><span class="s1">removed.set(a.slice(0, tagIndex))</span><span class="s3">\n    </span><span class="s1">removed.set(a.slice(tagIndex + b.length), tagIndex)</span><span class="s3">\n    </span><span class="s1">return removed</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return a</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;indexOfUint8Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isEquivalentUint8Arrays&quot;</span><span class="s0">,</span><span class="s1">&quot;removeFromUint8Array&quot;</span><span class="s0">,</span><span class="s1">&quot;a&quot;</span><span class="s0">,</span><span class="s1">&quot;b&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;i&quot;</span><span class="s0">,</span><span class="s1">&quot;completeMatch&quot;</span><span class="s0">,</span><span class="s1">&quot;j&quot;</span><span class="s0">,</span><span class="s1">&quot;tagIndex&quot;</span><span class="s0">,</span><span class="s1">&quot;subarray&quot;</span><span class="s0">,</span><span class="s1">&quot;removed&quot;</span><span class="s0">,</span><span class="s1">&quot;Uint8Array&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA;;CAEC;;;;;;;;;;;;;;;;IACeA,iBAAiB;eAAjBA;;IA2BAC,uBAAuB;eAAvBA;;IAiBAC,oBAAoB;eAApBA;;;AA5CT,SAASF,kBAAkBG,CAAa,EAAEC,CAAa;IAC5D,IAAIA,EAAEC,MAAM,KAAK,GAAG,OAAO;IAC3B,IAAIF,EAAEE,MAAM,KAAK,KAAKD,EAAEC,MAAM,GAAGF,EAAEE,MAAM,EAAE,OAAO,CAAC;IAEnD,8BAA8B;IAC9B,IAAK,IAAIC,IAAI,GAAGA,KAAKH,EAAEE,MAAM,GAAGD,EAAEC,MAAM,EAAEC,IAAK;QAC7C,IAAIC,gBAAgB;QACpB,6DAA6D;QAC7D,IAAK,IAAIC,IAAI,GAAGA,IAAIJ,EAAEC,MAAM,EAAEG,IAAK;YACjC,2HAA2H;YAC3H,IAAIL,CAAC,CAACG,IAAIE,EAAE,KAAKJ,CAAC,CAACI,EAAE,EAAE;gBACrBD,gBAAgB;gBAChB;YACF;QACF;QAEA,IAAIA,eAAe;YACjB,OAAOD;QACT;IACF;IAEA,OAAO,CAAC;AACV;AAKO,SAASL,wBAAwBE,CAAa,EAAEC,CAAa;IAClE,IAAID,EAAEE,MAAM,KAAKD,EAAEC,MAAM,EAAE,OAAO;IAElC,IAAK,IAAIC,IAAI,GAAGA,IAAIH,EAAEE,MAAM,EAAEC,IAAK;QACjC,IAAIH,CAAC,CAACG,EAAE,KAAKF,CAAC,CAACE,EAAE,EAAE,OAAO;IAC5B;IAEA,OAAO;AACT;AASO,SAASJ,qBAAqBC,CAAa,EAAEC,CAAa;IAC/D,MAAMK,WAAWT,kBAAkBG,GAAGC;IACtC,IAAIK,aAAa,GAAG,OAAON,EAAEO,QAAQ,CAACN,EAAEC,MAAM;IAC9C,IAAII,WAAW,CAAC,GAAG;QACjB,MAAME,UAAU,IAAIC,WAAWT,EAAEE,MAAM,GAAGD,EAAEC,MAAM;QAClDM,QAAQE,GAAG,CAACV,EAAEW,KAAK,CAAC,GAAGL;QACvBE,QAAQE,GAAG,CAACV,EAAEW,KAAK,CAACL,WAAWL,EAAEC,MAAM,GAAGI;QAC1C,OAAOE;IACT,OAAO;QACL,OAAOR;IACT;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>