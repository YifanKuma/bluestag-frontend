<html>
<head>
<title>discover.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
discover.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../../src/build/webpack/loaders/metadata/discover.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type {</span><span class="s3">\n  </span><span class="s1">CollectingMetadata,</span><span class="s3">\n  </span><span class="s1">PossibleStaticMetadataFileNameConvention,</span><span class="s3">\n</span><span class="s1">} from './types'</span><span class="s3">\n</span><span class="s1">import path from 'path'</span><span class="s3">\n</span><span class="s1">import { stringify } from 'querystring'</span><span class="s3">\n</span><span class="s1">import { STATIC_METADATA_IMAGES } from '../../../../lib/metadata/is-metadata-route'</span><span class="s3">\n</span><span class="s1">import { WEBPACK_RESOURCE_QUERIES } from '../../../../lib/constants'</span><span class="s3">\n</span><span class="s1">import type { MetadataResolver } from '../next-app-loader'</span><span class="s3">\n</span><span class="s1">import type { PageExtensions } from '../../../page-extensions-type'</span><span class="s3">\n\n</span><span class="s1">const METADATA_TYPE = 'metadata'</span><span class="s3">\n</span><span class="s1">const NUMERIC_SUFFIX_ARRAY = Array(10).fill(0)</span><span class="s3">\n\n</span><span class="s1">// Produce all compositions with filename (icon, apple-icon, etc.) with extensions (png, jpg, etc.)</span><span class="s3">\n</span><span class="s1">async function enumMetadataFiles(</span><span class="s3">\n  </span><span class="s1">dir: string,</span><span class="s3">\n  </span><span class="s1">filename: string,</span><span class="s3">\n  </span><span class="s1">extensions: readonly string[],</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">metadataResolver,</span><span class="s3">\n    </span><span class="s1">// When set to true, possible filename without extension could: icon, icon0, ..., icon9</span><span class="s3">\n    </span><span class="s1">numericSuffix,</span><span class="s3">\n  </span><span class="s1">}: {</span><span class="s3">\n    </span><span class="s1">metadataResolver: MetadataResolver</span><span class="s3">\n    </span><span class="s1">numericSuffix: boolean</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">): Promise&lt;string[]&gt; {</span><span class="s3">\n  </span><span class="s1">const collectedFiles: string[] = []</span><span class="s3">\n\n  </span><span class="s1">// Collect &lt;filename&gt;.&lt;ext&gt;, &lt;filename&gt;[].&lt;ext&gt;</span><span class="s3">\n  </span><span class="s1">const possibleFileNames = [filename].concat(</span><span class="s3">\n    </span><span class="s1">numericSuffix</span><span class="s3">\n      </span><span class="s1">? NUMERIC_SUFFIX_ARRAY.map((_, index) =&gt; filename + index)</span><span class="s3">\n      </span><span class="s1">: []</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">for (const name of possibleFileNames) {</span><span class="s3">\n    </span><span class="s1">const resolved = await metadataResolver(dir, name, extensions)</span><span class="s3">\n    </span><span class="s1">if (resolved) {</span><span class="s3">\n      </span><span class="s1">collectedFiles.push(resolved)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return collectedFiles</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export async function createStaticMetadataFromRoute(</span><span class="s3">\n  </span><span class="s1">resolvedDir: string,</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">segment,</span><span class="s3">\n    </span><span class="s1">metadataResolver,</span><span class="s3">\n    </span><span class="s1">isRootLayoutOrRootPage,</span><span class="s3">\n    </span><span class="s1">pageExtensions,</span><span class="s3">\n    </span><span class="s1">basePath,</span><span class="s3">\n  </span><span class="s1">}: {</span><span class="s3">\n    </span><span class="s1">segment: string</span><span class="s3">\n    </span><span class="s1">metadataResolver: MetadataResolver</span><span class="s3">\n    </span><span class="s1">isRootLayoutOrRootPage: boolean</span><span class="s3">\n    </span><span class="s1">pageExtensions: PageExtensions</span><span class="s3">\n    </span><span class="s1">basePath: string</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">let hasStaticMetadataFiles = false</span><span class="s3">\n  </span><span class="s1">const staticImagesMetadata: CollectingMetadata = {</span><span class="s3">\n    </span><span class="s1">icon: [],</span><span class="s3">\n    </span><span class="s1">apple: [],</span><span class="s3">\n    </span><span class="s1">twitter: [],</span><span class="s3">\n    </span><span class="s1">openGraph: [],</span><span class="s3">\n    </span><span class="s1">manifest: undefined,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">async function collectIconModuleIfExists(</span><span class="s3">\n    </span><span class="s1">type: PossibleStaticMetadataFileNameConvention</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (type === 'manifest') {</span><span class="s3">\n      </span><span class="s1">const staticManifestExtension = ['webmanifest', 'json']</span><span class="s3">\n      </span><span class="s1">const manifestFile = await enumMetadataFiles(</span><span class="s3">\n        </span><span class="s1">resolvedDir,</span><span class="s3">\n        </span><span class="s1">'manifest',</span><span class="s3">\n        </span><span class="s1">staticManifestExtension.concat(pageExtensions),</span><span class="s3">\n        </span><span class="s1">{ metadataResolver, numericSuffix: false }</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">if (manifestFile.length &gt; 0) {</span><span class="s3">\n        </span><span class="s1">hasStaticMetadataFiles = true</span><span class="s3">\n        </span><span class="s1">const { name, ext } = path.parse(manifestFile[0])</span><span class="s3">\n        </span><span class="s1">const extension = staticManifestExtension.includes(ext.slice(1))</span><span class="s3">\n          </span><span class="s1">? ext.slice(1)</span><span class="s3">\n          </span><span class="s1">: 'webmanifest'</span><span class="s3">\n        </span><span class="s1">staticImagesMetadata.manifest = JSON.stringify(</span><span class="s3">\n          </span><span class="s1">`${basePath}/${name}.${extension}`</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const isFavicon = type === 'favicon'</span><span class="s3">\n    </span><span class="s1">const resolvedMetadataFiles = await enumMetadataFiles(</span><span class="s3">\n      </span><span class="s1">resolvedDir,</span><span class="s3">\n      </span><span class="s1">STATIC_METADATA_IMAGES[type].filename,</span><span class="s3">\n      </span><span class="s1">[</span><span class="s3">\n        </span><span class="s1">...STATIC_METADATA_IMAGES[type].extensions,</span><span class="s3">\n        </span><span class="s1">...(isFavicon ? [] : pageExtensions),</span><span class="s3">\n      </span><span class="s1">],</span><span class="s3">\n      </span><span class="s1">{ metadataResolver, numericSuffix: !isFavicon }</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">resolvedMetadataFiles</span><span class="s3">\n      </span><span class="s1">.sort((a, b) =&gt; a.localeCompare(b))</span><span class="s3">\n      </span><span class="s1">.forEach((filepath) =&gt; {</span><span class="s3">\n        </span><span class="s1">const imageModuleImportSource = `next-metadata-image-loader?${stringify(</span><span class="s3">\n          </span><span class="s1">{</span><span class="s3">\n            </span><span class="s1">type,</span><span class="s3">\n            </span><span class="s1">segment,</span><span class="s3">\n            </span><span class="s1">basePath,</span><span class="s3">\n            </span><span class="s1">pageExtensions,</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">// WEBPACK_RESOURCE_QUERIES.metadata query here only for filtering out applying to image loader</span><span class="s3">\n        </span><span class="s1">)}!${filepath}?${WEBPACK_RESOURCE_QUERIES.metadata}`</span><span class="s3">\n\n        </span><span class="s1">const imageModule = `(async (props) =&gt; (await import(/* webpackMode: </span><span class="s3">\&quot;</span><span class="s1">eager</span><span class="s3">\&quot; </span><span class="s1">*/ ${JSON.stringify(</span><span class="s3">\n          </span><span class="s1">imageModuleImportSource</span><span class="s3">\n        </span><span class="s1">)})).default(props))`</span><span class="s3">\n        </span><span class="s1">hasStaticMetadataFiles = true</span><span class="s3">\n        </span><span class="s1">if (type === 'favicon') {</span><span class="s3">\n          </span><span class="s1">staticImagesMetadata.icon.unshift(imageModule)</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">staticImagesMetadata[type].push(imageModule)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Intentionally make these serial to reuse directory access cache.</span><span class="s3">\n  </span><span class="s1">await collectIconModuleIfExists('icon')</span><span class="s3">\n  </span><span class="s1">await collectIconModuleIfExists('apple')</span><span class="s3">\n  </span><span class="s1">await collectIconModuleIfExists('openGraph')</span><span class="s3">\n  </span><span class="s1">await collectIconModuleIfExists('twitter')</span><span class="s3">\n  </span><span class="s1">if (isRootLayoutOrRootPage) {</span><span class="s3">\n    </span><span class="s1">await collectIconModuleIfExists('favicon')</span><span class="s3">\n    </span><span class="s1">await collectIconModuleIfExists('manifest')</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return hasStaticMetadataFiles ? staticImagesMetadata : null</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function createMetadataExportsCode(</span><span class="s3">\n  </span><span class="s1">metadata: Awaited&lt;ReturnType&lt;typeof createStaticMetadataFromRoute&gt;&gt;</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">return metadata</span><span class="s3">\n    </span><span class="s1">? `${METADATA_TYPE}: {</span><span class="s3">\n    </span><span class="s1">icon: [${metadata.icon.join(',')}],</span><span class="s3">\n    </span><span class="s1">apple: [${metadata.apple.join(',')}],</span><span class="s3">\n    </span><span class="s1">openGraph: [${metadata.openGraph.join(',')}],</span><span class="s3">\n    </span><span class="s1">twitter: [${metadata.twitter.join(',')}],</span><span class="s3">\n    </span><span class="s1">manifest: ${metadata.manifest ? metadata.manifest : 'undefined'}</span><span class="s3">\n  </span><span class="s1">}`</span><span class="s3">\n    </span><span class="s1">: ''</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;createMetadataExportsCode&quot;</span><span class="s0">,</span><span class="s1">&quot;createStaticMetadataFromRoute&quot;</span><span class="s0">,</span><span class="s1">&quot;METADATA_TYPE&quot;</span><span class="s0">,</span><span class="s1">&quot;NUMERIC_SUFFIX_ARRAY&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;fill&quot;</span><span class="s0">,</span><span class="s1">&quot;enumMetadataFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;dir&quot;</span><span class="s0">,</span><span class="s1">&quot;filename&quot;</span><span class="s0">,</span><span class="s1">&quot;extensions&quot;</span><span class="s0">,</span><span class="s1">&quot;metadataResolver&quot;</span><span class="s0">,</span><span class="s1">&quot;numericSuffix&quot;</span><span class="s0">,</span><span class="s1">&quot;collectedFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;possibleFileNames&quot;</span><span class="s0">,</span><span class="s1">&quot;concat&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;_&quot;</span><span class="s0">,</span><span class="s1">&quot;index&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;resolved&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedDir&quot;</span><span class="s0">,</span><span class="s1">&quot;segment&quot;</span><span class="s0">,</span><span class="s1">&quot;isRootLayoutOrRootPage&quot;</span><span class="s0">,</span><span class="s1">&quot;pageExtensions&quot;</span><span class="s0">,</span><span class="s1">&quot;basePath&quot;</span><span class="s0">,</span><span class="s1">&quot;hasStaticMetadataFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;staticImagesMetadata&quot;</span><span class="s0">,</span><span class="s1">&quot;icon&quot;</span><span class="s0">,</span><span class="s1">&quot;apple&quot;</span><span class="s0">,</span><span class="s1">&quot;twitter&quot;</span><span class="s0">,</span><span class="s1">&quot;openGraph&quot;</span><span class="s0">,</span><span class="s1">&quot;manifest&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;collectIconModuleIfExists&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;staticManifestExtension&quot;</span><span class="s0">,</span><span class="s1">&quot;manifestFile&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;ext&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;extension&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;isFavicon&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedMetadataFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;STATIC_METADATA_IMAGES&quot;</span><span class="s0">,</span><span class="s1">&quot;sort&quot;</span><span class="s0">,</span><span class="s1">&quot;a&quot;</span><span class="s0">,</span><span class="s1">&quot;b&quot;</span><span class="s0">,</span><span class="s1">&quot;localeCompare&quot;</span><span class="s0">,</span><span class="s1">&quot;forEach&quot;</span><span class="s0">,</span><span class="s1">&quot;filepath&quot;</span><span class="s0">,</span><span class="s1">&quot;imageModuleImportSource&quot;</span><span class="s0">,</span><span class="s1">&quot;WEBPACK_RESOURCE_QUERIES&quot;</span><span class="s0">,</span><span class="s1">&quot;metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;imageModule&quot;</span><span class="s0">,</span><span class="s1">&quot;unshift&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>