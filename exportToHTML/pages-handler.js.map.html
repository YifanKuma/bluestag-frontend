<html>
<head>
<title>pages-handler.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
pages-handler.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../src/server/route-modules/pages/pages-handler.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { IncomingMessage, ServerResponse } from 'node:http'</span><span class="s3">\n</span><span class="s1">import type { ParsedUrlQuery } from 'node:querystring'</span><span class="s3">\n</span><span class="s1">import { RouteKind } from '../../route-kind'</span><span class="s3">\n</span><span class="s1">import { BaseServerSpan } from '../../lib/trace/constants'</span><span class="s3">\n</span><span class="s1">import { getTracer, SpanKind, type Span } from '../../lib/trace/tracer'</span><span class="s3">\n</span><span class="s1">import { formatUrl } from '../../../shared/lib/router/utils/format-url'</span><span class="s3">\n</span><span class="s1">import { addRequestMeta, getRequestMeta } from '../../request-meta'</span><span class="s3">\n</span><span class="s1">import { interopDefault } from '../../app-render/interop-default'</span><span class="s3">\n</span><span class="s1">import { getRevalidateReason } from '../../instrumentation/utils'</span><span class="s3">\n</span><span class="s1">import { normalizeDataPath } from '../../../shared/lib/page-path/normalize-data-path'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">CachedRouteKind,</span><span class="s3">\n  </span><span class="s1">type CachedPageValue,</span><span class="s3">\n  </span><span class="s1">type CachedRedirectValue,</span><span class="s3">\n  </span><span class="s1">type ResponseCacheEntry,</span><span class="s3">\n  </span><span class="s1">type ResponseGenerator,</span><span class="s3">\n</span><span class="s1">} from '../../response-cache'</span><span class="s3">\n\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">getCacheControlHeader,</span><span class="s3">\n  </span><span class="s1">type CacheControl,</span><span class="s3">\n</span><span class="s1">} from '../../lib/cache-control'</span><span class="s3">\n</span><span class="s1">import { normalizeRepeatedSlashes } from '../../../shared/lib/utils'</span><span class="s3">\n</span><span class="s1">import { getRedirectStatus } from '../../../lib/redirect-status'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">CACHE_ONE_YEAR,</span><span class="s3">\n  </span><span class="s1">HTML_CONTENT_TYPE_HEADER,</span><span class="s3">\n  </span><span class="s1">JSON_CONTENT_TYPE_HEADER,</span><span class="s3">\n</span><span class="s1">} from '../../../lib/constants'</span><span class="s3">\n</span><span class="s1">import path from 'path'</span><span class="s3">\n</span><span class="s1">import { sendRenderResult } from '../../send-payload'</span><span class="s3">\n</span><span class="s1">import RenderResult from '../../render-result'</span><span class="s3">\n</span><span class="s1">import { toResponseCacheEntry } from '../../response-cache/utils'</span><span class="s3">\n</span><span class="s1">import { NoFallbackError } from '../../../shared/lib/no-fallback-error.external'</span><span class="s3">\n</span><span class="s1">import { RedirectStatusCode } from '../../../client/components/redirect-status-code'</span><span class="s3">\n</span><span class="s1">import { isBot } from '../../../shared/lib/router/utils/is-bot'</span><span class="s3">\n</span><span class="s1">import { addPathPrefix } from '../../../shared/lib/router/utils/add-path-prefix'</span><span class="s3">\n</span><span class="s1">import { removeTrailingSlash } from '../../../shared/lib/router/utils/remove-trailing-slash'</span><span class="s3">\n</span><span class="s1">import type { PagesRouteModule } from './module.compiled'</span><span class="s3">\n</span><span class="s1">import type {</span><span class="s3">\n  </span><span class="s1">GetServerSideProps,</span><span class="s3">\n  </span><span class="s1">GetStaticPaths,</span><span class="s3">\n  </span><span class="s1">GetStaticProps,</span><span class="s3">\n</span><span class="s1">} from '../../../types'</span><span class="s3">\n\n</span><span class="s1">export const getHandler = ({</span><span class="s3">\n  </span><span class="s1">srcPage: originalSrcPage,</span><span class="s3">\n  </span><span class="s1">config,</span><span class="s3">\n  </span><span class="s1">userland,</span><span class="s3">\n  </span><span class="s1">routeModule,</span><span class="s3">\n  </span><span class="s1">isFallbackError,</span><span class="s3">\n  </span><span class="s1">getStaticPaths,</span><span class="s3">\n  </span><span class="s1">getStaticProps,</span><span class="s3">\n  </span><span class="s1">getServerSideProps,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">srcPage: string</span><span class="s3">\n  </span><span class="s1">config: Record&lt;string, any&gt; | undefined</span><span class="s3">\n  </span><span class="s1">userland: any</span><span class="s3">\n  </span><span class="s1">isFallbackError?: boolean</span><span class="s3">\n  </span><span class="s1">routeModule: PagesRouteModule</span><span class="s3">\n  </span><span class="s1">getStaticProps?: GetStaticProps</span><span class="s3">\n  </span><span class="s1">getStaticPaths?: GetStaticPaths</span><span class="s3">\n  </span><span class="s1">getServerSideProps?: GetServerSideProps</span><span class="s3">\n</span><span class="s1">}) =&gt; {</span><span class="s3">\n  </span><span class="s1">return async function handler(</span><span class="s3">\n    </span><span class="s1">req: IncomingMessage,</span><span class="s3">\n    </span><span class="s1">res: ServerResponse,</span><span class="s3">\n    </span><span class="s1">ctx: {</span><span class="s3">\n      </span><span class="s1">waitUntil: (prom: Promise&lt;void&gt;) =&gt; void</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">): Promise&lt;void&gt; {</span><span class="s3">\n    </span><span class="s1">let srcPage = originalSrcPage</span><span class="s3">\n    </span><span class="s1">// turbopack doesn't normalize `/index` in the page name</span><span class="s3">\n    </span><span class="s1">// so we need to to process dynamic routes properly</span><span class="s3">\n    </span><span class="s1">// TODO: fix turbopack providing differing value from webpack</span><span class="s3">\n    </span><span class="s1">if (process.env.TURBOPACK) {</span><span class="s3">\n      </span><span class="s1">srcPage = srcPage.replace(/</span><span class="s3">\\</span><span class="s1">/index$/, '') || '/'</span><span class="s3">\n    </span><span class="s1">} else if (srcPage === '/index') {</span><span class="s3">\n      </span><span class="s1">// we always normalize /index specifically</span><span class="s3">\n      </span><span class="s1">srcPage = '/'</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const multiZoneDraftMode = process.env</span><span class="s3">\n      </span><span class="s1">.__NEXT_MULTI_ZONE_DRAFT_MODE as any as boolean</span><span class="s3">\n\n    </span><span class="s1">const prepareResult = await routeModule.prepare(req, res, {</span><span class="s3">\n      </span><span class="s1">srcPage,</span><span class="s3">\n      </span><span class="s1">multiZoneDraftMode,</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n\n    </span><span class="s1">if (!prepareResult) {</span><span class="s3">\n      </span><span class="s1">res.statusCode = 400</span><span class="s3">\n      </span><span class="s1">res.end('Bad Request')</span><span class="s3">\n      </span><span class="s1">ctx.waitUntil?.(Promise.resolve())</span><span class="s3">\n      </span><span class="s1">return</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const {</span><span class="s3">\n      </span><span class="s1">buildId,</span><span class="s3">\n      </span><span class="s1">query,</span><span class="s3">\n      </span><span class="s1">params,</span><span class="s3">\n      </span><span class="s1">parsedUrl,</span><span class="s3">\n      </span><span class="s1">originalQuery,</span><span class="s3">\n      </span><span class="s1">originalPathname,</span><span class="s3">\n      </span><span class="s1">buildManifest,</span><span class="s3">\n      </span><span class="s1">fallbackBuildManifest,</span><span class="s3">\n      </span><span class="s1">nextFontManifest,</span><span class="s3">\n      </span><span class="s1">serverFilesManifest,</span><span class="s3">\n      </span><span class="s1">reactLoadableManifest,</span><span class="s3">\n      </span><span class="s1">prerenderManifest,</span><span class="s3">\n      </span><span class="s1">isDraftMode,</span><span class="s3">\n      </span><span class="s1">isOnDemandRevalidate,</span><span class="s3">\n      </span><span class="s1">revalidateOnlyGenerated,</span><span class="s3">\n      </span><span class="s1">locale,</span><span class="s3">\n      </span><span class="s1">locales,</span><span class="s3">\n      </span><span class="s1">defaultLocale,</span><span class="s3">\n      </span><span class="s1">routerServerContext,</span><span class="s3">\n      </span><span class="s1">nextConfig,</span><span class="s3">\n      </span><span class="s1">resolvedPathname,</span><span class="s3">\n    </span><span class="s1">} = prepareResult</span><span class="s3">\n\n    </span><span class="s1">const isExperimentalCompile =</span><span class="s3">\n      </span><span class="s1">serverFilesManifest?.config?.experimental?.isExperimentalCompile</span><span class="s3">\n\n    </span><span class="s1">const hasServerProps = Boolean(getServerSideProps)</span><span class="s3">\n    </span><span class="s1">const hasStaticProps = Boolean(getStaticProps)</span><span class="s3">\n    </span><span class="s1">const hasStaticPaths = Boolean(getStaticPaths)</span><span class="s3">\n    </span><span class="s1">const hasGetInitialProps = Boolean(</span><span class="s3">\n      </span><span class="s1">(userland.default || userland).getInitialProps</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">const isAmp = query.amp &amp;&amp; config?.amp</span><span class="s3">\n    </span><span class="s1">let cacheKey: null | string = null</span><span class="s3">\n    </span><span class="s1">let isIsrFallback = false</span><span class="s3">\n    </span><span class="s1">let isNextDataRequest =</span><span class="s3">\n      </span><span class="s1">prepareResult.isNextDataRequest &amp;&amp; (hasStaticProps || hasServerProps)</span><span class="s3">\n\n    </span><span class="s1">const is404Page = srcPage === '/404'</span><span class="s3">\n    </span><span class="s1">const is500Page = srcPage === '/500'</span><span class="s3">\n    </span><span class="s1">const isErrorPage = srcPage === '/_error'</span><span class="s3">\n\n    </span><span class="s1">if (!routeModule.isDev &amp;&amp; !isDraftMode &amp;&amp; hasStaticProps) {</span><span class="s3">\n      </span><span class="s1">cacheKey = `${locale ? `/${locale}` : ''}${</span><span class="s3">\n        </span><span class="s1">(srcPage === '/' || resolvedPathname === '/') &amp;&amp; locale</span><span class="s3">\n          </span><span class="s1">? ''</span><span class="s3">\n          </span><span class="s1">: resolvedPathname</span><span class="s3">\n      </span><span class="s1">}${isAmp ? '.amp' : ''}`</span><span class="s3">\n\n      </span><span class="s1">if (is404Page || is500Page || isErrorPage) {</span><span class="s3">\n        </span><span class="s1">cacheKey = `${locale ? `/${locale}` : ''}${srcPage}${isAmp ? '.amp' : ''}`</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// ensure /index and / is normalized to one key</span><span class="s3">\n      </span><span class="s1">cacheKey = cacheKey === '/index' ? '/' : cacheKey</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (hasStaticPaths &amp;&amp; !isDraftMode) {</span><span class="s3">\n      </span><span class="s1">const decodedPathname = removeTrailingSlash(</span><span class="s3">\n        </span><span class="s1">locale</span><span class="s3">\n          </span><span class="s1">? addPathPrefix(resolvedPathname, `/${locale}`)</span><span class="s3">\n          </span><span class="s1">: resolvedPathname</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">const isPrerendered =</span><span class="s3">\n        </span><span class="s1">Boolean(prerenderManifest.routes[decodedPathname]) ||</span><span class="s3">\n        </span><span class="s1">prerenderManifest.notFoundRoutes.includes(decodedPathname)</span><span class="s3">\n\n      </span><span class="s1">const prerenderInfo = prerenderManifest.dynamicRoutes[srcPage]</span><span class="s3">\n\n      </span><span class="s1">if (prerenderInfo) {</span><span class="s3">\n        </span><span class="s1">if (prerenderInfo.fallback === false &amp;&amp; !isPrerendered) {</span><span class="s3">\n          </span><span class="s1">throw new NoFallbackError()</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (</span><span class="s3">\n          </span><span class="s1">typeof prerenderInfo.fallback === 'string' &amp;&amp;</span><span class="s3">\n          </span><span class="s1">!isPrerendered &amp;&amp;</span><span class="s3">\n          </span><span class="s1">!isNextDataRequest</span><span class="s3">\n        </span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">isIsrFallback = true</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// When serving a bot request, we want to serve a blocking render and not</span><span class="s3">\n    </span><span class="s1">// the prerendered page. This ensures that the correct content is served</span><span class="s3">\n    </span><span class="s1">// to the bot in the head.</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">(isIsrFallback &amp;&amp; isBot(req.headers['user-agent'] || '')) ||</span><span class="s3">\n      </span><span class="s1">getRequestMeta(req, 'minimalMode')</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">isIsrFallback = false</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const tracer = getTracer()</span><span class="s3">\n    </span><span class="s1">const activeSpan = tracer.getActiveScopeSpan()</span><span class="s3">\n\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">const method = req.method || 'GET'</span><span class="s3">\n\n      </span><span class="s1">const resolvedUrl = formatUrl({</span><span class="s3">\n        </span><span class="s1">pathname: nextConfig.trailingSlash</span><span class="s3">\n          </span><span class="s1">? parsedUrl.pathname</span><span class="s3">\n          </span><span class="s1">: removeTrailingSlash(parsedUrl.pathname || '/'),</span><span class="s3">\n        </span><span class="s1">// make sure to only add query values from original URL</span><span class="s3">\n        </span><span class="s1">query: hasStaticProps ? {} : originalQuery,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n\n      </span><span class="s1">const publicRuntimeConfig: Record&lt;string, string&gt; =</span><span class="s3">\n        </span><span class="s1">routerServerContext?.publicRuntimeConfig ||</span><span class="s3">\n        </span><span class="s1">nextConfig.publicRuntimeConfig</span><span class="s3">\n\n      </span><span class="s1">const handleResponse = async (span?: Span) =&gt; {</span><span class="s3">\n        </span><span class="s1">const responseGenerator: ResponseGenerator = async ({</span><span class="s3">\n          </span><span class="s1">previousCacheEntry,</span><span class="s3">\n        </span><span class="s1">}) =&gt; {</span><span class="s3">\n          </span><span class="s1">const doRender = async () =&gt; {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n              </span><span class="s1">return await routeModule</span><span class="s3">\n                </span><span class="s1">.render(req, res, {</span><span class="s3">\n                  </span><span class="s1">query:</span><span class="s3">\n                    </span><span class="s1">hasStaticProps &amp;&amp; !isExperimentalCompile</span><span class="s3">\n                      </span><span class="s1">? ({</span><span class="s3">\n                          </span><span class="s1">...params,</span><span class="s3">\n                          </span><span class="s1">...(isAmp</span><span class="s3">\n                            </span><span class="s1">? {</span><span class="s3">\n                                </span><span class="s1">amp: query.amp,</span><span class="s3">\n                              </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">: {}),</span><span class="s3">\n                        </span><span class="s1">} as ParsedUrlQuery)</span><span class="s3">\n                      </span><span class="s1">: {</span><span class="s3">\n                          </span><span class="s1">...query,</span><span class="s3">\n                          </span><span class="s1">...params,</span><span class="s3">\n                        </span><span class="s1">},</span><span class="s3">\n                  </span><span class="s1">params,</span><span class="s3">\n                  </span><span class="s1">page: srcPage,</span><span class="s3">\n                  </span><span class="s1">renderContext: {</span><span class="s3">\n                    </span><span class="s1">isDraftMode,</span><span class="s3">\n                    </span><span class="s1">isFallback: isIsrFallback,</span><span class="s3">\n                    </span><span class="s1">developmentNotFoundSourcePage: getRequestMeta(</span><span class="s3">\n                      </span><span class="s1">req,</span><span class="s3">\n                      </span><span class="s1">'developmentNotFoundSourcePage'</span><span class="s3">\n                    </span><span class="s1">),</span><span class="s3">\n                  </span><span class="s1">},</span><span class="s3">\n                  </span><span class="s1">sharedContext: {</span><span class="s3">\n                    </span><span class="s1">buildId,</span><span class="s3">\n                    </span><span class="s1">customServer:</span><span class="s3">\n                      </span><span class="s1">Boolean(routerServerContext?.isCustomServer) || undefined,</span><span class="s3">\n                    </span><span class="s1">deploymentId: process.env.NEXT_DEPLOYMENT_ID,</span><span class="s3">\n                  </span><span class="s1">},</span><span class="s3">\n                  </span><span class="s1">renderOpts: {</span><span class="s3">\n                    </span><span class="s1">params,</span><span class="s3">\n                    </span><span class="s1">routeModule,</span><span class="s3">\n                    </span><span class="s1">page: srcPage,</span><span class="s3">\n                    </span><span class="s1">pageConfig: config || {},</span><span class="s3">\n                    </span><span class="s1">Component: interopDefault(userland),</span><span class="s3">\n                    </span><span class="s1">ComponentMod: userland,</span><span class="s3">\n                    </span><span class="s1">getStaticProps,</span><span class="s3">\n                    </span><span class="s1">getStaticPaths,</span><span class="s3">\n                    </span><span class="s1">getServerSideProps,</span><span class="s3">\n                    </span><span class="s1">supportsDynamicResponse: !hasStaticProps,</span><span class="s3">\n                    </span><span class="s1">buildManifest: isFallbackError</span><span class="s3">\n                      </span><span class="s1">? fallbackBuildManifest</span><span class="s3">\n                      </span><span class="s1">: buildManifest,</span><span class="s3">\n                    </span><span class="s1">nextFontManifest,</span><span class="s3">\n                    </span><span class="s1">reactLoadableManifest,</span><span class="s3">\n\n                    </span><span class="s1">assetPrefix: nextConfig.assetPrefix,</span><span class="s3">\n                    </span><span class="s1">previewProps: prerenderManifest.preview,</span><span class="s3">\n                    </span><span class="s1">images: nextConfig.images as any,</span><span class="s3">\n                    </span><span class="s1">nextConfigOutput: nextConfig.output,</span><span class="s3">\n                    </span><span class="s1">optimizeCss: Boolean(nextConfig.experimental.optimizeCss),</span><span class="s3">\n                    </span><span class="s1">nextScriptWorkers: Boolean(</span><span class="s3">\n                      </span><span class="s1">nextConfig.experimental.nextScriptWorkers</span><span class="s3">\n                    </span><span class="s1">),</span><span class="s3">\n                    </span><span class="s1">domainLocales: nextConfig.i18n?.domains,</span><span class="s3">\n                    </span><span class="s1">crossOrigin: nextConfig.crossOrigin,</span><span class="s3">\n\n                    </span><span class="s1">multiZoneDraftMode,</span><span class="s3">\n                    </span><span class="s1">basePath: nextConfig.basePath,</span><span class="s3">\n                    </span><span class="s1">canonicalBase: nextConfig.amp.canonicalBase || '',</span><span class="s3">\n                    </span><span class="s1">ampOptimizerConfig: nextConfig.experimental.amp?.optimizer,</span><span class="s3">\n                    </span><span class="s1">disableOptimizedLoading:</span><span class="s3">\n                      </span><span class="s1">nextConfig.experimental.disableOptimizedLoading,</span><span class="s3">\n                    </span><span class="s1">largePageDataBytes:</span><span class="s3">\n                      </span><span class="s1">nextConfig.experimental.largePageDataBytes,</span><span class="s3">\n                    </span><span class="s1">// Only the `publicRuntimeConfig` key is exposed to the client side</span><span class="s3">\n                    </span><span class="s1">// It'll be rendered as part of __NEXT_DATA__ on the client side</span><span class="s3">\n                    </span><span class="s1">runtimeConfig:</span><span class="s3">\n                      </span><span class="s1">Object.keys(publicRuntimeConfig).length &gt; 0</span><span class="s3">\n                        </span><span class="s1">? publicRuntimeConfig</span><span class="s3">\n                        </span><span class="s1">: undefined,</span><span class="s3">\n\n                    </span><span class="s1">isExperimentalCompile,</span><span class="s3">\n\n                    </span><span class="s1">experimental: {</span><span class="s3">\n                      </span><span class="s1">clientTraceMetadata:</span><span class="s3">\n                        </span><span class="s1">nextConfig.experimental.clientTraceMetadata ||</span><span class="s3">\n                        </span><span class="s1">([] as any),</span><span class="s3">\n                    </span><span class="s1">},</span><span class="s3">\n\n                    </span><span class="s1">locale,</span><span class="s3">\n                    </span><span class="s1">locales,</span><span class="s3">\n                    </span><span class="s1">defaultLocale,</span><span class="s3">\n                    </span><span class="s1">setIsrStatus: routerServerContext?.setIsrStatus,</span><span class="s3">\n\n                    </span><span class="s1">isNextDataRequest:</span><span class="s3">\n                      </span><span class="s1">isNextDataRequest &amp;&amp; (hasServerProps || hasStaticProps),</span><span class="s3">\n\n                    </span><span class="s1">resolvedUrl,</span><span class="s3">\n                    </span><span class="s1">// For getServerSideProps and getInitialProps we need to ensure we use the original URL</span><span class="s3">\n                    </span><span class="s1">// and not the resolved URL to prevent a hydration mismatch on</span><span class="s3">\n                    </span><span class="s1">// asPath</span><span class="s3">\n                    </span><span class="s1">resolvedAsPath:</span><span class="s3">\n                      </span><span class="s1">hasServerProps || hasGetInitialProps</span><span class="s3">\n                        </span><span class="s1">? formatUrl({</span><span class="s3">\n                            </span><span class="s1">// we use the original URL pathname less the _next/data prefix if</span><span class="s3">\n                            </span><span class="s1">// present</span><span class="s3">\n                            </span><span class="s1">pathname: isNextDataRequest</span><span class="s3">\n                              </span><span class="s1">? normalizeDataPath(originalPathname)</span><span class="s3">\n                              </span><span class="s1">: originalPathname,</span><span class="s3">\n                            </span><span class="s1">query: originalQuery,</span><span class="s3">\n                          </span><span class="s1">})</span><span class="s3">\n                        </span><span class="s1">: resolvedUrl,</span><span class="s3">\n\n                    </span><span class="s1">isOnDemandRevalidate,</span><span class="s3">\n\n                    </span><span class="s1">ErrorDebug: getRequestMeta(req, 'PagesErrorDebug'),</span><span class="s3">\n                    </span><span class="s1">err: getRequestMeta(req, 'invokeError'),</span><span class="s3">\n                    </span><span class="s1">dev: routeModule.isDev,</span><span class="s3">\n\n                    </span><span class="s1">// needed for experimental.optimizeCss feature</span><span class="s3">\n                    </span><span class="s1">distDir: path.join(</span><span class="s3">\n                      </span><span class="s1">/* turbopackIgnore: true */</span><span class="s3">\n                      </span><span class="s1">process.cwd(),</span><span class="s3">\n                      </span><span class="s1">routeModule.relativeProjectDir,</span><span class="s3">\n                      </span><span class="s1">routeModule.distDir</span><span class="s3">\n                    </span><span class="s1">),</span><span class="s3">\n\n                    </span><span class="s1">ampSkipValidation:</span><span class="s3">\n                      </span><span class="s1">nextConfig.experimental.amp?.skipValidation,</span><span class="s3">\n                    </span><span class="s1">ampValidator: getRequestMeta(req, 'ampValidator'),</span><span class="s3">\n                  </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">})</span><span class="s3">\n                </span><span class="s1">.then((renderResult): ResponseCacheEntry =&gt; {</span><span class="s3">\n                  </span><span class="s1">const { metadata } = renderResult</span><span class="s3">\n\n                  </span><span class="s1">let cacheControl: CacheControl | undefined =</span><span class="s3">\n                    </span><span class="s1">metadata.cacheControl</span><span class="s3">\n\n                  </span><span class="s1">if ('isNotFound' in metadata &amp;&amp; metadata.isNotFound) {</span><span class="s3">\n                    </span><span class="s1">return {</span><span class="s3">\n                      </span><span class="s1">value: null,</span><span class="s3">\n                      </span><span class="s1">cacheControl,</span><span class="s3">\n                    </span><span class="s1">} satisfies ResponseCacheEntry</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n\n                  </span><span class="s1">// Handle `isRedirect`.</span><span class="s3">\n                  </span><span class="s1">if (metadata.isRedirect) {</span><span class="s3">\n                    </span><span class="s1">return {</span><span class="s3">\n                      </span><span class="s1">value: {</span><span class="s3">\n                        </span><span class="s1">kind: CachedRouteKind.REDIRECT,</span><span class="s3">\n                        </span><span class="s1">props: metadata.pageData ?? metadata.flightData,</span><span class="s3">\n                      </span><span class="s1">} satisfies CachedRedirectValue,</span><span class="s3">\n                      </span><span class="s1">cacheControl,</span><span class="s3">\n                    </span><span class="s1">} satisfies ResponseCacheEntry</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n\n                  </span><span class="s1">return {</span><span class="s3">\n                    </span><span class="s1">value: {</span><span class="s3">\n                      </span><span class="s1">kind: CachedRouteKind.PAGES,</span><span class="s3">\n                      </span><span class="s1">html: renderResult,</span><span class="s3">\n                      </span><span class="s1">pageData: renderResult.metadata.pageData,</span><span class="s3">\n                      </span><span class="s1">headers: renderResult.metadata.headers,</span><span class="s3">\n                      </span><span class="s1">status: renderResult.metadata.statusCode,</span><span class="s3">\n                    </span><span class="s1">},</span><span class="s3">\n                    </span><span class="s1">cacheControl,</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">})</span><span class="s3">\n                </span><span class="s1">.finally(() =&gt; {</span><span class="s3">\n                  </span><span class="s1">if (!span) return</span><span class="s3">\n\n                  </span><span class="s1">span.setAttributes({</span><span class="s3">\n                    </span><span class="s1">'http.status_code': res.statusCode,</span><span class="s3">\n                    </span><span class="s1">'next.rsc': false,</span><span class="s3">\n                  </span><span class="s1">})</span><span class="s3">\n\n                  </span><span class="s1">const rootSpanAttributes = tracer.getRootSpanAttributes()</span><span class="s3">\n                  </span><span class="s1">// We were unable to get attributes, probably OTEL is not enabled</span><span class="s3">\n                  </span><span class="s1">if (!rootSpanAttributes) {</span><span class="s3">\n                    </span><span class="s1">return</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n\n                  </span><span class="s1">if (</span><span class="s3">\n                    </span><span class="s1">rootSpanAttributes.get('next.span_type') !==</span><span class="s3">\n                    </span><span class="s1">BaseServerSpan.handleRequest</span><span class="s3">\n                  </span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">console.warn(</span><span class="s3">\n                      </span><span class="s1">`Unexpected root span type '${rootSpanAttributes.get(</span><span class="s3">\n                        </span><span class="s1">'next.span_type'</span><span class="s3">\n                      </span><span class="s1">)}'. Please report this Next.js issue https://github.com/vercel/next.js`</span><span class="s3">\n                    </span><span class="s1">)</span><span class="s3">\n                    </span><span class="s1">return</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n\n                  </span><span class="s1">const route = rootSpanAttributes.get('next.route')</span><span class="s3">\n                  </span><span class="s1">if (route) {</span><span class="s3">\n                    </span><span class="s1">const name = `${method} ${route}`</span><span class="s3">\n\n                    </span><span class="s1">span.setAttributes({</span><span class="s3">\n                      </span><span class="s1">'next.route': route,</span><span class="s3">\n                      </span><span class="s1">'http.route': route,</span><span class="s3">\n                      </span><span class="s1">'next.span_name': name,</span><span class="s3">\n                    </span><span class="s1">})</span><span class="s3">\n                    </span><span class="s1">span.updateName(name)</span><span class="s3">\n                  </span><span class="s1">} else {</span><span class="s3">\n                    </span><span class="s1">span.updateName(`${method} ${req.url}`)</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">})</span><span class="s3">\n            </span><span class="s1">} catch (err: unknown) {</span><span class="s3">\n              </span><span class="s1">// if this is a background revalidate we need to report</span><span class="s3">\n              </span><span class="s1">// the request error here as it won't be bubbled</span><span class="s3">\n              </span><span class="s1">if (previousCacheEntry?.isStale) {</span><span class="s3">\n                </span><span class="s1">await routeModule.onRequestError(</span><span class="s3">\n                  </span><span class="s1">req,</span><span class="s3">\n                  </span><span class="s1">err,</span><span class="s3">\n                  </span><span class="s1">{</span><span class="s3">\n                    </span><span class="s1">routerKind: 'Pages Router',</span><span class="s3">\n                    </span><span class="s1">routePath: srcPage,</span><span class="s3">\n                    </span><span class="s1">routeType: 'render',</span><span class="s3">\n                    </span><span class="s1">revalidateReason: getRevalidateReason({</span><span class="s3">\n                      </span><span class="s1">isRevalidate: hasStaticProps,</span><span class="s3">\n                      </span><span class="s1">isOnDemandRevalidate,</span><span class="s3">\n                    </span><span class="s1">}),</span><span class="s3">\n                  </span><span class="s1">},</span><span class="s3">\n                  </span><span class="s1">routerServerContext</span><span class="s3">\n                </span><span class="s1">)</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">throw err</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">// if we've already generated this page we no longer</span><span class="s3">\n          </span><span class="s1">// serve the fallback</span><span class="s3">\n          </span><span class="s1">if (previousCacheEntry) {</span><span class="s3">\n            </span><span class="s1">isIsrFallback = false</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">if (isIsrFallback) {</span><span class="s3">\n            </span><span class="s1">const fallbackResponse = await routeModule</span><span class="s3">\n              </span><span class="s1">.getResponseCache(req)</span><span class="s3">\n              </span><span class="s1">.get(</span><span class="s3">\n                </span><span class="s1">routeModule.isDev</span><span class="s3">\n                  </span><span class="s1">? null</span><span class="s3">\n                  </span><span class="s1">: locale</span><span class="s3">\n                    </span><span class="s1">? `/${locale}${srcPage}`</span><span class="s3">\n                    </span><span class="s1">: srcPage,</span><span class="s3">\n                </span><span class="s1">async ({</span><span class="s3">\n                  </span><span class="s1">previousCacheEntry: previousFallbackCacheEntry = null,</span><span class="s3">\n                </span><span class="s1">}) =&gt; {</span><span class="s3">\n                  </span><span class="s1">if (!routeModule.isDev) {</span><span class="s3">\n                    </span><span class="s1">return toResponseCacheEntry(previousFallbackCacheEntry)</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n                  </span><span class="s1">return doRender()</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">{</span><span class="s3">\n                  </span><span class="s1">routeKind: RouteKind.PAGES,</span><span class="s3">\n                  </span><span class="s1">isFallback: true,</span><span class="s3">\n                  </span><span class="s1">isRoutePPREnabled: false,</span><span class="s3">\n                  </span><span class="s1">isOnDemandRevalidate: false,</span><span class="s3">\n                  </span><span class="s1">incrementalCache: await routeModule.getIncrementalCache(</span><span class="s3">\n                    </span><span class="s1">req,</span><span class="s3">\n                    </span><span class="s1">nextConfig,</span><span class="s3">\n                    </span><span class="s1">prerenderManifest</span><span class="s3">\n                  </span><span class="s1">),</span><span class="s3">\n                  </span><span class="s1">waitUntil: ctx.waitUntil,</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">if (fallbackResponse) {</span><span class="s3">\n              </span><span class="s1">// Remove the cache control from the response to prevent it from being</span><span class="s3">\n              </span><span class="s1">// used in the surrounding cache.</span><span class="s3">\n              </span><span class="s1">delete fallbackResponse.cacheControl</span><span class="s3">\n              </span><span class="s1">fallbackResponse.isMiss = true</span><span class="s3">\n              </span><span class="s1">return fallbackResponse</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">if (</span><span class="s3">\n            </span><span class="s1">!getRequestMeta(req, 'minimalMode') &amp;&amp;</span><span class="s3">\n            </span><span class="s1">isOnDemandRevalidate &amp;&amp;</span><span class="s3">\n            </span><span class="s1">revalidateOnlyGenerated &amp;&amp;</span><span class="s3">\n            </span><span class="s1">!previousCacheEntry</span><span class="s3">\n          </span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">res.statusCode = 404</span><span class="s3">\n            </span><span class="s1">// on-demand revalidate always sets this header</span><span class="s3">\n            </span><span class="s1">res.setHeader('x-nextjs-cache', 'REVALIDATED')</span><span class="s3">\n            </span><span class="s1">res.end('This page could not be found')</span><span class="s3">\n            </span><span class="s1">return null</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">if (</span><span class="s3">\n            </span><span class="s1">isIsrFallback &amp;&amp;</span><span class="s3">\n            </span><span class="s1">previousCacheEntry?.value?.kind === CachedRouteKind.PAGES</span><span class="s3">\n          </span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">return {</span><span class="s3">\n              </span><span class="s1">value: {</span><span class="s3">\n                </span><span class="s1">kind: CachedRouteKind.PAGES,</span><span class="s3">\n                </span><span class="s1">html: new RenderResult(</span><span class="s3">\n                  </span><span class="s1">Buffer.from(previousCacheEntry.value.html),</span><span class="s3">\n                  </span><span class="s1">{</span><span class="s3">\n                    </span><span class="s1">contentType: HTML_CONTENT_TYPE_HEADER,</span><span class="s3">\n                    </span><span class="s1">metadata: {</span><span class="s3">\n                      </span><span class="s1">statusCode: previousCacheEntry.value.status,</span><span class="s3">\n                      </span><span class="s1">headers: previousCacheEntry.value.headers,</span><span class="s3">\n                    </span><span class="s1">},</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">),</span><span class="s3">\n                </span><span class="s1">pageData: {},</span><span class="s3">\n                </span><span class="s1">status: previousCacheEntry.value.status,</span><span class="s3">\n                </span><span class="s1">headers: previousCacheEntry.value.headers,</span><span class="s3">\n              </span><span class="s1">} satisfies CachedPageValue,</span><span class="s3">\n              </span><span class="s1">cacheControl: { revalidate: 0, expire: undefined },</span><span class="s3">\n            </span><span class="s1">} satisfies ResponseCacheEntry</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">return doRender()</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const result = await routeModule.handleResponse({</span><span class="s3">\n          </span><span class="s1">cacheKey,</span><span class="s3">\n          </span><span class="s1">req,</span><span class="s3">\n          </span><span class="s1">nextConfig,</span><span class="s3">\n          </span><span class="s1">routeKind: RouteKind.PAGES,</span><span class="s3">\n          </span><span class="s1">isOnDemandRevalidate,</span><span class="s3">\n          </span><span class="s1">revalidateOnlyGenerated,</span><span class="s3">\n          </span><span class="s1">waitUntil: ctx.waitUntil,</span><span class="s3">\n          </span><span class="s1">responseGenerator: responseGenerator,</span><span class="s3">\n          </span><span class="s1">prerenderManifest,</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n\n        </span><span class="s1">// if we got a cache hit this wasn't an ISR fallback</span><span class="s3">\n        </span><span class="s1">// but it wasn't generated during build so isn't in the</span><span class="s3">\n        </span><span class="s1">// prerender-manifest</span><span class="s3">\n        </span><span class="s1">if (isIsrFallback &amp;&amp; !result?.isMiss) {</span><span class="s3">\n          </span><span class="s1">isIsrFallback = false</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// response is finished is no cache entry</span><span class="s3">\n        </span><span class="s1">if (!result) {</span><span class="s3">\n          </span><span class="s1">return</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (hasStaticProps &amp;&amp; !getRequestMeta(req, 'minimalMode')) {</span><span class="s3">\n          </span><span class="s1">res.setHeader(</span><span class="s3">\n            </span><span class="s1">'x-nextjs-cache',</span><span class="s3">\n            </span><span class="s1">isOnDemandRevalidate</span><span class="s3">\n              </span><span class="s1">? 'REVALIDATED'</span><span class="s3">\n              </span><span class="s1">: result.isMiss</span><span class="s3">\n                </span><span class="s1">? 'MISS'</span><span class="s3">\n                </span><span class="s1">: result.isStale</span><span class="s3">\n                  </span><span class="s1">? 'STALE'</span><span class="s3">\n                  </span><span class="s1">: 'HIT'</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">let cacheControl: CacheControl | undefined</span><span class="s3">\n\n        </span><span class="s1">if (!hasStaticProps || isIsrFallback) {</span><span class="s3">\n          </span><span class="s1">if (!res.getHeader('Cache-Control')) {</span><span class="s3">\n            </span><span class="s1">cacheControl = { revalidate: 0, expire: undefined }</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} else if (is404Page) {</span><span class="s3">\n          </span><span class="s1">const notFoundRevalidate = getRequestMeta(req, 'notFoundRevalidate')</span><span class="s3">\n\n          </span><span class="s1">cacheControl = {</span><span class="s3">\n            </span><span class="s1">revalidate:</span><span class="s3">\n              </span><span class="s1">typeof notFoundRevalidate === 'undefined'</span><span class="s3">\n                </span><span class="s1">? 0</span><span class="s3">\n                </span><span class="s1">: notFoundRevalidate,</span><span class="s3">\n            </span><span class="s1">expire: undefined,</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} else if (is500Page) {</span><span class="s3">\n          </span><span class="s1">cacheControl = { revalidate: 0, expire: undefined }</span><span class="s3">\n        </span><span class="s1">} else if (result.cacheControl) {</span><span class="s3">\n          </span><span class="s1">// If the cache entry has a cache control with a revalidate value that's</span><span class="s3">\n          </span><span class="s1">// a number, use it.</span><span class="s3">\n          </span><span class="s1">if (typeof result.cacheControl.revalidate === 'number') {</span><span class="s3">\n            </span><span class="s1">if (result.cacheControl.revalidate &lt; 1) {</span><span class="s3">\n              </span><span class="s1">throw new Error(</span><span class="s3">\n                </span><span class="s1">`Invalid revalidate configuration provided: ${result.cacheControl.revalidate} &lt; 1`</span><span class="s3">\n              </span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">cacheControl = {</span><span class="s3">\n              </span><span class="s1">revalidate: result.cacheControl.revalidate,</span><span class="s3">\n              </span><span class="s1">expire: result.cacheControl?.expire ?? nextConfig.expireTime,</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">// revalidate: false</span><span class="s3">\n            </span><span class="s1">cacheControl = {</span><span class="s3">\n              </span><span class="s1">revalidate: CACHE_ONE_YEAR,</span><span class="s3">\n              </span><span class="s1">expire: undefined,</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// If cache control is already set on the response we don't</span><span class="s3">\n        </span><span class="s1">// override it to allow users to customize it via next.config</span><span class="s3">\n        </span><span class="s1">if (cacheControl &amp;&amp; !res.getHeader('Cache-Control')) {</span><span class="s3">\n          </span><span class="s1">res.setHeader('Cache-Control', getCacheControlHeader(cacheControl))</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// notFound: true case</span><span class="s3">\n        </span><span class="s1">if (!result.value) {</span><span class="s3">\n          </span><span class="s1">// add revalidate metadata before rendering 404 page</span><span class="s3">\n          </span><span class="s1">// so that we can use this as source of truth for the</span><span class="s3">\n          </span><span class="s1">// cache-control header instead of what the 404 page returns</span><span class="s3">\n          </span><span class="s1">// for the revalidate value</span><span class="s3">\n          </span><span class="s1">addRequestMeta(</span><span class="s3">\n            </span><span class="s1">req,</span><span class="s3">\n            </span><span class="s1">'notFoundRevalidate',</span><span class="s3">\n            </span><span class="s1">result.cacheControl?.revalidate</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n\n          </span><span class="s1">res.statusCode = 404</span><span class="s3">\n\n          </span><span class="s1">if (isNextDataRequest) {</span><span class="s3">\n            </span><span class="s1">res.end('{</span><span class="s3">\&quot;</span><span class="s1">notFound</span><span class="s3">\&quot;</span><span class="s1">:true}')</span><span class="s3">\n            </span><span class="s1">return</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">// TODO: should route-module itself handle rendering the 404</span><span class="s3">\n          </span><span class="s1">if (routerServerContext?.render404) {</span><span class="s3">\n            </span><span class="s1">await routerServerContext.render404(req, res, parsedUrl, false)</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">res.end('This page could not be found')</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">return</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (result.value.kind === CachedRouteKind.REDIRECT) {</span><span class="s3">\n          </span><span class="s1">if (isNextDataRequest) {</span><span class="s3">\n            </span><span class="s1">res.setHeader('content-type', JSON_CONTENT_TYPE_HEADER)</span><span class="s3">\n            </span><span class="s1">res.end(JSON.stringify(result.value.props))</span><span class="s3">\n            </span><span class="s1">return</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">const handleRedirect = (pageData: any) =&gt; {</span><span class="s3">\n              </span><span class="s1">const redirect = {</span><span class="s3">\n                </span><span class="s1">destination: pageData.pageProps.__N_REDIRECT,</span><span class="s3">\n                </span><span class="s1">statusCode: pageData.pageProps.__N_REDIRECT_STATUS,</span><span class="s3">\n                </span><span class="s1">basePath: pageData.pageProps.__N_REDIRECT_BASE_PATH,</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">const statusCode = getRedirectStatus(redirect)</span><span class="s3">\n              </span><span class="s1">const { basePath } = nextConfig</span><span class="s3">\n\n              </span><span class="s1">if (</span><span class="s3">\n                </span><span class="s1">basePath &amp;&amp;</span><span class="s3">\n                </span><span class="s1">redirect.basePath !== false &amp;&amp;</span><span class="s3">\n                </span><span class="s1">redirect.destination.startsWith('/')</span><span class="s3">\n              </span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">redirect.destination = `${basePath}${redirect.destination}`</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n\n              </span><span class="s1">if (redirect.destination.startsWith('/')) {</span><span class="s3">\n                </span><span class="s1">redirect.destination = normalizeRepeatedSlashes(</span><span class="s3">\n                  </span><span class="s1">redirect.destination</span><span class="s3">\n                </span><span class="s1">)</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n\n              </span><span class="s1">res.statusCode = statusCode</span><span class="s3">\n              </span><span class="s1">res.setHeader('Location', redirect.destination)</span><span class="s3">\n              </span><span class="s1">if (statusCode === RedirectStatusCode.PermanentRedirect) {</span><span class="s3">\n                </span><span class="s1">res.setHeader('Refresh', `0;url=${redirect.destination}`)</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">res.end(redirect.destination)</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">await handleRedirect(result.value.props)</span><span class="s3">\n            </span><span class="s1">return null</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (result.value.kind !== CachedRouteKind.PAGES) {</span><span class="s3">\n          </span><span class="s1">throw new Error(</span><span class="s3">\n            </span><span class="s1">`Invariant: received non-pages cache entry in pages handler`</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// In dev, we should not cache pages for any reason.</span><span class="s3">\n        </span><span class="s1">if (routeModule.isDev) {</span><span class="s3">\n          </span><span class="s1">res.setHeader('Cache-Control', 'no-store, must-revalidate')</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Draft mode should never be cached</span><span class="s3">\n        </span><span class="s1">if (isDraftMode) {</span><span class="s3">\n          </span><span class="s1">res.setHeader(</span><span class="s3">\n            </span><span class="s1">'Cache-Control',</span><span class="s3">\n            </span><span class="s1">'private, no-cache, no-store, max-age=0, must-revalidate'</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// when invoking _error before pages/500 we don't actually</span><span class="s3">\n        </span><span class="s1">// send the _error response</span><span class="s3">\n        </span><span class="s1">if (</span><span class="s3">\n          </span><span class="s1">getRequestMeta(req, 'customErrorRender') ||</span><span class="s3">\n          </span><span class="s1">(isErrorPage &amp;&amp;</span><span class="s3">\n            </span><span class="s1">getRequestMeta(req, 'minimalMode') &amp;&amp;</span><span class="s3">\n            </span><span class="s1">res.statusCode === 500)</span><span class="s3">\n        </span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">return null</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">await sendRenderResult({</span><span class="s3">\n          </span><span class="s1">req,</span><span class="s3">\n          </span><span class="s1">res,</span><span class="s3">\n          </span><span class="s1">// If we are rendering the error page it's not a data request</span><span class="s3">\n          </span><span class="s1">// anymore</span><span class="s3">\n          </span><span class="s1">result:</span><span class="s3">\n            </span><span class="s1">isNextDataRequest &amp;&amp; !isErrorPage &amp;&amp; !is500Page</span><span class="s3">\n              </span><span class="s1">? new RenderResult(</span><span class="s3">\n                  </span><span class="s1">Buffer.from(JSON.stringify(result.value.pageData)),</span><span class="s3">\n                  </span><span class="s1">{</span><span class="s3">\n                    </span><span class="s1">contentType: JSON_CONTENT_TYPE_HEADER,</span><span class="s3">\n                    </span><span class="s1">metadata: result.value.html.metadata,</span><span class="s3">\n                  </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">)</span><span class="s3">\n              </span><span class="s1">: result.value.html,</span><span class="s3">\n          </span><span class="s1">generateEtags: nextConfig.generateEtags,</span><span class="s3">\n          </span><span class="s1">poweredByHeader: nextConfig.poweredByHeader,</span><span class="s3">\n          </span><span class="s1">cacheControl: routeModule.isDev ? undefined : cacheControl,</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// TODO: activeSpan code path is for when wrapped by</span><span class="s3">\n      </span><span class="s1">// next-server can be removed when this is no longer used</span><span class="s3">\n      </span><span class="s1">if (activeSpan) {</span><span class="s3">\n        </span><span class="s1">await handleResponse()</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">await tracer.withPropagatedContext(req.headers, () =&gt;</span><span class="s3">\n          </span><span class="s1">tracer.trace(</span><span class="s3">\n            </span><span class="s1">BaseServerSpan.handleRequest,</span><span class="s3">\n            </span><span class="s1">{</span><span class="s3">\n              </span><span class="s1">spanName: `${method} ${req.url}`,</span><span class="s3">\n              </span><span class="s1">kind: SpanKind.SERVER,</span><span class="s3">\n              </span><span class="s1">attributes: {</span><span class="s3">\n                </span><span class="s1">'http.method': method,</span><span class="s3">\n                </span><span class="s1">'http.target': req.url,</span><span class="s3">\n              </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">handleResponse</span><span class="s3">\n          </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} catch (err) {</span><span class="s3">\n      </span><span class="s1">if (!(err instanceof NoFallbackError)) {</span><span class="s3">\n        </span><span class="s1">await routeModule.onRequestError(</span><span class="s3">\n          </span><span class="s1">req,</span><span class="s3">\n          </span><span class="s1">err,</span><span class="s3">\n          </span><span class="s1">{</span><span class="s3">\n            </span><span class="s1">routerKind: 'Pages Router',</span><span class="s3">\n            </span><span class="s1">routePath: srcPage,</span><span class="s3">\n            </span><span class="s1">routeType: 'render',</span><span class="s3">\n            </span><span class="s1">revalidateReason: getRevalidateReason({</span><span class="s3">\n              </span><span class="s1">isRevalidate: hasStaticProps,</span><span class="s3">\n              </span><span class="s1">isOnDemandRevalidate,</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n          </span><span class="s1">},</span><span class="s3">\n          </span><span class="s1">routerServerContext</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// rethrow so that we can handle serving error page</span><span class="s3">\n      </span><span class="s1">throw err</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;getHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;srcPage&quot;</span><span class="s0">,</span><span class="s1">&quot;originalSrcPage&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;userland&quot;</span><span class="s0">,</span><span class="s1">&quot;routeModule&quot;</span><span class="s0">,</span><span class="s1">&quot;isFallbackError&quot;</span><span class="s0">,</span><span class="s1">&quot;getStaticPaths&quot;</span><span class="s0">,</span><span class="s1">&quot;getStaticProps&quot;</span><span class="s0">,</span><span class="s1">&quot;getServerSideProps&quot;</span><span class="s0">,</span><span class="s1">&quot;handler&quot;</span><span class="s0">,</span><span class="s1">&quot;req&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;ctx&quot;</span><span class="s0">,</span><span class="s1">&quot;serverFilesManifest&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;TURBOPACK&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;multiZoneDraftMode&quot;</span><span class="s0">,</span><span class="s1">&quot;__NEXT_MULTI_ZONE_DRAFT_MODE&quot;</span><span class="s0">,</span><span class="s1">&quot;prepareResult&quot;</span><span class="s0">,</span><span class="s1">&quot;prepare&quot;</span><span class="s0">,</span><span class="s1">&quot;statusCode&quot;</span><span class="s0">,</span><span class="s1">&quot;end&quot;</span><span class="s0">,</span><span class="s1">&quot;waitUntil&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;buildId&quot;</span><span class="s0">,</span><span class="s1">&quot;query&quot;</span><span class="s0">,</span><span class="s1">&quot;params&quot;</span><span class="s0">,</span><span class="s1">&quot;parsedUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;originalQuery&quot;</span><span class="s0">,</span><span class="s1">&quot;originalPathname&quot;</span><span class="s0">,</span><span class="s1">&quot;buildManifest&quot;</span><span class="s0">,</span><span class="s1">&quot;fallbackBuildManifest&quot;</span><span class="s0">,</span><span class="s1">&quot;nextFontManifest&quot;</span><span class="s0">,</span><span class="s1">&quot;reactLoadableManifest&quot;</span><span class="s0">,</span><span class="s1">&quot;prerenderManifest&quot;</span><span class="s0">,</span><span class="s1">&quot;isDraftMode&quot;</span><span class="s0">,</span><span class="s1">&quot;isOnDemandRevalidate&quot;</span><span class="s0">,</span><span class="s1">&quot;revalidateOnlyGenerated&quot;</span><span class="s0">,</span><span class="s1">&quot;locale&quot;</span><span class="s0">,</span><span class="s1">&quot;locales&quot;</span><span class="s0">,</span><span class="s1">&quot;defaultLocale&quot;</span><span class="s0">,</span><span class="s1">&quot;routerServerContext&quot;</span><span class="s0">,</span><span class="s1">&quot;nextConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedPathname&quot;</span><span class="s0">,</span><span class="s1">&quot;isExperimentalCompile&quot;</span><span class="s0">,</span><span class="s1">&quot;experimental&quot;</span><span class="s0">,</span><span class="s1">&quot;hasServerProps&quot;</span><span class="s0">,</span><span class="s1">&quot;Boolean&quot;</span><span class="s0">,</span><span class="s1">&quot;hasStaticProps&quot;</span><span class="s0">,</span><span class="s1">&quot;hasStaticPaths&quot;</span><span class="s0">,</span><span class="s1">&quot;hasGetInitialProps&quot;</span><span class="s0">,</span><span class="s1">&quot;default&quot;</span><span class="s0">,</span><span class="s1">&quot;getInitialProps&quot;</span><span class="s0">,</span><span class="s1">&quot;isAmp&quot;</span><span class="s0">,</span><span class="s1">&quot;amp&quot;</span><span class="s0">,</span><span class="s1">&quot;cacheKey&quot;</span><span class="s0">,</span><span class="s1">&quot;isIsrFallback&quot;</span><span class="s0">,</span><span class="s1">&quot;isNextDataRequest&quot;</span><span class="s0">,</span><span class="s1">&quot;is404Page&quot;</span><span class="s0">,</span><span class="s1">&quot;is500Page&quot;</span><span class="s0">,</span><span class="s1">&quot;isErrorPage&quot;</span><span class="s0">,</span><span class="s1">&quot;isDev&quot;</span><span class="s0">,</span><span class="s1">&quot;decodedPathname&quot;</span><span class="s0">,</span><span class="s1">&quot;removeTrailingSlash&quot;</span><span class="s0">,</span><span class="s1">&quot;addPathPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;isPrerendered&quot;</span><span class="s0">,</span><span class="s1">&quot;routes&quot;</span><span class="s0">,</span><span class="s1">&quot;notFoundRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;prerenderInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;dynamicRoutes&quot;</span><span class="s0">,</span><span class="s1">&quot;fallback&quot;</span><span class="s0">,</span><span class="s1">&quot;NoFallbackError&quot;</span><span class="s0">,</span><span class="s1">&quot;isBot&quot;</span><span class="s0">,</span><span class="s1">&quot;headers&quot;</span><span class="s0">,</span><span class="s1">&quot;getRequestMeta&quot;</span><span class="s0">,</span><span class="s1">&quot;tracer&quot;</span><span class="s0">,</span><span class="s1">&quot;getTracer&quot;</span><span class="s0">,</span><span class="s1">&quot;activeSpan&quot;</span><span class="s0">,</span><span class="s1">&quot;getActiveScopeSpan&quot;</span><span class="s0">,</span><span class="s1">&quot;method&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;formatUrl&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;trailingSlash&quot;</span><span class="s0">,</span><span class="s1">&quot;publicRuntimeConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;handleResponse&quot;</span><span class="s0">,</span><span class="s1">&quot;span&quot;</span><span class="s0">,</span><span class="s1">&quot;responseGenerator&quot;</span><span class="s0">,</span><span class="s1">&quot;previousCacheEntry&quot;</span><span class="s0">,</span><span class="s1">&quot;doRender&quot;</span><span class="s0">,</span><span class="s1">&quot;render&quot;</span><span class="s0">,</span><span class="s1">&quot;page&quot;</span><span class="s0">,</span><span class="s1">&quot;renderContext&quot;</span><span class="s0">,</span><span class="s1">&quot;isFallback&quot;</span><span class="s0">,</span><span class="s1">&quot;developmentNotFoundSourcePage&quot;</span><span class="s0">,</span><span class="s1">&quot;sharedContext&quot;</span><span class="s0">,</span><span class="s1">&quot;customServer&quot;</span><span class="s0">,</span><span class="s1">&quot;isCustomServer&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;deploymentId&quot;</span><span class="s0">,</span><span class="s1">&quot;NEXT_DEPLOYMENT_ID&quot;</span><span class="s0">,</span><span class="s1">&quot;renderOpts&quot;</span><span class="s0">,</span><span class="s1">&quot;pageConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;Component&quot;</span><span class="s0">,</span><span class="s1">&quot;interopDefault&quot;</span><span class="s0">,</span><span class="s1">&quot;ComponentMod&quot;</span><span class="s0">,</span><span class="s1">&quot;supportsDynamicResponse&quot;</span><span class="s0">,</span><span class="s1">&quot;assetPrefix&quot;</span><span class="s0">,</span><span class="s1">&quot;previewProps&quot;</span><span class="s0">,</span><span class="s1">&quot;preview&quot;</span><span class="s0">,</span><span class="s1">&quot;images&quot;</span><span class="s0">,</span><span class="s1">&quot;nextConfigOutput&quot;</span><span class="s0">,</span><span class="s1">&quot;output&quot;</span><span class="s0">,</span><span class="s1">&quot;optimizeCss&quot;</span><span class="s0">,</span><span class="s1">&quot;nextScriptWorkers&quot;</span><span class="s0">,</span><span class="s1">&quot;domainLocales&quot;</span><span class="s0">,</span><span class="s1">&quot;i18n&quot;</span><span class="s0">,</span><span class="s1">&quot;domains&quot;</span><span class="s0">,</span><span class="s1">&quot;crossOrigin&quot;</span><span class="s0">,</span><span class="s1">&quot;basePath&quot;</span><span class="s0">,</span><span class="s1">&quot;canonicalBase&quot;</span><span class="s0">,</span><span class="s1">&quot;ampOptimizerConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;optimizer&quot;</span><span class="s0">,</span><span class="s1">&quot;disableOptimizedLoading&quot;</span><span class="s0">,</span><span class="s1">&quot;largePageDataBytes&quot;</span><span class="s0">,</span><span class="s1">&quot;runtimeConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;keys&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;clientTraceMetadata&quot;</span><span class="s0">,</span><span class="s1">&quot;setIsrStatus&quot;</span><span class="s0">,</span><span class="s1">&quot;resolvedAsPath&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizeDataPath&quot;</span><span class="s0">,</span><span class="s1">&quot;ErrorDebug&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;dev&quot;</span><span class="s0">,</span><span class="s1">&quot;distDir&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;cwd&quot;</span><span class="s0">,</span><span class="s1">&quot;relativeProjectDir&quot;</span><span class="s0">,</span><span class="s1">&quot;ampSkipValidation&quot;</span><span class="s0">,</span><span class="s1">&quot;skipValidation&quot;</span><span class="s0">,</span><span class="s1">&quot;ampValidator&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;renderResult&quot;</span><span class="s0">,</span><span class="s1">&quot;metadata&quot;</span><span class="s0">,</span><span class="s1">&quot;cacheControl&quot;</span><span class="s0">,</span><span class="s1">&quot;isNotFound&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;isRedirect&quot;</span><span class="s0">,</span><span class="s1">&quot;kind&quot;</span><span class="s0">,</span><span class="s1">&quot;CachedRouteKind&quot;</span><span class="s0">,</span><span class="s1">&quot;REDIRECT&quot;</span><span class="s0">,</span><span class="s1">&quot;props&quot;</span><span class="s0">,</span><span class="s1">&quot;pageData&quot;</span><span class="s0">,</span><span class="s1">&quot;flightData&quot;</span><span class="s0">,</span><span class="s1">&quot;PAGES&quot;</span><span class="s0">,</span><span class="s1">&quot;html&quot;</span><span class="s0">,</span><span class="s1">&quot;status&quot;</span><span class="s0">,</span><span class="s1">&quot;finally&quot;</span><span class="s0">,</span><span class="s1">&quot;setAttributes&quot;</span><span class="s0">,</span><span class="s1">&quot;rootSpanAttributes&quot;</span><span class="s0">,</span><span class="s1">&quot;getRootSpanAttributes&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;BaseServerSpan&quot;</span><span class="s0">,</span><span class="s1">&quot;handleRequest&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;warn&quot;</span><span class="s0">,</span><span class="s1">&quot;route&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;updateName&quot;</span><span class="s0">,</span><span class="s1">&quot;url&quot;</span><span class="s0">,</span><span class="s1">&quot;isStale&quot;</span><span class="s0">,</span><span class="s1">&quot;onRequestError&quot;</span><span class="s0">,</span><span class="s1">&quot;routerKind&quot;</span><span class="s0">,</span><span class="s1">&quot;routePath&quot;</span><span class="s0">,</span><span class="s1">&quot;routeType&quot;</span><span class="s0">,</span><span class="s1">&quot;revalidateReason&quot;</span><span class="s0">,</span><span class="s1">&quot;getRevalidateReason&quot;</span><span class="s0">,</span><span class="s1">&quot;isRevalidate&quot;</span><span class="s0">,</span><span class="s1">&quot;fallbackResponse&quot;</span><span class="s0">,</span><span class="s1">&quot;getResponseCache&quot;</span><span class="s0">,</span><span class="s1">&quot;previousFallbackCacheEntry&quot;</span><span class="s0">,</span><span class="s1">&quot;toResponseCacheEntry&quot;</span><span class="s0">,</span><span class="s1">&quot;routeKind&quot;</span><span class="s0">,</span><span class="s1">&quot;RouteKind&quot;</span><span class="s0">,</span><span class="s1">&quot;isRoutePPREnabled&quot;</span><span class="s0">,</span><span class="s1">&quot;incrementalCache&quot;</span><span class="s0">,</span><span class="s1">&quot;getIncrementalCache&quot;</span><span class="s0">,</span><span class="s1">&quot;isMiss&quot;</span><span class="s0">,</span><span class="s1">&quot;setHeader&quot;</span><span class="s0">,</span><span class="s1">&quot;RenderResult&quot;</span><span class="s0">,</span><span class="s1">&quot;Buffer&quot;</span><span class="s0">,</span><span class="s1">&quot;from&quot;</span><span class="s0">,</span><span class="s1">&quot;contentType&quot;</span><span class="s0">,</span><span class="s1">&quot;HTML_CONTENT_TYPE_HEADER&quot;</span><span class="s0">,</span><span class="s1">&quot;revalidate&quot;</span><span class="s0">,</span><span class="s1">&quot;expire&quot;</span><span class="s0">,</span><span class="s1">&quot;result&quot;</span><span class="s0">,</span><span class="s1">&quot;getHeader&quot;</span><span class="s0">,</span><span class="s1">&quot;notFoundRevalidate&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;expireTime&quot;</span><span class="s0">,</span><span class="s1">&quot;CACHE_ONE_YEAR&quot;</span><span class="s0">,</span><span class="s1">&quot;getCacheControlHeader&quot;</span><span class="s0">,</span><span class="s1">&quot;addRequestMeta&quot;</span><span class="s0">,</span><span class="s1">&quot;render404&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON_CONTENT_TYPE_HEADER&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;handleRedirect&quot;</span><span class="s0">,</span><span class="s1">&quot;redirect&quot;</span><span class="s0">,</span><span class="s1">&quot;destination&quot;</span><span class="s0">,</span><span class="s1">&quot;pageProps&quot;</span><span class="s0">,</span><span class="s1">&quot;__N_REDIRECT&quot;</span><span class="s0">,</span><span class="s1">&quot;__N_REDIRECT_STATUS&quot;</span><span class="s0">,</span><span class="s1">&quot;__N_REDIRECT_BASE_PATH&quot;</span><span class="s0">,</span><span class="s1">&quot;getRedirectStatus&quot;</span><span class="s0">,</span><span class="s1">&quot;startsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;normalizeRepeatedSlashes&quot;</span><span class="s0">,</span><span class="s1">&quot;RedirectStatusCode&quot;</span><span class="s0">,</span><span class="s1">&quot;PermanentRedirect&quot;</span><span class="s0">,</span><span class="s1">&quot;sendRenderResult&quot;</span><span class="s0">,</span><span class="s1">&quot;generateEtags&quot;</span><span class="s0">,</span><span class="s1">&quot;poweredByHeader&quot;</span><span class="s0">,</span><span class="s1">&quot;withPropagatedContext&quot;</span><span class="s0">,</span><span class="s1">&quot;trace&quot;</span><span class="s0">,</span><span class="s1">&quot;spanName&quot;</span><span class="s0">,</span><span class="s1">&quot;SpanKind&quot;</span><span class="s0">,</span><span class="s1">&quot;SERVER&quot;</span><span class="s0">,</span><span class="s1">&quot;attributes&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>