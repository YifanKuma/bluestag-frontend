<html>
<head>
<title>parse-stack.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
parse-stack.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/server/lib/parse-stack.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { parse } from 'next/dist/compiled/stacktrace-parser'</span><span class="s3">\n\n</span><span class="s1">const regexNextStatic = /</span><span class="s3">\\</span><span class="s1">/_next(</span><span class="s3">\\</span><span class="s1">/static</span><span class="s3">\\</span><span class="s1">/.+)/</span><span class="s3">\n\n</span><span class="s1">export interface StackFrame {</span><span class="s3">\n  </span><span class="s1">file: string | null</span><span class="s3">\n  </span><span class="s1">methodName: string</span><span class="s3">\n  </span><span class="s1">arguments: string[]</span><span class="s3">\n  </span><span class="s1">/** 1-based */</span><span class="s3">\n  </span><span class="s1">line1: number | null</span><span class="s3">\n  </span><span class="s1">/** 1-based */</span><span class="s3">\n  </span><span class="s1">column1: number | null</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function parseStack(</span><span class="s3">\n  </span><span class="s1">stack: string,</span><span class="s3">\n  </span><span class="s1">distDir = process.env.__NEXT_DIST_DIR</span><span class="s3">\n</span><span class="s1">): StackFrame[] {</span><span class="s3">\n  </span><span class="s1">if (!stack) return []</span><span class="s3">\n\n  </span><span class="s1">// throw away eval information that stacktrace-parser doesn't support</span><span class="s3">\n  </span><span class="s1">// adapted from https://github.com/stacktracejs/error-stack-parser/blob/9f33c224b5d7b607755eb277f9d51fcdb7287e24/error-stack-parser.js#L59C33-L59C62</span><span class="s3">\n  </span><span class="s1">stack = stack</span><span class="s3">\n    </span><span class="s1">.split('</span><span class="s3">\\</span><span class="s1">n')</span><span class="s3">\n    </span><span class="s1">.map((line) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (line.includes('(eval ')) {</span><span class="s3">\n        </span><span class="s1">line = line</span><span class="s3">\n          </span><span class="s1">.replace(/eval code/g, 'eval')</span><span class="s3">\n          </span><span class="s1">.replace(/</span><span class="s3">\\</span><span class="s1">(eval at [^()]* </span><span class="s3">\\</span><span class="s1">(/, '(file://')</span><span class="s3">\n          </span><span class="s1">.replace(/</span><span class="s3">\\</span><span class="s1">),.*$/g, ')')</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return line</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">.join('</span><span class="s3">\\</span><span class="s1">n')</span><span class="s3">\n\n  </span><span class="s1">const frames = parse(stack)</span><span class="s3">\n  </span><span class="s1">return frames.map((frame) =&gt; {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">const url = new URL(frame.file!)</span><span class="s3">\n      </span><span class="s1">const res = regexNextStatic.exec(url.pathname)</span><span class="s3">\n      </span><span class="s1">if (res) {</span><span class="s3">\n        </span><span class="s1">const effectiveDistDir = distDir</span><span class="s3">\n          </span><span class="s1">?.replace(/</span><span class="s3">\\\\</span><span class="s1">/g, '/')</span><span class="s3">\n          </span><span class="s1">?.replace(/</span><span class="s3">\\</span><span class="s1">/$/, '')</span><span class="s3">\n        </span><span class="s1">if (effectiveDistDir) {</span><span class="s3">\n          </span><span class="s1">frame.file =</span><span class="s3">\n            </span><span class="s1">'file://' + effectiveDistDir.concat(res.pop()!) + url.search</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} catch {}</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">file: frame.file,</span><span class="s3">\n      </span><span class="s1">line1: frame.lineNumber,</span><span class="s3">\n      </span><span class="s1">column1: frame.column,</span><span class="s3">\n      </span><span class="s1">methodName: frame.methodName,</span><span class="s3">\n      </span><span class="s1">arguments: frame.arguments,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;parseStack&quot;</span><span class="s0">,</span><span class="s1">&quot;regexNextStatic&quot;</span><span class="s0">,</span><span class="s1">&quot;stack&quot;</span><span class="s0">,</span><span class="s1">&quot;distDir&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;__NEXT_DIST_DIR&quot;</span><span class="s0">,</span><span class="s1">&quot;split&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;line&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;replace&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;frames&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;frame&quot;</span><span class="s0">,</span><span class="s1">&quot;url&quot;</span><span class="s0">,</span><span class="s1">&quot;URL&quot;</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;exec&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;effectiveDistDir&quot;</span><span class="s0">,</span><span class="s1">&quot;concat&quot;</span><span class="s0">,</span><span class="s1">&quot;pop&quot;</span><span class="s0">,</span><span class="s1">&quot;search&quot;</span><span class="s0">,</span><span class="s1">&quot;line1&quot;</span><span class="s0">,</span><span class="s1">&quot;lineNumber&quot;</span><span class="s0">,</span><span class="s1">&quot;column1&quot;</span><span class="s0">,</span><span class="s1">&quot;column&quot;</span><span class="s0">,</span><span class="s1">&quot;methodName&quot;</span><span class="s0">,</span><span class="s1">&quot;arguments&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAcgBA;;;eAAAA;;;kCAdM;AAEtB,MAAMC,kBAAkB;AAYjB,SAASD,WACdE,KAAa,EACbC,UAAUC,QAAQC,GAAG,CAACC,eAAe;IAErC,IAAI,CAACJ,OAAO,OAAO,EAAE;IAErB,qEAAqE;IACrE,oJAAoJ;IACpJA,QAAQA,MACLK,KAAK,CAAC,MACNC,GAAG,CAAC,CAACC;QACJ,IAAIA,KAAKC,QAAQ,CAAC,WAAW;YAC3BD,OAAOA,KACJE,OAAO,CAAC,cAAc,QACtBA,OAAO,CAAC,uBAAuB,YAC/BA,OAAO,CAAC,WAAW;QACxB;QAEA,OAAOF;IACT,GACCG,IAAI,CAAC;IAER,MAAMC,SAASC,IAAAA,uBAAK,EAACZ;IACrB,OAAOW,OAAOL,GAAG,CAAC,CAACO;QACjB,IAAI;YACF,MAAMC,MAAM,IAAIC,IAAIF,MAAMG,IAAI;YAC9B,MAAMC,MAAMlB,gBAAgBmB,IAAI,CAACJ,IAAIK,QAAQ;YAC7C,IAAIF,KAAK;oBACkBhB;gBAAzB,MAAMmB,mBAAmBnB,4BAAAA,mBAAAA,QACrBQ,OAAO,CAAC,OAAO,yBADMR,iBAErBQ,OAAO,CAAC,OAAO;gBACnB,IAAIW,kBAAkB;oBACpBP,MAAMG,IAAI,GACR,YAAYI,iBAAiBC,MAAM,CAACJ,IAAIK,GAAG,MAAOR,IAAIS,MAAM;gBAChE;YACF;QACF,EAAE,OAAM,CAAC;QACT,OAAO;YACLP,MAAMH,MAAMG,IAAI;YAChBQ,OAAOX,MAAMY,UAAU;YACvBC,SAASb,MAAMc,MAAM;YACrBC,YAAYf,MAAMe,UAAU;YAC5BC,WAAWhB,MAAMgB,SAAS;QAC5B;IACF;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>