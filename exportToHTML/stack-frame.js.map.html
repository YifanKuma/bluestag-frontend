<html>
<head>
<title>stack-frame.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
stack-frame.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/next-devtools/shared/stack-frame.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type {</span><span class="s3">\n  </span><span class="s1">OriginalStackFrameResponse,</span><span class="s3">\n  </span><span class="s1">OriginalStackFrameResponseResult,</span><span class="s3">\n  </span><span class="s1">OriginalStackFramesRequest,</span><span class="s3">\n  </span><span class="s1">StackFrame,</span><span class="s3">\n</span><span class="s1">} from '../server/shared'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">isWebpackInternalResource,</span><span class="s3">\n  </span><span class="s1">formatFrameSourceFile,</span><span class="s3">\n</span><span class="s1">} from './webpack-module-path'</span><span class="s3">\n\n</span><span class="s1">export type { StackFrame }</span><span class="s3">\n\n</span><span class="s1">interface ResolvedOriginalStackFrame extends OriginalStackFrameResponse {</span><span class="s3">\n  </span><span class="s1">error: false</span><span class="s3">\n  </span><span class="s1">reason: null</span><span class="s3">\n  </span><span class="s1">external: boolean</span><span class="s3">\n  </span><span class="s1">ignored: boolean</span><span class="s3">\n  </span><span class="s1">sourceStackFrame: StackFrame</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">interface RejectedOriginalStackFrame extends OriginalStackFrameResponse {</span><span class="s3">\n  </span><span class="s1">error: true</span><span class="s3">\n  </span><span class="s1">reason: string</span><span class="s3">\n  </span><span class="s1">external: boolean</span><span class="s3">\n  </span><span class="s1">ignored: boolean</span><span class="s3">\n  </span><span class="s1">sourceStackFrame: StackFrame</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export type OriginalStackFrame =</span><span class="s3">\n  </span><span class="s1">| ResolvedOriginalStackFrame</span><span class="s3">\n  </span><span class="s1">| RejectedOriginalStackFrame</span><span class="s3">\n\n</span><span class="s1">function getOriginalStackFrame(</span><span class="s3">\n  </span><span class="s1">source: StackFrame,</span><span class="s3">\n  </span><span class="s1">response: OriginalStackFrameResponseResult</span><span class="s3">\n</span><span class="s1">): Promise&lt;OriginalStackFrame&gt; {</span><span class="s3">\n  </span><span class="s1">async function _getOriginalStackFrame(): Promise&lt;ResolvedOriginalStackFrame&gt; {</span><span class="s3">\n    </span><span class="s1">if (response.status === 'rejected') {</span><span class="s3">\n      </span><span class="s1">throw new Error(response.reason)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const body: OriginalStackFrameResponse = response.value</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">error: false,</span><span class="s3">\n      </span><span class="s1">reason: null,</span><span class="s3">\n      </span><span class="s1">external: false,</span><span class="s3">\n      </span><span class="s1">sourceStackFrame: source,</span><span class="s3">\n      </span><span class="s1">originalStackFrame: body.originalStackFrame,</span><span class="s3">\n      </span><span class="s1">originalCodeFrame: body.originalCodeFrame || null,</span><span class="s3">\n      </span><span class="s1">ignored: body.originalStackFrame?.ignored || false,</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// TODO: merge this section into ignoredList handling</span><span class="s3">\n  </span><span class="s1">if (source.file === 'file://' || source.file?.match(/https?:</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">//)) {</span><span class="s3">\n    </span><span class="s1">return Promise.resolve({</span><span class="s3">\n      </span><span class="s1">error: false,</span><span class="s3">\n      </span><span class="s1">reason: null,</span><span class="s3">\n      </span><span class="s1">external: true,</span><span class="s3">\n      </span><span class="s1">sourceStackFrame: source,</span><span class="s3">\n      </span><span class="s1">originalStackFrame: null,</span><span class="s3">\n      </span><span class="s1">originalCodeFrame: null,</span><span class="s3">\n      </span><span class="s1">ignored: true,</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return _getOriginalStackFrame().catch(</span><span class="s3">\n    </span><span class="s1">(err: Error): RejectedOriginalStackFrame =&gt; ({</span><span class="s3">\n      </span><span class="s1">error: true,</span><span class="s3">\n      </span><span class="s1">reason: err?.message ?? err?.toString() ?? 'Unknown Error',</span><span class="s3">\n      </span><span class="s1">external: false,</span><span class="s3">\n      </span><span class="s1">sourceStackFrame: source,</span><span class="s3">\n      </span><span class="s1">originalStackFrame: null,</span><span class="s3">\n      </span><span class="s1">originalCodeFrame: null,</span><span class="s3">\n      </span><span class="s1">ignored: false,</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export async function getOriginalStackFrames(</span><span class="s3">\n  </span><span class="s1">frames: readonly StackFrame[],</span><span class="s3">\n  </span><span class="s1">type: 'server' | 'edge-server' | null,</span><span class="s3">\n  </span><span class="s1">isAppDir: boolean</span><span class="s3">\n</span><span class="s1">): Promise&lt;readonly OriginalStackFrame[]&gt; {</span><span class="s3">\n  </span><span class="s1">const req: OriginalStackFramesRequest = {</span><span class="s3">\n    </span><span class="s1">frames,</span><span class="s3">\n    </span><span class="s1">isServer: type === 'server',</span><span class="s3">\n    </span><span class="s1">isEdgeServer: type === 'edge-server',</span><span class="s3">\n    </span><span class="s1">isAppDirectory: isAppDir,</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">let res: Response | undefined = undefined</span><span class="s3">\n  </span><span class="s1">let reason: string | undefined = undefined</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">res = await fetch('/__nextjs_original-stack-frames', {</span><span class="s3">\n      </span><span class="s1">method: 'POST',</span><span class="s3">\n      </span><span class="s1">body: JSON.stringify(req),</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">} catch (e) {</span><span class="s3">\n    </span><span class="s1">reason = e + ''</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// When fails to fetch the original stack frames, we reject here to be</span><span class="s3">\n  </span><span class="s1">// caught at `_getOriginalStackFrame()` and return the stack frames so</span><span class="s3">\n  </span><span class="s1">// that the error overlay can render.</span><span class="s3">\n  </span><span class="s1">if (res &amp;&amp; res.ok &amp;&amp; res.status !== 204) {</span><span class="s3">\n    </span><span class="s1">const data = await res.json()</span><span class="s3">\n    </span><span class="s1">return Promise.all(</span><span class="s3">\n      </span><span class="s1">frames.map((frame, index) =&gt; getOriginalStackFrame(frame, data[index]))</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (res) {</span><span class="s3">\n      </span><span class="s1">reason = await res.text()</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return Promise.all(</span><span class="s3">\n    </span><span class="s1">frames.map((frame) =&gt;</span><span class="s3">\n      </span><span class="s1">getOriginalStackFrame(frame, {</span><span class="s3">\n        </span><span class="s1">status: 'rejected',</span><span class="s3">\n        </span><span class="s1">reason: `Failed to fetch the original stack frames ${reason ? `: ${reason}` : ''}`,</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getFrameSource(frame: StackFrame): string {</span><span class="s3">\n  </span><span class="s1">if (!frame.file) return ''</span><span class="s3">\n\n  </span><span class="s1">const isWebpackFrame = isWebpackInternalResource(frame.file)</span><span class="s3">\n\n  </span><span class="s1">let str = ''</span><span class="s3">\n  </span><span class="s1">// Skip URL parsing for webpack internal file paths.</span><span class="s3">\n  </span><span class="s1">if (isWebpackFrame) {</span><span class="s3">\n    </span><span class="s1">str = formatFrameSourceFile(frame.file)</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">const u = new URL(frame.file)</span><span class="s3">\n\n      </span><span class="s1">let parsedPath = ''</span><span class="s3">\n      </span><span class="s1">// Strip the origin for same-origin scripts.</span><span class="s3">\n      </span><span class="s1">if (globalThis.location?.origin !== u.origin) {</span><span class="s3">\n        </span><span class="s1">// URLs can be valid without an `origin`, so long as they have a</span><span class="s3">\n        </span><span class="s1">// `protocol`. However, `origin` is preferred.</span><span class="s3">\n        </span><span class="s1">if (u.origin === 'null') {</span><span class="s3">\n          </span><span class="s1">parsedPath += u.protocol</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">parsedPath += u.origin</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// Strip query string information as it's typically too verbose to be</span><span class="s3">\n      </span><span class="s1">// meaningful.</span><span class="s3">\n      </span><span class="s1">parsedPath += u.pathname</span><span class="s3">\n      </span><span class="s1">str = formatFrameSourceFile(parsedPath)</span><span class="s3">\n    </span><span class="s1">} catch {</span><span class="s3">\n      </span><span class="s1">str = formatFrameSourceFile(frame.file)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (!isWebpackInternalResource(frame.file) &amp;&amp; frame.line1 != null) {</span><span class="s3">\n    </span><span class="s1">// We don't need line and column numbers for anonymous sources because</span><span class="s3">\n    </span><span class="s1">// there's no entrypoint for the location anyway.</span><span class="s3">\n    </span><span class="s1">if (str &amp;&amp; frame.file !== '&lt;anonymous&gt;') {</span><span class="s3">\n      </span><span class="s1">if (frame.column1 != null) {</span><span class="s3">\n        </span><span class="s1">str += ` (${frame.line1}:${frame.column1})`</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">str += ` (${frame.line1})`</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return str</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;getFrameSource&quot;</span><span class="s0">,</span><span class="s1">&quot;getOriginalStackFrames&quot;</span><span class="s0">,</span><span class="s1">&quot;getOriginalStackFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;source&quot;</span><span class="s0">,</span><span class="s1">&quot;response&quot;</span><span class="s0">,</span><span class="s1">&quot;_getOriginalStackFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;body&quot;</span><span class="s0">,</span><span class="s1">&quot;status&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;reason&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;external&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceStackFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;originalStackFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;originalCodeFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;ignored&quot;</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">,</span><span class="s1">&quot;match&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;catch&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;frames&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppDir&quot;</span><span class="s0">,</span><span class="s1">&quot;req&quot;</span><span class="s0">,</span><span class="s1">&quot;isServer&quot;</span><span class="s0">,</span><span class="s1">&quot;isEdgeServer&quot;</span><span class="s0">,</span><span class="s1">&quot;isAppDirectory&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;fetch&quot;</span><span class="s0">,</span><span class="s1">&quot;method&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;ok&quot;</span><span class="s0">,</span><span class="s1">&quot;data&quot;</span><span class="s0">,</span><span class="s1">&quot;json&quot;</span><span class="s0">,</span><span class="s1">&quot;all&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;frame&quot;</span><span class="s0">,</span><span class="s1">&quot;index&quot;</span><span class="s0">,</span><span class="s1">&quot;text&quot;</span><span class="s0">,</span><span class="s1">&quot;isWebpackFrame&quot;</span><span class="s0">,</span><span class="s1">&quot;isWebpackInternalResource&quot;</span><span class="s0">,</span><span class="s1">&quot;str&quot;</span><span class="s0">,</span><span class="s1">&quot;formatFrameSourceFile&quot;</span><span class="s0">,</span><span class="s1">&quot;globalThis&quot;</span><span class="s0">,</span><span class="s1">&quot;u&quot;</span><span class="s0">,</span><span class="s1">&quot;URL&quot;</span><span class="s0">,</span><span class="s1">&quot;parsedPath&quot;</span><span class="s0">,</span><span class="s1">&quot;location&quot;</span><span class="s0">,</span><span class="s1">&quot;origin&quot;</span><span class="s0">,</span><span class="s1">&quot;protocol&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;line1&quot;</span><span class="s0">,</span><span class="s1">&quot;column1&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>