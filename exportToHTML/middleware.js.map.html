<html>
<head>
<title>middleware.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
middleware.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/build/templates/middleware.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { AdapterOptions } from '../../server/web/adapter'</span><span class="s3">\n\n</span><span class="s1">import '../../server/web/globals'</span><span class="s3">\n\n</span><span class="s1">import { adapter } from '../../server/web/adapter'</span><span class="s3">\n\n</span><span class="s1">// Import the userland code.</span><span class="s3">\n</span><span class="s1">import * as _mod from 'VAR_USERLAND'</span><span class="s3">\n</span><span class="s1">import { edgeInstrumentationOnRequestError } from '../../server/web/globals'</span><span class="s3">\n</span><span class="s1">import { isNextRouterError } from '../../client/components/is-next-router-error'</span><span class="s3">\n\n</span><span class="s1">const mod = { ..._mod }</span><span class="s3">\n</span><span class="s1">const handler = mod.middleware || mod.default</span><span class="s3">\n\n</span><span class="s1">const page = 'VAR_DEFINITION_PAGE'</span><span class="s3">\n\n</span><span class="s1">if (typeof handler !== 'function') {</span><span class="s3">\n  </span><span class="s1">throw new Error(</span><span class="s3">\n    </span><span class="s1">`The Middleware </span><span class="s3">\&quot;</span><span class="s1">${page}</span><span class="s3">\&quot; </span><span class="s1">must export a </span><span class="s3">\\</span><span class="s1">`middleware</span><span class="s3">\\</span><span class="s1">` or a </span><span class="s3">\\</span><span class="s1">`default</span><span class="s3">\\</span><span class="s1">` function`</span><span class="s3">\n  </span><span class="s1">)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Middleware will only sent out the FetchEvent to next server,</span><span class="s3">\n</span><span class="s1">// so load instrumentation module here and track the error inside middleware module.</span><span class="s3">\n</span><span class="s1">function errorHandledHandler(fn: AdapterOptions['handler']) {</span><span class="s3">\n  </span><span class="s1">return async (...args: Parameters&lt;AdapterOptions['handler']&gt;) =&gt; {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">return await fn(...args)</span><span class="s3">\n    </span><span class="s1">} catch (err) {</span><span class="s3">\n      </span><span class="s1">// In development, error the navigation API usage in runtime,</span><span class="s3">\n      </span><span class="s1">// since it's not allowed to be used in middleware as it's outside of react component tree.</span><span class="s3">\n      </span><span class="s1">if (process.env.NODE_ENV !== 'production') {</span><span class="s3">\n        </span><span class="s1">if (isNextRouterError(err)) {</span><span class="s3">\n          </span><span class="s1">err.message = `Next.js navigation API is not allowed to be used in Middleware.`</span><span class="s3">\n          </span><span class="s1">throw err</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">const req = args[0]</span><span class="s3">\n      </span><span class="s1">const url = new URL(req.url)</span><span class="s3">\n      </span><span class="s1">const resource = url.pathname + url.search</span><span class="s3">\n      </span><span class="s1">await edgeInstrumentationOnRequestError(</span><span class="s3">\n        </span><span class="s1">err,</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n          </span><span class="s1">path: resource,</span><span class="s3">\n          </span><span class="s1">method: req.method,</span><span class="s3">\n          </span><span class="s1">headers: Object.fromEntries(req.headers.entries()),</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n          </span><span class="s1">routerKind: 'Pages Router',</span><span class="s3">\n          </span><span class="s1">routePath: '/middleware',</span><span class="s3">\n          </span><span class="s1">routeType: 'middleware',</span><span class="s3">\n          </span><span class="s1">revalidateReason: undefined,</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n\n      </span><span class="s1">throw err</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function nHandler(</span><span class="s3">\n  </span><span class="s1">opts: Omit&lt;AdapterOptions, 'IncrementalCache' | 'page' | 'handler'&gt;</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">return adapter({</span><span class="s3">\n    </span><span class="s1">...opts,</span><span class="s3">\n    </span><span class="s1">page,</span><span class="s3">\n    </span><span class="s1">handler: errorHandledHandler(handler),</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;nHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;mod&quot;</span><span class="s0">,</span><span class="s1">&quot;_mod&quot;</span><span class="s0">,</span><span class="s1">&quot;handler&quot;</span><span class="s0">,</span><span class="s1">&quot;middleware&quot;</span><span class="s0">,</span><span class="s1">&quot;default&quot;</span><span class="s0">,</span><span class="s1">&quot;page&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;errorHandledHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;fn&quot;</span><span class="s0">,</span><span class="s1">&quot;args&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;NODE_ENV&quot;</span><span class="s0">,</span><span class="s1">&quot;isNextRouterError&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;req&quot;</span><span class="s0">,</span><span class="s1">&quot;url&quot;</span><span class="s0">,</span><span class="s1">&quot;URL&quot;</span><span class="s0">,</span><span class="s1">&quot;resource&quot;</span><span class="s0">,</span><span class="s1">&quot;pathname&quot;</span><span class="s0">,</span><span class="s1">&quot;search&quot;</span><span class="s0">,</span><span class="s1">&quot;edgeInstrumentationOnRequestError&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;method&quot;</span><span class="s0">,</span><span class="s1">&quot;headers&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;fromEntries&quot;</span><span class="s0">,</span><span class="s1">&quot;entries&quot;</span><span class="s0">,</span><span class="s1">&quot;routerKind&quot;</span><span class="s0">,</span><span class="s1">&quot;routePath&quot;</span><span class="s0">,</span><span class="s1">&quot;routeType&quot;</span><span class="s0">,</span><span class="s1">&quot;revalidateReason&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;opts&quot;</span><span class="s0">,</span><span class="s1">&quot;adapter&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BA4DA;;;eAAwBA;;;yBA1DjB;yBAEiB;sEAGF;mCAEY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAElC,MAAMC,MAAM;IAAE,GAAGC,aAAI;AAAC;AACtB,MAAMC,UAAUF,IAAIG,UAAU,IAAIH,IAAII,OAAO;AAE7C,MAAMC,OAAO;AAEb,IAAI,OAAOH,YAAY,YAAY;IACjC,MAAM,qBAEL,CAFK,IAAII,MACR,CAAC,gBAAgB,EAAED,KAAK,wDAAwD,CAAC,GAD7E,qBAAA;eAAA;oBAAA;sBAAA;IAEN;AACF;AAEA,+DAA+D;AAC/D,oFAAoF;AACpF,SAASE,oBAAoBC,EAA6B;IACxD,OAAO,OAAO,GAAGC;QACf,IAAI;YACF,OAAO,MAAMD,MAAMC;QACrB,EAAE,OAAOC,KAAK;YACZ,6DAA6D;YAC7D,2FAA2F;YAC3F,IAAIC,QAAQC,GAAG,CAACC,QAAQ,KAAK,cAAc;gBACzC,IAAIC,IAAAA,oCAAiB,EAACJ,MAAM;oBAC1BA,IAAIK,OAAO,GAAG,CAAC,+DAA+D,CAAC;oBAC/E,MAAML;gBACR;YACF;YACA,MAAMM,MAAMP,IAAI,CAAC,EAAE;YACnB,MAAMQ,MAAM,IAAIC,IAAIF,IAAIC,GAAG;YAC3B,MAAME,WAAWF,IAAIG,QAAQ,GAAGH,IAAII,MAAM;YAC1C,MAAMC,IAAAA,0CAAiC,EACrCZ,KACA;gBACEa,MAAMJ;gBACNK,QAAQR,IAAIQ,MAAM;gBAClBC,SAASC,OAAOC,WAAW,CAACX,IAAIS,OAAO,CAACG,OAAO;YACjD,GACA;gBACEC,YAAY;gBACZC,WAAW;gBACXC,WAAW;gBACXC,kBAAkBC;YACpB;YAGF,MAAMvB;QACR;IACF;AACF;AAEe,SAASX,SACtBmC,IAAmE;IAEnE,OAAOC,IAAAA,gBAAO,EAAC;QACb,GAAGD,IAAI;QACP7B;QACAH,SAASK,oBAAoBL;IAC/B;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>