<html>
<head>
<title>app-build-manifest-plugin.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
app-build-manifest-plugin.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../../src/build/webpack/plugins/app-build-manifest-plugin.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { webpack, sources } from 'next/dist/compiled/webpack/webpack'</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">APP_BUILD_MANIFEST,</span><span class="s3">\n  </span><span class="s1">CLIENT_STATIC_FILES_RUNTIME_MAIN_APP,</span><span class="s3">\n  </span><span class="s1">SYSTEM_ENTRYPOINTS,</span><span class="s3">\n</span><span class="s1">} from '../../../shared/lib/constants'</span><span class="s3">\n</span><span class="s1">import { getEntrypointFiles } from './build-manifest-plugin'</span><span class="s3">\n</span><span class="s1">import getAppRouteFromEntrypoint from '../../../server/get-app-route-from-entrypoint'</span><span class="s3">\n\n</span><span class="s1">type Options = {</span><span class="s3">\n  </span><span class="s1">dev: boolean</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export type AppBuildManifest = {</span><span class="s3">\n  </span><span class="s1">pages: Record&lt;string, string[]&gt;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const PLUGIN_NAME = 'AppBuildManifestPlugin'</span><span class="s3">\n\n</span><span class="s1">export class AppBuildManifestPlugin {</span><span class="s3">\n  </span><span class="s1">private readonly dev: boolean</span><span class="s3">\n\n  </span><span class="s1">constructor(options: Options) {</span><span class="s3">\n    </span><span class="s1">this.dev = options.dev</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">public apply(compiler: any) {</span><span class="s3">\n    </span><span class="s1">compiler.hooks.make.tap(PLUGIN_NAME, (compilation: any) =&gt; {</span><span class="s3">\n      </span><span class="s1">compilation.hooks.processAssets.tap(</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n          </span><span class="s1">name: PLUGIN_NAME,</span><span class="s3">\n          </span><span class="s1">stage: webpack.Compilation.PROCESS_ASSETS_STAGE_ADDITIONS,</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">() =&gt; this.createAsset(compilation)</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">private createAsset(compilation: webpack.Compilation) {</span><span class="s3">\n    </span><span class="s1">const manifest: AppBuildManifest = {</span><span class="s3">\n      </span><span class="s1">pages: {},</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const mainFiles = new Set(</span><span class="s3">\n      </span><span class="s1">getEntrypointFiles(</span><span class="s3">\n        </span><span class="s1">compilation.entrypoints.get(CLIENT_STATIC_FILES_RUNTIME_MAIN_APP)</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">for (const entrypoint of compilation.entrypoints.values()) {</span><span class="s3">\n      </span><span class="s1">if (!entrypoint.name) {</span><span class="s3">\n        </span><span class="s1">continue</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (SYSTEM_ENTRYPOINTS.has(entrypoint.name)) {</span><span class="s3">\n        </span><span class="s1">continue</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const pagePath = getAppRouteFromEntrypoint(entrypoint.name)</span><span class="s3">\n      </span><span class="s1">if (!pagePath) {</span><span class="s3">\n        </span><span class="s1">continue</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const filesForPage = getEntrypointFiles(entrypoint)</span><span class="s3">\n      </span><span class="s1">manifest.pages[pagePath] = [...new Set([...mainFiles, ...filesForPage])]</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const json = JSON.stringify(manifest, null, 2)</span><span class="s3">\n\n    </span><span class="s1">compilation.emitAsset(</span><span class="s3">\n      </span><span class="s1">APP_BUILD_MANIFEST,</span><span class="s3">\n      </span><span class="s1">new sources.RawSource(json) as unknown as webpack.sources.RawSource</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;AppBuildManifestPlugin&quot;</span><span class="s0">,</span><span class="s1">&quot;PLUGIN_NAME&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;dev&quot;</span><span class="s0">,</span><span class="s1">&quot;apply&quot;</span><span class="s0">,</span><span class="s1">&quot;compiler&quot;</span><span class="s0">,</span><span class="s1">&quot;hooks&quot;</span><span class="s0">,</span><span class="s1">&quot;make&quot;</span><span class="s0">,</span><span class="s1">&quot;tap&quot;</span><span class="s0">,</span><span class="s1">&quot;compilation&quot;</span><span class="s0">,</span><span class="s1">&quot;processAssets&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;stage&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack&quot;</span><span class="s0">,</span><span class="s1">&quot;Compilation&quot;</span><span class="s0">,</span><span class="s1">&quot;PROCESS_ASSETS_STAGE_ADDITIONS&quot;</span><span class="s0">,</span><span class="s1">&quot;createAsset&quot;</span><span class="s0">,</span><span class="s1">&quot;manifest&quot;</span><span class="s0">,</span><span class="s1">&quot;pages&quot;</span><span class="s0">,</span><span class="s1">&quot;mainFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">&quot;getEntrypointFiles&quot;</span><span class="s0">,</span><span class="s1">&quot;entrypoints&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;CLIENT_STATIC_FILES_RUNTIME_MAIN_APP&quot;</span><span class="s0">,</span><span class="s1">&quot;entrypoint&quot;</span><span class="s0">,</span><span class="s1">&quot;values&quot;</span><span class="s0">,</span><span class="s1">&quot;SYSTEM_ENTRYPOINTS&quot;</span><span class="s0">,</span><span class="s1">&quot;has&quot;</span><span class="s0">,</span><span class="s1">&quot;pagePath&quot;</span><span class="s0">,</span><span class="s1">&quot;getAppRouteFromEntrypoint&quot;</span><span class="s0">,</span><span class="s1">&quot;filesForPage&quot;</span><span class="s0">,</span><span class="s1">&quot;json&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;emitAsset&quot;</span><span class="s0">,</span><span class="s1">&quot;APP_BUILD_MANIFEST&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">,</span><span class="s1">&quot;RawSource&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAmBaA;;;eAAAA;;;yBAnBoB;2BAK1B;qCAC4B;kFACG;;;;;;AAUtC,MAAMC,cAAc;AAEb,MAAMD;IAGXE,YAAYC,OAAgB,CAAE;QAC5B,IAAI,CAACC,GAAG,GAAGD,QAAQC,GAAG;IACxB;IAEOC,MAAMC,QAAa,EAAE;QAC1BA,SAASC,KAAK,CAACC,IAAI,CAACC,GAAG,CAACR,aAAa,CAACS;YACpCA,YAAYH,KAAK,CAACI,aAAa,CAACF,GAAG,CACjC;gBACEG,MAAMX;gBACNY,OAAOC,gBAAO,CAACC,WAAW,CAACC,8BAA8B;YAC3D,GACA,IAAM,IAAI,CAACC,WAAW,CAACP;QAE3B;IACF;IAEQO,YAAYP,WAAgC,EAAE;QACpD,MAAMQ,WAA6B;YACjCC,OAAO,CAAC;QACV;QAEA,MAAMC,YAAY,IAAIC,IACpBC,IAAAA,uCAAkB,EAChBZ,YAAYa,WAAW,CAACC,GAAG,CAACC,+CAAoC;QAIpE,KAAK,MAAMC,cAAchB,YAAYa,WAAW,CAACI,MAAM,GAAI;YACzD,IAAI,CAACD,WAAWd,IAAI,EAAE;gBACpB;YACF;YAEA,IAAIgB,6BAAkB,CAACC,GAAG,CAACH,WAAWd,IAAI,GAAG;gBAC3C;YACF;YAEA,MAAMkB,WAAWC,IAAAA,kCAAyB,EAACL,WAAWd,IAAI;YAC1D,IAAI,CAACkB,UAAU;gBACb;YACF;YAEA,MAAME,eAAeV,IAAAA,uCAAkB,EAACI;YACxCR,SAASC,KAAK,CAACW,SAAS,GAAG;mBAAI,IAAIT,IAAI;uBAAID;uBAAcY;iBAAa;aAAE;QAC1E;QAEA,MAAMC,OAAOC,KAAKC,SAAS,CAACjB,UAAU,MAAM;QAE5CR,YAAY0B,SAAS,CACnBC,6BAAkB,EAClB,IAAIC,gBAAO,CAACC,SAAS,CAACN;IAE1B;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>