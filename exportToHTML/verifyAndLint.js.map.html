<html>
<head>
<title>verifyAndLint.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
verifyAndLint.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/lib/verifyAndLint.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { red } from './picocolors'</span><span class="s3">\n</span><span class="s1">import { Worker } from './worker'</span><span class="s3">\n</span><span class="s1">import { existsSync } from 'fs'</span><span class="s3">\n</span><span class="s1">import { join } from 'path'</span><span class="s3">\n</span><span class="s1">import { ESLINT_DEFAULT_DIRS } from './constants'</span><span class="s3">\n</span><span class="s1">import type { Telemetry } from '../telemetry/storage'</span><span class="s3">\n</span><span class="s1">import { eventLintCheckCompleted } from '../telemetry/events'</span><span class="s3">\n</span><span class="s1">import { CompileError } from './compile-error'</span><span class="s3">\n</span><span class="s1">import isError from './is-error'</span><span class="s3">\n\n</span><span class="s1">export async function verifyAndLint(</span><span class="s3">\n  </span><span class="s1">dir: string,</span><span class="s3">\n  </span><span class="s1">cacheLocation: string,</span><span class="s3">\n  </span><span class="s1">configLintDirs: string[] | undefined,</span><span class="s3">\n  </span><span class="s1">enableWorkerThreads: boolean | undefined,</span><span class="s3">\n  </span><span class="s1">telemetry: Telemetry</span><span class="s3">\n</span><span class="s1">): Promise&lt;void&gt; {</span><span class="s3">\n  </span><span class="s1">let lintWorkers:</span><span class="s3">\n    </span><span class="s1">| (Worker &amp; {</span><span class="s3">\n        </span><span class="s1">runLintCheck: typeof import('./eslint/runLintCheck').runLintCheck</span><span class="s3">\n      </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">| undefined</span><span class="s3">\n\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">lintWorkers = new Worker(require.resolve('./eslint/runLintCheck'), {</span><span class="s3">\n      </span><span class="s1">exposedMethods: ['runLintCheck'],</span><span class="s3">\n      </span><span class="s1">debuggerPortOffset: -1,</span><span class="s3">\n      </span><span class="s1">isolatedMemory: false,</span><span class="s3">\n      </span><span class="s1">numWorkers: 1,</span><span class="s3">\n      </span><span class="s1">enableWorkerThreads,</span><span class="s3">\n      </span><span class="s1">maxRetries: 0,</span><span class="s3">\n    </span><span class="s1">}) as Worker &amp; {</span><span class="s3">\n      </span><span class="s1">runLintCheck: typeof import('./eslint/runLintCheck').runLintCheck</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const lintDirs = (configLintDirs ?? ESLINT_DEFAULT_DIRS).reduce(</span><span class="s3">\n      </span><span class="s1">(res: string[], d: string) =&gt; {</span><span class="s3">\n        </span><span class="s1">const currDir = join(dir, d)</span><span class="s3">\n        </span><span class="s1">if (!existsSync(currDir)) return res</span><span class="s3">\n        </span><span class="s1">res.push(currDir)</span><span class="s3">\n        </span><span class="s1">return res</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">[]</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n\n    </span><span class="s1">const lintResults = await lintWorkers?.runLintCheck(dir, lintDirs, {</span><span class="s3">\n      </span><span class="s1">lintDuringBuild: true,</span><span class="s3">\n      </span><span class="s1">eslintOptions: {</span><span class="s3">\n        </span><span class="s1">cacheLocation,</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n    </span><span class="s1">const lintOutput =</span><span class="s3">\n      </span><span class="s1">typeof lintResults === 'string' ? lintResults : lintResults?.output</span><span class="s3">\n\n    </span><span class="s1">if (typeof lintResults !== 'string' &amp;&amp; lintResults?.eventInfo) {</span><span class="s3">\n      </span><span class="s1">telemetry.record(</span><span class="s3">\n        </span><span class="s1">eventLintCheckCompleted({</span><span class="s3">\n          </span><span class="s1">...lintResults.eventInfo,</span><span class="s3">\n          </span><span class="s1">buildLint: true,</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (typeof lintResults !== 'string' &amp;&amp; lintResults?.isError &amp;&amp; lintOutput) {</span><span class="s3">\n      </span><span class="s1">await telemetry.flush()</span><span class="s3">\n      </span><span class="s1">throw new CompileError(lintOutput)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (lintOutput) {</span><span class="s3">\n      </span><span class="s1">console.log(lintOutput)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} catch (err) {</span><span class="s3">\n    </span><span class="s1">if (isError(err)) {</span><span class="s3">\n      </span><span class="s1">if (err.type === 'CompileError' || err instanceof CompileError) {</span><span class="s3">\n        </span><span class="s1">console.error(red('</span><span class="s3">\\</span><span class="s1">nFailed to compile.'))</span><span class="s3">\n        </span><span class="s1">console.error(err.message)</span><span class="s3">\n        </span><span class="s1">process.exit(1)</span><span class="s3">\n      </span><span class="s1">} else if (err.type === 'FatalError') {</span><span class="s3">\n        </span><span class="s1">console.error(err.message)</span><span class="s3">\n        </span><span class="s1">process.exit(1)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">throw err</span><span class="s3">\n  </span><span class="s1">} finally {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">lintWorkers?.end()</span><span class="s3">\n    </span><span class="s1">} catch {}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;verifyAndLint&quot;</span><span class="s0">,</span><span class="s1">&quot;dir&quot;</span><span class="s0">,</span><span class="s1">&quot;cacheLocation&quot;</span><span class="s0">,</span><span class="s1">&quot;configLintDirs&quot;</span><span class="s0">,</span><span class="s1">&quot;enableWorkerThreads&quot;</span><span class="s0">,</span><span class="s1">&quot;telemetry&quot;</span><span class="s0">,</span><span class="s1">&quot;lintWorkers&quot;</span><span class="s0">,</span><span class="s1">&quot;Worker&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;exposedMethods&quot;</span><span class="s0">,</span><span class="s1">&quot;debuggerPortOffset&quot;</span><span class="s0">,</span><span class="s1">&quot;isolatedMemory&quot;</span><span class="s0">,</span><span class="s1">&quot;numWorkers&quot;</span><span class="s0">,</span><span class="s1">&quot;maxRetries&quot;</span><span class="s0">,</span><span class="s1">&quot;lintDirs&quot;</span><span class="s0">,</span><span class="s1">&quot;ESLINT_DEFAULT_DIRS&quot;</span><span class="s0">,</span><span class="s1">&quot;reduce&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;d&quot;</span><span class="s0">,</span><span class="s1">&quot;currDir&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;existsSync&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;lintResults&quot;</span><span class="s0">,</span><span class="s1">&quot;runLintCheck&quot;</span><span class="s0">,</span><span class="s1">&quot;lintDuringBuild&quot;</span><span class="s0">,</span><span class="s1">&quot;eslintOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;lintOutput&quot;</span><span class="s0">,</span><span class="s1">&quot;output&quot;</span><span class="s0">,</span><span class="s1">&quot;eventInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;record&quot;</span><span class="s0">,</span><span class="s1">&quot;eventLintCheckCompleted&quot;</span><span class="s0">,</span><span class="s1">&quot;buildLint&quot;</span><span class="s0">,</span><span class="s1">&quot;isError&quot;</span><span class="s0">,</span><span class="s1">&quot;flush&quot;</span><span class="s0">,</span><span class="s1">&quot;CompileError&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;log&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;red&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;exit&quot;</span><span class="s0">,</span><span class="s1">&quot;end&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BAUsBA;;;eAAAA;;;4BAVF;wBACG;oBACI;sBACN;2BACe;wBAEI;8BACX;gEACT;;;;;;AAEb,eAAeA,cACpBC,GAAW,EACXC,aAAqB,EACrBC,cAAoC,EACpCC,mBAAwC,EACxCC,SAAoB;IAEpB,IAAIC;IAMJ,IAAI;QACFA,cAAc,IAAIC,cAAM,CAACC,QAAQC,OAAO,CAAC,0BAA0B;YACjEC,gBAAgB;gBAAC;aAAe;YAChCC,oBAAoB,CAAC;YACrBC,gBAAgB;YAChBC,YAAY;YACZT;YACAU,YAAY;QACd;QAIA,MAAMC,WAAW,AAACZ,CAAAA,kBAAkBa,8BAAmB,AAAD,EAAGC,MAAM,CAC7D,CAACC,KAAeC;YACd,MAAMC,UAAUC,IAAAA,UAAI,EAACpB,KAAKkB;YAC1B,IAAI,CAACG,IAAAA,cAAU,EAACF,UAAU,OAAOF;YACjCA,IAAIK,IAAI,CAACH;YACT,OAAOF;QACT,GACA,EAAE;QAGJ,MAAMM,cAAc,OAAMlB,+BAAAA,YAAamB,YAAY,CAACxB,KAAKc,UAAU;YACjEW,iBAAiB;YACjBC,eAAe;gBACbzB;YACF;QACF;QACA,MAAM0B,aACJ,OAAOJ,gBAAgB,WAAWA,cAAcA,+BAAAA,YAAaK,MAAM;QAErE,IAAI,OAAOL,gBAAgB,aAAYA,+BAAAA,YAAaM,SAAS,GAAE;YAC7DzB,UAAU0B,MAAM,CACdC,IAAAA,+BAAuB,EAAC;gBACtB,GAAGR,YAAYM,SAAS;gBACxBG,WAAW;YACb;QAEJ;QAEA,IAAI,OAAOT,gBAAgB,aAAYA,+BAAAA,YAAaU,OAAO,KAAIN,YAAY;YACzE,MAAMvB,UAAU8B,KAAK;YACrB,MAAM,qBAA4B,CAA5B,IAAIC,0BAAY,CAACR,aAAjB,qBAAA;uBAAA;4BAAA;8BAAA;YAA2B;QACnC;QAEA,IAAIA,YAAY;YACdS,QAAQC,GAAG,CAACV;QACd;IACF,EAAE,OAAOW,KAAK;QACZ,IAAIL,IAAAA,gBAAO,EAACK,MAAM;YAChB,IAAIA,IAAIC,IAAI,KAAK,kBAAkBD,eAAeH,0BAAY,EAAE;gBAC9DC,QAAQI,KAAK,CAACC,IAAAA,eAAG,EAAC;gBAClBL,QAAQI,KAAK,CAACF,IAAII,OAAO;gBACzBC,QAAQC,IAAI,CAAC;YACf,OAAO,IAAIN,IAAIC,IAAI,KAAK,cAAc;gBACpCH,QAAQI,KAAK,CAACF,IAAII,OAAO;gBACzBC,QAAQC,IAAI,CAAC;YACf;QACF;QACA,MAAMN;IACR,SAAU;QACR,IAAI;YACFjC,+BAAAA,YAAawC,GAAG;QAClB,EAAE,OAAM,CAAC;IACX;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>