<html>
<head>
<title>no-extraneous-dependencies.md</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #080808;}
.s3 { color: #871094; font-style: italic;}
.s4 { color: #067d17;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
no-extraneous-dependencies.md</font>
</center></td></tr></table>
<pre><span class="s0"># </span><span class="s2">import/no-extraneous-dependencies</span>

<span class="s1">&lt;!-- end auto-generated rule header --&gt;</span>

<span class="s2">Forbid the import of external modules that are not declared in the `package.json`</span><span class="s1">'</span><span class="s2">s `dependencies`, `devDependencies`, `optionalDependencies`, `peerDependencies`, or `bundledDependencies`.</span>
<span class="s2">The closest parent `package.json` will be used. If no `package.json` is found, the rule will not lint anything. This behavior can be changed with the rule option `packageDir`. Normally ignores imports of modules marked internal, but this can be changed with the rule option `includeInternal`. Type imports can be verified by specifying `includeTypes`.</span>

<span class="s2">Modules have to be installed for this rule to work.</span>

<span class="s0">## </span><span class="s2">Options</span>

<span class="s2">This rule supports the following options</span><span class="s1">:</span>

<span class="s2">`devDependencies`</span><span class="s1">: </span><span class="s2">If set to `false`, then the rule will show an error when `devDependencies` are imported. Defaults to `true`.</span>
<span class="s2">Type imports are ignored by default.</span>

<span class="s2">`optionalDependencies`</span><span class="s1">: </span><span class="s2">If set to `false`, then the rule will show an error when `optionalDependencies` are imported. Defaults to `true`.</span>

<span class="s2">`peerDependencies`</span><span class="s1">: </span><span class="s2">If set to `false`, then the rule will show an error when `peerDependencies` are imported. Defaults to `true`.</span>

<span class="s2">`bundledDependencies`</span><span class="s1">: </span><span class="s2">If set to `false`, then the rule will show an error when `bundledDependencies` are imported. Defaults to `true`.</span>

<span class="s2">You can set the options like this</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">&quot;import/no-extraneous-dependencies&quot;: [&quot;error&quot;, {&quot;devDependencies&quot;: false, &quot;optionalDependencies&quot;: false, &quot;peerDependencies&quot;: false}]</span>
<span class="s0">```</span>

<span class="s2">You can also use an array of globs instead of literal booleans</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">&quot;import/no-extraneous-dependencies&quot;: [&quot;error&quot;, {&quot;devDependencies&quot;: [&quot;**/*.test.js&quot;, &quot;**/*.spec.js&quot;]}]</span>
<span class="s0">```</span>

<span class="s2">When using an array of globs, the setting will be set to `true` </span><span class="s1">(</span><span class="s2">no errors reported</span><span class="s1">) </span><span class="s2">if the name of the file being linted </span><span class="s1">(</span><span class="s2">i.e. not the imported file/module</span><span class="s1">) </span><span class="s2">matches a single glob in the array, and `false` otherwise.</span>

<span class="s2">There are 2 boolean options to opt into checking extra imports that are normally ignored</span><span class="s1">: </span><span class="s2">`includeInternal`, which enables the checking of internal modules, and `includeTypes`, which enables checking of type imports in TypeScript.</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">&quot;import/no-extraneous-dependencies&quot;: [&quot;error&quot;, {&quot;includeInternal&quot;: true, &quot;includeTypes&quot;: true}]</span>
<span class="s0">```</span>

<span class="s2">Also there is one more option called `packageDir`, this option is to specify the path to the folder containing package.json.</span>

<span class="s2">If provided as a relative path string, will be computed relative to the current working directory at linter execution time. If this is not ideal </span><span class="s1">(</span><span class="s2">does not work with some editor integrations</span><span class="s1">)</span><span class="s2">, consider using `</span><span class="s1">__</span><span class="s2">dirname` to provide a path relative to your configuration.</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">&quot;import/no-extraneous-dependencies&quot;: [&quot;error&quot;, {&quot;packageDir&quot;: './some-dir/'}]</span>
<span class="s4">// or</span>
<span class="s4">&quot;import/no-extraneous-dependencies&quot;: [&quot;error&quot;, {&quot;packageDir&quot;: path.join(__dirname, 'some-dir')}]</span>
<span class="s0">```</span>

<span class="s2">It may also be an array of multiple paths, to support monorepos or other novel project</span>
<span class="s2">folder layouts</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">&quot;import/no-extraneous-dependencies&quot;: [&quot;error&quot;, {&quot;packageDir&quot;: ['./some-dir/', './root-pkg']}]</span>
<span class="s0">```</span>

<span class="s0">## </span><span class="s2">Rule Details</span>

<span class="s2">Given the following `package.json`</span><span class="s1">:</span>

<span class="s0">```</span><span class="s3">json</span>
<span class="s4">{</span>
  <span class="s4">&quot;name&quot;: &quot;my-project&quot;,</span>
  <span class="s4">&quot;...&quot;: &quot;...&quot;,</span>
  <span class="s4">&quot;dependencies&quot;: {</span>
    <span class="s4">&quot;builtin-modules&quot;: &quot;^1.1.1&quot;,</span>
    <span class="s4">&quot;lodash.cond&quot;: &quot;^4.2.0&quot;,</span>
    <span class="s4">&quot;lodash.find&quot;: &quot;^4.2.0&quot;,</span>
    <span class="s4">&quot;pkg-up&quot;: &quot;^1.0.0&quot;</span>
  <span class="s4">},</span>
  <span class="s4">&quot;devDependencies&quot;: {</span>
    <span class="s4">&quot;ava&quot;: &quot;^0.13.0&quot;,</span>
    <span class="s4">&quot;eslint&quot;: &quot;^2.4.0&quot;,</span>
    <span class="s4">&quot;eslint-plugin-ava&quot;: &quot;^1.3.0&quot;,</span>
    <span class="s4">&quot;xo&quot;: &quot;^0.13.0&quot;</span>
  <span class="s4">},</span>
  <span class="s4">&quot;optionalDependencies&quot;: {</span>
    <span class="s4">&quot;lodash.isarray&quot;: &quot;^4.0.0&quot;</span>
  <span class="s4">},</span>
  <span class="s4">&quot;peerDependencies&quot;: {</span>
    <span class="s4">&quot;react&quot;: &quot;&gt;=15.0.0 &lt;16.0.0&quot;</span>
  <span class="s4">},</span>
  <span class="s4">&quot;bundledDependencies&quot;: [</span>
    <span class="s4">&quot;@generated/foo&quot;,</span>
  <span class="s4">]</span>
<span class="s4">}</span>
<span class="s0">```</span>

<span class="s0">## </span><span class="s2">Fail</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">var _ = require('lodash');</span>
<span class="s4">import _ from 'lodash';</span>

<span class="s4">import react from 'react';</span>

<span class="s4">/* eslint import/no-extraneous-dependencies: [&quot;error&quot;, {&quot;devDependencies&quot;: false}] */</span>
<span class="s4">import test from 'ava';</span>
<span class="s4">var test = require('ava');</span>

<span class="s4">/* eslint import/no-extraneous-dependencies: [&quot;error&quot;, {&quot;optionalDependencies&quot;: false}] */</span>
<span class="s4">import isArray from 'lodash.isarray';</span>
<span class="s4">var isArray = require('lodash.isarray');</span>

<span class="s4">/* eslint import/no-extraneous-dependencies: [&quot;error&quot;, {&quot;bundledDependencies&quot;: false}] */</span>
<span class="s4">import foo from '&quot;@generated/foo&quot;';</span>
<span class="s4">var foo = require('&quot;@generated/foo&quot;');</span>

<span class="s4">/* eslint import/no-extraneous-dependencies: [&quot;error&quot;, {&quot;includeInternal&quot;: true}] */</span>
<span class="s4">import foo from './foo';</span>
<span class="s4">var foo = require('./foo');</span>

<span class="s4">/* eslint import/no-extraneous-dependencies: [&quot;error&quot;, {&quot;includeTypes&quot;: true}] */</span>
<span class="s4">import type { MyType } from 'foo';</span>
<span class="s0">```</span>

<span class="s0">## </span><span class="s2">Pass</span>

<span class="s0">```</span><span class="s3">js</span>
<span class="s4">// Builtin and internal modules are fine</span>
<span class="s4">var path = require('path');</span>
<span class="s4">var foo = require('./foo');</span>

<span class="s4">import test from 'ava';</span>
<span class="s4">import find from 'lodash.find';</span>
<span class="s4">import isArray from 'lodash.isarray';</span>
<span class="s4">import foo from '&quot;@generated/foo&quot;';</span>
<span class="s4">import type { MyType } from 'foo';</span>

<span class="s4">/* eslint import/no-extraneous-dependencies: [&quot;error&quot;, {&quot;peerDependencies&quot;: true}] */</span>
<span class="s4">import react from 'react';</span>
<span class="s0">```</span>

<span class="s0">## </span><span class="s2">When Not To Use It</span>

<span class="s2">If you do not have a `package.json` file in your project.</span>
</pre>
</body>
</html>