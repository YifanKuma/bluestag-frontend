<html>
<head>
<title>node_modules_motion-dom_dist_es_da948acf._.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
.s4 { color: #0033b3;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
node_modules_motion-dom_dist_es_da948acf._.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span>
  <span class="s1">&quot;version&quot;</span><span class="s0">: </span><span class="s2">3</span><span class="s0">,</span>
  <span class="s1">&quot;sources&quot;</span><span class="s0">: [],</span>
  <span class="s1">&quot;sections&quot;</span><span class="s0">: [</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/render/utils/keys-transform.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Generate a list of every possible transform key.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const transformPropOrder = [</span><span class="s3">\n    \&quot;</span><span class="s1">transformPerspective</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">translateX</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">translateY</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">translateZ</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">scale</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">scaleX</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">scaleY</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">rotate</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">rotateX</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">rotateY</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">rotateZ</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">skew</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">skewX</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">skewY</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A quick lookup for transform props.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const transformProps = /*@__PURE__*/ (() =&gt; new Set(transformPropOrder))();</span><span class="s3">\n\n</span><span class="s1">export { transformPropOrder, transformProps };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA;;CAEC;;;;;;AACD,MAAM,qBAAqB;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD;;CAEC,GACD,MAAM,iBAAiB,WAAW,GAAG,CAAC,IAAM,IAAI,IAAI,mBAAmB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">39</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/render/dom/parse-transform.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const radToDeg = (rad) =&gt; (rad * 180) / Math.PI;</span><span class="s3">\n</span><span class="s1">const rotate = (v) =&gt; {</span><span class="s3">\n    </span><span class="s1">const angle = radToDeg(Math.atan2(v[1], v[0]));</span><span class="s3">\n    </span><span class="s1">return rebaseAngle(angle);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const matrix2dParsers = {</span><span class="s3">\n    </span><span class="s1">x: 4,</span><span class="s3">\n    </span><span class="s1">y: 5,</span><span class="s3">\n    </span><span class="s1">translateX: 4,</span><span class="s3">\n    </span><span class="s1">translateY: 5,</span><span class="s3">\n    </span><span class="s1">scaleX: 0,</span><span class="s3">\n    </span><span class="s1">scaleY: 3,</span><span class="s3">\n    </span><span class="s1">scale: (v) =&gt; (Math.abs(v[0]) + Math.abs(v[3])) / 2,</span><span class="s3">\n    </span><span class="s1">rotate,</span><span class="s3">\n    </span><span class="s1">rotateZ: rotate,</span><span class="s3">\n    </span><span class="s1">skewX: (v) =&gt; radToDeg(Math.atan(v[1])),</span><span class="s3">\n    </span><span class="s1">skewY: (v) =&gt; radToDeg(Math.atan(v[2])),</span><span class="s3">\n    </span><span class="s1">skew: (v) =&gt; (Math.abs(v[1]) + Math.abs(v[2])) / 2,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const rebaseAngle = (angle) =&gt; {</span><span class="s3">\n    </span><span class="s1">angle = angle % 360;</span><span class="s3">\n    </span><span class="s1">if (angle &lt; 0)</span><span class="s3">\n        </span><span class="s1">angle += 360;</span><span class="s3">\n    </span><span class="s1">return angle;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const rotateZ = rotate;</span><span class="s3">\n</span><span class="s1">const scaleX = (v) =&gt; Math.sqrt(v[0] * v[0] + v[1] * v[1]);</span><span class="s3">\n</span><span class="s1">const scaleY = (v) =&gt; Math.sqrt(v[4] * v[4] + v[5] * v[5]);</span><span class="s3">\n</span><span class="s1">const matrix3dParsers = {</span><span class="s3">\n    </span><span class="s1">x: 12,</span><span class="s3">\n    </span><span class="s1">y: 13,</span><span class="s3">\n    </span><span class="s1">z: 14,</span><span class="s3">\n    </span><span class="s1">translateX: 12,</span><span class="s3">\n    </span><span class="s1">translateY: 13,</span><span class="s3">\n    </span><span class="s1">translateZ: 14,</span><span class="s3">\n    </span><span class="s1">scaleX,</span><span class="s3">\n    </span><span class="s1">scaleY,</span><span class="s3">\n    </span><span class="s1">scale: (v) =&gt; (scaleX(v) + scaleY(v)) / 2,</span><span class="s3">\n    </span><span class="s1">rotateX: (v) =&gt; rebaseAngle(radToDeg(Math.atan2(v[6], v[5]))),</span><span class="s3">\n    </span><span class="s1">rotateY: (v) =&gt; rebaseAngle(radToDeg(Math.atan2(-v[2], v[0]))),</span><span class="s3">\n    </span><span class="s1">rotateZ,</span><span class="s3">\n    </span><span class="s1">rotate: rotateZ,</span><span class="s3">\n    </span><span class="s1">skewX: (v) =&gt; radToDeg(Math.atan(v[4])),</span><span class="s3">\n    </span><span class="s1">skewY: (v) =&gt; radToDeg(Math.atan(v[1])),</span><span class="s3">\n    </span><span class="s1">skew: (v) =&gt; (Math.abs(v[1]) + Math.abs(v[4])) / 2,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function defaultTransformValue(name) {</span><span class="s3">\n    </span><span class="s1">return name.includes(</span><span class="s3">\&quot;</span><span class="s1">scale</span><span class="s3">\&quot;</span><span class="s1">) ? 1 : 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function parseValueFromTransform(transform, name) {</span><span class="s3">\n    </span><span class="s1">if (!transform || transform === </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return defaultTransformValue(name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const matrix3dMatch = transform.match(/^matrix3d</span><span class="s3">\\</span><span class="s1">(([-</span><span class="s3">\\</span><span class="s1">d.e</span><span class="s3">\\</span><span class="s1">s,]+)</span><span class="s3">\\</span><span class="s1">)$/u);</span><span class="s3">\n    </span><span class="s1">let parsers;</span><span class="s3">\n    </span><span class="s1">let match;</span><span class="s3">\n    </span><span class="s1">if (matrix3dMatch) {</span><span class="s3">\n        </span><span class="s1">parsers = matrix3dParsers;</span><span class="s3">\n        </span><span class="s1">match = matrix3dMatch;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">const matrix2dMatch = transform.match(/^matrix</span><span class="s3">\\</span><span class="s1">(([-</span><span class="s3">\\</span><span class="s1">d.e</span><span class="s3">\\</span><span class="s1">s,]+)</span><span class="s3">\\</span><span class="s1">)$/u);</span><span class="s3">\n        </span><span class="s1">parsers = matrix2dParsers;</span><span class="s3">\n        </span><span class="s1">match = matrix2dMatch;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!match) {</span><span class="s3">\n        </span><span class="s1">return defaultTransformValue(name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const valueParser = parsers[name];</span><span class="s3">\n    </span><span class="s1">const values = match[1].split(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">).map(convertTransformToNumber);</span><span class="s3">\n    </span><span class="s1">return typeof valueParser === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n        </span><span class="s1">? valueParser(values)</span><span class="s3">\n        </span><span class="s1">: values[valueParser];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const readTransformValue = (instance, name) =&gt; {</span><span class="s3">\n    </span><span class="s1">const { transform = </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">} = getComputedStyle(instance);</span><span class="s3">\n    </span><span class="s1">return parseValueFromTransform(transform, name);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function convertTransformToNumber(value) {</span><span class="s3">\n    </span><span class="s1">return parseFloat(value.trim());</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { defaultTransformValue, parseValueFromTransform, readTransformValue };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">129</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/utils/is-css-variable.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const checkStringStartsWith = (token) =&gt; (key) =&gt; typeof key === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; key.startsWith(token);</span><span class="s3">\n</span><span class="s1">const isCSSVariableName = </span><span class="s3">\n</span><span class="s1">/*@__PURE__*/ checkStringStartsWith(</span><span class="s3">\&quot;</span><span class="s1">--</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const startsAsVariableToken = </span><span class="s3">\n</span><span class="s1">/*@__PURE__*/ checkStringStartsWith(</span><span class="s3">\&quot;</span><span class="s1">var(--</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const isCSSVariableToken = (value) =&gt; {</span><span class="s3">\n    </span><span class="s1">const startsWithToken = startsAsVariableToken(value);</span><span class="s3">\n    </span><span class="s1">if (!startsWithToken)</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">// Ensure any comments are stripped from the value as this can harm performance of the regex.</span><span class="s3">\n    </span><span class="s1">return singleCssVariableRegex.test(value.split(</span><span class="s3">\&quot;</span><span class="s1">/*</span><span class="s3">\&quot;</span><span class="s1">)[0].trim());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const singleCssVariableRegex = /var</span><span class="s3">\\</span><span class="s1">(--(?:[</span><span class="s3">\\</span><span class="s1">w-]+</span><span class="s3">\\</span><span class="s1">s*|[</span><span class="s3">\\</span><span class="s1">w-]+</span><span class="s3">\\</span><span class="s1">s*,(?:</span><span class="s3">\\</span><span class="s1">s*[^)(</span><span class="s3">\\</span><span class="s1">s]|</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">((?:[^)(]|</span><span class="s3">\\</span><span class="s1">([^)(]*</span><span class="s3">\\</span><span class="s1">))*</span><span class="s3">\\</span><span class="s1">))+</span><span class="s3">\\</span><span class="s1">s*)</span><span class="s3">\\</span><span class="s1">)$/iu;</span><span class="s3">\n\n</span><span class="s1">export { isCSSVariableName, isCSSVariableToken };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA,MAAM,wBAAwB,CAAC,QAAU,CAAC,MAAQ,OAAO,QAAQ,YAAY,IAAI,UAAU,CAAC;AAC5F,MAAM,oBACN,WAAW,GAAG,sBAAsB;AACpC,MAAM,wBACN,WAAW,GAAG,sBAAsB;AACpC,MAAM,qBAAqB,CAAC;IACxB,MAAM,kBAAkB,sBAAsB;IAC9C,IAAI,CAAC,iBACD,OAAO;IACX,6FAA6F;IAC7F,OAAO,uBAAuB,IAAI,CAAC,MAAM,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI;AAChE;AACA,MAAM,yBAAyB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">150</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/mix/number.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/*</span><span class="s3">\n  </span><span class="s1">Value in range from progress</span><span class="s3">\n\n  </span><span class="s1">Given a lower limit and an upper limit, we return the value within</span><span class="s3">\n  </span><span class="s1">that range as expressed by progress (usually a number from 0 to 1)</span><span class="s3">\n\n  </span><span class="s1">So progress = 0.5 would change</span><span class="s3">\n\n  </span><span class="s1">from -------- to</span><span class="s3">\n\n  </span><span class="s1">to</span><span class="s3">\n\n  </span><span class="s1">from ---- to</span><span class="s3">\n\n  </span><span class="s1">E.g. from = 10, to = 20, progress = 0.5 =&gt; 15</span><span class="s3">\n\n  </span><span class="s1">@param [number]: Lower limit of range</span><span class="s3">\n  </span><span class="s1">@param [number]: Upper limit of range</span><span class="s3">\n  </span><span class="s1">@param [number]: The progress between lower and upper limits expressed 0-1</span><span class="s3">\n  </span><span class="s1">@return [number]: Value as calculated from progress within range (not limited within range)</span><span class="s3">\n</span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const mixNumber = (from, to, progress) =&gt; {</span><span class="s3">\n    </span><span class="s1">return from + (to - from) * progress;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { mixNumber };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA;;;;;;;;;;;;;;;;;;;;AAoBA;;;;AACA,MAAM,YAAY,CAAC,MAAM,IAAI;IACzB,OAAO,OAAO,CAAC,KAAK,IAAI,IAAI;AAChC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">182</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/render/utils/keys-position.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { transformPropOrder } from './keys-transform.mjs';</span><span class="s3">\n\n</span><span class="s1">const positionalKeys = new Set([</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">...transformPropOrder,</span><span class="s3">\n</span><span class="s1">]);</span><span class="s3">\n\n</span><span class="s1">export { positionalKeys };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,MAAM,iBAAiB,IAAI,IAAI;IAC3B;IACA;IACA;IACA;IACA;IACA;OACG,6MAAkB;CACxB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">202</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/auto.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* ValueType for </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const auto = {</span><span class="s3">\n    </span><span class="s1">test: (v) =&gt; v === </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">parse: (v) =&gt; v,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { auto };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA;;CAEC;;;;AACD,MAAM,OAAO;IACT,MAAM,CAAC,IAAM,MAAM;IACnB,OAAO,CAAC,IAAM;AAClB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">217</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/numbers/index.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { clamp } from 'motion-utils';</span><span class="s3">\n\n</span><span class="s1">const number = {</span><span class="s3">\n    </span><span class="s1">test: (v) =&gt; typeof v === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">parse: parseFloat,</span><span class="s3">\n    </span><span class="s1">transform: (v) =&gt; v,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const alpha = {</span><span class="s3">\n    </span><span class="s1">...number,</span><span class="s3">\n    </span><span class="s1">transform: (v) =&gt; clamp(0, 1, v),</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const scale = {</span><span class="s3">\n    </span><span class="s1">...number,</span><span class="s3">\n    </span><span class="s1">default: 1,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { alpha, number, scale };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;AAAA;;AAEA,MAAM,SAAS;IACX,MAAM,CAAC,IAAM,OAAO,MAAM;IAC1B,OAAO;IACP,WAAW,CAAC,IAAM;AACtB;AACA,MAAM,QAAQ;IACV,GAAG,MAAM;IACT,WAAW,CAAC,IAAM,IAAA,mKAAK,EAAC,GAAG,GAAG;AAClC;AACA,MAAM,QAAQ;IACV,GAAG,MAAM;IACT,SAAS;AACb&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">245</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/numbers/units.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/*#__NO_SIDE_EFFECTS__*/</span><span class="s3">\n</span><span class="s1">const createUnitType = (unit) =&gt; ({</span><span class="s3">\n    </span><span class="s1">test: (v) =&gt; typeof v === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; v.endsWith(unit) &amp;&amp; v.split(</span><span class="s3">\&quot; \&quot;</span><span class="s1">).length === 1,</span><span class="s3">\n    </span><span class="s1">parse: parseFloat,</span><span class="s3">\n    </span><span class="s1">transform: (v) =&gt; `${v}${unit}`,</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">const degrees = /*@__PURE__*/ createUnitType(</span><span class="s3">\&quot;</span><span class="s1">deg</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const percent = /*@__PURE__*/ createUnitType(</span><span class="s3">\&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const px = /*@__PURE__*/ createUnitType(</span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const vh = /*@__PURE__*/ createUnitType(</span><span class="s3">\&quot;</span><span class="s1">vh</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const vw = /*@__PURE__*/ createUnitType(</span><span class="s3">\&quot;</span><span class="s1">vw</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const progressPercentage = /*@__PURE__*/ (() =&gt; ({</span><span class="s3">\n    </span><span class="s1">...percent,</span><span class="s3">\n    </span><span class="s1">parse: (v) =&gt; percent.parse(v) / 100,</span><span class="s3">\n    </span><span class="s1">transform: (v) =&gt; percent.transform(v * 100),</span><span class="s3">\n</span><span class="s1">}))();</span><span class="s3">\n\n</span><span class="s1">export { degrees, percent, progressPercentage, px, vh, vw };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA,sBAAsB;;;;;;;;;;;;;;AACtB,MAAM,iBAAiB,CAAC,OAAS,CAAC;QAC9B,MAAM,CAAC,IAAM,OAAO,MAAM,YAAY,EAAE,QAAQ,CAAC,SAAS,EAAE,KAAK,CAAC,KAAK,MAAM,KAAK;QAClF,OAAO;QACP,WAAW,CAAC,IAAM,AAAC,GAAM,OAAJ,GAAS,OAAL;IAC7B,CAAC;AACD,MAAM,UAAU,WAAW,GAAG,eAAe;AAC7C,MAAM,UAAU,WAAW,GAAG,eAAe;AAC7C,MAAM,KAAK,WAAW,GAAG,eAAe;AACxC,MAAM,KAAK,WAAW,GAAG,eAAe;AACxC,MAAM,KAAK,WAAW,GAAG,eAAe;AACxC,MAAM,qBAAqB,WAAW,GAAG,CAAC,IAAM,CAAC;QAC7C,GAAG,OAAO;QACV,OAAO,CAAC,IAAM,QAAQ,KAAK,CAAC,KAAK;QACjC,WAAW,CAAC,IAAM,QAAQ,SAAS,CAAC,IAAI;IAC5C,CAAC,CAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">279</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/test.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Tests a provided value against a ValueType</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const testValueType = (v) =&gt; (type) =&gt; type.test(v);</span><span class="s3">\n\n</span><span class="s1">export { testValueType };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA;;CAEC;;;;AACD,MAAM,gBAAgB,CAAC,IAAM,CAAC,OAAS,KAAK,IAAI,CAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">291</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/dimensions.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { auto } from './auto.mjs';</span><span class="s3">\n</span><span class="s1">import { number } from './numbers/index.mjs';</span><span class="s3">\n</span><span class="s1">import { px, percent, degrees, vw, vh } from './numbers/units.mjs';</span><span class="s3">\n</span><span class="s1">import { testValueType } from './test.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A list of value types commonly used for dimensions</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Tests a dimensional value against the list of dimension ValueTypes</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const findDimensionValueType = (v) =&gt; dimensionValueTypes.find(testValueType(v));</span><span class="s3">\n\n</span><span class="s1">export { dimensionValueTypes, findDimensionValueType };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA;;CAEC,GACD,MAAM,sBAAsB;IAAC,+LAAM;IAAE,2LAAE;IAAE,gMAAO;IAAE,gMAAO;IAAE,2LAAE;IAAE,2LAAE;IAAE,iLAAI;CAAC;AACxE;;CAEC,GACD,MAAM,yBAAyB,CAAC,IAAM,oBAAoB,IAAI,CAAC,IAAA,0LAAa,EAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">324</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/utils/css-variables-conversion.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { invariant, isNumericalString } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { isCSSVariableToken } from './is-css-variable.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Parse Framer's special CSS variable format into a CSS token and a fallback.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* `var(--foo, #fff)` =&gt; [`--foo`, '#fff']</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param current</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const splitCSSVariableRegex = </span><span class="s3">\n</span><span class="s1">// eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive, as it can match a lot of words</span><span class="s3">\n</span><span class="s1">/^var</span><span class="s3">\\</span><span class="s1">(--(?:([</span><span class="s3">\\</span><span class="s1">w-]+)|([</span><span class="s3">\\</span><span class="s1">w-]+), ?([a-zA-Z</span><span class="s3">\\</span><span class="s1">d ()%#.,-]+))</span><span class="s3">\\</span><span class="s1">)/u;</span><span class="s3">\n</span><span class="s1">function parseCSSVariable(current) {</span><span class="s3">\n    </span><span class="s1">const match = splitCSSVariableRegex.exec(current);</span><span class="s3">\n    </span><span class="s1">if (!match)</span><span class="s3">\n        </span><span class="s1">return [,];</span><span class="s3">\n    </span><span class="s1">const [, token1, token2, fallback] = match;</span><span class="s3">\n    </span><span class="s1">return [`--${token1 ?? token2}`, fallback];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const maxDepth = 4;</span><span class="s3">\n</span><span class="s1">function getVariableValue(current, element, depth = 1) {</span><span class="s3">\n    </span><span class="s1">invariant(depth &lt;= maxDepth, `Max CSS variable fallback depth detected in property </span><span class="s3">\&quot;</span><span class="s1">${current}</span><span class="s3">\&quot;</span><span class="s1">. This may indicate a circular fallback dependency.`, </span><span class="s3">\&quot;</span><span class="s1">max-css-var-depth</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const [token, fallback] = parseCSSVariable(current);</span><span class="s3">\n    </span><span class="s1">// No CSS variable detected</span><span class="s3">\n    </span><span class="s1">if (!token)</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">// Attempt to read this CSS variable off the element</span><span class="s3">\n    </span><span class="s1">const resolved = window.getComputedStyle(element).getPropertyValue(token);</span><span class="s3">\n    </span><span class="s1">if (resolved) {</span><span class="s3">\n        </span><span class="s1">const trimmed = resolved.trim();</span><span class="s3">\n        </span><span class="s1">return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return isCSSVariableToken(fallback)</span><span class="s3">\n        </span><span class="s1">? getVariableValue(fallback, element, depth + 1)</span><span class="s3">\n        </span><span class="s1">: fallback;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { getVariableValue, parseCSSVariable };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA;AAAA;AACA;;;AAEA;;;;;;;;CAQC,GACD,MAAM,wBACN,4GAA4G;AAC5G;AACA,SAAS,iBAAiB,OAAO;IAC7B,MAAM,QAAQ,sBAAsB,IAAI,CAAC;IACzC,IAAI,CAAC,OACD,OAAO;;KAAG;IACd,MAAM,GAAG,QAAQ,QAAQ,SAAS,GAAG;IACrC,OAAO;QAAE,KAAqB,OAAjB,mBAAA,oBAAA,SAAU;QAAU;KAAS;AAC9C;AACA,MAAM,WAAW;AACjB,SAAS,iBAAiB,OAAO,EAAE,OAAO;QAAE,QAAA,iEAAQ;IAChD,IAAA,wKAAS,EAAC,SAAS,UAAU,AAAC,yDAAgE,OAAR,SAAQ,yDAAuD;IACrJ,MAAM,CAAC,OAAO,SAAS,GAAG,iBAAiB;IAC3C,2BAA2B;IAC3B,IAAI,CAAC,OACD;IACJ,oDAAoD;IACpD,MAAM,WAAW,OAAO,gBAAgB,CAAC,SAAS,gBAAgB,CAAC;IACnE,IAAI,UAAU;QACV,MAAM,UAAU,SAAS,IAAI;QAC7B,OAAO,IAAA,mMAAiB,EAAC,WAAW,WAAW,WAAW;IAC9D;IACA,OAAO,IAAA,oNAAkB,EAAC,YACpB,iBAAiB,UAAU,SAAS,QAAQ,KAC5C;AACV&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">376</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/keyframes/utils/fill-wildcards.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;function fillWildcards(keyframes) {</span><span class="s3">\n    </span><span class="s1">for (let i = 1; i &lt; keyframes.length; i++) {</span><span class="s3">\n        </span><span class="s1">keyframes[i] ?? (keyframes[i] = keyframes[i - 1]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { fillWildcards };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,SAAS,cAAc,SAAS;IAC5B,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAK;YACvC;QAAA,CAAA,eAAA,SAAS,CAAC,EAAE,cAAZ,0BAAA,eAAiB,SAAS,CAAC,EAAE,GAAG,SAAS,CAAC,IAAI,EAAE;IACpD;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">391</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/keyframes/utils/unit-conversion.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { parseValueFromTransform } from '../../../render/dom/parse-transform.mjs';</span><span class="s3">\n</span><span class="s1">import { transformPropOrder } from '../../../render/utils/keys-transform.mjs';</span><span class="s3">\n</span><span class="s1">import { number } from '../../../value/types/numbers/index.mjs';</span><span class="s3">\n</span><span class="s1">import { px } from '../../../value/types/numbers/units.mjs';</span><span class="s3">\n\n</span><span class="s1">const isNumOrPxType = (v) =&gt; v === number || v === px;</span><span class="s3">\n</span><span class="s1">const transformKeys = new Set([</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">z</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n</span><span class="s1">const nonTranslationalTransformKeys = transformPropOrder.filter((key) =&gt; !transformKeys.has(key));</span><span class="s3">\n</span><span class="s1">function removeNonTranslationalTransform(visualElement) {</span><span class="s3">\n    </span><span class="s1">const removedTransforms = [];</span><span class="s3">\n    </span><span class="s1">nonTranslationalTransformKeys.forEach((key) =&gt; {</span><span class="s3">\n        </span><span class="s1">const value = visualElement.getValue(key);</span><span class="s3">\n        </span><span class="s1">if (value !== undefined) {</span><span class="s3">\n            </span><span class="s1">removedTransforms.push([key, value.get()]);</span><span class="s3">\n            </span><span class="s1">value.set(key.startsWith(</span><span class="s3">\&quot;</span><span class="s1">scale</span><span class="s3">\&quot;</span><span class="s1">) ? 1 : 0);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return removedTransforms;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const positionalValues = {</span><span class="s3">\n    </span><span class="s1">// Dimensions</span><span class="s3">\n    </span><span class="s1">width: ({ x }, { paddingLeft = </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">, paddingRight = </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">}) =&gt; x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),</span><span class="s3">\n    </span><span class="s1">height: ({ y }, { paddingTop = </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">, paddingBottom = </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">}) =&gt; y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),</span><span class="s3">\n    </span><span class="s1">top: (_bbox, { top }) =&gt; parseFloat(top),</span><span class="s3">\n    </span><span class="s1">left: (_bbox, { left }) =&gt; parseFloat(left),</span><span class="s3">\n    </span><span class="s1">bottom: ({ y }, { top }) =&gt; parseFloat(top) + (y.max - y.min),</span><span class="s3">\n    </span><span class="s1">right: ({ x }, { left }) =&gt; parseFloat(left) + (x.max - x.min),</span><span class="s3">\n    </span><span class="s1">// Transform</span><span class="s3">\n    </span><span class="s1">x: (_bbox, { transform }) =&gt; parseValueFromTransform(transform, </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">y: (_bbox, { transform }) =&gt; parseValueFromTransform(transform, </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">// Alias translate longform names</span><span class="s3">\n</span><span class="s1">positionalValues.translateX = positionalValues.x;</span><span class="s3">\n</span><span class="s1">positionalValues.translateY = positionalValues.y;</span><span class="s3">\n\n</span><span class="s1">export { isNumOrPxType, positionalValues, removeNonTranslationalTransform };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,gBAAgB,CAAC,IAAM,MAAM,+LAAM,IAAI,MAAM,2LAAE;AACrD,MAAM,gBAAgB,IAAI,IAAI;IAAC;IAAK;IAAK;CAAI;AAC7C,MAAM,gCAAgC,6MAAkB,CAAC,MAAM,CAAC,CAAC,MAAQ,CAAC,cAAc,GAAG,CAAC;AAC5F,SAAS,gCAAgC,aAAa;IAClD,MAAM,oBAAoB,EAAE;IAC5B,8BAA8B,OAAO,CAAC,CAAC;QACnC,MAAM,QAAQ,cAAc,QAAQ,CAAC;QACrC,IAAI,UAAU,WAAW;YACrB,kBAAkB,IAAI,CAAC;gBAAC;gBAAK,MAAM,GAAG;aAAG;YACzC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,WAAW,IAAI;QAC5C;IACJ;IACA,OAAO;AACX;AACA,MAAM,mBAAmB;IACrB,aAAa;IACb,OAAO;YAAC,EAAE,CAAC,EAAE,UAAE,EAAE,cAAc,GAAG,EAAE,eAAe,GAAG,EAAE;eAAK,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,WAAW,eAAe,WAAW;;IAClH,QAAQ;YAAC,EAAE,CAAC,EAAE,UAAE,EAAE,aAAa,GAAG,EAAE,gBAAgB,GAAG,EAAE;eAAK,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,WAAW,cAAc,WAAW;;IAClH,KAAK,CAAC;YAAO,EAAE,GAAG,EAAE;eAAK,WAAW;;IACpC,MAAM,CAAC;YAAO,EAAE,IAAI,EAAE;eAAK,WAAW;;IACtC,QAAQ;YAAC,EAAE,CAAC,EAAE,UAAE,EAAE,GAAG,EAAE;eAAK,WAAW,OAAO,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG;;IAC5D,OAAO;YAAC,EAAE,CAAC,EAAE,UAAE,EAAE,IAAI,EAAE;eAAK,WAAW,QAAQ,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG;;IAC7D,YAAY;IACZ,GAAG,CAAC;YAAO,EAAE,SAAS,EAAE;eAAK,IAAA,iNAAuB,EAAC,WAAW;;IAChE,GAAG,CAAC;YAAO,EAAE,SAAS,EAAE;eAAK,IAAA,iNAAuB,EAAC,WAAW;;AACpE;AACA,iCAAiC;AACjC,iBAAiB,UAAU,GAAG,iBAAiB,CAAC;AAChD,iBAAiB,UAAU,GAAG,iBAAiB,CAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">472</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/frameloop/order.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const stepsOrder = [</span><span class="s3">\n    \&quot;</span><span class="s1">setup</span><span class="s3">\&quot;</span><span class="s1">, // Compute</span><span class="s3">\n    \&quot;</span><span class="s1">read</span><span class="s3">\&quot;</span><span class="s1">, // Read</span><span class="s3">\n    \&quot;</span><span class="s1">resolveKeyframes</span><span class="s3">\&quot;</span><span class="s1">, // Write/Read/Write/Read</span><span class="s3">\n    \&quot;</span><span class="s1">preUpdate</span><span class="s3">\&quot;</span><span class="s1">, // Compute</span><span class="s3">\n    \&quot;</span><span class="s1">update</span><span class="s3">\&quot;</span><span class="s1">, // Compute</span><span class="s3">\n    \&quot;</span><span class="s1">preRender</span><span class="s3">\&quot;</span><span class="s1">, // Compute</span><span class="s3">\n    \&quot;</span><span class="s1">render</span><span class="s3">\&quot;</span><span class="s1">, // Write</span><span class="s3">\n    \&quot;</span><span class="s1">postRender</span><span class="s3">\&quot;</span><span class="s1">, // Compute</span><span class="s3">\n</span><span class="s1">];</span><span class="s3">\n\n</span><span class="s1">export { stepsOrder };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,aAAa;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">491</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/stats/buffer.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const statsBuffer = {</span><span class="s3">\n    </span><span class="s1">value: null,</span><span class="s3">\n    </span><span class="s1">addProjectionMetrics: null,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { statsBuffer };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,cAAc;IAChB,OAAO;IACP,sBAAsB;AAC1B&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">504</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/frameloop/render-step.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { statsBuffer } from '../stats/buffer.mjs';</span><span class="s3">\n\n</span><span class="s1">function createRenderStep(runNextFrame, stepName) {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* We create and reuse two queues, one to queue jobs for the current frame</span><span class="s3">\n     </span><span class="s1">* and one for the next. We reuse to avoid triggering GC after x frames.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">let thisFrame = new Set();</span><span class="s3">\n    </span><span class="s1">let nextFrame = new Set();</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Track whether we're currently processing jobs in this step. This way</span><span class="s3">\n     </span><span class="s1">* we can decide whether to schedule new jobs for this frame or next.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">let isProcessing = false;</span><span class="s3">\n    </span><span class="s1">let flushNextFrame = false;</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A set of processes which were marked keepAlive when scheduled.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">const toKeepAlive = new WeakSet();</span><span class="s3">\n    </span><span class="s1">let latestFrameData = {</span><span class="s3">\n        </span><span class="s1">delta: 0.0,</span><span class="s3">\n        </span><span class="s1">timestamp: 0.0,</span><span class="s3">\n        </span><span class="s1">isProcessing: false,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">let numCalls = 0;</span><span class="s3">\n    </span><span class="s1">function triggerCallback(callback) {</span><span class="s3">\n        </span><span class="s1">if (toKeepAlive.has(callback)) {</span><span class="s3">\n            </span><span class="s1">step.schedule(callback);</span><span class="s3">\n            </span><span class="s1">runNextFrame();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">numCalls++;</span><span class="s3">\n        </span><span class="s1">callback(latestFrameData);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const step = {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Schedule a process to run on the next frame.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">schedule: (callback, keepAlive = false, immediate = false) =&gt; {</span><span class="s3">\n            </span><span class="s1">const addToCurrentFrame = immediate &amp;&amp; isProcessing;</span><span class="s3">\n            </span><span class="s1">const queue = addToCurrentFrame ? thisFrame : nextFrame;</span><span class="s3">\n            </span><span class="s1">if (keepAlive)</span><span class="s3">\n                </span><span class="s1">toKeepAlive.add(callback);</span><span class="s3">\n            </span><span class="s1">if (!queue.has(callback))</span><span class="s3">\n                </span><span class="s1">queue.add(callback);</span><span class="s3">\n            </span><span class="s1">return callback;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Cancel the provided callback from running on the next frame.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">cancel: (callback) =&gt; {</span><span class="s3">\n            </span><span class="s1">nextFrame.delete(callback);</span><span class="s3">\n            </span><span class="s1">toKeepAlive.delete(callback);</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Execute all schedule callbacks.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">process: (frameData) =&gt; {</span><span class="s3">\n            </span><span class="s1">latestFrameData = frameData;</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* If we're already processing we've probably been triggered by a flushSync</span><span class="s3">\n             </span><span class="s1">* inside an existing process. Instead of executing, mark flushNextFrame</span><span class="s3">\n             </span><span class="s1">* as true and ensure we flush the following frame at the end of this one.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">if (isProcessing) {</span><span class="s3">\n                </span><span class="s1">flushNextFrame = true;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">isProcessing = true;</span><span class="s3">\n            </span><span class="s1">[thisFrame, nextFrame] = [nextFrame, thisFrame];</span><span class="s3">\n            </span><span class="s1">// Execute this frame</span><span class="s3">\n            </span><span class="s1">thisFrame.forEach(triggerCallback);</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* If we're recording stats then</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">if (stepName &amp;&amp; statsBuffer.value) {</span><span class="s3">\n                </span><span class="s1">statsBuffer.value.frameloop[stepName].push(numCalls);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">numCalls = 0;</span><span class="s3">\n            </span><span class="s1">// Clear the frame so no callbacks remain. This is to avoid</span><span class="s3">\n            </span><span class="s1">// memory leaks should this render step not run for a while.</span><span class="s3">\n            </span><span class="s1">thisFrame.clear();</span><span class="s3">\n            </span><span class="s1">isProcessing = false;</span><span class="s3">\n            </span><span class="s1">if (flushNextFrame) {</span><span class="s3">\n                </span><span class="s1">flushNextFrame = false;</span><span class="s3">\n                </span><span class="s1">step.process(frameData);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return step;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { createRenderStep };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,SAAS,iBAAiB,YAAY,EAAE,QAAQ;IAC5C;;;KAGC,GACD,IAAI,YAAY,IAAI;IACpB,IAAI,YAAY,IAAI;IACpB;;;KAGC,GACD,IAAI,eAAe;IACnB,IAAI,iBAAiB;IACrB;;KAEC,GACD,MAAM,cAAc,IAAI;IACxB,IAAI,kBAAkB;QAClB,OAAO;QACP,WAAW;QACX,cAAc;IAClB;IACA,IAAI,WAAW;IACf,SAAS,gBAAgB,QAAQ;QAC7B,IAAI,YAAY,GAAG,CAAC,WAAW;YAC3B,KAAK,QAAQ,CAAC;YACd;QACJ;QACA;QACA,SAAS;IACb;IACA,MAAM,OAAO;QACT;;SAEC,GACD,UAAU,SAAC;gBAAU,6EAAY,OAAO,6EAAY;YAChD,MAAM,oBAAoB,aAAa;YACvC,MAAM,QAAQ,oBAAoB,YAAY;YAC9C,IAAI,WACA,YAAY,GAAG,CAAC;YACpB,IAAI,CAAC,MAAM,GAAG,CAAC,WACX,MAAM,GAAG,CAAC;YACd,OAAO;QACX;QACA;;SAEC,GACD,QAAQ,CAAC;YACL,UAAU,MAAM,CAAC;YACjB,YAAY,MAAM,CAAC;QACvB;QACA;;SAEC,GACD,SAAS,CAAC;YACN,kBAAkB;YAClB;;;;aAIC,GACD,IAAI,cAAc;gBACd,iBAAiB;gBACjB;YACJ;YACA,eAAe;YACf,CAAC,WAAW,UAAU,GAAG;gBAAC;gBAAW;aAAU;YAC/C,qBAAqB;YACrB,UAAU,OAAO,CAAC;YAClB;;aAEC,GACD,IAAI,YAAY,iLAAW,CAAC,KAAK,EAAE;gBAC/B,iLAAW,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC;YAC/C;YACA,WAAW;YACX,2DAA2D;YAC3D,4DAA4D;YAC5D,UAAU,KAAK;YACf,eAAe;YACf,IAAI,gBAAgB;gBAChB,iBAAiB;gBACjB,KAAK,OAAO,CAAC;YACjB;QACJ;IACJ;IACA,OAAO;AACX&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">597</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/frameloop/batcher.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { MotionGlobalConfig } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { stepsOrder } from './order.mjs';</span><span class="s3">\n</span><span class="s1">import { createRenderStep } from './render-step.mjs';</span><span class="s3">\n\n</span><span class="s1">const maxElapsed = 40;</span><span class="s3">\n</span><span class="s1">function createRenderBatcher(scheduleNextBatch, allowKeepAlive) {</span><span class="s3">\n    </span><span class="s1">let runNextFrame = false;</span><span class="s3">\n    </span><span class="s1">let useDefaultElapsed = true;</span><span class="s3">\n    </span><span class="s1">const state = {</span><span class="s3">\n        </span><span class="s1">delta: 0.0,</span><span class="s3">\n        </span><span class="s1">timestamp: 0.0,</span><span class="s3">\n        </span><span class="s1">isProcessing: false,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">const flagRunNextFrame = () =&gt; (runNextFrame = true);</span><span class="s3">\n    </span><span class="s1">const steps = stepsOrder.reduce((acc, key) =&gt; {</span><span class="s3">\n        </span><span class="s1">acc[key] = createRenderStep(flagRunNextFrame, allowKeepAlive ? key : undefined);</span><span class="s3">\n        </span><span class="s1">return acc;</span><span class="s3">\n    </span><span class="s1">}, {});</span><span class="s3">\n    </span><span class="s1">const { setup, read, resolveKeyframes, preUpdate, update, preRender, render, postRender, } = steps;</span><span class="s3">\n    </span><span class="s1">const processBatch = () =&gt; {</span><span class="s3">\n        </span><span class="s1">const timestamp = MotionGlobalConfig.useManualTiming</span><span class="s3">\n            </span><span class="s1">? state.timestamp</span><span class="s3">\n            </span><span class="s1">: performance.now();</span><span class="s3">\n        </span><span class="s1">runNextFrame = false;</span><span class="s3">\n        </span><span class="s1">if (!MotionGlobalConfig.useManualTiming) {</span><span class="s3">\n            </span><span class="s1">state.delta = useDefaultElapsed</span><span class="s3">\n                </span><span class="s1">? 1000 / 60</span><span class="s3">\n                </span><span class="s1">: Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">state.timestamp = timestamp;</span><span class="s3">\n        </span><span class="s1">state.isProcessing = true;</span><span class="s3">\n        </span><span class="s1">// Unrolled render loop for better per-frame performance</span><span class="s3">\n        </span><span class="s1">setup.process(state);</span><span class="s3">\n        </span><span class="s1">read.process(state);</span><span class="s3">\n        </span><span class="s1">resolveKeyframes.process(state);</span><span class="s3">\n        </span><span class="s1">preUpdate.process(state);</span><span class="s3">\n        </span><span class="s1">update.process(state);</span><span class="s3">\n        </span><span class="s1">preRender.process(state);</span><span class="s3">\n        </span><span class="s1">render.process(state);</span><span class="s3">\n        </span><span class="s1">postRender.process(state);</span><span class="s3">\n        </span><span class="s1">state.isProcessing = false;</span><span class="s3">\n        </span><span class="s1">if (runNextFrame &amp;&amp; allowKeepAlive) {</span><span class="s3">\n            </span><span class="s1">useDefaultElapsed = false;</span><span class="s3">\n            </span><span class="s1">scheduleNextBatch(processBatch);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">const wake = () =&gt; {</span><span class="s3">\n        </span><span class="s1">runNextFrame = true;</span><span class="s3">\n        </span><span class="s1">useDefaultElapsed = true;</span><span class="s3">\n        </span><span class="s1">if (!state.isProcessing) {</span><span class="s3">\n            </span><span class="s1">scheduleNextBatch(processBatch);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">const schedule = stepsOrder.reduce((acc, key) =&gt; {</span><span class="s3">\n        </span><span class="s1">const step = steps[key];</span><span class="s3">\n        </span><span class="s1">acc[key] = (process, keepAlive = false, immediate = false) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!runNextFrame)</span><span class="s3">\n                </span><span class="s1">wake();</span><span class="s3">\n            </span><span class="s1">return step.schedule(process, keepAlive, immediate);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">return acc;</span><span class="s3">\n    </span><span class="s1">}, {});</span><span class="s3">\n    </span><span class="s1">const cancel = (process) =&gt; {</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; stepsOrder.length; i++) {</span><span class="s3">\n            </span><span class="s1">steps[stepsOrder[i]].cancel(process);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return { schedule, cancel, state, steps };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { createRenderBatcher };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,aAAa;AACnB,SAAS,oBAAoB,iBAAiB,EAAE,cAAc;IAC1D,IAAI,eAAe;IACnB,IAAI,oBAAoB;IACxB,MAAM,QAAQ;QACV,OAAO;QACP,WAAW;QACX,cAAc;IAClB;IACA,MAAM,mBAAmB,IAAO,eAAe;IAC/C,MAAM,QAAQ,mLAAU,CAAC,MAAM,CAAC,CAAC,KAAK;QAClC,GAAG,CAAC,IAAI,GAAG,IAAA,kMAAgB,EAAC,kBAAkB,iBAAiB,MAAM;QACrE,OAAO;IACX,GAAG,CAAC;IACJ,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,gBAAgB,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,UAAU,EAAG,GAAG;IAC7F,MAAM,eAAe;QACjB,MAAM,YAAY,2LAAkB,CAAC,eAAe,GAC9C,MAAM,SAAS,GACf,YAAY,GAAG;QACrB,eAAe;QACf,IAAI,CAAC,2LAAkB,CAAC,eAAe,EAAE;YACrC,MAAM,KAAK,GAAG,oBACR,OAAO,KACP,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,YAAY,MAAM,SAAS,EAAE,aAAa;QACtE;QACA,MAAM,SAAS,GAAG;QAClB,MAAM,YAAY,GAAG;QACrB,wDAAwD;QACxD,MAAM,OAAO,CAAC;QACd,KAAK,OAAO,CAAC;QACb,iBAAiB,OAAO,CAAC;QACzB,UAAU,OAAO,CAAC;QAClB,OAAO,OAAO,CAAC;QACf,UAAU,OAAO,CAAC;QAClB,OAAO,OAAO,CAAC;QACf,WAAW,OAAO,CAAC;QACnB,MAAM,YAAY,GAAG;QACrB,IAAI,gBAAgB,gBAAgB;YAChC,oBAAoB;YACpB,kBAAkB;QACtB;IACJ;IACA,MAAM,OAAO;QACT,eAAe;QACf,oBAAoB;QACpB,IAAI,CAAC,MAAM,YAAY,EAAE;YACrB,kBAAkB;QACtB;IACJ;IACA,MAAM,WAAW,mLAAU,CAAC,MAAM,CAAC,CAAC,KAAK;QACrC,MAAM,OAAO,KAAK,CAAC,IAAI;QACvB,GAAG,CAAC,IAAI,GAAG,SAAC;gBAAS,6EAAY,OAAO,6EAAY;YAChD,IAAI,CAAC,cACD;YACJ,OAAO,KAAK,QAAQ,CAAC,SAAS,WAAW;QAC7C;QACA,OAAO;IACX,GAAG,CAAC;IACJ,MAAM,SAAS,CAAC;QACZ,IAAK,IAAI,IAAI,GAAG,IAAI,mLAAU,CAAC,MAAM,EAAE,IAAK;YACxC,KAAK,CAAC,mLAAU,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC;QAChC;IACJ;IACA,OAAO;QAAE;QAAU;QAAQ;QAAO;IAAM;AAC5C&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">678</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/frameloop/frame.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { noop } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { createRenderBatcher } from './batcher.mjs';</span><span class="s3">\n\n</span><span class="s1">const { schedule: frame, cancel: cancelFrame, state: frameData, steps: frameSteps, } = /* @__PURE__ */ createRenderBatcher(typeof requestAnimationFrame !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">? requestAnimationFrame : noop, true);</span><span class="s3">\n\n</span><span class="s1">export { cancelFrame, frame, frameData, frameSteps };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,EAAE,UAAU,KAAK,EAAE,QAAQ,WAAW,EAAE,OAAO,SAAS,EAAE,OAAO,UAAU,EAAG,GAAG,aAAa,GAAG,IAAA,8LAAmB,EAAC,OAAO,0BAA0B,cAAc,wBAAwB,iKAAI,EAAE&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">698</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/keyframes/KeyframesResolver.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { fillWildcards } from './utils/fill-wildcards.mjs';</span><span class="s3">\n</span><span class="s1">import { removeNonTranslationalTransform } from './utils/unit-conversion.mjs';</span><span class="s3">\n</span><span class="s1">import { frame } from '../../frameloop/frame.mjs';</span><span class="s3">\n\n</span><span class="s1">const toResolve = new Set();</span><span class="s3">\n</span><span class="s1">let isScheduled = false;</span><span class="s3">\n</span><span class="s1">let anyNeedsMeasurement = false;</span><span class="s3">\n</span><span class="s1">let isForced = false;</span><span class="s3">\n</span><span class="s1">function measureAllKeyframes() {</span><span class="s3">\n    </span><span class="s1">if (anyNeedsMeasurement) {</span><span class="s3">\n        </span><span class="s1">const resolversToMeasure = Array.from(toResolve).filter((resolver) =&gt; resolver.needsMeasurement);</span><span class="s3">\n        </span><span class="s1">const elementsToMeasure = new Set(resolversToMeasure.map((resolver) =&gt; resolver.element));</span><span class="s3">\n        </span><span class="s1">const transformsToRestore = new Map();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Write pass</span><span class="s3">\n         </span><span class="s1">* If we're measuring elements we want to remove bounding box-changing transforms.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">elementsToMeasure.forEach((element) =&gt; {</span><span class="s3">\n            </span><span class="s1">const removedTransforms = removeNonTranslationalTransform(element);</span><span class="s3">\n            </span><span class="s1">if (!removedTransforms.length)</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">transformsToRestore.set(element, removedTransforms);</span><span class="s3">\n            </span><span class="s1">element.render();</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">// Read</span><span class="s3">\n        </span><span class="s1">resolversToMeasure.forEach((resolver) =&gt; resolver.measureInitialState());</span><span class="s3">\n        </span><span class="s1">// Write</span><span class="s3">\n        </span><span class="s1">elementsToMeasure.forEach((element) =&gt; {</span><span class="s3">\n            </span><span class="s1">element.render();</span><span class="s3">\n            </span><span class="s1">const restore = transformsToRestore.get(element);</span><span class="s3">\n            </span><span class="s1">if (restore) {</span><span class="s3">\n                </span><span class="s1">restore.forEach(([key, value]) =&gt; {</span><span class="s3">\n                    </span><span class="s1">element.getValue(key)?.set(value);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">// Read</span><span class="s3">\n        </span><span class="s1">resolversToMeasure.forEach((resolver) =&gt; resolver.measureEndState());</span><span class="s3">\n        </span><span class="s1">// Write</span><span class="s3">\n        </span><span class="s1">resolversToMeasure.forEach((resolver) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (resolver.suspendedScrollY !== undefined) {</span><span class="s3">\n                </span><span class="s1">window.scrollTo(0, resolver.suspendedScrollY);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">anyNeedsMeasurement = false;</span><span class="s3">\n    </span><span class="s1">isScheduled = false;</span><span class="s3">\n    </span><span class="s1">toResolve.forEach((resolver) =&gt; resolver.complete(isForced));</span><span class="s3">\n    </span><span class="s1">toResolve.clear();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function readAllKeyframes() {</span><span class="s3">\n    </span><span class="s1">toResolve.forEach((resolver) =&gt; {</span><span class="s3">\n        </span><span class="s1">resolver.readKeyframes();</span><span class="s3">\n        </span><span class="s1">if (resolver.needsMeasurement) {</span><span class="s3">\n            </span><span class="s1">anyNeedsMeasurement = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function flushKeyframeResolvers() {</span><span class="s3">\n    </span><span class="s1">isForced = true;</span><span class="s3">\n    </span><span class="s1">readAllKeyframes();</span><span class="s3">\n    </span><span class="s1">measureAllKeyframes();</span><span class="s3">\n    </span><span class="s1">isForced = false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">class KeyframeResolver {</span><span class="s3">\n    </span><span class="s1">constructor(unresolvedKeyframes, onComplete, name, motionValue, element, isAsync = false) {</span><span class="s3">\n        </span><span class="s1">this.state = </span><span class="s3">\&quot;</span><span class="s1">pending</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Track whether this resolver is async. If it is, it'll be added to the</span><span class="s3">\n         </span><span class="s1">* resolver queue and flushed in the next frame. Resolvers that aren't going</span><span class="s3">\n         </span><span class="s1">* to trigger read/write thrashing don't need to be async.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isAsync = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Track whether this resolver needs to perform a measurement</span><span class="s3">\n         </span><span class="s1">* to resolve its keyframes.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.needsMeasurement = false;</span><span class="s3">\n        </span><span class="s1">this.unresolvedKeyframes = [...unresolvedKeyframes];</span><span class="s3">\n        </span><span class="s1">this.onComplete = onComplete;</span><span class="s3">\n        </span><span class="s1">this.name = name;</span><span class="s3">\n        </span><span class="s1">this.motionValue = motionValue;</span><span class="s3">\n        </span><span class="s1">this.element = element;</span><span class="s3">\n        </span><span class="s1">this.isAsync = isAsync;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">scheduleResolve() {</span><span class="s3">\n        </span><span class="s1">this.state = </span><span class="s3">\&quot;</span><span class="s1">scheduled</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">if (this.isAsync) {</span><span class="s3">\n            </span><span class="s1">toResolve.add(this);</span><span class="s3">\n            </span><span class="s1">if (!isScheduled) {</span><span class="s3">\n                </span><span class="s1">isScheduled = true;</span><span class="s3">\n                </span><span class="s1">frame.read(readAllKeyframes);</span><span class="s3">\n                </span><span class="s1">frame.resolveKeyframes(measureAllKeyframes);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.readKeyframes();</span><span class="s3">\n            </span><span class="s1">this.complete();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">readKeyframes() {</span><span class="s3">\n        </span><span class="s1">const { unresolvedKeyframes, name, element, motionValue } = this;</span><span class="s3">\n        </span><span class="s1">// If initial keyframe is null we need to read it from the DOM</span><span class="s3">\n        </span><span class="s1">if (unresolvedKeyframes[0] === null) {</span><span class="s3">\n            </span><span class="s1">const currentValue = motionValue?.get();</span><span class="s3">\n            </span><span class="s1">// TODO: This doesn't work if the final keyframe is a wildcard</span><span class="s3">\n            </span><span class="s1">const finalKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];</span><span class="s3">\n            </span><span class="s1">if (currentValue !== undefined) {</span><span class="s3">\n                </span><span class="s1">unresolvedKeyframes[0] = currentValue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (element &amp;&amp; name) {</span><span class="s3">\n                </span><span class="s1">const valueAsRead = element.readValue(name, finalKeyframe);</span><span class="s3">\n                </span><span class="s1">if (valueAsRead !== undefined &amp;&amp; valueAsRead !== null) {</span><span class="s3">\n                    </span><span class="s1">unresolvedKeyframes[0] = valueAsRead;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (unresolvedKeyframes[0] === undefined) {</span><span class="s3">\n                </span><span class="s1">unresolvedKeyframes[0] = finalKeyframe;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (motionValue &amp;&amp; currentValue === undefined) {</span><span class="s3">\n                </span><span class="s1">motionValue.set(unresolvedKeyframes[0]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">fillWildcards(unresolvedKeyframes);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setFinalKeyframe() { }</span><span class="s3">\n    </span><span class="s1">measureInitialState() { }</span><span class="s3">\n    </span><span class="s1">renderEndStyles() { }</span><span class="s3">\n    </span><span class="s1">measureEndState() { }</span><span class="s3">\n    </span><span class="s1">complete(isForcedComplete = false) {</span><span class="s3">\n        </span><span class="s1">this.state = </span><span class="s3">\&quot;</span><span class="s1">complete</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.onComplete(this.unresolvedKeyframes, this.finalKeyframe, isForcedComplete);</span><span class="s3">\n        </span><span class="s1">toResolve.delete(this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">cancel() {</span><span class="s3">\n        </span><span class="s1">if (this.state === </span><span class="s3">\&quot;</span><span class="s1">scheduled</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">toResolve.delete(this);</span><span class="s3">\n            </span><span class="s1">this.state = </span><span class="s3">\&quot;</span><span class="s1">pending</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">resume() {</span><span class="s3">\n        </span><span class="s1">if (this.state === </span><span class="s3">\&quot;</span><span class="s1">pending</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">this.scheduleResolve();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { KeyframeResolver, flushKeyframeResolvers };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">854</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/keyframes/utils/is-none.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { isZeroValueString } from 'motion-utils';</span><span class="s3">\n\n</span><span class="s1">function isNone(value) {</span><span class="s3">\n    </span><span class="s1">if (typeof value === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return value === 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (value !== null) {</span><span class="s3">\n        </span><span class="s1">return value === </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">|| value === </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">|| isZeroValueString(value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { isNone };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,SAAS,OAAO,KAAK;IACjB,IAAI,OAAO,UAAU,UAAU;QAC3B,OAAO,UAAU;IACrB,OACK,IAAI,UAAU,MAAM;QACrB,OAAO,UAAU,UAAU,UAAU,OAAO,IAAA,uMAAiB,EAAC;IAClE,OACK;QACD,OAAO;IACX;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">874</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/utils/sanitize.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// If this number is a decimal, make it just five decimal places</span><span class="s3">\n</span><span class="s1">// to avoid exponents</span><span class="s3">\n</span><span class="s1">const sanitize = (v) =&gt; Math.round(v * 100000) / 100000;</span><span class="s3">\n\n</span><span class="s1">export { sanitize };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA,gEAAgE;AAChE,qBAAqB;;;;;AACrB,MAAM,WAAW,CAAC,IAAM,KAAK,KAAK,CAAC,IAAI,UAAU&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">886</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/utils/float-regex.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const floatRegex = /-?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)/gu;</span><span class="s3">\n\n</span><span class="s1">export { floatRegex };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,aAAa&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">896</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/utils/is-nullish.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;function isNullish(v) {</span><span class="s3">\n    </span><span class="s1">return v == null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { isNullish };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,SAAS,UAAU,CAAC;IAChB,OAAO,KAAK;AAChB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">908</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/utils/single-color-regex.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const singleColorRegex = /^(?:#[</span><span class="s3">\\</span><span class="s1">da-f]{3,8}|(?:rgb|hsl)a?</span><span class="s3">\\</span><span class="s1">((?:-?[</span><span class="s3">\\</span><span class="s1">d.]+%?[,</span><span class="s3">\\</span><span class="s1">s]+){2}-?[</span><span class="s3">\\</span><span class="s1">d.]+%?</span><span class="s3">\\</span><span class="s1">s*(?:[,/]</span><span class="s3">\\</span><span class="s1">s*)?(?:</span><span class="s3">\\</span><span class="s1">b</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?%?</span><span class="s3">\\</span><span class="s1">))$/iu;</span><span class="s3">\n\n</span><span class="s1">export { singleColorRegex };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,mBAAmB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">918</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/color/utils.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { floatRegex } from '../utils/float-regex.mjs';</span><span class="s3">\n</span><span class="s1">import { isNullish } from '../utils/is-nullish.mjs';</span><span class="s3">\n</span><span class="s1">import { singleColorRegex } from '../utils/single-color-regex.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,</span><span class="s3">\n </span><span class="s1">* but false if a number or multiple colors</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const isColorString = (type, testProp) =&gt; (v) =&gt; {</span><span class="s3">\n    </span><span class="s1">return Boolean((typeof v === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n        </span><span class="s1">singleColorRegex.test(v) &amp;&amp;</span><span class="s3">\n        </span><span class="s1">v.startsWith(type)) ||</span><span class="s3">\n        </span><span class="s1">(testProp &amp;&amp;</span><span class="s3">\n            </span><span class="s1">!isNullish(v) &amp;&amp;</span><span class="s3">\n            </span><span class="s1">Object.prototype.hasOwnProperty.call(v, testProp)));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const splitColor = (aName, bName, cName) =&gt; (v) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (typeof v !== </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">return v;</span><span class="s3">\n    </span><span class="s1">const [a, b, c, alpha] = v.match(floatRegex);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">[aName]: parseFloat(a),</span><span class="s3">\n        </span><span class="s1">[bName]: parseFloat(b),</span><span class="s3">\n        </span><span class="s1">[cName]: parseFloat(c),</span><span class="s3">\n        </span><span class="s1">alpha: alpha !== undefined ? parseFloat(alpha) : 1,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { isColorString, splitColor };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA;AACA;AACA;;;;AAEA;;;CAGC,GACD,MAAM,gBAAgB,CAAC,MAAM,WAAa,CAAC;QACvC,OAAO,QAAQ,AAAC,OAAO,MAAM,YACzB,0NAAgB,CAAC,IAAI,CAAC,MACtB,EAAE,UAAU,CAAC,SACZ,YACG,CAAC,IAAA,wMAAS,EAAC,MACX,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG;IACpD;AACA,MAAM,aAAa,CAAC,OAAO,OAAO,QAAU,CAAC;QACzC,IAAI,OAAO,MAAM,UACb,OAAO;QACX,MAAM,CAAC,GAAG,GAAG,GAAG,MAAM,GAAG,EAAE,KAAK,CAAC,0MAAU;QAC3C,OAAO;YACH,CAAC,MAAM,EAAE,WAAW;YACpB,CAAC,MAAM,EAAE,WAAW;YACpB,CAAC,MAAM,EAAE,WAAW;YACpB,OAAO,UAAU,YAAY,WAAW,SAAS;QACrD;IACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">951</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/color/rgba.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { clamp } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { number, alpha } from '../numbers/index.mjs';</span><span class="s3">\n</span><span class="s1">import { sanitize } from '../utils/sanitize.mjs';</span><span class="s3">\n</span><span class="s1">import { isColorString, splitColor } from './utils.mjs';</span><span class="s3">\n\n</span><span class="s1">const clampRgbUnit = (v) =&gt; clamp(0, 255, v);</span><span class="s3">\n</span><span class="s1">const rgbUnit = {</span><span class="s3">\n    </span><span class="s1">...number,</span><span class="s3">\n    </span><span class="s1">transform: (v) =&gt; Math.round(clampRgbUnit(v)),</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const rgba = {</span><span class="s3">\n    </span><span class="s1">test: /*@__PURE__*/ isColorString(</span><span class="s3">\&quot;</span><span class="s1">rgb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">parse: /*@__PURE__*/ splitColor(</span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">green</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">blue</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">transform: ({ red, green, blue, alpha: alpha$1 = 1 }) =&gt; </span><span class="s3">\&quot;</span><span class="s1">rgba(</span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n        </span><span class="s1">rgbUnit.transform(red) +</span><span class="s3">\n        \&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n        </span><span class="s1">rgbUnit.transform(green) +</span><span class="s3">\n        \&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n        </span><span class="s1">rgbUnit.transform(blue) +</span><span class="s3">\n        \&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n        </span><span class="s1">sanitize(alpha.transform(alpha$1)) +</span><span class="s3">\n        \&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { rgbUnit, rgba };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,eAAe,CAAC,IAAM,IAAA,mKAAK,EAAC,GAAG,KAAK;AAC1C,MAAM,UAAU;IACZ,GAAG,+LAAM;IACT,WAAW,CAAC,IAAM,KAAK,KAAK,CAAC,aAAa;AAC9C;AACA,MAAM,OAAO;IACT,MAAM,WAAW,GAAG,IAAA,oMAAa,EAAC,OAAO;IACzC,OAAO,WAAW,GAAG,IAAA,iMAAU,EAAC,OAAO,SAAS;IAChD,WAAW;YAAC,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,UAAU,CAAC,EAAE;eAAK,UACrD,QAAQ,SAAS,CAAC,OAClB,OACA,QAAQ,SAAS,CAAC,SAClB,OACA,QAAQ,SAAS,CAAC,QAClB,OACA,IAAA,kMAAQ,EAAC,8LAAK,CAAC,SAAS,CAAC,YACzB;;AACR&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">983</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/color/hex.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { rgba } from './rgba.mjs';</span><span class="s3">\n</span><span class="s1">import { isColorString } from './utils.mjs';</span><span class="s3">\n\n</span><span class="s1">function parseHex(v) {</span><span class="s3">\n    </span><span class="s1">let r = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">let g = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">let b = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">let a = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">// If we have 6 characters, ie #FF0000</span><span class="s3">\n    </span><span class="s1">if (v.length &gt; 5) {</span><span class="s3">\n        </span><span class="s1">r = v.substring(1, 3);</span><span class="s3">\n        </span><span class="s1">g = v.substring(3, 5);</span><span class="s3">\n        </span><span class="s1">b = v.substring(5, 7);</span><span class="s3">\n        </span><span class="s1">a = v.substring(7, 9);</span><span class="s3">\n        </span><span class="s1">// Or we have 3 characters, ie #F00</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">r = v.substring(1, 2);</span><span class="s3">\n        </span><span class="s1">g = v.substring(2, 3);</span><span class="s3">\n        </span><span class="s1">b = v.substring(3, 4);</span><span class="s3">\n        </span><span class="s1">a = v.substring(4, 5);</span><span class="s3">\n        </span><span class="s1">r += r;</span><span class="s3">\n        </span><span class="s1">g += g;</span><span class="s3">\n        </span><span class="s1">b += b;</span><span class="s3">\n        </span><span class="s1">a += a;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">red: parseInt(r, 16),</span><span class="s3">\n        </span><span class="s1">green: parseInt(g, 16),</span><span class="s3">\n        </span><span class="s1">blue: parseInt(b, 16),</span><span class="s3">\n        </span><span class="s1">alpha: a ? parseInt(a, 16) / 255 : 1,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const hex = {</span><span class="s3">\n    </span><span class="s1">test: /*@__PURE__*/ isColorString(</span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">parse: parseHex,</span><span class="s3">\n    </span><span class="s1">transform: rgba.transform,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { hex };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA,SAAS,SAAS,CAAC;IACf,IAAI,IAAI;IACR,IAAI,IAAI;IACR,IAAI,IAAI;IACR,IAAI,IAAI;IACR,sCAAsC;IACtC,IAAI,EAAE,MAAM,GAAG,GAAG;QACd,IAAI,EAAE,SAAS,CAAC,GAAG;QACnB,IAAI,EAAE,SAAS,CAAC,GAAG;QACnB,IAAI,EAAE,SAAS,CAAC,GAAG;QACnB,IAAI,EAAE,SAAS,CAAC,GAAG;IACnB,mCAAmC;IACvC,OACK;QACD,IAAI,EAAE,SAAS,CAAC,GAAG;QACnB,IAAI,EAAE,SAAS,CAAC,GAAG;QACnB,IAAI,EAAE,SAAS,CAAC,GAAG;QACnB,IAAI,EAAE,SAAS,CAAC,GAAG;QACnB,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;IACT;IACA,OAAO;QACH,KAAK,SAAS,GAAG;QACjB,OAAO,SAAS,GAAG;QACnB,MAAM,SAAS,GAAG;QAClB,OAAO,IAAI,SAAS,GAAG,MAAM,MAAM;IACvC;AACJ;AACA,MAAM,MAAM;IACR,MAAM,WAAW,GAAG,IAAA,oMAAa,EAAC;IAClC,OAAO;IACP,WAAW,0LAAI,CAAC,SAAS;AAC7B&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1030</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/color/hsla.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { alpha } from '../numbers/index.mjs';</span><span class="s3">\n</span><span class="s1">import { percent } from '../numbers/units.mjs';</span><span class="s3">\n</span><span class="s1">import { sanitize } from '../utils/sanitize.mjs';</span><span class="s3">\n</span><span class="s1">import { isColorString, splitColor } from './utils.mjs';</span><span class="s3">\n\n</span><span class="s1">const hsla = {</span><span class="s3">\n    </span><span class="s1">test: /*@__PURE__*/ isColorString(</span><span class="s3">\&quot;</span><span class="s1">hsl</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">hue</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">parse: /*@__PURE__*/ splitColor(</span><span class="s3">\&quot;</span><span class="s1">hue</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">saturation</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">lightness</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) =&gt; {</span><span class="s3">\n        </span><span class="s1">return (</span><span class="s3">\&quot;</span><span class="s1">hsla(</span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n            </span><span class="s1">Math.round(hue) +</span><span class="s3">\n            \&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n            </span><span class="s1">percent.transform(sanitize(saturation)) +</span><span class="s3">\n            \&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n            </span><span class="s1">percent.transform(sanitize(lightness)) +</span><span class="s3">\n            \&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n            </span><span class="s1">sanitize(alpha.transform(alpha$1)) +</span><span class="s3">\n            \&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { hsla };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,OAAO;IACT,MAAM,WAAW,GAAG,IAAA,oMAAa,EAAC,OAAO;IACzC,OAAO,WAAW,GAAG,IAAA,iMAAU,EAAC,OAAO,cAAc;IACrD,WAAW;YAAC,EAAE,GAAG,EAAE,UAAU,EAAE,SAAS,EAAE,OAAO,UAAU,CAAC,EAAE;QAC1D,OAAQ,UACJ,KAAK,KAAK,CAAC,OACX,OACA,gMAAO,CAAC,SAAS,CAAC,IAAA,kMAAQ,EAAC,eAC3B,OACA,gMAAO,CAAC,SAAS,CAAC,IAAA,kMAAQ,EAAC,cAC3B,OACA,IAAA,kMAAQ,EAAC,8LAAK,CAAC,SAAS,CAAC,YACzB;IACR;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1055</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/color/index.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { hex } from './hex.mjs';</span><span class="s3">\n</span><span class="s1">import { hsla } from './hsla.mjs';</span><span class="s3">\n</span><span class="s1">import { rgba } from './rgba.mjs';</span><span class="s3">\n\n</span><span class="s1">const color = {</span><span class="s3">\n    </span><span class="s1">test: (v) =&gt; rgba.test(v) || hex.test(v) || hsla.test(v),</span><span class="s3">\n    </span><span class="s1">parse: (v) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (rgba.test(v)) {</span><span class="s3">\n            </span><span class="s1">return rgba.parse(v);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (hsla.test(v)) {</span><span class="s3">\n            </span><span class="s1">return hsla.parse(v);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">return hex.parse(v);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">transform: (v) =&gt; {</span><span class="s3">\n        </span><span class="s1">return typeof v === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;\n            </span><span class="s1">? v</span><span class="s3">\n            </span><span class="s1">: v.hasOwnProperty(</span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n                </span><span class="s1">? rgba.transform(v)</span><span class="s3">\n                </span><span class="s1">: hsla.transform(v);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">getAnimatableNone: (v) =&gt; {</span><span class="s3">\n        </span><span class="s1">const parsed = color.parse(v);</span><span class="s3">\n        </span><span class="s1">parsed.alpha = 0;</span><span class="s3">\n        </span><span class="s1">return color.transform(parsed);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { color };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,QAAQ;IACV,MAAM,CAAC,IAAM,0LAAI,CAAC,IAAI,CAAC,MAAM,wLAAG,CAAC,IAAI,CAAC,MAAM,0LAAI,CAAC,IAAI,CAAC;IACtD,OAAO,CAAC;QACJ,IAAI,0LAAI,CAAC,IAAI,CAAC,IAAI;YACd,OAAO,0LAAI,CAAC,KAAK,CAAC;QACtB,OACK,IAAI,0LAAI,CAAC,IAAI,CAAC,IAAI;YACnB,OAAO,0LAAI,CAAC,KAAK,CAAC;QACtB,OACK;YACD,OAAO,wLAAG,CAAC,KAAK,CAAC;QACrB;IACJ;IACA,WAAW,CAAC;QACR,OAAO,OAAO,MAAM,WACd,IACA,EAAE,cAAc,CAAC,SACb,0LAAI,CAAC,SAAS,CAAC,KACf,0LAAI,CAAC,SAAS,CAAC;IAC7B;IACA,mBAAmB,CAAC;QAChB,MAAM,SAAS,MAAM,KAAK,CAAC;QAC3B,OAAO,KAAK,GAAG;QACf,OAAO,MAAM,SAAS,CAAC;IAC3B;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1090</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/utils/color-regex.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const colorRegex = /(?:#[</span><span class="s3">\\</span><span class="s1">da-f]{3,8}|(?:rgb|hsl)a?</span><span class="s3">\\</span><span class="s1">((?:-?[</span><span class="s3">\\</span><span class="s1">d.]+%?[,</span><span class="s3">\\</span><span class="s1">s]+){2}-?[</span><span class="s3">\\</span><span class="s1">d.]+%?</span><span class="s3">\\</span><span class="s1">s*(?:[,/]</span><span class="s3">\\</span><span class="s1">s*)?(?:</span><span class="s3">\\</span><span class="s1">b</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?%?</span><span class="s3">\\</span><span class="s1">))/giu;</span><span class="s3">\n\n</span><span class="s1">export { colorRegex };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,aAAa&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1100</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/complex/index.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { color } from '../color/index.mjs';</span><span class="s3">\n</span><span class="s1">import { colorRegex } from '../utils/color-regex.mjs';</span><span class="s3">\n</span><span class="s1">import { floatRegex } from '../utils/float-regex.mjs';</span><span class="s3">\n</span><span class="s1">import { sanitize } from '../utils/sanitize.mjs';</span><span class="s3">\n\n</span><span class="s1">function test(v) {</span><span class="s3">\n    </span><span class="s1">return (isNaN(v) &amp;&amp;</span><span class="s3">\n        </span><span class="s1">typeof v === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n        </span><span class="s1">(v.match(floatRegex)?.length || 0) +</span><span class="s3">\n            </span><span class="s1">(v.match(colorRegex)?.length || 0) &gt;</span><span class="s3">\n            </span><span class="s1">0);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const NUMBER_TOKEN = </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const COLOR_TOKEN = </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const VAR_TOKEN = </span><span class="s3">\&quot;</span><span class="s1">var</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const VAR_FUNCTION_TOKEN = </span><span class="s3">\&quot;</span><span class="s1">var(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const SPLIT_TOKEN = </span><span class="s3">\&quot;</span><span class="s1">${}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">// this regex consists of the `singleCssVariableRegex|rgbHSLValueRegex|digitRegex`</span><span class="s3">\n</span><span class="s1">const complexRegex = /var</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">s*--(?:[</span><span class="s3">\\</span><span class="s1">w-]+</span><span class="s3">\\</span><span class="s1">s*|[</span><span class="s3">\\</span><span class="s1">w-]+</span><span class="s3">\\</span><span class="s1">s*,(?:</span><span class="s3">\\</span><span class="s1">s*[^)(</span><span class="s3">\\</span><span class="s1">s]|</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">((?:[^)(]|</span><span class="s3">\\</span><span class="s1">([^)(]*</span><span class="s3">\\</span><span class="s1">))*</span><span class="s3">\\</span><span class="s1">))+</span><span class="s3">\\</span><span class="s1">s*)</span><span class="s3">\\</span><span class="s1">)|#[</span><span class="s3">\\</span><span class="s1">da-f]{3,8}|(?:rgb|hsl)a?</span><span class="s3">\\</span><span class="s1">((?:-?[</span><span class="s3">\\</span><span class="s1">d.]+%?[,</span><span class="s3">\\</span><span class="s1">s]+){2}-?[</span><span class="s3">\\</span><span class="s1">d.]+%?</span><span class="s3">\\</span><span class="s1">s*(?:[,/]</span><span class="s3">\\</span><span class="s1">s*)?(?:</span><span class="s3">\\</span><span class="s1">b</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?%?</span><span class="s3">\\</span><span class="s1">)|-?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)/giu;</span><span class="s3">\n</span><span class="s1">function analyseComplexValue(value) {</span><span class="s3">\n    </span><span class="s1">const originalValue = value.toString();</span><span class="s3">\n    </span><span class="s1">const values = [];</span><span class="s3">\n    </span><span class="s1">const indexes = {</span><span class="s3">\n        </span><span class="s1">color: [],</span><span class="s3">\n        </span><span class="s1">number: [],</span><span class="s3">\n        </span><span class="s1">var: [],</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">const types = [];</span><span class="s3">\n    </span><span class="s1">let i = 0;</span><span class="s3">\n    </span><span class="s1">const tokenised = originalValue.replace(complexRegex, (parsedValue) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (color.test(parsedValue)) {</span><span class="s3">\n            </span><span class="s1">indexes.color.push(i);</span><span class="s3">\n            </span><span class="s1">types.push(COLOR_TOKEN);</span><span class="s3">\n            </span><span class="s1">values.push(color.parse(parsedValue));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (parsedValue.startsWith(VAR_FUNCTION_TOKEN)) {</span><span class="s3">\n            </span><span class="s1">indexes.var.push(i);</span><span class="s3">\n            </span><span class="s1">types.push(VAR_TOKEN);</span><span class="s3">\n            </span><span class="s1">values.push(parsedValue);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">indexes.number.push(i);</span><span class="s3">\n            </span><span class="s1">types.push(NUMBER_TOKEN);</span><span class="s3">\n            </span><span class="s1">values.push(parseFloat(parsedValue));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">++i;</span><span class="s3">\n        </span><span class="s1">return SPLIT_TOKEN;</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">const split = tokenised.split(SPLIT_TOKEN);</span><span class="s3">\n    </span><span class="s1">return { values, split, indexes, types };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function parseComplexValue(v) {</span><span class="s3">\n    </span><span class="s1">return analyseComplexValue(v).values;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function createTransformer(source) {</span><span class="s3">\n    </span><span class="s1">const { split, types } = analyseComplexValue(source);</span><span class="s3">\n    </span><span class="s1">const numSections = split.length;</span><span class="s3">\n    </span><span class="s1">return (v) =&gt; {</span><span class="s3">\n        </span><span class="s1">let output = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; numSections; i++) {</span><span class="s3">\n            </span><span class="s1">output += split[i];</span><span class="s3">\n            </span><span class="s1">if (v[i] !== undefined) {</span><span class="s3">\n                </span><span class="s1">const type = types[i];</span><span class="s3">\n                </span><span class="s1">if (type === NUMBER_TOKEN) {</span><span class="s3">\n                    </span><span class="s1">output += sanitize(v[i]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (type === COLOR_TOKEN) {</span><span class="s3">\n                    </span><span class="s1">output += color.transform(v[i]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">output += v[i];</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return output;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const convertNumbersToZero = (v) =&gt; typeof v === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">? 0 : color.test(v) ? color.getAnimatableNone(v) : v;</span><span class="s3">\n</span><span class="s1">function getAnimatableNone(v) {</span><span class="s3">\n    </span><span class="s1">const parsed = parseComplexValue(v);</span><span class="s3">\n    </span><span class="s1">const transformer = createTransformer(v);</span><span class="s3">\n    </span><span class="s1">return transformer(parsed.map(convertNumbersToZero));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const complex = {</span><span class="s3">\n    </span><span class="s1">test,</span><span class="s3">\n    </span><span class="s1">parse: parseComplexValue,</span><span class="s3">\n    </span><span class="s1">createTransformer,</span><span class="s3">\n    </span><span class="s1">getAnimatableNone,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { analyseComplexValue, complex };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,SAAS,KAAK,CAAC;QAGN,UACI;IAHT,OAAQ,MAAM,MACV,OAAO,MAAM,YACb,CAAC,EAAA,WAAA,EAAE,KAAK,CAAC,0MAAU,eAAlB,+BAAA,SAAqB,MAAM,KAAI,CAAC,IAC7B,CAAC,EAAA,YAAA,EAAE,KAAK,CAAC,0MAAU,eAAlB,gCAAA,UAAqB,MAAM,KAAI,CAAC,IACjC;AACZ;AACA,MAAM,eAAe;AACrB,MAAM,cAAc;AACpB,MAAM,YAAY;AAClB,MAAM,qBAAqB;AAC3B,MAAM,cAAc;AACpB,kFAAkF;AAClF,MAAM,eAAe;AACrB,SAAS,oBAAoB,KAAK;IAC9B,MAAM,gBAAgB,MAAM,QAAQ;IACpC,MAAM,SAAS,EAAE;IACjB,MAAM,UAAU;QACZ,OAAO,EAAE;QACT,QAAQ,EAAE;QACV,KAAK,EAAE;IACX;IACA,MAAM,QAAQ,EAAE;IAChB,IAAI,IAAI;IACR,MAAM,YAAY,cAAc,OAAO,CAAC,cAAc,CAAC;QACnD,IAAI,4LAAK,CAAC,IAAI,CAAC,cAAc;YACzB,QAAQ,KAAK,CAAC,IAAI,CAAC;YACnB,MAAM,IAAI,CAAC;YACX,OAAO,IAAI,CAAC,4LAAK,CAAC,KAAK,CAAC;QAC5B,OACK,IAAI,YAAY,UAAU,CAAC,qBAAqB;YACjD,QAAQ,GAAG,CAAC,IAAI,CAAC;YACjB,MAAM,IAAI,CAAC;YACX,OAAO,IAAI,CAAC;QAChB,OACK;YACD,QAAQ,MAAM,CAAC,IAAI,CAAC;YACpB,MAAM,IAAI,CAAC;YACX,OAAO,IAAI,CAAC,WAAW;QAC3B;QACA,EAAE;QACF,OAAO;IACX;IACA,MAAM,QAAQ,UAAU,KAAK,CAAC;IAC9B,OAAO;QAAE;QAAQ;QAAO;QAAS;IAAM;AAC3C;AACA,SAAS,kBAAkB,CAAC;IACxB,OAAO,oBAAoB,GAAG,MAAM;AACxC;AACA,SAAS,kBAAkB,MAAM;IAC7B,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,oBAAoB;IAC7C,MAAM,cAAc,MAAM,MAAM;IAChC,OAAO,CAAC;QACJ,IAAI,SAAS;QACb,IAAK,IAAI,IAAI,GAAG,IAAI,aAAa,IAAK;YAClC,UAAU,KAAK,CAAC,EAAE;YAClB,IAAI,CAAC,CAAC,EAAE,KAAK,WAAW;gBACpB,MAAM,OAAO,KAAK,CAAC,EAAE;gBACrB,IAAI,SAAS,cAAc;oBACvB,UAAU,IAAA,kMAAQ,EAAC,CAAC,CAAC,EAAE;gBAC3B,OACK,IAAI,SAAS,aAAa;oBAC3B,UAAU,4LAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAClC,OACK;oBACD,UAAU,CAAC,CAAC,EAAE;gBAClB;YACJ;QACJ;QACA,OAAO;IACX;AACJ;AACA,MAAM,uBAAuB,CAAC,IAAM,OAAO,MAAM,WAAW,IAAI,4LAAK,CAAC,IAAI,CAAC,KAAK,4LAAK,CAAC,iBAAiB,CAAC,KAAK;AAC7G,SAAS,kBAAkB,CAAC;IACxB,MAAM,SAAS,kBAAkB;IACjC,MAAM,cAAc,kBAAkB;IACtC,OAAO,YAAY,OAAO,GAAG,CAAC;AAClC;AACA,MAAM,UAAU;IACZ;IACA,OAAO;IACP;IACA;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1201</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/complex/filter.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { complex } from './index.mjs';</span><span class="s3">\n</span><span class="s1">import { floatRegex } from '../utils/float-regex.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Properties that should default to 1 or 100%</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const maxDefaults = new Set([</span><span class="s3">\&quot;</span><span class="s1">brightness</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">contrast</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">saturate</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">opacity</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n</span><span class="s1">function applyDefaultFilter(v) {</span><span class="s3">\n    </span><span class="s1">const [name, value] = v.slice(0, -1).split(</span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (name === </span><span class="s3">\&quot;</span><span class="s1">drop-shadow</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">return v;</span><span class="s3">\n    </span><span class="s1">const [number] = value.match(floatRegex) || [];</span><span class="s3">\n    </span><span class="s1">if (!number)</span><span class="s3">\n        </span><span class="s1">return v;</span><span class="s3">\n    </span><span class="s1">const unit = value.replace(number, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">let defaultValue = maxDefaults.has(name) ? 1 : 0;</span><span class="s3">\n    </span><span class="s1">if (number !== value)</span><span class="s3">\n        </span><span class="s1">defaultValue *= 100;</span><span class="s3">\n    </span><span class="s1">return name + </span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot; </span><span class="s1">+ defaultValue + unit + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const functionRegex = /</span><span class="s3">\\</span><span class="s1">b([a-z-]*)</span><span class="s3">\\</span><span class="s1">(.*?</span><span class="s3">\\</span><span class="s1">)/gu;</span><span class="s3">\n</span><span class="s1">const filter = {</span><span class="s3">\n    </span><span class="s1">...complex,</span><span class="s3">\n    </span><span class="s1">getAnimatableNone: (v) =&gt; {</span><span class="s3">\n        </span><span class="s1">const functions = v.match(functionRegex);</span><span class="s3">\n        </span><span class="s1">return functions ? functions.map(applyDefaultFilter).join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">) : v;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { filter };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA;;CAEC,GACD,MAAM,cAAc,IAAI,IAAI;IAAC;IAAc;IAAY;IAAY;CAAU;AAC7E,SAAS,mBAAmB,CAAC;IACzB,MAAM,CAAC,MAAM,MAAM,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IAC3C,IAAI,SAAS,eACT,OAAO;IACX,MAAM,CAAC,OAAO,GAAG,MAAM,KAAK,CAAC,0MAAU,KAAK,EAAE;IAC9C,IAAI,CAAC,QACD,OAAO;IACX,MAAM,OAAO,MAAM,OAAO,CAAC,QAAQ;IACnC,IAAI,eAAe,YAAY,GAAG,CAAC,QAAQ,IAAI;IAC/C,IAAI,WAAW,OACX,gBAAgB;IACpB,OAAO,OAAO,MAAM,eAAe,OAAO;AAC9C;AACA,MAAM,gBAAgB;AACtB,MAAM,SAAS;IACX,GAAG,gMAAO;IACV,mBAAmB,CAAC;QAChB,MAAM,YAAY,EAAE,KAAK,CAAC;QAC1B,OAAO,YAAY,UAAU,GAAG,CAAC,oBAAoB,IAAI,CAAC,OAAO;IACrE;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1240</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/int.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { number } from './numbers/index.mjs';</span><span class="s3">\n\n</span><span class="s1">const int = {</span><span class="s3">\n    </span><span class="s1">...number,</span><span class="s3">\n    </span><span class="s1">transform: Math.round,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { int };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,MAAM,MAAM;IACR,GAAG,+LAAM;IACT,WAAW,KAAK,KAAK;AACzB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1255</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/maps/transform.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { scale, alpha } from '../numbers/index.mjs';</span><span class="s3">\n</span><span class="s1">import { degrees, px, progressPercentage } from '../numbers/units.mjs';</span><span class="s3">\n\n</span><span class="s1">const transformValueTypes = {</span><span class="s3">\n    </span><span class="s1">rotate: degrees,</span><span class="s3">\n    </span><span class="s1">rotateX: degrees,</span><span class="s3">\n    </span><span class="s1">rotateY: degrees,</span><span class="s3">\n    </span><span class="s1">rotateZ: degrees,</span><span class="s3">\n    </span><span class="s1">scale,</span><span class="s3">\n    </span><span class="s1">scaleX: scale,</span><span class="s3">\n    </span><span class="s1">scaleY: scale,</span><span class="s3">\n    </span><span class="s1">scaleZ: scale,</span><span class="s3">\n    </span><span class="s1">skew: degrees,</span><span class="s3">\n    </span><span class="s1">skewX: degrees,</span><span class="s3">\n    </span><span class="s1">skewY: degrees,</span><span class="s3">\n    </span><span class="s1">distance: px,</span><span class="s3">\n    </span><span class="s1">translateX: px,</span><span class="s3">\n    </span><span class="s1">translateY: px,</span><span class="s3">\n    </span><span class="s1">translateZ: px,</span><span class="s3">\n    </span><span class="s1">x: px,</span><span class="s3">\n    </span><span class="s1">y: px,</span><span class="s3">\n    </span><span class="s1">z: px,</span><span class="s3">\n    </span><span class="s1">perspective: px,</span><span class="s3">\n    </span><span class="s1">transformPerspective: px,</span><span class="s3">\n    </span><span class="s1">opacity: alpha,</span><span class="s3">\n    </span><span class="s1">originX: progressPercentage,</span><span class="s3">\n    </span><span class="s1">originY: progressPercentage,</span><span class="s3">\n    </span><span class="s1">originZ: px,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { transformValueTypes };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA,MAAM,sBAAsB;IACxB,QAAQ,gMAAO;IACf,SAAS,gMAAO;IAChB,SAAS,gMAAO;IAChB,SAAS,gMAAO;IAChB,OAAA,8LAAK;IACL,QAAQ,8LAAK;IACb,QAAQ,8LAAK;IACb,QAAQ,8LAAK;IACb,MAAM,gMAAO;IACb,OAAO,gMAAO;IACd,OAAO,gMAAO;IACd,UAAU,2LAAE;IACZ,YAAY,2LAAE;IACd,YAAY,2LAAE;IACd,YAAY,2LAAE;IACd,GAAG,2LAAE;IACL,GAAG,2LAAE;IACL,GAAG,2LAAE;IACL,aAAa,2LAAE;IACf,sBAAsB,2LAAE;IACxB,SAAS,8LAAK;IACd,SAAS,2MAAkB;IAC3B,SAAS,2MAAkB;IAC3B,SAAS,2LAAE;AACf&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1294</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/maps/number.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { int } from '../int.mjs';</span><span class="s3">\n</span><span class="s1">import { alpha } from '../numbers/index.mjs';</span><span class="s3">\n</span><span class="s1">import { px } from '../numbers/units.mjs';</span><span class="s3">\n</span><span class="s1">import { transformValueTypes } from './transform.mjs';</span><span class="s3">\n\n</span><span class="s1">const numberValueTypes = {</span><span class="s3">\n    </span><span class="s1">// Border props</span><span class="s3">\n    </span><span class="s1">borderWidth: px,</span><span class="s3">\n    </span><span class="s1">borderTopWidth: px,</span><span class="s3">\n    </span><span class="s1">borderRightWidth: px,</span><span class="s3">\n    </span><span class="s1">borderBottomWidth: px,</span><span class="s3">\n    </span><span class="s1">borderLeftWidth: px,</span><span class="s3">\n    </span><span class="s1">borderRadius: px,</span><span class="s3">\n    </span><span class="s1">radius: px,</span><span class="s3">\n    </span><span class="s1">borderTopLeftRadius: px,</span><span class="s3">\n    </span><span class="s1">borderTopRightRadius: px,</span><span class="s3">\n    </span><span class="s1">borderBottomRightRadius: px,</span><span class="s3">\n    </span><span class="s1">borderBottomLeftRadius: px,</span><span class="s3">\n    </span><span class="s1">// Positioning props</span><span class="s3">\n    </span><span class="s1">width: px,</span><span class="s3">\n    </span><span class="s1">maxWidth: px,</span><span class="s3">\n    </span><span class="s1">height: px,</span><span class="s3">\n    </span><span class="s1">maxHeight: px,</span><span class="s3">\n    </span><span class="s1">top: px,</span><span class="s3">\n    </span><span class="s1">right: px,</span><span class="s3">\n    </span><span class="s1">bottom: px,</span><span class="s3">\n    </span><span class="s1">left: px,</span><span class="s3">\n    </span><span class="s1">// Spacing props</span><span class="s3">\n    </span><span class="s1">padding: px,</span><span class="s3">\n    </span><span class="s1">paddingTop: px,</span><span class="s3">\n    </span><span class="s1">paddingRight: px,</span><span class="s3">\n    </span><span class="s1">paddingBottom: px,</span><span class="s3">\n    </span><span class="s1">paddingLeft: px,</span><span class="s3">\n    </span><span class="s1">margin: px,</span><span class="s3">\n    </span><span class="s1">marginTop: px,</span><span class="s3">\n    </span><span class="s1">marginRight: px,</span><span class="s3">\n    </span><span class="s1">marginBottom: px,</span><span class="s3">\n    </span><span class="s1">marginLeft: px,</span><span class="s3">\n    </span><span class="s1">// Misc</span><span class="s3">\n    </span><span class="s1">backgroundPositionX: px,</span><span class="s3">\n    </span><span class="s1">backgroundPositionY: px,</span><span class="s3">\n    </span><span class="s1">...transformValueTypes,</span><span class="s3">\n    </span><span class="s1">zIndex: int,</span><span class="s3">\n    </span><span class="s1">// SVG</span><span class="s3">\n    </span><span class="s1">fillOpacity: alpha,</span><span class="s3">\n    </span><span class="s1">strokeOpacity: alpha,</span><span class="s3">\n    </span><span class="s1">numOctaves: int,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { numberValueTypes };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,mBAAmB;IACrB,eAAe;IACf,aAAa,2LAAE;IACf,gBAAgB,2LAAE;IAClB,kBAAkB,2LAAE;IACpB,mBAAmB,2LAAE;IACrB,iBAAiB,2LAAE;IACnB,cAAc,2LAAE;IAChB,QAAQ,2LAAE;IACV,qBAAqB,2LAAE;IACvB,sBAAsB,2LAAE;IACxB,yBAAyB,2LAAE;IAC3B,wBAAwB,2LAAE;IAC1B,oBAAoB;IACpB,OAAO,2LAAE;IACT,UAAU,2LAAE;IACZ,QAAQ,2LAAE;IACV,WAAW,2LAAE;IACb,KAAK,2LAAE;IACP,OAAO,2LAAE;IACT,QAAQ,2LAAE;IACV,MAAM,2LAAE;IACR,gBAAgB;IAChB,SAAS,2LAAE;IACX,YAAY,2LAAE;IACd,cAAc,2LAAE;IAChB,eAAe,2LAAE;IACjB,aAAa,2LAAE;IACf,QAAQ,2LAAE;IACV,WAAW,2LAAE;IACb,aAAa,2LAAE;IACf,cAAc,2LAAE;IAChB,YAAY,2LAAE;IACd,OAAO;IACP,qBAAqB,2LAAE;IACvB,qBAAqB,2LAAE;IACvB,GAAG,6MAAmB;IACtB,QAAQ,+KAAG;IACX,MAAM;IACN,aAAa,8LAAK;IAClB,eAAe,8LAAK;IACpB,YAAY,+KAAG;AACnB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1354</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/maps/defaults.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { color } from '../color/index.mjs';</span><span class="s3">\n</span><span class="s1">import { filter } from '../complex/filter.mjs';</span><span class="s3">\n</span><span class="s1">import { numberValueTypes } from './number.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A map of default value types for common values</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const defaultValueTypes = {</span><span class="s3">\n    </span><span class="s1">...numberValueTypes,</span><span class="s3">\n    </span><span class="s1">// Color props</span><span class="s3">\n    </span><span class="s1">color,</span><span class="s3">\n    </span><span class="s1">backgroundColor: color,</span><span class="s3">\n    </span><span class="s1">outlineColor: color,</span><span class="s3">\n    </span><span class="s1">fill: color,</span><span class="s3">\n    </span><span class="s1">stroke: color,</span><span class="s3">\n    </span><span class="s1">// Border props</span><span class="s3">\n    </span><span class="s1">borderColor: color,</span><span class="s3">\n    </span><span class="s1">borderTopColor: color,</span><span class="s3">\n    </span><span class="s1">borderRightColor: color,</span><span class="s3">\n    </span><span class="s1">borderBottomColor: color,</span><span class="s3">\n    </span><span class="s1">borderLeftColor: color,</span><span class="s3">\n    </span><span class="s1">filter,</span><span class="s3">\n    </span><span class="s1">WebkitFilter: filter,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the default ValueType for the provided value key</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const getDefaultValueType = (key) =&gt; defaultValueTypes[key];</span><span class="s3">\n\n</span><span class="s1">export { defaultValueTypes, getDefaultValueType };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA;AACA;AACA;;;;AAEA;;CAEC,GACD,MAAM,oBAAoB;IACtB,GAAG,uMAAgB;IACnB,cAAc;IACd,OAAA,4LAAK;IACL,iBAAiB,4LAAK;IACtB,cAAc,4LAAK;IACnB,MAAM,4LAAK;IACX,QAAQ,4LAAK;IACb,eAAe;IACf,aAAa,4LAAK;IAClB,gBAAgB,4LAAK;IACrB,kBAAkB,4LAAK;IACvB,mBAAmB,4LAAK;IACxB,iBAAiB,4LAAK;IACtB,QAAA,gMAAM;IACN,cAAc,gMAAM;AACxB;AACA;;CAEC,GACD,MAAM,sBAAsB,CAAC,MAAQ,iBAAiB,CAAC,IAAI&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1393</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/utils/animatable-none.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { complex } from '../complex/index.mjs';</span><span class="s3">\n</span><span class="s1">import { filter } from '../complex/filter.mjs';</span><span class="s3">\n</span><span class="s1">import { getDefaultValueType } from '../maps/defaults.mjs';</span><span class="s3">\n\n</span><span class="s1">function getAnimatableNone(key, value) {</span><span class="s3">\n    </span><span class="s1">let defaultValueType = getDefaultValueType(key);</span><span class="s3">\n    </span><span class="s1">if (defaultValueType !== filter)</span><span class="s3">\n        </span><span class="s1">defaultValueType = complex;</span><span class="s3">\n    </span><span class="s1">// If value is not recognised as animatable, ie </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">, create an animatable version origin based on the target</span><span class="s3">\n    </span><span class="s1">return defaultValueType.getAnimatableNone</span><span class="s3">\n        </span><span class="s1">? defaultValueType.getAnimatableNone(value)</span><span class="s3">\n        </span><span class="s1">: undefined;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { getAnimatableNone };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;;;;AAEA,SAAS,kBAAkB,GAAG,EAAE,KAAK;IACjC,IAAI,mBAAmB,IAAA,4MAAmB,EAAC;IAC3C,IAAI,qBAAqB,gMAAM,EAC3B,mBAAmB,gMAAO;IAC9B,+GAA+G;IAC/G,OAAO,iBAAiB,iBAAiB,GACnC,iBAAiB,iBAAiB,CAAC,SACnC;AACV&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1414</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/keyframes/utils/make-none-animatable.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { analyseComplexValue } from '../../../value/types/complex/index.mjs';</span><span class="s3">\n</span><span class="s1">import { getAnimatableNone } from '../../../value/types/utils/animatable-none.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* If we encounter keyframes like </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">and we also have keyframes like</span><span class="s3">\n </span><span class="s1">* </span><span class="s3">\&quot;</span><span class="s1">#fff</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">200px 200px</span><span class="s3">\&quot; </span><span class="s1">we want to find a keyframe to serve as a template for</span><span class="s3">\n </span><span class="s1">* the </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">keyframes. In this case </span><span class="s3">\&quot;</span><span class="s1">#fff</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">200px 200px</span><span class="s3">\&quot; </span><span class="s1">- then these get turned into</span><span class="s3">\n </span><span class="s1">* zero equivalents, i.e. </span><span class="s3">\&quot;</span><span class="s1">#fff0</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">0px 0px</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const invalidTemplates = new Set([</span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n</span><span class="s1">function makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name) {</span><span class="s3">\n    </span><span class="s1">let i = 0;</span><span class="s3">\n    </span><span class="s1">let animatableTemplate = undefined;</span><span class="s3">\n    </span><span class="s1">while (i &lt; unresolvedKeyframes.length &amp;&amp; !animatableTemplate) {</span><span class="s3">\n        </span><span class="s1">const keyframe = unresolvedKeyframes[i];</span><span class="s3">\n        </span><span class="s1">if (typeof keyframe === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n            </span><span class="s1">!invalidTemplates.has(keyframe) &amp;&amp;</span><span class="s3">\n            </span><span class="s1">analyseComplexValue(keyframe).values.length) {</span><span class="s3">\n            </span><span class="s1">animatableTemplate = unresolvedKeyframes[i];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">i++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (animatableTemplate &amp;&amp; name) {</span><span class="s3">\n        </span><span class="s1">for (const noneIndex of noneKeyframeIndexes) {</span><span class="s3">\n            </span><span class="s1">unresolvedKeyframes[noneIndex] = getAnimatableNone(name, animatableTemplate);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { makeNoneKeyframesAnimatable };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA;;;;;CAKC,GACD,MAAM,mBAAmB,IAAI,IAAI;IAAC;IAAQ;IAAQ;CAAI;AACtD,SAAS,4BAA4B,mBAAmB,EAAE,mBAAmB,EAAE,IAAI;IAC/E,IAAI,IAAI;IACR,IAAI,qBAAqB;IACzB,MAAO,IAAI,oBAAoB,MAAM,IAAI,CAAC,mBAAoB;QAC1D,MAAM,WAAW,mBAAmB,CAAC,EAAE;QACvC,IAAI,OAAO,aAAa,YACpB,CAAC,iBAAiB,GAAG,CAAC,aACtB,IAAA,4MAAmB,EAAC,UAAU,MAAM,CAAC,MAAM,EAAE;YAC7C,qBAAqB,mBAAmB,CAAC,EAAE;QAC/C;QACA;IACJ;IACA,IAAI,sBAAsB,MAAM;QAC5B,KAAK,MAAM,aAAa,oBAAqB;YACzC,mBAAmB,CAAC,UAAU,GAAG,IAAA,qNAAiB,EAAC,MAAM;QAC7D;IACJ;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1453</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/keyframes/DOMKeyframesResolver.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { positionalKeys } from '../../render/utils/keys-position.mjs';</span><span class="s3">\n</span><span class="s1">import { findDimensionValueType } from '../../value/types/dimensions.mjs';</span><span class="s3">\n</span><span class="s1">import { getVariableValue } from '../utils/css-variables-conversion.mjs';</span><span class="s3">\n</span><span class="s1">import { isCSSVariableToken } from '../utils/is-css-variable.mjs';</span><span class="s3">\n</span><span class="s1">import { KeyframeResolver } from './KeyframesResolver.mjs';</span><span class="s3">\n</span><span class="s1">import { isNone } from './utils/is-none.mjs';</span><span class="s3">\n</span><span class="s1">import { makeNoneKeyframesAnimatable } from './utils/make-none-animatable.mjs';</span><span class="s3">\n</span><span class="s1">import { isNumOrPxType, positionalValues } from './utils/unit-conversion.mjs';</span><span class="s3">\n\n</span><span class="s1">class DOMKeyframesResolver extends KeyframeResolver {</span><span class="s3">\n    </span><span class="s1">constructor(unresolvedKeyframes, onComplete, name, motionValue, element) {</span><span class="s3">\n        </span><span class="s1">super(unresolvedKeyframes, onComplete, name, motionValue, element, true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">readKeyframes() {</span><span class="s3">\n        </span><span class="s1">const { unresolvedKeyframes, element, name } = this;</span><span class="s3">\n        </span><span class="s1">if (!element || !element.current)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">super.readKeyframes();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* If any keyframe is a CSS variable, we need to find its value by sampling the element</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; unresolvedKeyframes.length; i++) {</span><span class="s3">\n            </span><span class="s1">let keyframe = unresolvedKeyframes[i];</span><span class="s3">\n            </span><span class="s1">if (typeof keyframe === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">keyframe = keyframe.trim();</span><span class="s3">\n                </span><span class="s1">if (isCSSVariableToken(keyframe)) {</span><span class="s3">\n                    </span><span class="s1">const resolved = getVariableValue(keyframe, element.current);</span><span class="s3">\n                    </span><span class="s1">if (resolved !== undefined) {</span><span class="s3">\n                        </span><span class="s1">unresolvedKeyframes[i] = resolved;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (i === unresolvedKeyframes.length - 1) {</span><span class="s3">\n                        </span><span class="s1">this.finalKeyframe = keyframe;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Resolve </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">values. We do this potentially twice - once before and once after measuring keyframes.</span><span class="s3">\n         </span><span class="s1">* This could be seen as inefficient but it's a trade-off to avoid measurements in more situations, which</span><span class="s3">\n         </span><span class="s1">* have a far bigger performance impact.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.resolveNoneKeyframes();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Check to see if unit type has changed. If so schedule jobs that will</span><span class="s3">\n         </span><span class="s1">* temporarily set styles to the destination keyframes.</span><span class="s3">\n         </span><span class="s1">* Skip if we have more than two keyframes or this isn't a positional value.</span><span class="s3">\n         </span><span class="s1">* TODO: We can throw if there are multiple keyframes and the value type changes.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">if (!positionalKeys.has(name) || unresolvedKeyframes.length !== 2) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const [origin, target] = unresolvedKeyframes;</span><span class="s3">\n        </span><span class="s1">const originType = findDimensionValueType(origin);</span><span class="s3">\n        </span><span class="s1">const targetType = findDimensionValueType(target);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Either we don't recognise these value types or we can animate between them.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">if (originType === targetType)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* If both values are numbers or pixels, we can animate between them by</span><span class="s3">\n         </span><span class="s1">* converting them to numbers.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">if (isNumOrPxType(originType) &amp;&amp; isNumOrPxType(targetType)) {</span><span class="s3">\n            </span><span class="s1">for (let i = 0; i &lt; unresolvedKeyframes.length; i++) {</span><span class="s3">\n                </span><span class="s1">const value = unresolvedKeyframes[i];</span><span class="s3">\n                </span><span class="s1">if (typeof value === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">unresolvedKeyframes[i] = parseFloat(value);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (positionalValues[name]) {</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* Else, the only way to resolve this is by measuring the element.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">this.needsMeasurement = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">resolveNoneKeyframes() {</span><span class="s3">\n        </span><span class="s1">const { unresolvedKeyframes, name } = this;</span><span class="s3">\n        </span><span class="s1">const noneKeyframeIndexes = [];</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; unresolvedKeyframes.length; i++) {</span><span class="s3">\n            </span><span class="s1">if (unresolvedKeyframes[i] === null ||</span><span class="s3">\n                </span><span class="s1">isNone(unresolvedKeyframes[i])) {</span><span class="s3">\n                </span><span class="s1">noneKeyframeIndexes.push(i);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (noneKeyframeIndexes.length) {</span><span class="s3">\n            </span><span class="s1">makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">measureInitialState() {</span><span class="s3">\n        </span><span class="s1">const { element, unresolvedKeyframes, name } = this;</span><span class="s3">\n        </span><span class="s1">if (!element || !element.current)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">if (name === </span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.suspendedScrollY = window.pageYOffset;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.measuredOrigin = positionalValues[name](element.measureViewportBox(), window.getComputedStyle(element.current));</span><span class="s3">\n        </span><span class="s1">unresolvedKeyframes[0] = this.measuredOrigin;</span><span class="s3">\n        </span><span class="s1">// Set final key frame to measure after next render</span><span class="s3">\n        </span><span class="s1">const measureKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];</span><span class="s3">\n        </span><span class="s1">if (measureKeyframe !== undefined) {</span><span class="s3">\n            </span><span class="s1">element.getValue(name, measureKeyframe).jump(measureKeyframe, false);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">measureEndState() {</span><span class="s3">\n        </span><span class="s1">const { element, name, unresolvedKeyframes } = this;</span><span class="s3">\n        </span><span class="s1">if (!element || !element.current)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">const value = element.getValue(name);</span><span class="s3">\n        </span><span class="s1">value &amp;&amp; value.jump(this.measuredOrigin, false);</span><span class="s3">\n        </span><span class="s1">const finalKeyframeIndex = unresolvedKeyframes.length - 1;</span><span class="s3">\n        </span><span class="s1">const finalKeyframe = unresolvedKeyframes[finalKeyframeIndex];</span><span class="s3">\n        </span><span class="s1">unresolvedKeyframes[finalKeyframeIndex] = positionalValues[name](element.measureViewportBox(), window.getComputedStyle(element.current));</span><span class="s3">\n        </span><span class="s1">if (finalKeyframe !== null &amp;&amp; this.finalKeyframe === undefined) {</span><span class="s3">\n            </span><span class="s1">this.finalKeyframe = finalKeyframe;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// If we removed transform values, reapply them before the next render</span><span class="s3">\n        </span><span class="s1">if (this.removedTransforms?.length) {</span><span class="s3">\n            </span><span class="s1">this.removedTransforms.forEach(([unsetTransformName, unsetTransformValue]) =&gt; {</span><span class="s3">\n                </span><span class="s1">element</span><span class="s3">\n                    </span><span class="s1">.getValue(unsetTransformName)</span><span class="s3">\n                    </span><span class="s1">.set(unsetTransformValue);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.resolveNoneKeyframes();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { DOMKeyframesResolver };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1586</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/utils/is-motion-value.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const isMotionValue = (value) =&gt; Boolean(value &amp;&amp; value.getVelocity);</span><span class="s3">\n\n</span><span class="s1">export { isMotionValue };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,gBAAgB,CAAC,QAAU,QAAQ,SAAS,MAAM,WAAW&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1596</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/frameloop/sync-time.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { MotionGlobalConfig } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { frameData } from './frame.mjs';</span><span class="s3">\n\n</span><span class="s1">let now;</span><span class="s3">\n</span><span class="s1">function clearTime() {</span><span class="s3">\n    </span><span class="s1">now = undefined;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An eventloop-synchronous alternative to performance.now().</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Ensures that time measurements remain consistent within a synchronous context.</span><span class="s3">\n </span><span class="s1">* Usually calling performance.now() twice within the same synchronous context</span><span class="s3">\n </span><span class="s1">* will return different values which isn't useful for animations when we're usually</span><span class="s3">\n </span><span class="s1">* trying to sync animations to the same frame.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const time = {</span><span class="s3">\n    </span><span class="s1">now: () =&gt; {</span><span class="s3">\n        </span><span class="s1">if (now === undefined) {</span><span class="s3">\n            </span><span class="s1">time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming</span><span class="s3">\n                </span><span class="s1">? frameData.timestamp</span><span class="s3">\n                </span><span class="s1">: performance.now());</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return now;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">set: (newTime) =&gt; {</span><span class="s3">\n        </span><span class="s1">now = newTime;</span><span class="s3">\n        </span><span class="s1">queueMicrotask(clearTime);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { time };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA,IAAI;AACJ,SAAS;IACL,MAAM;AACV;AACA;;;;;;;CAOC,GACD,MAAM,OAAO;IACT,KAAK;QACD,IAAI,QAAQ,WAAW;YACnB,KAAK,GAAG,CAAC,kLAAS,CAAC,YAAY,IAAI,2LAAkB,CAAC,eAAe,GAC/D,kLAAS,CAAC,SAAS,GACnB,YAAY,GAAG;QACzB;QACA,OAAO;IACX;IACA,KAAK,CAAC;QACF,MAAM;QACN,eAAe;IACnB;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1632</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/index.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { warnOnce, SubscriptionManager, velocityPerSecond } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { time } from '../frameloop/sync-time.mjs';</span><span class="s3">\n</span><span class="s1">import { frame } from '../frameloop/frame.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Maximum time between the value of two frames, beyond which we</span><span class="s3">\n </span><span class="s1">* assume the velocity has since been 0.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const MAX_VELOCITY_DELTA = 30;</span><span class="s3">\n</span><span class="s1">const isFloat = (value) =&gt; {</span><span class="s3">\n    </span><span class="s1">return !isNaN(parseFloat(value));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const collectMotionValues = {</span><span class="s3">\n    </span><span class="s1">current: undefined,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* `MotionValue` is used to track the state and velocity of motion values.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class MotionValue {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @param init - The initiating value</span><span class="s3">\n     </span><span class="s1">* @param config - Optional configuration options</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* -  `transformer`: A function to transform incoming values with.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(init, options = {}) {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Tracks whether this value can output a velocity. Currently this is only true</span><span class="s3">\n         </span><span class="s1">* if the value is numerical, but we might be able to widen the scope here and support</span><span class="s3">\n         </span><span class="s1">* other value types.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.canTrackVelocity = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* An object containing a SubscriptionManager for each active event.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.events = {};</span><span class="s3">\n        </span><span class="s1">this.updateAndNotify = (v) =&gt; {</span><span class="s3">\n            </span><span class="s1">const currentTime = time.now();</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* If we're updating the value during another frame or eventloop</span><span class="s3">\n             </span><span class="s1">* than the previous frame, then the we set the previous frame value</span><span class="s3">\n             </span><span class="s1">* to current.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">if (this.updatedAt !== currentTime) {</span><span class="s3">\n                </span><span class="s1">this.setPrevFrameValue();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.prev = this.current;</span><span class="s3">\n            </span><span class="s1">this.setCurrent(v);</span><span class="s3">\n            </span><span class="s1">// Update update subscribers</span><span class="s3">\n            </span><span class="s1">if (this.current !== this.prev) {</span><span class="s3">\n                </span><span class="s1">this.events.change?.notify(this.current);</span><span class="s3">\n                </span><span class="s1">if (this.dependents) {</span><span class="s3">\n                    </span><span class="s1">for (const dependent of this.dependents) {</span><span class="s3">\n                        </span><span class="s1">dependent.dirty();</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.hasAnimated = false;</span><span class="s3">\n        </span><span class="s1">this.setCurrent(init);</span><span class="s3">\n        </span><span class="s1">this.owner = options.owner;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setCurrent(current) {</span><span class="s3">\n        </span><span class="s1">this.current = current;</span><span class="s3">\n        </span><span class="s1">this.updatedAt = time.now();</span><span class="s3">\n        </span><span class="s1">if (this.canTrackVelocity === null &amp;&amp; current !== undefined) {</span><span class="s3">\n            </span><span class="s1">this.canTrackVelocity = isFloat(this.current);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setPrevFrameValue(prevFrameValue = this.current) {</span><span class="s3">\n        </span><span class="s1">this.prevFrameValue = prevFrameValue;</span><span class="s3">\n        </span><span class="s1">this.prevUpdatedAt = this.updatedAt;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Adds a function that will be notified when the `MotionValue` is updated.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* It returns a function that, when called, will cancel the subscription.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* When calling `onChange` inside a React component, it should be wrapped with the</span><span class="s3">\n     </span><span class="s1">* `useEffect` hook. As it returns an unsubscribe function, this should be returned</span><span class="s3">\n     </span><span class="s1">* from the `useEffect` function to ensure you don't add duplicate subscribers..</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* ```jsx</span><span class="s3">\n     </span><span class="s1">* export const MyComponent = () =&gt; {</span><span class="s3">\n     </span><span class="s1">*   const x = useMotionValue(0)</span><span class="s3">\n     </span><span class="s1">*   const y = useMotionValue(0)</span><span class="s3">\n     </span><span class="s1">*   const opacity = useMotionValue(1)</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">*   useEffect(() =&gt; {</span><span class="s3">\n     </span><span class="s1">*     function updateOpacity() {</span><span class="s3">\n     </span><span class="s1">*       const maxXY = Math.max(x.get(), y.get())</span><span class="s3">\n     </span><span class="s1">*       const newOpacity = transform(maxXY, [0, 100], [1, 0])</span><span class="s3">\n     </span><span class="s1">*       opacity.set(newOpacity)</span><span class="s3">\n     </span><span class="s1">*     }</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">*     const unsubscribeX = x.on(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, updateOpacity)</span><span class="s3">\n     </span><span class="s1">*     const unsubscribeY = y.on(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, updateOpacity)</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">*     return () =&gt; {</span><span class="s3">\n     </span><span class="s1">*       unsubscribeX()</span><span class="s3">\n     </span><span class="s1">*       unsubscribeY()</span><span class="s3">\n     </span><span class="s1">*     }</span><span class="s3">\n     </span><span class="s1">*   }, [])</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">*   return &lt;motion.div style={{ x }} /&gt;</span><span class="s3">\n     </span><span class="s1">* }</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param subscriber - A function that receives the latest value.</span><span class="s3">\n     </span><span class="s1">* @returns A function that, when called, will cancel this subscription.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @deprecated</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">onChange(subscription) {</span><span class="s3">\n        </span><span class="s1">if (process.env.NODE_ENV !== </span><span class="s3">\&quot;</span><span class="s1">production</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, callback).`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this.on(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, subscription);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">on(eventName, callback) {</span><span class="s3">\n        </span><span class="s1">if (!this.events[eventName]) {</span><span class="s3">\n            </span><span class="s1">this.events[eventName] = new SubscriptionManager();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const unsubscribe = this.events[eventName].add(callback);</span><span class="s3">\n        </span><span class="s1">if (eventName === </span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">return () =&gt; {</span><span class="s3">\n                </span><span class="s1">unsubscribe();</span><span class="s3">\n                </span><span class="s1">/**</span><span class="s3">\n                 </span><span class="s1">* If we have no more change listeners by the start</span><span class="s3">\n                 </span><span class="s1">* of the next frame, stop active animations.</span><span class="s3">\n                 </span><span class="s1">*/</span><span class="s3">\n                </span><span class="s1">frame.read(() =&gt; {</span><span class="s3">\n                    </span><span class="s1">if (!this.events.change.getSize()) {</span><span class="s3">\n                        </span><span class="s1">this.stop();</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return unsubscribe;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">clearListeners() {</span><span class="s3">\n        </span><span class="s1">for (const eventManagers in this.events) {</span><span class="s3">\n            </span><span class="s1">this.events[eventManagers].clear();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Attaches a passive effect to the `MotionValue`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">attach(passiveEffect, stopPassiveEffect) {</span><span class="s3">\n        </span><span class="s1">this.passiveEffect = passiveEffect;</span><span class="s3">\n        </span><span class="s1">this.stopPassiveEffect = stopPassiveEffect;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the state of the `MotionValue`.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* ```jsx</span><span class="s3">\n     </span><span class="s1">* const x = useMotionValue(0)</span><span class="s3">\n     </span><span class="s1">* x.set(10)</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param latest - Latest value to set.</span><span class="s3">\n     </span><span class="s1">* @param render - Whether to notify render subscribers. Defaults to `true`</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">set(v) {</span><span class="s3">\n        </span><span class="s1">if (!this.passiveEffect) {</span><span class="s3">\n            </span><span class="s1">this.updateAndNotify(v);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.passiveEffect(v, this.updateAndNotify);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setWithVelocity(prev, current, delta) {</span><span class="s3">\n        </span><span class="s1">this.set(current);</span><span class="s3">\n        </span><span class="s1">this.prev = undefined;</span><span class="s3">\n        </span><span class="s1">this.prevFrameValue = prev;</span><span class="s3">\n        </span><span class="s1">this.prevUpdatedAt = this.updatedAt - delta;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Set the state of the `MotionValue`, stopping any active animations,</span><span class="s3">\n     </span><span class="s1">* effects, and resets velocity to `0`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">jump(v, endAnimation = true) {</span><span class="s3">\n        </span><span class="s1">this.updateAndNotify(v);</span><span class="s3">\n        </span><span class="s1">this.prev = v;</span><span class="s3">\n        </span><span class="s1">this.prevUpdatedAt = this.prevFrameValue = undefined;</span><span class="s3">\n        </span><span class="s1">endAnimation &amp;&amp; this.stop();</span><span class="s3">\n        </span><span class="s1">if (this.stopPassiveEffect)</span><span class="s3">\n            </span><span class="s1">this.stopPassiveEffect();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">dirty() {</span><span class="s3">\n        </span><span class="s1">this.events.change?.notify(this.current);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">addDependent(dependent) {</span><span class="s3">\n        </span><span class="s1">if (!this.dependents) {</span><span class="s3">\n            </span><span class="s1">this.dependents = new Set();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.dependents.add(dependent);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">removeDependent(dependent) {</span><span class="s3">\n        </span><span class="s1">if (this.dependents) {</span><span class="s3">\n            </span><span class="s1">this.dependents.delete(dependent);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the latest state of `MotionValue`</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @returns - The latest state of `MotionValue`</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get() {</span><span class="s3">\n        </span><span class="s1">if (collectMotionValues.current) {</span><span class="s3">\n            </span><span class="s1">collectMotionValues.current.push(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this.current;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getPrevious() {</span><span class="s3">\n        </span><span class="s1">return this.prev;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the latest velocity of `MotionValue`</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getVelocity() {</span><span class="s3">\n        </span><span class="s1">const currentTime = time.now();</span><span class="s3">\n        </span><span class="s1">if (!this.canTrackVelocity ||</span><span class="s3">\n            </span><span class="s1">this.prevFrameValue === undefined ||</span><span class="s3">\n            </span><span class="s1">currentTime - this.updatedAt &gt; MAX_VELOCITY_DELTA) {</span><span class="s3">\n            </span><span class="s1">return 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const delta = Math.min(this.updatedAt - this.prevUpdatedAt, MAX_VELOCITY_DELTA);</span><span class="s3">\n        </span><span class="s1">// Casts because of parseFloat's poor typing</span><span class="s3">\n        </span><span class="s1">return velocityPerSecond(parseFloat(this.current) -</span><span class="s3">\n            </span><span class="s1">parseFloat(this.prevFrameValue), delta);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Registers a new animation to control this `MotionValue`. Only one</span><span class="s3">\n     </span><span class="s1">* animation can drive a `MotionValue` at one time.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* ```jsx</span><span class="s3">\n     </span><span class="s1">* value.start()</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param animation - A function that starts the provided animation</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">start(startAnimation) {</span><span class="s3">\n        </span><span class="s1">this.stop();</span><span class="s3">\n        </span><span class="s1">return new Promise((resolve) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.hasAnimated = true;</span><span class="s3">\n            </span><span class="s1">this.animation = startAnimation(resolve);</span><span class="s3">\n            </span><span class="s1">if (this.events.animationStart) {</span><span class="s3">\n                </span><span class="s1">this.events.animationStart.notify();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}).then(() =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.events.animationComplete) {</span><span class="s3">\n                </span><span class="s1">this.events.animationComplete.notify();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.clearAnimation();</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Stop the currently active animation.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">stop() {</span><span class="s3">\n        </span><span class="s1">if (this.animation) {</span><span class="s3">\n            </span><span class="s1">this.animation.stop();</span><span class="s3">\n            </span><span class="s1">if (this.events.animationCancel) {</span><span class="s3">\n                </span><span class="s1">this.events.animationCancel.notify();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.clearAnimation();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns `true` if this value is currently animating.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">isAnimating() {</span><span class="s3">\n        </span><span class="s1">return !!this.animation;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">clearAnimation() {</span><span class="s3">\n        </span><span class="s1">delete this.animation;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Destroy and clean up subscribers to this `MotionValue`.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically</span><span class="s3">\n     </span><span class="s1">* handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually</span><span class="s3">\n     </span><span class="s1">* created a `MotionValue` via the `motionValue` function.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">destroy() {</span><span class="s3">\n        </span><span class="s1">this.dependents?.clear();</span><span class="s3">\n        </span><span class="s1">this.events.destroy?.notify();</span><span class="s3">\n        </span><span class="s1">this.clearListeners();</span><span class="s3">\n        </span><span class="s1">this.stop();</span><span class="s3">\n        </span><span class="s1">if (this.stopPassiveEffect) {</span><span class="s3">\n            </span><span class="s1">this.stopPassiveEffect();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function motionValue(init, options) {</span><span class="s3">\n    </span><span class="s1">return new MotionValue(init, options);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { MotionValue, collectMotionValues, motionValue };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1953</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/utils/find.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { color } from '../color/index.mjs';</span><span class="s3">\n</span><span class="s1">import { complex } from '../complex/index.mjs';</span><span class="s3">\n</span><span class="s1">import { dimensionValueTypes } from '../dimensions.mjs';</span><span class="s3">\n</span><span class="s1">import { testValueType } from '../test.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A list of all ValueTypes</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const valueTypes = [...dimensionValueTypes, color, complex];</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Tests a value against the list of ValueTypes</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const findValueType = (v) =&gt; valueTypes.find(testValueType(v));</span><span class="s3">\n\n</span><span class="s1">export { findValueType };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA;;CAEC,GACD,MAAM,aAAa;OAAI,sMAAmB;IAAE,4LAAK;IAAE,gMAAO;CAAC;AAC3D;;CAEC,GACD,MAAM,gBAAgB,CAAC,IAAM,WAAW,IAAI,CAAC,IAAA,0LAAa,EAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1980</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/frameloop/microtask.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { createRenderBatcher } from './batcher.mjs';</span><span class="s3">\n\n</span><span class="s1">const { schedule: microtask, cancel: cancelMicrotask } = </span><span class="s3">\n</span><span class="s1">/* @__PURE__ */ createRenderBatcher(queueMicrotask, false);</span><span class="s3">\n\n</span><span class="s1">export { cancelMicrotask, microtask };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA;;AAEA,MAAM,EAAE,UAAU,SAAS,EAAE,QAAQ,eAAe,EAAE,GACtD,aAAa,GAAG,IAAA,8LAAmB,EAAC,gBAAgB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">1994</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/utils/get-as-type.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Provided a value and a ValueType, returns the value as that value type.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const getValueAsType = (value, type) =&gt; {</span><span class="s3">\n    </span><span class="s1">return type &amp;&amp; typeof value === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;\n        </span><span class="s1">? type.transform(value)</span><span class="s3">\n        </span><span class="s1">: value;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { getValueAsType };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA;;CAEC;;;;AACD,MAAM,iBAAiB,CAAC,OAAO;IAC3B,OAAO,QAAQ,OAAO,UAAU,WAC1B,KAAK,SAAS,CAAC,SACf;AACV&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2008</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/utils/get-value-transition.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;function getValueTransition(transition, key) {</span><span class="s3">\n    </span><span class="s1">return (transition?.[key] ??</span><span class="s3">\n        </span><span class="s1">transition?.[</span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">] ??</span><span class="s3">\n        </span><span class="s1">transition);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { getValueTransition };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,SAAS,mBAAmB,UAAU,EAAE,GAAG;QAC/B,iBAAA;IAAR,OAAQ,CAAA,OAAA,CAAA,kBAAA,uBAAA,iCAAA,UAAY,CAAC,IAAI,cAAjB,6BAAA,kBACJ,uBAAA,iCAAA,UAAY,CAAC,UAAU,cADnB,kBAAA,OAEJ;AACR&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2021</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/utils/make-animation-instant.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;function makeAnimationInstant(options) {</span><span class="s3">\n    </span><span class="s1">options.duration = 0;</span><span class="s3">\n    </span><span class="s1">options.type = </span><span class="s3">\&quot;</span><span class="s1">keyframes</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { makeAnimationInstant };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,SAAS,qBAAqB,OAAO;IACjC,QAAQ,QAAQ,GAAG;IACnB,QAAQ,IAAI,GAAG;AACnB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2034</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/stats/animation-count.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const activeAnimations = {</span><span class="s3">\n    </span><span class="s1">layout: 0,</span><span class="s3">\n    </span><span class="s1">mainThread: 0,</span><span class="s3">\n    </span><span class="s1">waapi: 0,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { activeAnimations };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,mBAAmB;IACrB,QAAQ;IACR,YAAY;IACZ,OAAO;AACX&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2048</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/value/types/color/hsla-to-rgba.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// Adapted from https://gist.github.com/mjackson/5311256</span><span class="s3">\n</span><span class="s1">function hueToRgb(p, q, t) {</span><span class="s3">\n    </span><span class="s1">if (t &lt; 0)</span><span class="s3">\n        </span><span class="s1">t += 1;</span><span class="s3">\n    </span><span class="s1">if (t &gt; 1)</span><span class="s3">\n        </span><span class="s1">t -= 1;</span><span class="s3">\n    </span><span class="s1">if (t &lt; 1 / 6)</span><span class="s3">\n        </span><span class="s1">return p + (q - p) * 6 * t;</span><span class="s3">\n    </span><span class="s1">if (t &lt; 1 / 2)</span><span class="s3">\n        </span><span class="s1">return q;</span><span class="s3">\n    </span><span class="s1">if (t &lt; 2 / 3)</span><span class="s3">\n        </span><span class="s1">return p + (q - p) * (2 / 3 - t) * 6;</span><span class="s3">\n    </span><span class="s1">return p;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function hslaToRgba({ hue, saturation, lightness, alpha }) {</span><span class="s3">\n    </span><span class="s1">hue /= 360;</span><span class="s3">\n    </span><span class="s1">saturation /= 100;</span><span class="s3">\n    </span><span class="s1">lightness /= 100;</span><span class="s3">\n    </span><span class="s1">let red = 0;</span><span class="s3">\n    </span><span class="s1">let green = 0;</span><span class="s3">\n    </span><span class="s1">let blue = 0;</span><span class="s3">\n    </span><span class="s1">if (!saturation) {</span><span class="s3">\n        </span><span class="s1">red = green = blue = lightness;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">const q = lightness &lt; 0.5</span><span class="s3">\n            </span><span class="s1">? lightness * (1 + saturation)</span><span class="s3">\n            </span><span class="s1">: lightness + saturation - lightness * saturation;</span><span class="s3">\n        </span><span class="s1">const p = 2 * lightness - q;</span><span class="s3">\n        </span><span class="s1">red = hueToRgb(p, q, hue + 1 / 3);</span><span class="s3">\n        </span><span class="s1">green = hueToRgb(p, q, hue);</span><span class="s3">\n        </span><span class="s1">blue = hueToRgb(p, q, hue - 1 / 3);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">red: Math.round(red * 255),</span><span class="s3">\n        </span><span class="s1">green: Math.round(green * 255),</span><span class="s3">\n        </span><span class="s1">blue: Math.round(blue * 255),</span><span class="s3">\n        </span><span class="s1">alpha,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { hslaToRgba };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA,wDAAwD;;;;;AACxD,SAAS,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC;IACrB,IAAI,IAAI,GACJ,KAAK;IACT,IAAI,IAAI,GACJ,KAAK;IACT,IAAI,IAAI,IAAI,GACR,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI;IAC7B,IAAI,IAAI,IAAI,GACR,OAAO;IACX,IAAI,IAAI,IAAI,GACR,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI;IACvC,OAAO;AACX;AACA,SAAS,WAAW,KAAqC;QAArC,EAAE,GAAG,EAAE,UAAU,EAAE,SAAS,EAAE,KAAK,EAAE,GAArC;IAChB,OAAO;IACP,cAAc;IACd,aAAa;IACb,IAAI,MAAM;IACV,IAAI,QAAQ;IACZ,IAAI,OAAO;IACX,IAAI,CAAC,YAAY;QACb,MAAM,QAAQ,OAAO;IACzB,OACK;QACD,MAAM,IAAI,YAAY,MAChB,YAAY,CAAC,IAAI,UAAU,IAC3B,YAAY,aAAa,YAAY;QAC3C,MAAM,IAAI,IAAI,YAAY;QAC1B,MAAM,SAAS,GAAG,GAAG,MAAM,IAAI;QAC/B,QAAQ,SAAS,GAAG,GAAG;QACvB,OAAO,SAAS,GAAG,GAAG,MAAM,IAAI;IACpC;IACA,OAAO;QACH,KAAK,KAAK,KAAK,CAAC,MAAM;QACtB,OAAO,KAAK,KAAK,CAAC,QAAQ;QAC1B,MAAM,KAAK,KAAK,CAAC,OAAO;QACxB;IACJ;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2090</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/mix/immediate.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;function mixImmediate(a, b) {</span><span class="s3">\n    </span><span class="s1">return (p) =&gt; (p &gt; 0 ? b : a);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { mixImmediate };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,SAAS,aAAa,CAAC,EAAE,CAAC;IACtB,OAAO,CAAC,IAAO,IAAI,IAAI,IAAI;AAC/B&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2102</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/mix/color.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { warning } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { hex } from '../../value/types/color/hex.mjs';</span><span class="s3">\n</span><span class="s1">import { hsla } from '../../value/types/color/hsla.mjs';</span><span class="s3">\n</span><span class="s1">import { hslaToRgba } from '../../value/types/color/hsla-to-rgba.mjs';</span><span class="s3">\n</span><span class="s1">import { rgba } from '../../value/types/color/rgba.mjs';</span><span class="s3">\n</span><span class="s1">import { mixImmediate } from './immediate.mjs';</span><span class="s3">\n</span><span class="s1">import { mixNumber } from './number.mjs';</span><span class="s3">\n\n</span><span class="s1">// Linear color space blending</span><span class="s3">\n</span><span class="s1">// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw</span><span class="s3">\n</span><span class="s1">// Demonstrated http://codepen.io/osublake/pen/xGVVaN</span><span class="s3">\n</span><span class="s1">const mixLinearColor = (from, to, v) =&gt; {</span><span class="s3">\n    </span><span class="s1">const fromExpo = from * from;</span><span class="s3">\n    </span><span class="s1">const expo = v * (to * to - fromExpo) + fromExpo;</span><span class="s3">\n    </span><span class="s1">return expo &lt; 0 ? 0 : Math.sqrt(expo);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const colorTypes = [hex, rgba, hsla];</span><span class="s3">\n</span><span class="s1">const getColorType = (v) =&gt; colorTypes.find((type) =&gt; type.test(v));</span><span class="s3">\n</span><span class="s1">function asRGBA(color) {</span><span class="s3">\n    </span><span class="s1">const type = getColorType(color);</span><span class="s3">\n    </span><span class="s1">warning(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`, </span><span class="s3">\&quot;</span><span class="s1">color-not-animatable</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (!Boolean(type))</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">let model = type.parse(color);</span><span class="s3">\n    </span><span class="s1">if (type === hsla) {</span><span class="s3">\n        </span><span class="s1">// TODO Remove this cast - needed since Motion's stricter typing</span><span class="s3">\n        </span><span class="s1">model = hslaToRgba(model);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return model;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const mixColor = (from, to) =&gt; {</span><span class="s3">\n    </span><span class="s1">const fromRGBA = asRGBA(from);</span><span class="s3">\n    </span><span class="s1">const toRGBA = asRGBA(to);</span><span class="s3">\n    </span><span class="s1">if (!fromRGBA || !toRGBA) {</span><span class="s3">\n        </span><span class="s1">return mixImmediate(from, to);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const blended = { ...fromRGBA };</span><span class="s3">\n    </span><span class="s1">return (v) =&gt; {</span><span class="s3">\n        </span><span class="s1">blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);</span><span class="s3">\n        </span><span class="s1">blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);</span><span class="s3">\n        </span><span class="s1">blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);</span><span class="s3">\n        </span><span class="s1">blended.alpha = mixNumber(fromRGBA.alpha, toRGBA.alpha, v);</span><span class="s3">\n        </span><span class="s1">return rgba.transform(blended);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { mixColor, mixLinearColor };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA,8BAA8B;AAC9B,wDAAwD;AACxD,qDAAqD;AACrD,MAAM,iBAAiB,CAAC,MAAM,IAAI;IAC9B,MAAM,WAAW,OAAO;IACxB,MAAM,OAAO,IAAI,CAAC,KAAK,KAAK,QAAQ,IAAI;IACxC,OAAO,OAAO,IAAI,IAAI,KAAK,IAAI,CAAC;AACpC;AACA,MAAM,aAAa;IAAC,wLAAG;IAAE,0LAAI;IAAE,0LAAI;CAAC;AACpC,MAAM,eAAe,CAAC,IAAM,WAAW,IAAI,CAAC,CAAC,OAAS,KAAK,IAAI,CAAC;AAChE,SAAS,OAAO,KAAK;IACjB,MAAM,OAAO,aAAa;IAC1B,IAAA,sKAAO,EAAC,QAAQ,OAAO,AAAC,IAAS,OAAN,OAAM,yEAAuE;IACxG,IAAI,CAAC,QAAQ,OACT,OAAO;IACX,IAAI,QAAQ,KAAK,KAAK,CAAC;IACvB,IAAI,SAAS,0LAAI,EAAE;QACf,gEAAgE;QAChE,QAAQ,IAAA,8MAAU,EAAC;IACvB;IACA,OAAO;AACX;AACA,MAAM,WAAW,CAAC,MAAM;IACpB,MAAM,WAAW,OAAO;IACxB,MAAM,SAAS,OAAO;IACtB,IAAI,CAAC,YAAY,CAAC,QAAQ;QACtB,OAAO,IAAA,4LAAY,EAAC,MAAM;IAC9B;IACA,MAAM,UAAU;QAAE,GAAG,QAAQ;IAAC;IAC9B,OAAO,CAAC;QACJ,QAAQ,GAAG,GAAG,eAAe,SAAS,GAAG,EAAE,OAAO,GAAG,EAAE;QACvD,QAAQ,KAAK,GAAG,eAAe,SAAS,KAAK,EAAE,OAAO,KAAK,EAAE;QAC7D,QAAQ,IAAI,GAAG,eAAe,SAAS,IAAI,EAAE,OAAO,IAAI,EAAE;QAC1D,QAAQ,KAAK,GAAG,IAAA,sLAAS,EAAC,SAAS,KAAK,EAAE,OAAO,KAAK,EAAE;QACxD,OAAO,0LAAI,CAAC,SAAS,CAAC;IAC1B;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2169</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/mix/visibility.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const invisibleValues = new Set([</span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Returns a function that, when provided a progress value between 0 and 1,</span><span class="s3">\n </span><span class="s1">* will return the </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot; </span><span class="s1">string only when the progress is that of</span><span class="s3">\n </span><span class="s1">* the origin or target.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function mixVisibility(origin, target) {</span><span class="s3">\n    </span><span class="s1">if (invisibleValues.has(origin)) {</span><span class="s3">\n        </span><span class="s1">return (p) =&gt; (p &lt;= 0 ? origin : target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">return (p) =&gt; (p &gt;= 1 ? target : origin);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { invisibleValues, mixVisibility };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA,MAAM,kBAAkB,IAAI,IAAI;IAAC;IAAQ;CAAS;AAClD;;;;CAIC,GACD,SAAS,cAAc,MAAM,EAAE,MAAM;IACjC,IAAI,gBAAgB,GAAG,CAAC,SAAS;QAC7B,OAAO,CAAC,IAAO,KAAK,IAAI,SAAS;IACrC,OACK;QACD,OAAO,CAAC,IAAO,KAAK,IAAI,SAAS;IACrC;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2195</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/mix/complex.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { pipe, warning } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { isCSSVariableToken } from '../../animation/utils/is-css-variable.mjs';</span><span class="s3">\n</span><span class="s1">import { color } from '../../value/types/color/index.mjs';</span><span class="s3">\n</span><span class="s1">import { complex, analyseComplexValue } from '../../value/types/complex/index.mjs';</span><span class="s3">\n</span><span class="s1">import { mixColor } from './color.mjs';</span><span class="s3">\n</span><span class="s1">import { mixImmediate } from './immediate.mjs';</span><span class="s3">\n</span><span class="s1">import { mixNumber as mixNumber$1 } from './number.mjs';</span><span class="s3">\n</span><span class="s1">import { invisibleValues, mixVisibility } from './visibility.mjs';</span><span class="s3">\n\n</span><span class="s1">function mixNumber(a, b) {</span><span class="s3">\n    </span><span class="s1">return (p) =&gt; mixNumber$1(a, b, p);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function getMixer(a) {</span><span class="s3">\n    </span><span class="s1">if (typeof a === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return mixNumber;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (typeof a === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return isCSSVariableToken(a)</span><span class="s3">\n            </span><span class="s1">? mixImmediate</span><span class="s3">\n            </span><span class="s1">: color.test(a)</span><span class="s3">\n                </span><span class="s1">? mixColor</span><span class="s3">\n                </span><span class="s1">: mixComplex;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (Array.isArray(a)) {</span><span class="s3">\n        </span><span class="s1">return mixArray;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (typeof a === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return color.test(a) ? mixColor : mixObject;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return mixImmediate;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function mixArray(a, b) {</span><span class="s3">\n    </span><span class="s1">const output = [...a];</span><span class="s3">\n    </span><span class="s1">const numValues = output.length;</span><span class="s3">\n    </span><span class="s1">const blendValue = a.map((v, i) =&gt; getMixer(v)(v, b[i]));</span><span class="s3">\n    </span><span class="s1">return (p) =&gt; {</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; numValues; i++) {</span><span class="s3">\n            </span><span class="s1">output[i] = blendValue[i](p);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return output;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function mixObject(a, b) {</span><span class="s3">\n    </span><span class="s1">const output = { ...a, ...b };</span><span class="s3">\n    </span><span class="s1">const blendValue = {};</span><span class="s3">\n    </span><span class="s1">for (const key in output) {</span><span class="s3">\n        </span><span class="s1">if (a[key] !== undefined &amp;&amp; b[key] !== undefined) {</span><span class="s3">\n            </span><span class="s1">blendValue[key] = getMixer(a[key])(a[key], b[key]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return (v) =&gt; {</span><span class="s3">\n        </span><span class="s1">for (const key in blendValue) {</span><span class="s3">\n            </span><span class="s1">output[key] = blendValue[key](v);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return output;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function matchOrder(origin, target) {</span><span class="s3">\n    </span><span class="s1">const orderedOrigin = [];</span><span class="s3">\n    </span><span class="s1">const pointers = { color: 0, var: 0, number: 0 };</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; target.values.length; i++) {</span><span class="s3">\n        </span><span class="s1">const type = target.types[i];</span><span class="s3">\n        </span><span class="s1">const originIndex = origin.indexes[type][pointers[type]];</span><span class="s3">\n        </span><span class="s1">const originValue = origin.values[originIndex] ?? 0;</span><span class="s3">\n        </span><span class="s1">orderedOrigin[i] = originValue;</span><span class="s3">\n        </span><span class="s1">pointers[type]++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return orderedOrigin;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const mixComplex = (origin, target) =&gt; {</span><span class="s3">\n    </span><span class="s1">const template = complex.createTransformer(target);</span><span class="s3">\n    </span><span class="s1">const originStats = analyseComplexValue(origin);</span><span class="s3">\n    </span><span class="s1">const targetStats = analyseComplexValue(target);</span><span class="s3">\n    </span><span class="s1">const canInterpolate = originStats.indexes.var.length === targetStats.indexes.var.length &amp;&amp;</span><span class="s3">\n        </span><span class="s1">originStats.indexes.color.length === targetStats.indexes.color.length &amp;&amp;</span><span class="s3">\n        </span><span class="s1">originStats.indexes.number.length &gt;= targetStats.indexes.number.length;</span><span class="s3">\n    </span><span class="s1">if (canInterpolate) {</span><span class="s3">\n        </span><span class="s1">if ((invisibleValues.has(origin) &amp;&amp;</span><span class="s3">\n            </span><span class="s1">!targetStats.values.length) ||</span><span class="s3">\n            </span><span class="s1">(invisibleValues.has(target) &amp;&amp;</span><span class="s3">\n                </span><span class="s1">!originStats.values.length)) {</span><span class="s3">\n            </span><span class="s1">return mixVisibility(origin, target);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return pipe(mixArray(matchOrder(originStats, targetStats), targetStats.values), template);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`, </span><span class="s3">\&quot;</span><span class="s1">complex-values-different</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return mixImmediate(origin, target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { getMixer, mixArray, mixComplex, mixObject };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2305</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/mix/index.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { getMixer } from './complex.mjs';</span><span class="s3">\n</span><span class="s1">import { mixNumber } from './number.mjs';</span><span class="s3">\n\n</span><span class="s1">function mix(from, to, p) {</span><span class="s3">\n    </span><span class="s1">if (typeof from === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n        </span><span class="s1">typeof to === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n        </span><span class="s1">typeof p === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return mixNumber(from, to, p);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const mixer = getMixer(from);</span><span class="s3">\n    </span><span class="s1">return mixer(from, to);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { mix };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA,SAAS,IAAI,IAAI,EAAE,EAAE,EAAE,CAAC;IACpB,IAAI,OAAO,SAAS,YAChB,OAAO,OAAO,YACd,OAAO,MAAM,UAAU;QACvB,OAAO,IAAA,sLAAS,EAAC,MAAM,IAAI;IAC/B;IACA,MAAM,QAAQ,IAAA,sLAAQ,EAAC;IACvB,OAAO,MAAM,MAAM;AACvB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2325</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/drivers/frame.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { time } from '../../frameloop/sync-time.mjs';</span><span class="s3">\n</span><span class="s1">import { frame, cancelFrame, frameData } from '../../frameloop/frame.mjs';</span><span class="s3">\n\n</span><span class="s1">const frameloopDriver = (update) =&gt; {</span><span class="s3">\n    </span><span class="s1">const passTimestamp = ({ timestamp }) =&gt; update(timestamp);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">start: (keepAlive = true) =&gt; frame.update(passTimestamp, keepAlive),</span><span class="s3">\n        </span><span class="s1">stop: () =&gt; cancelFrame(passTimestamp),</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* If we're processing this frame we can use the</span><span class="s3">\n         </span><span class="s1">* framelocked timestamp to keep things in sync.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">now: () =&gt; (frameData.isProcessing ? frameData.timestamp : time.now()),</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { frameloopDriver };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA,MAAM,kBAAkB,CAAC;IACrB,MAAM,gBAAgB;YAAC,EAAE,SAAS,EAAE;eAAK,OAAO;;IAChD,OAAO;QACH,OAAO;gBAAC,6EAAY;mBAAS,8KAAK,CAAC,MAAM,CAAC,eAAe;;QACzD,MAAM,IAAM,IAAA,oLAAW,EAAC;QACxB;;;SAGC,GACD,KAAK,IAAO,kLAAS,CAAC,YAAY,GAAG,kLAAS,CAAC,SAAS,GAAG,oLAAI,CAAC,GAAG;IACvE;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2355</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/waapi/utils/linear.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const generateLinearEasing = (easing, duration, // as milliseconds</span><span class="s3">\n</span><span class="s1">resolution = 10 // as milliseconds</span><span class="s3">\n</span><span class="s1">) =&gt; {</span><span class="s3">\n    </span><span class="s1">let points = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">const numPoints = Math.max(Math.round(duration / resolution), 2);</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; numPoints; i++) {</span><span class="s3">\n        </span><span class="s1">points += Math.round(easing(i / (numPoints - 1)) * 10000) / 10000 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return `linear(${points.substring(0, points.length - 2)})`;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { generateLinearEasing };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,uBAAuB,SAAC,QAAQ;QACtC,8EAAa,GAAG,kBAAkB;;IAE9B,IAAI,SAAS;IACb,MAAM,YAAY,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,WAAW,aAAa;IAC9D,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,IAAK;QAChC,UAAU,KAAK,KAAK,CAAC,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,SAAS,QAAQ;IACxE;IACA,OAAO,AAAC,UAAgD,OAAvC,OAAO,SAAS,CAAC,GAAG,OAAO,MAAM,GAAG,IAAG;AAC5D&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2374</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/generators/utils/calc-duration.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Implement a practical max duration for keyframe generation</span><span class="s3">\n </span><span class="s1">* to prevent infinite loops</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const maxGeneratorDuration = 20000;</span><span class="s3">\n</span><span class="s1">function calcGeneratorDuration(generator) {</span><span class="s3">\n    </span><span class="s1">let duration = 0;</span><span class="s3">\n    </span><span class="s1">const timeStep = 50;</span><span class="s3">\n    </span><span class="s1">let state = generator.next(duration);</span><span class="s3">\n    </span><span class="s1">while (!state.done &amp;&amp; duration &lt; maxGeneratorDuration) {</span><span class="s3">\n        </span><span class="s1">duration += timeStep;</span><span class="s3">\n        </span><span class="s1">state = generator.next(duration);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return duration &gt;= maxGeneratorDuration ? Infinity : duration;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { calcGeneratorDuration, maxGeneratorDuration };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA;;;CAGC;;;;;;AACD,MAAM,uBAAuB;AAC7B,SAAS,sBAAsB,SAAS;IACpC,IAAI,WAAW;IACf,MAAM,WAAW;IACjB,IAAI,QAAQ,UAAU,IAAI,CAAC;IAC3B,MAAO,CAAC,MAAM,IAAI,IAAI,WAAW,qBAAsB;QACnD,YAAY;QACZ,QAAQ,UAAU,IAAI,CAAC;IAC3B;IACA,OAAO,YAAY,uBAAuB,WAAW;AACzD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2399</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/generators/utils/create-generator-easing.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { millisecondsToSeconds } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { calcGeneratorDuration, maxGeneratorDuration } from './calc-duration.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create a progress =&gt; progress easing function from a generator.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function createGeneratorEasing(options, scale = 100, createGenerator) {</span><span class="s3">\n    </span><span class="s1">const generator = createGenerator({ ...options, keyframes: [0, scale] });</span><span class="s3">\n    </span><span class="s1">const duration = Math.min(calcGeneratorDuration(generator), maxGeneratorDuration);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">keyframes</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">ease: (progress) =&gt; {</span><span class="s3">\n            </span><span class="s1">return generator.next(duration * progress).value / scale;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">duration: millisecondsToSeconds(duration),</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { createGeneratorEasing };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA;;CAEC,GACD,SAAS,sBAAsB,OAAO;QAAE,QAAA,iEAAQ,KAAK;IACjD,MAAM,YAAY,gBAAgB;QAAE,GAAG,OAAO;QAAE,WAAW;YAAC;YAAG;SAAM;IAAC;IACtE,MAAM,WAAW,KAAK,GAAG,CAAC,IAAA,gOAAqB,EAAC,YAAY,+NAAoB;IAChF,OAAO;QACH,MAAM;QACN,MAAM,CAAC;YACH,OAAO,UAAU,IAAI,CAAC,WAAW,UAAU,KAAK,GAAG;QACvD;QACA,UAAU,IAAA,gMAAqB,EAAC;IACpC;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2432</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/generators/utils/velocity.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { velocityPerSecond } from 'motion-utils';</span><span class="s3">\n\n</span><span class="s1">const velocitySampleDuration = 5; // ms</span><span class="s3">\n</span><span class="s1">function calcGeneratorVelocity(resolveValue, t, current) {</span><span class="s3">\n    </span><span class="s1">const prevT = Math.max(t - velocitySampleDuration, 0);</span><span class="s3">\n    </span><span class="s1">return velocityPerSecond(current - resolveValue(prevT), t - prevT);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { calcGeneratorVelocity };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,MAAM,yBAAyB,GAAG,KAAK;AACvC,SAAS,sBAAsB,YAAY,EAAE,CAAC,EAAE,OAAO;IACnD,MAAM,QAAQ,KAAK,GAAG,CAAC,IAAI,wBAAwB;IACnD,OAAO,IAAA,mMAAiB,EAAC,UAAU,aAAa,QAAQ,IAAI;AAChE&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2448</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/generators/spring/defaults.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const springDefaults = {</span><span class="s3">\n    </span><span class="s1">// Default spring physics</span><span class="s3">\n    </span><span class="s1">stiffness: 100,</span><span class="s3">\n    </span><span class="s1">damping: 10,</span><span class="s3">\n    </span><span class="s1">mass: 1.0,</span><span class="s3">\n    </span><span class="s1">velocity: 0.0,</span><span class="s3">\n    </span><span class="s1">// Default duration/bounce-based options</span><span class="s3">\n    </span><span class="s1">duration: 800, // in ms</span><span class="s3">\n    </span><span class="s1">bounce: 0.3,</span><span class="s3">\n    </span><span class="s1">visualDuration: 0.3, // in seconds</span><span class="s3">\n    </span><span class="s1">// Rest thresholds</span><span class="s3">\n    </span><span class="s1">restSpeed: {</span><span class="s3">\n        </span><span class="s1">granular: 0.01,</span><span class="s3">\n        </span><span class="s1">default: 2,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">restDelta: {</span><span class="s3">\n        </span><span class="s1">granular: 0.005,</span><span class="s3">\n        </span><span class="s1">default: 0.5,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">// Limits</span><span class="s3">\n    </span><span class="s1">minDuration: 0.01, // in seconds</span><span class="s3">\n    </span><span class="s1">maxDuration: 10.0, // in seconds</span><span class="s3">\n    </span><span class="s1">minDamping: 0.05,</span><span class="s3">\n    </span><span class="s1">maxDamping: 1,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { springDefaults };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,iBAAiB;IACnB,yBAAyB;IACzB,WAAW;IACX,SAAS;IACT,MAAM;IACN,UAAU;IACV,wCAAwC;IACxC,UAAU;IACV,QAAQ;IACR,gBAAgB;IAChB,kBAAkB;IAClB,WAAW;QACP,UAAU;QACV,SAAS;IACb;IACA,WAAW;QACP,UAAU;QACV,SAAS;IACb;IACA,SAAS;IACT,aAAa;IACb,aAAa;IACb,YAAY;IACZ,YAAY;AAChB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2482</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/generators/spring/find.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { warning, secondsToMilliseconds, clamp, millisecondsToSeconds } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { springDefaults } from './defaults.mjs';</span><span class="s3">\n\n</span><span class="s1">const safeMin = 0.001;</span><span class="s3">\n</span><span class="s1">function findSpring({ duration = springDefaults.duration, bounce = springDefaults.bounce, velocity = springDefaults.velocity, mass = springDefaults.mass, }) {</span><span class="s3">\n    </span><span class="s1">let envelope;</span><span class="s3">\n    </span><span class="s1">let derivative;</span><span class="s3">\n    </span><span class="s1">warning(duration &lt;= secondsToMilliseconds(springDefaults.maxDuration), </span><span class="s3">\&quot;</span><span class="s1">Spring duration must be 10 seconds or less</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">spring-duration-limit</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">let dampingRatio = 1 - bounce;</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Restrict dampingRatio and duration to within acceptable ranges.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">dampingRatio = clamp(springDefaults.minDamping, springDefaults.maxDamping, dampingRatio);</span><span class="s3">\n    </span><span class="s1">duration = clamp(springDefaults.minDuration, springDefaults.maxDuration, millisecondsToSeconds(duration));</span><span class="s3">\n    </span><span class="s1">if (dampingRatio &lt; 1) {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Underdamped spring</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">envelope = (undampedFreq) =&gt; {</span><span class="s3">\n            </span><span class="s1">const exponentialDecay = undampedFreq * dampingRatio;</span><span class="s3">\n            </span><span class="s1">const delta = exponentialDecay * duration;</span><span class="s3">\n            </span><span class="s1">const a = exponentialDecay - velocity;</span><span class="s3">\n            </span><span class="s1">const b = calcAngularFreq(undampedFreq, dampingRatio);</span><span class="s3">\n            </span><span class="s1">const c = Math.exp(-delta);</span><span class="s3">\n            </span><span class="s1">return safeMin - (a / b) * c;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">derivative = (undampedFreq) =&gt; {</span><span class="s3">\n            </span><span class="s1">const exponentialDecay = undampedFreq * dampingRatio;</span><span class="s3">\n            </span><span class="s1">const delta = exponentialDecay * duration;</span><span class="s3">\n            </span><span class="s1">const d = delta * velocity + velocity;</span><span class="s3">\n            </span><span class="s1">const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;</span><span class="s3">\n            </span><span class="s1">const f = Math.exp(-delta);</span><span class="s3">\n            </span><span class="s1">const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);</span><span class="s3">\n            </span><span class="s1">const factor = -envelope(undampedFreq) + safeMin &gt; 0 ? -1 : 1;</span><span class="s3">\n            </span><span class="s1">return (factor * ((d - e) * f)) / g;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Critically-damped spring</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">envelope = (undampedFreq) =&gt; {</span><span class="s3">\n            </span><span class="s1">const a = Math.exp(-undampedFreq * duration);</span><span class="s3">\n            </span><span class="s1">const b = (undampedFreq - velocity) * duration + 1;</span><span class="s3">\n            </span><span class="s1">return -safeMin + a * b;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">derivative = (undampedFreq) =&gt; {</span><span class="s3">\n            </span><span class="s1">const a = Math.exp(-undampedFreq * duration);</span><span class="s3">\n            </span><span class="s1">const b = (velocity - undampedFreq) * (duration * duration);</span><span class="s3">\n            </span><span class="s1">return a * b;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const initialGuess = 5 / duration;</span><span class="s3">\n    </span><span class="s1">const undampedFreq = approximateRoot(envelope, derivative, initialGuess);</span><span class="s3">\n    </span><span class="s1">duration = secondsToMilliseconds(duration);</span><span class="s3">\n    </span><span class="s1">if (isNaN(undampedFreq)) {</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n            </span><span class="s1">stiffness: springDefaults.stiffness,</span><span class="s3">\n            </span><span class="s1">damping: springDefaults.damping,</span><span class="s3">\n            </span><span class="s1">duration,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">const stiffness = Math.pow(undampedFreq, 2) * mass;</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n            </span><span class="s1">stiffness,</span><span class="s3">\n            </span><span class="s1">damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),</span><span class="s3">\n            </span><span class="s1">duration,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const rootIterations = 12;</span><span class="s3">\n</span><span class="s1">function approximateRoot(envelope, derivative, initialGuess) {</span><span class="s3">\n    </span><span class="s1">let result = initialGuess;</span><span class="s3">\n    </span><span class="s1">for (let i = 1; i &lt; rootIterations; i++) {</span><span class="s3">\n        </span><span class="s1">result = result - envelope(result) / derivative(result);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function calcAngularFreq(undampedFreq, dampingRatio) {</span><span class="s3">\n    </span><span class="s1">return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { calcAngularFreq, findSpring };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA;AAAA;AAAA;AACA;;;AAEA,MAAM,UAAU;AAChB,SAAS,WAAW,KAAuI;QAAvI,EAAE,WAAW,kNAAc,CAAC,QAAQ,EAAE,SAAS,kNAAc,CAAC,MAAM,EAAE,WAAW,kNAAc,CAAC,QAAQ,EAAE,OAAO,kNAAc,CAAC,IAAI,EAAG,GAAvI;IAChB,IAAI;IACJ,IAAI;IACJ,IAAA,sKAAO,EAAC,YAAY,IAAA,gMAAqB,EAAC,kNAAc,CAAC,WAAW,GAAG,8CAA8C;IACrH,IAAI,eAAe,IAAI;IACvB;;KAEC,GACD,eAAe,IAAA,mKAAK,EAAC,kNAAc,CAAC,UAAU,EAAE,kNAAc,CAAC,UAAU,EAAE;IAC3E,WAAW,IAAA,mKAAK,EAAC,kNAAc,CAAC,WAAW,EAAE,kNAAc,CAAC,WAAW,EAAE,IAAA,gMAAqB,EAAC;IAC/F,IAAI,eAAe,GAAG;QAClB;;SAEC,GACD,WAAW,CAAC;YACR,MAAM,mBAAmB,eAAe;YACxC,MAAM,QAAQ,mBAAmB;YACjC,MAAM,IAAI,mBAAmB;YAC7B,MAAM,IAAI,gBAAgB,cAAc;YACxC,MAAM,IAAI,KAAK,GAAG,CAAC,CAAC;YACpB,OAAO,UAAU,AAAC,IAAI,IAAK;QAC/B;QACA,aAAa,CAAC;YACV,MAAM,mBAAmB,eAAe;YACxC,MAAM,QAAQ,mBAAmB;YACjC,MAAM,IAAI,QAAQ,WAAW;YAC7B,MAAM,IAAI,KAAK,GAAG,CAAC,cAAc,KAAK,KAAK,GAAG,CAAC,cAAc,KAAK;YAClE,MAAM,IAAI,KAAK,GAAG,CAAC,CAAC;YACpB,MAAM,IAAI,gBAAgB,KAAK,GAAG,CAAC,cAAc,IAAI;YACrD,MAAM,SAAS,CAAC,SAAS,gBAAgB,UAAU,IAAI,CAAC,IAAI;YAC5D,OAAO,AAAC,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAK;QACtC;IACJ,OACK;QACD;;SAEC,GACD,WAAW,CAAC;YACR,MAAM,IAAI,KAAK,GAAG,CAAC,CAAC,eAAe;YACnC,MAAM,IAAI,CAAC,eAAe,QAAQ,IAAI,WAAW;YACjD,OAAO,CAAC,UAAU,IAAI;QAC1B;QACA,aAAa,CAAC;YACV,MAAM,IAAI,KAAK,GAAG,CAAC,CAAC,eAAe;YACnC,MAAM,IAAI,CAAC,WAAW,YAAY,IAAI,CAAC,WAAW,QAAQ;YAC1D,OAAO,IAAI;QACf;IACJ;IACA,MAAM,eAAe,IAAI;IACzB,MAAM,eAAe,gBAAgB,UAAU,YAAY;IAC3D,WAAW,IAAA,gMAAqB,EAAC;IACjC,IAAI,MAAM,eAAe;QACrB,OAAO;YACH,WAAW,kNAAc,CAAC,SAAS;YACnC,SAAS,kNAAc,CAAC,OAAO;YAC/B;QACJ;IACJ,OACK;QACD,MAAM,YAAY,KAAK,GAAG,CAAC,cAAc,KAAK;QAC9C,OAAO;YACH;YACA,SAAS,eAAe,IAAI,KAAK,IAAI,CAAC,OAAO;YAC7C;QACJ;IACJ;AACJ;AACA,MAAM,iBAAiB;AACvB,SAAS,gBAAgB,QAAQ,EAAE,UAAU,EAAE,YAAY;IACvD,IAAI,SAAS;IACb,IAAK,IAAI,IAAI,GAAG,IAAI,gBAAgB,IAAK;QACrC,SAAS,SAAS,SAAS,UAAU,WAAW;IACpD;IACA,OAAO;AACX;AACA,SAAS,gBAAgB,YAAY,EAAE,YAAY;IAC/C,OAAO,eAAe,KAAK,IAAI,CAAC,IAAI,eAAe;AACvD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2574</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/generators/spring/index.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { millisecondsToSeconds, secondsToMilliseconds, clamp } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { generateLinearEasing } from '../../waapi/utils/linear.mjs';</span><span class="s3">\n</span><span class="s1">import { calcGeneratorDuration, maxGeneratorDuration } from '../utils/calc-duration.mjs';</span><span class="s3">\n</span><span class="s1">import { createGeneratorEasing } from '../utils/create-generator-easing.mjs';</span><span class="s3">\n</span><span class="s1">import { calcGeneratorVelocity } from '../utils/velocity.mjs';</span><span class="s3">\n</span><span class="s1">import { springDefaults } from './defaults.mjs';</span><span class="s3">\n</span><span class="s1">import { findSpring, calcAngularFreq } from './find.mjs';</span><span class="s3">\n\n</span><span class="s1">const durationKeys = [</span><span class="s3">\&quot;</span><span class="s1">duration</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">bounce</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">const physicsKeys = [</span><span class="s3">\&quot;</span><span class="s1">stiffness</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">damping</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mass</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">function isSpringType(options, keys) {</span><span class="s3">\n    </span><span class="s1">return keys.some((key) =&gt; options[key] !== undefined);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function getSpringOptions(options) {</span><span class="s3">\n    </span><span class="s1">let springOptions = {</span><span class="s3">\n        </span><span class="s1">velocity: springDefaults.velocity,</span><span class="s3">\n        </span><span class="s1">stiffness: springDefaults.stiffness,</span><span class="s3">\n        </span><span class="s1">damping: springDefaults.damping,</span><span class="s3">\n        </span><span class="s1">mass: springDefaults.mass,</span><span class="s3">\n        </span><span class="s1">isResolvedFromDuration: false,</span><span class="s3">\n        </span><span class="s1">...options,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">// stiffness/damping/mass overrides duration/bounce</span><span class="s3">\n    </span><span class="s1">if (!isSpringType(options, physicsKeys) &amp;&amp;</span><span class="s3">\n        </span><span class="s1">isSpringType(options, durationKeys)) {</span><span class="s3">\n        </span><span class="s1">if (options.visualDuration) {</span><span class="s3">\n            </span><span class="s1">const visualDuration = options.visualDuration;</span><span class="s3">\n            </span><span class="s1">const root = (2 * Math.PI) / (visualDuration * 1.2);</span><span class="s3">\n            </span><span class="s1">const stiffness = root * root;</span><span class="s3">\n            </span><span class="s1">const damping = 2 *</span><span class="s3">\n                </span><span class="s1">clamp(0.05, 1, 1 - (options.bounce || 0)) *</span><span class="s3">\n                </span><span class="s1">Math.sqrt(stiffness);</span><span class="s3">\n            </span><span class="s1">springOptions = {</span><span class="s3">\n                </span><span class="s1">...springOptions,</span><span class="s3">\n                </span><span class="s1">mass: springDefaults.mass,</span><span class="s3">\n                </span><span class="s1">stiffness,</span><span class="s3">\n                </span><span class="s1">damping,</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">const derived = findSpring(options);</span><span class="s3">\n            </span><span class="s1">springOptions = {</span><span class="s3">\n                </span><span class="s1">...springOptions,</span><span class="s3">\n                </span><span class="s1">...derived,</span><span class="s3">\n                </span><span class="s1">mass: springDefaults.mass,</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">springOptions.isResolvedFromDuration = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return springOptions;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function spring(optionsOrVisualDuration = springDefaults.visualDuration, bounce = springDefaults.bounce) {</span><span class="s3">\n    </span><span class="s1">const options = typeof optionsOrVisualDuration !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;\n        </span><span class="s1">? {</span><span class="s3">\n            </span><span class="s1">visualDuration: optionsOrVisualDuration,</span><span class="s3">\n            </span><span class="s1">keyframes: [0, 1],</span><span class="s3">\n            </span><span class="s1">bounce,</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">: optionsOrVisualDuration;</span><span class="s3">\n    </span><span class="s1">let { restSpeed, restDelta } = options;</span><span class="s3">\n    </span><span class="s1">const origin = options.keyframes[0];</span><span class="s3">\n    </span><span class="s1">const target = options.keyframes[options.keyframes.length - 1];</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* This is the Iterator-spec return value. We ensure it's mutable rather than using a generator</span><span class="s3">\n     </span><span class="s1">* to reduce GC during animation.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">const state = { done: false, value: origin };</span><span class="s3">\n    </span><span class="s1">const { stiffness, damping, mass, duration, velocity, isResolvedFromDuration, } = getSpringOptions({</span><span class="s3">\n        </span><span class="s1">...options,</span><span class="s3">\n        </span><span class="s1">velocity: -millisecondsToSeconds(options.velocity || 0),</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">const initialVelocity = velocity || 0.0;</span><span class="s3">\n    </span><span class="s1">const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));</span><span class="s3">\n    </span><span class="s1">const initialDelta = target - origin;</span><span class="s3">\n    </span><span class="s1">const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* If we're working on a granular scale, use smaller defaults for determining</span><span class="s3">\n     </span><span class="s1">* when the spring is finished.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* These defaults have been selected emprically based on what strikes a good</span><span class="s3">\n     </span><span class="s1">* ratio between feeling good and finishing as soon as changes are imperceptible.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">const isGranularScale = Math.abs(initialDelta) &lt; 5;</span><span class="s3">\n    </span><span class="s1">restSpeed || (restSpeed = isGranularScale</span><span class="s3">\n        </span><span class="s1">? springDefaults.restSpeed.granular</span><span class="s3">\n        </span><span class="s1">: springDefaults.restSpeed.default);</span><span class="s3">\n    </span><span class="s1">restDelta || (restDelta = isGranularScale</span><span class="s3">\n        </span><span class="s1">? springDefaults.restDelta.granular</span><span class="s3">\n        </span><span class="s1">: springDefaults.restDelta.default);</span><span class="s3">\n    </span><span class="s1">let resolveSpring;</span><span class="s3">\n    </span><span class="s1">if (dampingRatio &lt; 1) {</span><span class="s3">\n        </span><span class="s1">const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);</span><span class="s3">\n        </span><span class="s1">// Underdamped spring</span><span class="s3">\n        </span><span class="s1">resolveSpring = (t) =&gt; {</span><span class="s3">\n            </span><span class="s1">const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);</span><span class="s3">\n            </span><span class="s1">return (target -</span><span class="s3">\n                </span><span class="s1">envelope *</span><span class="s3">\n                    </span><span class="s1">(((initialVelocity +</span><span class="s3">\n                        </span><span class="s1">dampingRatio * undampedAngularFreq * initialDelta) /</span><span class="s3">\n                        </span><span class="s1">angularFreq) *</span><span class="s3">\n                        </span><span class="s1">Math.sin(angularFreq * t) +</span><span class="s3">\n                        </span><span class="s1">initialDelta * Math.cos(angularFreq * t)));</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (dampingRatio === 1) {</span><span class="s3">\n        </span><span class="s1">// Critically damped spring</span><span class="s3">\n        </span><span class="s1">resolveSpring = (t) =&gt; target -</span><span class="s3">\n            </span><span class="s1">Math.exp(-undampedAngularFreq * t) *</span><span class="s3">\n                </span><span class="s1">(initialDelta +</span><span class="s3">\n                    </span><span class="s1">(initialVelocity + undampedAngularFreq * initialDelta) * t);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">// Overdamped spring</span><span class="s3">\n        </span><span class="s1">const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);</span><span class="s3">\n        </span><span class="s1">resolveSpring = (t) =&gt; {</span><span class="s3">\n            </span><span class="s1">const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);</span><span class="s3">\n            </span><span class="s1">// When performing sinh or cosh values can hit Infinity so we cap them here</span><span class="s3">\n            </span><span class="s1">const freqForT = Math.min(dampedAngularFreq * t, 300);</span><span class="s3">\n            </span><span class="s1">return (target -</span><span class="s3">\n                </span><span class="s1">(envelope *</span><span class="s3">\n                    </span><span class="s1">((initialVelocity +</span><span class="s3">\n                        </span><span class="s1">dampingRatio * undampedAngularFreq * initialDelta) *</span><span class="s3">\n                        </span><span class="s1">Math.sinh(freqForT) +</span><span class="s3">\n                        </span><span class="s1">dampedAngularFreq *</span><span class="s3">\n                            </span><span class="s1">initialDelta *</span><span class="s3">\n                            </span><span class="s1">Math.cosh(freqForT))) /</span><span class="s3">\n                    </span><span class="s1">dampedAngularFreq);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const generator = {</span><span class="s3">\n        </span><span class="s1">calculatedDuration: isResolvedFromDuration ? duration || null : null,</span><span class="s3">\n        </span><span class="s1">next: (t) =&gt; {</span><span class="s3">\n            </span><span class="s1">const current = resolveSpring(t);</span><span class="s3">\n            </span><span class="s1">if (!isResolvedFromDuration) {</span><span class="s3">\n                </span><span class="s1">let currentVelocity = t === 0 ? initialVelocity : 0.0;</span><span class="s3">\n                </span><span class="s1">/**</span><span class="s3">\n                 </span><span class="s1">* We only need to calculate velocity for under-damped springs</span><span class="s3">\n                 </span><span class="s1">* as over- and critically-damped springs can't overshoot, so</span><span class="s3">\n                 </span><span class="s1">* checking only for displacement is enough.</span><span class="s3">\n                 </span><span class="s1">*/</span><span class="s3">\n                </span><span class="s1">if (dampingRatio &lt; 1) {</span><span class="s3">\n                    </span><span class="s1">currentVelocity =</span><span class="s3">\n                        </span><span class="s1">t === 0</span><span class="s3">\n                            </span><span class="s1">? secondsToMilliseconds(initialVelocity)</span><span class="s3">\n                            </span><span class="s1">: calcGeneratorVelocity(resolveSpring, t, current);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">const isBelowVelocityThreshold = Math.abs(currentVelocity) &lt;= restSpeed;</span><span class="s3">\n                </span><span class="s1">const isBelowDisplacementThreshold = Math.abs(target - current) &lt;= restDelta;</span><span class="s3">\n                </span><span class="s1">state.done =</span><span class="s3">\n                    </span><span class="s1">isBelowVelocityThreshold &amp;&amp; isBelowDisplacementThreshold;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">state.done = t &gt;= duration;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">state.value = state.done ? target : current;</span><span class="s3">\n            </span><span class="s1">return state;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">toString: () =&gt; {</span><span class="s3">\n            </span><span class="s1">const calculatedDuration = Math.min(calcGeneratorDuration(generator), maxGeneratorDuration);</span><span class="s3">\n            </span><span class="s1">const easing = generateLinearEasing((progress) =&gt; generator.next(calculatedDuration * progress).value, calculatedDuration, 30);</span><span class="s3">\n            </span><span class="s1">return calculatedDuration + </span><span class="s3">\&quot;</span><span class="s1">ms </span><span class="s3">\&quot; </span><span class="s1">+ easing;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">toTransition: () =&gt; { },</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return generator;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">spring.applyToOptions = (options) =&gt; {</span><span class="s3">\n    </span><span class="s1">const generatorOptions = createGeneratorEasing(options, 100, spring);</span><span class="s3">\n    </span><span class="s1">options.ease = generatorOptions.ease;</span><span class="s3">\n    </span><span class="s1">options.duration = secondsToMilliseconds(generatorOptions.duration);</span><span class="s3">\n    </span><span class="s1">options.type = </span><span class="s3">\&quot;</span><span class="s1">keyframes</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return options;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { spring };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2740</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/generators/inertia.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { spring } from './spring/index.mjs';</span><span class="s3">\n</span><span class="s1">import { calcGeneratorVelocity } from './utils/velocity.mjs';</span><span class="s3">\n\n</span><span class="s1">function inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {</span><span class="s3">\n    </span><span class="s1">const origin = keyframes[0];</span><span class="s3">\n    </span><span class="s1">const state = {</span><span class="s3">\n        </span><span class="s1">done: false,</span><span class="s3">\n        </span><span class="s1">value: origin,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">const isOutOfBounds = (v) =&gt; (min !== undefined &amp;&amp; v &lt; min) || (max !== undefined &amp;&amp; v &gt; max);</span><span class="s3">\n    </span><span class="s1">const nearestBoundary = (v) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (min === undefined)</span><span class="s3">\n            </span><span class="s1">return max;</span><span class="s3">\n        </span><span class="s1">if (max === undefined)</span><span class="s3">\n            </span><span class="s1">return min;</span><span class="s3">\n        </span><span class="s1">return Math.abs(min - v) &lt; Math.abs(max - v) ? min : max;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">let amplitude = power * velocity;</span><span class="s3">\n    </span><span class="s1">const ideal = origin + amplitude;</span><span class="s3">\n    </span><span class="s1">const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* If the target has changed we need to re-calculate the amplitude, otherwise</span><span class="s3">\n     </span><span class="s1">* the animation will start from the wrong position.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">if (target !== ideal)</span><span class="s3">\n        </span><span class="s1">amplitude = target - origin;</span><span class="s3">\n    </span><span class="s1">const calcDelta = (t) =&gt; -amplitude * Math.exp(-t / timeConstant);</span><span class="s3">\n    </span><span class="s1">const calcLatest = (t) =&gt; target + calcDelta(t);</span><span class="s3">\n    </span><span class="s1">const applyFriction = (t) =&gt; {</span><span class="s3">\n        </span><span class="s1">const delta = calcDelta(t);</span><span class="s3">\n        </span><span class="s1">const latest = calcLatest(t);</span><span class="s3">\n        </span><span class="s1">state.done = Math.abs(delta) &lt;= restDelta;</span><span class="s3">\n        </span><span class="s1">state.value = state.done ? target : latest;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Ideally this would resolve for t in a stateless way, we could</span><span class="s3">\n     </span><span class="s1">* do that by always precalculating the animation but as we know</span><span class="s3">\n     </span><span class="s1">* this will be done anyway we can assume that spring will</span><span class="s3">\n     </span><span class="s1">* be discovered during that.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">let timeReachedBoundary;</span><span class="s3">\n    </span><span class="s1">let spring$1;</span><span class="s3">\n    </span><span class="s1">const checkCatchBoundary = (t) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (!isOutOfBounds(state.value))</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">timeReachedBoundary = t;</span><span class="s3">\n        </span><span class="s1">spring$1 = spring({</span><span class="s3">\n            </span><span class="s1">keyframes: [state.value, nearestBoundary(state.value)],</span><span class="s3">\n            </span><span class="s1">velocity: calcGeneratorVelocity(calcLatest, t, state.value), // TODO: This should be passing * 1000</span><span class="s3">\n            </span><span class="s1">damping: bounceDamping,</span><span class="s3">\n            </span><span class="s1">stiffness: bounceStiffness,</span><span class="s3">\n            </span><span class="s1">restDelta,</span><span class="s3">\n            </span><span class="s1">restSpeed,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">checkCatchBoundary(0);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">calculatedDuration: null,</span><span class="s3">\n        </span><span class="s1">next: (t) =&gt; {</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* We need to resolve the friction to figure out if we need a</span><span class="s3">\n             </span><span class="s1">* spring but we don't want to do this twice per frame. So here</span><span class="s3">\n             </span><span class="s1">* we flag if we updated for this frame and later if we did</span><span class="s3">\n             </span><span class="s1">* we can skip doing it again.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">let hasUpdatedFrame = false;</span><span class="s3">\n            </span><span class="s1">if (!spring$1 &amp;&amp; timeReachedBoundary === undefined) {</span><span class="s3">\n                </span><span class="s1">hasUpdatedFrame = true;</span><span class="s3">\n                </span><span class="s1">applyFriction(t);</span><span class="s3">\n                </span><span class="s1">checkCatchBoundary(t);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* If we have a spring and the provided t is beyond the moment the friction</span><span class="s3">\n             </span><span class="s1">* animation crossed the min/max boundary, use the spring.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">if (timeReachedBoundary !== undefined &amp;&amp; t &gt;= timeReachedBoundary) {</span><span class="s3">\n                </span><span class="s1">return spring$1.next(t - timeReachedBoundary);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">!hasUpdatedFrame &amp;&amp; applyFriction(t);</span><span class="s3">\n                </span><span class="s1">return state;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { inertia };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA,SAAS,QAAQ,KAA8J;QAA9J,EAAE,SAAS,EAAE,WAAW,GAAG,EAAE,QAAQ,GAAG,EAAE,eAAe,GAAG,EAAE,gBAAgB,EAAE,EAAE,kBAAkB,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,GAAG,EAAE,YAAY,GAAG,EAAE,SAAS,EAAG,GAA9J;IACb,MAAM,SAAS,SAAS,CAAC,EAAE;IAC3B,MAAM,QAAQ;QACV,MAAM;QACN,OAAO;IACX;IACA,MAAM,gBAAgB,CAAC,IAAM,AAAC,QAAQ,aAAa,IAAI,OAAS,QAAQ,aAAa,IAAI;IACzF,MAAM,kBAAkB,CAAC;QACrB,IAAI,QAAQ,WACR,OAAO;QACX,IAAI,QAAQ,WACR,OAAO;QACX,OAAO,KAAK,GAAG,CAAC,MAAM,KAAK,KAAK,GAAG,CAAC,MAAM,KAAK,MAAM;IACzD;IACA,IAAI,YAAY,QAAQ;IACxB,MAAM,QAAQ,SAAS;IACvB,MAAM,SAAS,iBAAiB,YAAY,QAAQ,aAAa;IACjE;;;KAGC,GACD,IAAI,WAAW,OACX,YAAY,SAAS;IACzB,MAAM,YAAY,CAAC,IAAM,CAAC,YAAY,KAAK,GAAG,CAAC,CAAC,IAAI;IACpD,MAAM,aAAa,CAAC,IAAM,SAAS,UAAU;IAC7C,MAAM,gBAAgB,CAAC;QACnB,MAAM,QAAQ,UAAU;QACxB,MAAM,SAAS,WAAW;QAC1B,MAAM,IAAI,GAAG,KAAK,GAAG,CAAC,UAAU;QAChC,MAAM,KAAK,GAAG,MAAM,IAAI,GAAG,SAAS;IACxC;IACA;;;;;KAKC,GACD,IAAI;IACJ,IAAI;IACJ,MAAM,qBAAqB,CAAC;QACxB,IAAI,CAAC,cAAc,MAAM,KAAK,GAC1B;QACJ,sBAAsB;QACtB,WAAW,IAAA,uMAAM,EAAC;YACd,WAAW;gBAAC,MAAM,KAAK;gBAAE,gBAAgB,MAAM,KAAK;aAAE;YACtD,UAAU,IAAA,wNAAqB,EAAC,YAAY,GAAG,MAAM,KAAK;YAC1D,SAAS;YACT,WAAW;YACX;YACA;QACJ;IACJ;IACA,mBAAmB;IACnB,OAAO;QACH,oBAAoB;QACpB,MAAM,CAAC;YACH;;;;;aAKC,GACD,IAAI,kBAAkB;YACtB,IAAI,CAAC,YAAY,wBAAwB,WAAW;gBAChD,kBAAkB;gBAClB,cAAc;gBACd,mBAAmB;YACvB;YACA;;;aAGC,GACD,IAAI,wBAAwB,aAAa,KAAK,qBAAqB;gBAC/D,OAAO,SAAS,IAAI,CAAC,IAAI;YAC7B,OACK;gBACD,CAAC,mBAAmB,cAAc;gBAClC,OAAO;YACX;QACJ;IACJ;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2830</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/interpolate.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { invariant, clamp, MotionGlobalConfig, noop, pipe, progress } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { mix } from './mix/index.mjs';</span><span class="s3">\n\n</span><span class="s1">function createMixers(output, ease, customMixer) {</span><span class="s3">\n    </span><span class="s1">const mixers = [];</span><span class="s3">\n    </span><span class="s1">const mixerFactory = customMixer || MotionGlobalConfig.mix || mix;</span><span class="s3">\n    </span><span class="s1">const numMixers = output.length - 1;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; numMixers; i++) {</span><span class="s3">\n        </span><span class="s1">let mixer = mixerFactory(output[i], output[i + 1]);</span><span class="s3">\n        </span><span class="s1">if (ease) {</span><span class="s3">\n            </span><span class="s1">const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;</span><span class="s3">\n            </span><span class="s1">mixer = pipe(easingFunction, mixer);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">mixers.push(mixer);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return mixers;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create a function that maps from a numerical input array to a generic output array.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Accepts:</span><span class="s3">\n </span><span class="s1">*   - Numbers</span><span class="s3">\n </span><span class="s1">*   - Colors (hex, hsl, hsla, rgb, rgba)</span><span class="s3">\n </span><span class="s1">*   - Complex (combinations of one or more numbers or strings)</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* ```jsx</span><span class="s3">\n </span><span class="s1">* const mixColor = interpolate([0, 1], ['#fff', '#000'])</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* mixColor(0.5) // 'rgba(128, 128, 128, 1)'</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* TODO Revisit this approach once we've moved to data models for values,</span><span class="s3">\n </span><span class="s1">* probably not needed to pregenerate mixer functions.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {</span><span class="s3">\n    </span><span class="s1">const inputLength = input.length;</span><span class="s3">\n    </span><span class="s1">invariant(inputLength === output.length, </span><span class="s3">\&quot;</span><span class="s1">Both input and output ranges must be the same length</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">range-length</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* If we're only provided a single input, we can just make a function</span><span class="s3">\n     </span><span class="s1">* that returns the output.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">if (inputLength === 1)</span><span class="s3">\n        </span><span class="s1">return () =&gt; output[0];</span><span class="s3">\n    </span><span class="s1">if (inputLength === 2 &amp;&amp; output[0] === output[1])</span><span class="s3">\n        </span><span class="s1">return () =&gt; output[1];</span><span class="s3">\n    </span><span class="s1">const isZeroDeltaRange = input[0] === input[1];</span><span class="s3">\n    </span><span class="s1">// If input runs highest -&gt; lowest, reverse both arrays</span><span class="s3">\n    </span><span class="s1">if (input[0] &gt; input[inputLength - 1]) {</span><span class="s3">\n        </span><span class="s1">input = [...input].reverse();</span><span class="s3">\n        </span><span class="s1">output = [...output].reverse();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const mixers = createMixers(output, ease, mixer);</span><span class="s3">\n    </span><span class="s1">const numMixers = mixers.length;</span><span class="s3">\n    </span><span class="s1">const interpolator = (v) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (isZeroDeltaRange &amp;&amp; v &lt; input[0])</span><span class="s3">\n            </span><span class="s1">return output[0];</span><span class="s3">\n        </span><span class="s1">let i = 0;</span><span class="s3">\n        </span><span class="s1">if (numMixers &gt; 1) {</span><span class="s3">\n            </span><span class="s1">for (; i &lt; input.length - 2; i++) {</span><span class="s3">\n                </span><span class="s1">if (v &lt; input[i + 1])</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const progressInRange = progress(input[i], input[i + 1], v);</span><span class="s3">\n        </span><span class="s1">return mixers[i](progressInRange);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return isClamp</span><span class="s3">\n        </span><span class="s1">? (v) =&gt; interpolator(clamp(input[0], input[inputLength - 1], v))</span><span class="s3">\n        </span><span class="s1">: interpolator;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { interpolate };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA,SAAS,aAAa,MAAM,EAAE,IAAI,EAAE,WAAW;IAC3C,MAAM,SAAS,EAAE;IACjB,MAAM,eAAe,eAAe,2LAAkB,CAAC,GAAG,IAAI,+KAAG;IACjE,MAAM,YAAY,OAAO,MAAM,GAAG;IAClC,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,IAAK;QAChC,IAAI,QAAQ,aAAa,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,EAAE;QACjD,IAAI,MAAM;YACN,MAAM,iBAAiB,MAAM,OAAO,CAAC,QAAQ,IAAI,CAAC,EAAE,IAAI,iKAAI,GAAG;YAC/D,QAAQ,IAAA,iKAAI,EAAC,gBAAgB;QACjC;QACA,OAAO,IAAI,CAAC;IAChB;IACA,OAAO;AACX;AACA;;;;;;;;;;;;;;;;;;CAkBC,GACD,SAAS,YAAY,KAAK,EAAE,MAAM;QAAE,EAAE,OAAO,UAAU,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,GAAtC,iEAAyC,CAAC;IAC1E,MAAM,cAAc,MAAM,MAAM;IAChC,IAAA,wKAAS,EAAC,gBAAgB,OAAO,MAAM,EAAE,wDAAwD;IACjG;;;KAGC,GACD,IAAI,gBAAgB,GAChB,OAAO,IAAM,MAAM,CAAC,EAAE;IAC1B,IAAI,gBAAgB,KAAK,MAAM,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAC5C,OAAO,IAAM,MAAM,CAAC,EAAE;IAC1B,MAAM,mBAAmB,KAAK,CAAC,EAAE,KAAK,KAAK,CAAC,EAAE;IAC9C,uDAAuD;IACvD,IAAI,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,cAAc,EAAE,EAAE;QACnC,QAAQ;eAAI;SAAM,CAAC,OAAO;QAC1B,SAAS;eAAI;SAAO,CAAC,OAAO;IAChC;IACA,MAAM,SAAS,aAAa,QAAQ,MAAM;IAC1C,MAAM,YAAY,OAAO,MAAM;IAC/B,MAAM,eAAe,CAAC;QAClB,IAAI,oBAAoB,IAAI,KAAK,CAAC,EAAE,EAChC,OAAO,MAAM,CAAC,EAAE;QACpB,IAAI,IAAI;QACR,IAAI,YAAY,GAAG;YACf,MAAO,IAAI,MAAM,MAAM,GAAG,GAAG,IAAK;gBAC9B,IAAI,IAAI,KAAK,CAAC,IAAI,EAAE,EAChB;YACR;QACJ;QACA,MAAM,kBAAkB,IAAA,yKAAQ,EAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,EAAE,EAAE;QACzD,OAAO,MAAM,CAAC,EAAE,CAAC;IACrB;IACA,OAAO,UACD,CAAC,IAAM,aAAa,IAAA,mKAAK,EAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,cAAc,EAAE,EAAE,MAC5D;AACV&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2914</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/keyframes/offsets/fill.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { progress } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { mixNumber } from '../../../utils/mix/number.mjs';</span><span class="s3">\n\n</span><span class="s1">function fillOffset(offset, remaining) {</span><span class="s3">\n    </span><span class="s1">const min = offset[offset.length - 1];</span><span class="s3">\n    </span><span class="s1">for (let i = 1; i &lt;= remaining; i++) {</span><span class="s3">\n        </span><span class="s1">const offsetProgress = progress(0, remaining, i);</span><span class="s3">\n        </span><span class="s1">offset.push(mixNumber(min, 1, offsetProgress));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { fillOffset };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA,SAAS,WAAW,MAAM,EAAE,SAAS;IACjC,MAAM,MAAM,MAAM,CAAC,OAAO,MAAM,GAAG,EAAE;IACrC,IAAK,IAAI,IAAI,GAAG,KAAK,WAAW,IAAK;QACjC,MAAM,iBAAiB,IAAA,yKAAQ,EAAC,GAAG,WAAW;QAC9C,OAAO,IAAI,CAAC,IAAA,sLAAS,EAAC,KAAK,GAAG;IAClC;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2934</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/keyframes/offsets/default.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { fillOffset } from './fill.mjs';</span><span class="s3">\n\n</span><span class="s1">function defaultOffset(arr) {</span><span class="s3">\n    </span><span class="s1">const offset = [0];</span><span class="s3">\n    </span><span class="s1">fillOffset(offset, arr.length - 1);</span><span class="s3">\n    </span><span class="s1">return offset;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { defaultOffset };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,SAAS,cAAc,GAAG;IACtB,MAAM,SAAS;QAAC;KAAE;IAClB,IAAA,0MAAU,EAAC,QAAQ,IAAI,MAAM,GAAG;IAChC,OAAO;AACX&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2952</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/keyframes/offsets/time.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;function convertOffsetToTimes(offset, duration) {</span><span class="s3">\n    </span><span class="s1">return offset.map((o) =&gt; o * duration);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { convertOffsetToTimes };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,SAAS,qBAAqB,MAAM,EAAE,QAAQ;IAC1C,OAAO,OAAO,GAAG,CAAC,CAAC,IAAM,IAAI;AACjC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">2964</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/generators/keyframes.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { easeInOut, isEasingArray, easingDefinitionToFunction } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { interpolate } from '../../utils/interpolate.mjs';</span><span class="s3">\n</span><span class="s1">import { defaultOffset } from '../keyframes/offsets/default.mjs';</span><span class="s3">\n</span><span class="s1">import { convertOffsetToTimes } from '../keyframes/offsets/time.mjs';</span><span class="s3">\n\n</span><span class="s1">function defaultEasing(values, easing) {</span><span class="s3">\n    </span><span class="s1">return values.map(() =&gt; easing || easeInOut).splice(0, values.length - 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function keyframes({ duration = 300, keyframes: keyframeValues, times, ease = </span><span class="s3">\&quot;</span><span class="s1">easeInOut</span><span class="s3">\&quot;</span><span class="s1">, }) {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Easing functions can be externally defined as strings. Here we convert them</span><span class="s3">\n     </span><span class="s1">* into actual functions.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">const easingFunctions = isEasingArray(ease)</span><span class="s3">\n        </span><span class="s1">? ease.map(easingDefinitionToFunction)</span><span class="s3">\n        </span><span class="s1">: easingDefinitionToFunction(ease);</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* This is the Iterator-spec return value. We ensure it's mutable rather than using a generator</span><span class="s3">\n     </span><span class="s1">* to reduce GC during animation.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">const state = {</span><span class="s3">\n        </span><span class="s1">done: false,</span><span class="s3">\n        </span><span class="s1">value: keyframeValues[0],</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Create a times array based on the provided 0-1 offsets</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">const absoluteTimes = convertOffsetToTimes(</span><span class="s3">\n    </span><span class="s1">// Only use the provided offsets if they're the correct length</span><span class="s3">\n    </span><span class="s1">// TODO Maybe we should warn here if there's a length mismatch</span><span class="s3">\n    </span><span class="s1">times &amp;&amp; times.length === keyframeValues.length</span><span class="s3">\n        </span><span class="s1">? times</span><span class="s3">\n        </span><span class="s1">: defaultOffset(keyframeValues), duration);</span><span class="s3">\n    </span><span class="s1">const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {</span><span class="s3">\n        </span><span class="s1">ease: Array.isArray(easingFunctions)</span><span class="s3">\n            </span><span class="s1">? easingFunctions</span><span class="s3">\n            </span><span class="s1">: defaultEasing(keyframeValues, easingFunctions),</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">calculatedDuration: duration,</span><span class="s3">\n        </span><span class="s1">next: (t) =&gt; {</span><span class="s3">\n            </span><span class="s1">state.value = mapTimeToKeyframe(t);</span><span class="s3">\n            </span><span class="s1">state.done = t &gt;= duration;</span><span class="s3">\n            </span><span class="s1">return state;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { defaultEasing, keyframes };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;AAEA,SAAS,cAAc,MAAM,EAAE,MAAM;IACjC,OAAO,OAAO,GAAG,CAAC,IAAM,UAAU,gLAAS,EAAE,MAAM,CAAC,GAAG,OAAO,MAAM,GAAG;AAC3E;AACA,SAAS,UAAU,KAAyE;QAAzE,EAAE,WAAW,GAAG,EAAE,WAAW,cAAc,EAAE,KAAK,EAAE,OAAO,WAAW,EAAG,GAAzE;IACf;;;KAGC,GACD,MAAM,kBAAkB,IAAA,8MAAa,EAAC,QAChC,KAAK,GAAG,CAAC,yMAA0B,IACnC,IAAA,yMAA0B,EAAC;IACjC;;;KAGC,GACD,MAAM,QAAQ;QACV,MAAM;QACN,OAAO,cAAc,CAAC,EAAE;IAC5B;IACA;;KAEC,GACD,MAAM,gBAAgB,IAAA,oNAAoB,EAC1C,8DAA8D;IAC9D,8DAA8D;IAC9D,SAAS,MAAM,MAAM,KAAK,eAAe,MAAM,GACzC,QACA,IAAA,gNAAa,EAAC,iBAAiB;IACrC,MAAM,oBAAoB,IAAA,sLAAW,EAAC,eAAe,gBAAgB;QACjE,MAAM,MAAM,OAAO,CAAC,mBACd,kBACA,cAAc,gBAAgB;IACxC;IACA,OAAO;QACH,oBAAoB;QACpB,MAAM,CAAC;YACH,MAAM,KAAK,GAAG,kBAAkB;YAChC,MAAM,IAAI,GAAG,KAAK;YAClB,OAAO;QACX;IACJ;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3018</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/keyframes/get-final.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const isNotNull = (value) =&gt; value !== null;</span><span class="s3">\n</span><span class="s1">function getFinalKeyframe(keyframes, { repeat, repeatType = </span><span class="s3">\&quot;</span><span class="s1">loop</span><span class="s3">\&quot; </span><span class="s1">}, finalKeyframe, speed = 1) {</span><span class="s3">\n    </span><span class="s1">const resolvedKeyframes = keyframes.filter(isNotNull);</span><span class="s3">\n    </span><span class="s1">const useFirstKeyframe = speed &lt; 0 || (repeat &amp;&amp; repeatType !== </span><span class="s3">\&quot;</span><span class="s1">loop</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; repeat % 2 === 1);</span><span class="s3">\n    </span><span class="s1">const index = useFirstKeyframe ? 0 : resolvedKeyframes.length - 1;</span><span class="s3">\n    </span><span class="s1">return !index || finalKeyframe === undefined</span><span class="s3">\n        </span><span class="s1">? resolvedKeyframes[index]</span><span class="s3">\n        </span><span class="s1">: finalKeyframe;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { getFinalKeyframe };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,YAAY,CAAC,QAAU,UAAU;AACvC,SAAS,iBAAiB,SAAS,EAAE,KAA+B,EAAE,aAAa;QAA9C,EAAE,MAAM,EAAE,aAAa,MAAM,EAAE,GAA/B,OAAgD,QAAA,iEAAQ;IACzF,MAAM,oBAAoB,UAAU,MAAM,CAAC;IAC3C,MAAM,mBAAmB,QAAQ,KAAM,UAAU,eAAe,UAAU,SAAS,MAAM;IACzF,MAAM,QAAQ,mBAAmB,IAAI,kBAAkB,MAAM,GAAG;IAChE,OAAO,CAAC,SAAS,kBAAkB,YAC7B,iBAAiB,CAAC,MAAM,GACxB;AACV&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3035</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/utils/replace-transition-type.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { inertia } from '../generators/inertia.mjs';</span><span class="s3">\n</span><span class="s1">import { keyframes } from '../generators/keyframes.mjs';</span><span class="s3">\n</span><span class="s1">import { spring } from '../generators/spring/index.mjs';</span><span class="s3">\n\n</span><span class="s1">const transitionTypeMap = {</span><span class="s3">\n    </span><span class="s1">decay: inertia,</span><span class="s3">\n    </span><span class="s1">inertia,</span><span class="s3">\n    </span><span class="s1">tween: keyframes,</span><span class="s3">\n    </span><span class="s1">keyframes: keyframes,</span><span class="s3">\n    </span><span class="s1">spring,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function replaceTransitionType(transition) {</span><span class="s3">\n    </span><span class="s1">if (typeof transition.type === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">transition.type = transitionTypeMap[transition.type];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { replaceTransitionType };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,oBAAoB;IACtB,OAAO,gMAAO;IACd,SAAA,gMAAO;IACP,OAAO,oMAAS;IAChB,WAAW,oMAAS;IACpB,QAAA,uMAAM;AACV;AACA,SAAS,sBAAsB,UAAU;IACrC,IAAI,OAAO,WAAW,IAAI,KAAK,UAAU;QACrC,WAAW,IAAI,GAAG,iBAAiB,CAAC,WAAW,IAAI,CAAC;IACxD;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3062</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/utils/WithPromise.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;class WithPromise {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">this.updateFinished();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get finished() {</span><span class="s3">\n        </span><span class="s1">return this._finished;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateFinished() {</span><span class="s3">\n        </span><span class="s1">this._finished = new Promise((resolve) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.resolve = resolve;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">notifyFinished() {</span><span class="s3">\n        </span><span class="s1">this.resolve();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Allows the animation to be awaited.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @deprecated Use `finished` instead.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">then(onResolve, onReject) {</span><span class="s3">\n        </span><span class="s1">return this.finished.then(onResolve, onReject);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { WithPromise };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM;IAIF,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,SAAS;IACzB;IACA,iBAAiB;QACb,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,CAAC;YAC1B,IAAI,CAAC,OAAO,GAAG;QACnB;IACJ;IACA,iBAAiB;QACb,IAAI,CAAC,OAAO;IAChB;IACA;;;;KAIC,GACD,KAAK,SAAS,EAAE,QAAQ,EAAE;QACtB,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW;IACzC;IArBA,aAAc;QACV,IAAI,CAAC,cAAc;IACvB;AAoBJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3094</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/JSAnimation.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { invariant, pipe, clamp, millisecondsToSeconds, secondsToMilliseconds } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { time } from '../frameloop/sync-time.mjs';</span><span class="s3">\n</span><span class="s1">import { activeAnimations } from '../stats/animation-count.mjs';</span><span class="s3">\n</span><span class="s1">import { mix } from '../utils/mix/index.mjs';</span><span class="s3">\n</span><span class="s1">import { frameloopDriver } from './drivers/frame.mjs';</span><span class="s3">\n</span><span class="s1">import { inertia } from './generators/inertia.mjs';</span><span class="s3">\n</span><span class="s1">import { keyframes } from './generators/keyframes.mjs';</span><span class="s3">\n</span><span class="s1">import { calcGeneratorDuration } from './generators/utils/calc-duration.mjs';</span><span class="s3">\n</span><span class="s1">import { getFinalKeyframe } from './keyframes/get-final.mjs';</span><span class="s3">\n</span><span class="s1">import { replaceTransitionType } from './utils/replace-transition-type.mjs';</span><span class="s3">\n</span><span class="s1">import { WithPromise } from './utils/WithPromise.mjs';</span><span class="s3">\n\n</span><span class="s1">const percentToProgress = (percent) =&gt; percent / 100;</span><span class="s3">\n</span><span class="s1">class JSAnimation extends WithPromise {</span><span class="s3">\n    </span><span class="s1">constructor(options) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this.state = </span><span class="s3">\&quot;</span><span class="s1">idle</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.startTime = null;</span><span class="s3">\n        </span><span class="s1">this.isStopped = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The current time of the animation.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.currentTime = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The time at which the animation was paused.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.holdTime = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Playback speed as a factor. 0 would be stopped, -1 reverse and 2 double speed.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.playbackSpeed = 1;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* This method is bound to the instance to fix a pattern where</span><span class="s3">\n         </span><span class="s1">* animation.stop is returned as a reference from a useEffect.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.stop = () =&gt; {</span><span class="s3">\n            </span><span class="s1">const { motionValue } = this.options;</span><span class="s3">\n            </span><span class="s1">if (motionValue &amp;&amp; motionValue.updatedAt !== time.now()) {</span><span class="s3">\n                </span><span class="s1">this.tick(time.now());</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.isStopped = true;</span><span class="s3">\n            </span><span class="s1">if (this.state === </span><span class="s3">\&quot;</span><span class="s1">idle</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">this.teardown();</span><span class="s3">\n            </span><span class="s1">this.options.onStop?.();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">activeAnimations.mainThread++;</span><span class="s3">\n        </span><span class="s1">this.options = options;</span><span class="s3">\n        </span><span class="s1">this.initAnimation();</span><span class="s3">\n        </span><span class="s1">this.play();</span><span class="s3">\n        </span><span class="s1">if (options.autoplay === false)</span><span class="s3">\n            </span><span class="s1">this.pause();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">initAnimation() {</span><span class="s3">\n        </span><span class="s1">const { options } = this;</span><span class="s3">\n        </span><span class="s1">replaceTransitionType(options);</span><span class="s3">\n        </span><span class="s1">const { type = keyframes, repeat = 0, repeatDelay = 0, repeatType, velocity = 0, } = options;</span><span class="s3">\n        </span><span class="s1">let { keyframes: keyframes$1 } = options;</span><span class="s3">\n        </span><span class="s1">const generatorFactory = type || keyframes;</span><span class="s3">\n        </span><span class="s1">if (process.env.NODE_ENV !== </span><span class="s3">\&quot;</span><span class="s1">production</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n            </span><span class="s1">generatorFactory !== keyframes) {</span><span class="s3">\n            </span><span class="s1">invariant(keyframes$1.length &lt;= 2, `Only two keyframes currently supported with spring and inertia animations. Trying to animate ${keyframes$1}`, </span><span class="s3">\&quot;</span><span class="s1">spring-two-frames</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (generatorFactory !== keyframes &amp;&amp;</span><span class="s3">\n            </span><span class="s1">typeof keyframes$1[0] !== </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.mixKeyframes = pipe(percentToProgress, mix(keyframes$1[0], keyframes$1[1]));</span><span class="s3">\n            </span><span class="s1">keyframes$1 = [0, 100];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const generator = generatorFactory({ ...options, keyframes: keyframes$1 });</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* If we have a mirror repeat type we need to create a second generator that outputs the</span><span class="s3">\n         </span><span class="s1">* mirrored (not reversed) animation and later ping pong between the two generators.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">if (repeatType === </span><span class="s3">\&quot;</span><span class="s1">mirror</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.mirroredGenerator = generatorFactory({</span><span class="s3">\n                </span><span class="s1">...options,</span><span class="s3">\n                </span><span class="s1">keyframes: [...keyframes$1].reverse(),</span><span class="s3">\n                </span><span class="s1">velocity: -velocity,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* If duration is undefined and we have repeat options,</span><span class="s3">\n         </span><span class="s1">* we need to calculate a duration from the generator.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* We set it to the generator itself to cache the duration.</span><span class="s3">\n         </span><span class="s1">* Any timeline resolver will need to have already precalculated</span><span class="s3">\n         </span><span class="s1">* the duration by this step.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">if (generator.calculatedDuration === null) {</span><span class="s3">\n            </span><span class="s1">generator.calculatedDuration = calcGeneratorDuration(generator);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const { calculatedDuration } = generator;</span><span class="s3">\n        </span><span class="s1">this.calculatedDuration = calculatedDuration;</span><span class="s3">\n        </span><span class="s1">this.resolvedDuration = calculatedDuration + repeatDelay;</span><span class="s3">\n        </span><span class="s1">this.totalDuration = this.resolvedDuration * (repeat + 1) - repeatDelay;</span><span class="s3">\n        </span><span class="s1">this.generator = generator;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateTime(timestamp) {</span><span class="s3">\n        </span><span class="s1">const animationTime = Math.round(timestamp - this.startTime) * this.playbackSpeed;</span><span class="s3">\n        </span><span class="s1">// Update currentTime</span><span class="s3">\n        </span><span class="s1">if (this.holdTime !== null) {</span><span class="s3">\n            </span><span class="s1">this.currentTime = this.holdTime;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">// Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =</span><span class="s3">\n            </span><span class="s1">// 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for</span><span class="s3">\n            </span><span class="s1">// example.</span><span class="s3">\n            </span><span class="s1">this.currentTime = animationTime;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">tick(timestamp, sample = false) {</span><span class="s3">\n        </span><span class="s1">const { generator, totalDuration, mixKeyframes, mirroredGenerator, resolvedDuration, calculatedDuration, } = this;</span><span class="s3">\n        </span><span class="s1">if (this.startTime === null)</span><span class="s3">\n            </span><span class="s1">return generator.next(0);</span><span class="s3">\n        </span><span class="s1">const { delay = 0, keyframes, repeat, repeatType, repeatDelay, type, onUpdate, finalKeyframe, } = this.options;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* requestAnimationFrame timestamps can come through as lower than</span><span class="s3">\n         </span><span class="s1">* the startTime as set by performance.now(). Here we prevent this,</span><span class="s3">\n         </span><span class="s1">* though in the future it could be possible to make setting startTime</span><span class="s3">\n         </span><span class="s1">* a pending operation that gets resolved here.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">if (this.speed &gt; 0) {</span><span class="s3">\n            </span><span class="s1">this.startTime = Math.min(this.startTime, timestamp);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (this.speed &lt; 0) {</span><span class="s3">\n            </span><span class="s1">this.startTime = Math.min(timestamp - totalDuration / this.speed, this.startTime);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (sample) {</span><span class="s3">\n            </span><span class="s1">this.currentTime = timestamp;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.updateTime(timestamp);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// Rebase on delay</span><span class="s3">\n        </span><span class="s1">const timeWithoutDelay = this.currentTime - delay * (this.playbackSpeed &gt;= 0 ? 1 : -1);</span><span class="s3">\n        </span><span class="s1">const isInDelayPhase = this.playbackSpeed &gt;= 0</span><span class="s3">\n            </span><span class="s1">? timeWithoutDelay &lt; 0</span><span class="s3">\n            </span><span class="s1">: timeWithoutDelay &gt; totalDuration;</span><span class="s3">\n        </span><span class="s1">this.currentTime = Math.max(timeWithoutDelay, 0);</span><span class="s3">\n        </span><span class="s1">// If this animation has finished, set the current time  to the total duration.</span><span class="s3">\n        </span><span class="s1">if (this.state === </span><span class="s3">\&quot;</span><span class="s1">finished</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; this.holdTime === null) {</span><span class="s3">\n            </span><span class="s1">this.currentTime = totalDuration;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let elapsed = this.currentTime;</span><span class="s3">\n        </span><span class="s1">let frameGenerator = generator;</span><span class="s3">\n        </span><span class="s1">if (repeat) {</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* Get the current progress (0-1) of the animation. If t is &gt;</span><span class="s3">\n             </span><span class="s1">* than duration we'll get values like 2.5 (midway through the</span><span class="s3">\n             </span><span class="s1">* third iteration)</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">const progress = Math.min(this.currentTime, totalDuration) / resolvedDuration;</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* Get the current iteration (0 indexed). For instance the floor of</span><span class="s3">\n             </span><span class="s1">* 2.5 is 2.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">let currentIteration = Math.floor(progress);</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* Get the current progress of the iteration by taking the remainder</span><span class="s3">\n             </span><span class="s1">* so 2.5 is 0.5 through iteration 2</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">let iterationProgress = progress % 1.0;</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* If iteration progress is 1 we count that as the end</span><span class="s3">\n             </span><span class="s1">* of the previous iteration.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">if (!iterationProgress &amp;&amp; progress &gt;= 1) {</span><span class="s3">\n                </span><span class="s1">iterationProgress = 1;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">iterationProgress === 1 &amp;&amp; currentIteration--;</span><span class="s3">\n            </span><span class="s1">currentIteration = Math.min(currentIteration, repeat + 1);</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* Reverse progress if we're not running in </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot; </span><span class="s1">direction</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">const isOddIteration = Boolean(currentIteration % 2);</span><span class="s3">\n            </span><span class="s1">if (isOddIteration) {</span><span class="s3">\n                </span><span class="s1">if (repeatType === </span><span class="s3">\&quot;</span><span class="s1">reverse</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">iterationProgress = 1 - iterationProgress;</span><span class="s3">\n                    </span><span class="s1">if (repeatDelay) {</span><span class="s3">\n                        </span><span class="s1">iterationProgress -= repeatDelay / resolvedDuration;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (repeatType === </span><span class="s3">\&quot;</span><span class="s1">mirror</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">frameGenerator = mirroredGenerator;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">elapsed = clamp(0, 1, iterationProgress) * resolvedDuration;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* If we're in negative time, set state as the initial keyframe.</span><span class="s3">\n         </span><span class="s1">* This prevents delay: x, duration: 0 animations from finishing</span><span class="s3">\n         </span><span class="s1">* instantly.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">const state = isInDelayPhase</span><span class="s3">\n            </span><span class="s1">? { done: false, value: keyframes[0] }</span><span class="s3">\n            </span><span class="s1">: frameGenerator.next(elapsed);</span><span class="s3">\n        </span><span class="s1">if (mixKeyframes) {</span><span class="s3">\n            </span><span class="s1">state.value = mixKeyframes(state.value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let { done } = state;</span><span class="s3">\n        </span><span class="s1">if (!isInDelayPhase &amp;&amp; calculatedDuration !== null) {</span><span class="s3">\n            </span><span class="s1">done =</span><span class="s3">\n                </span><span class="s1">this.playbackSpeed &gt;= 0</span><span class="s3">\n                    </span><span class="s1">? this.currentTime &gt;= totalDuration</span><span class="s3">\n                    </span><span class="s1">: this.currentTime &lt;= 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const isAnimationFinished = this.holdTime === null &amp;&amp;</span><span class="s3">\n            </span><span class="s1">(this.state === </span><span class="s3">\&quot;</span><span class="s1">finished</span><span class="s3">\&quot; </span><span class="s1">|| (this.state === </span><span class="s3">\&quot;</span><span class="s1">running</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; done));</span><span class="s3">\n        </span><span class="s1">// TODO: The exception for inertia could be cleaner here</span><span class="s3">\n        </span><span class="s1">if (isAnimationFinished &amp;&amp; type !== inertia) {</span><span class="s3">\n            </span><span class="s1">state.value = getFinalKeyframe(keyframes, this.options, finalKeyframe, this.speed);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (onUpdate) {</span><span class="s3">\n            </span><span class="s1">onUpdate(state.value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (isAnimationFinished) {</span><span class="s3">\n            </span><span class="s1">this.finish();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return state;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Allows the returned animation to be awaited or promise-chained. Currently</span><span class="s3">\n     </span><span class="s1">* resolves when the animation finishes at all but in a future update could/should</span><span class="s3">\n     </span><span class="s1">* reject if its cancels.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">then(resolve, reject) {</span><span class="s3">\n        </span><span class="s1">return this.finished.then(resolve, reject);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get duration() {</span><span class="s3">\n        </span><span class="s1">return millisecondsToSeconds(this.calculatedDuration);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get iterationDuration() {</span><span class="s3">\n        </span><span class="s1">const { delay = 0 } = this.options || {};</span><span class="s3">\n        </span><span class="s1">return this.duration + millisecondsToSeconds(delay);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get time() {</span><span class="s3">\n        </span><span class="s1">return millisecondsToSeconds(this.currentTime);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set time(newTime) {</span><span class="s3">\n        </span><span class="s1">newTime = secondsToMilliseconds(newTime);</span><span class="s3">\n        </span><span class="s1">this.currentTime = newTime;</span><span class="s3">\n        </span><span class="s1">if (this.startTime === null ||</span><span class="s3">\n            </span><span class="s1">this.holdTime !== null ||</span><span class="s3">\n            </span><span class="s1">this.playbackSpeed === 0) {</span><span class="s3">\n            </span><span class="s1">this.holdTime = newTime;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (this.driver) {</span><span class="s3">\n            </span><span class="s1">this.startTime = this.driver.now() - newTime / this.playbackSpeed;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.driver?.start(false);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get speed() {</span><span class="s3">\n        </span><span class="s1">return this.playbackSpeed;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set speed(newSpeed) {</span><span class="s3">\n        </span><span class="s1">this.updateTime(time.now());</span><span class="s3">\n        </span><span class="s1">const hasChanged = this.playbackSpeed !== newSpeed;</span><span class="s3">\n        </span><span class="s1">this.playbackSpeed = newSpeed;</span><span class="s3">\n        </span><span class="s1">if (hasChanged) {</span><span class="s3">\n            </span><span class="s1">this.time = millisecondsToSeconds(this.currentTime);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">play() {</span><span class="s3">\n        </span><span class="s1">if (this.isStopped)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">const { driver = frameloopDriver, startTime } = this.options;</span><span class="s3">\n        </span><span class="s1">if (!this.driver) {</span><span class="s3">\n            </span><span class="s1">this.driver = driver((timestamp) =&gt; this.tick(timestamp));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.options.onPlay?.();</span><span class="s3">\n        </span><span class="s1">const now = this.driver.now();</span><span class="s3">\n        </span><span class="s1">if (this.state === </span><span class="s3">\&quot;</span><span class="s1">finished</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.updateFinished();</span><span class="s3">\n            </span><span class="s1">this.startTime = now;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (this.holdTime !== null) {</span><span class="s3">\n            </span><span class="s1">this.startTime = now - this.holdTime;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (!this.startTime) {</span><span class="s3">\n            </span><span class="s1">this.startTime = startTime ?? now;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.state === </span><span class="s3">\&quot;</span><span class="s1">finished</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; this.speed &lt; 0) {</span><span class="s3">\n            </span><span class="s1">this.startTime += this.calculatedDuration;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.holdTime = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Set playState to running only after we've used it in</span><span class="s3">\n         </span><span class="s1">* the previous logic.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.state = </span><span class="s3">\&quot;</span><span class="s1">running</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.driver.start();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">pause() {</span><span class="s3">\n        </span><span class="s1">this.state = </span><span class="s3">\&quot;</span><span class="s1">paused</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.updateTime(time.now());</span><span class="s3">\n        </span><span class="s1">this.holdTime = this.currentTime;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">complete() {</span><span class="s3">\n        </span><span class="s1">if (this.state !== </span><span class="s3">\&quot;</span><span class="s1">running</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.play();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.state = </span><span class="s3">\&quot;</span><span class="s1">finished</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.holdTime = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">finish() {</span><span class="s3">\n        </span><span class="s1">this.notifyFinished();</span><span class="s3">\n        </span><span class="s1">this.teardown();</span><span class="s3">\n        </span><span class="s1">this.state = </span><span class="s3">\&quot;</span><span class="s1">finished</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.options.onComplete?.();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">cancel() {</span><span class="s3">\n        </span><span class="s1">this.holdTime = null;</span><span class="s3">\n        </span><span class="s1">this.startTime = 0;</span><span class="s3">\n        </span><span class="s1">this.tick(0);</span><span class="s3">\n        </span><span class="s1">this.teardown();</span><span class="s3">\n        </span><span class="s1">this.options.onCancel?.();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">teardown() {</span><span class="s3">\n        </span><span class="s1">this.state = </span><span class="s3">\&quot;</span><span class="s1">idle</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.stopDriver();</span><span class="s3">\n        </span><span class="s1">this.startTime = this.holdTime = null;</span><span class="s3">\n        </span><span class="s1">activeAnimations.mainThread--;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">stopDriver() {</span><span class="s3">\n        </span><span class="s1">if (!this.driver)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">this.driver.stop();</span><span class="s3">\n        </span><span class="s1">this.driver = undefined;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">sample(sampleTime) {</span><span class="s3">\n        </span><span class="s1">this.startTime = 0;</span><span class="s3">\n        </span><span class="s1">return this.tick(sampleTime, true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">attachTimeline(timeline) {</span><span class="s3">\n        </span><span class="s1">if (this.options.allowFlatten) {</span><span class="s3">\n            </span><span class="s1">this.options.type = </span><span class="s3">\&quot;</span><span class="s1">keyframes</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">this.options.ease = </span><span class="s3">\&quot;</span><span class="s1">linear</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">this.initAnimation();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.driver?.stop();</span><span class="s3">\n        </span><span class="s1">return timeline.observe(this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">// Legacy function support</span><span class="s3">\n</span><span class="s1">function animateValue(options) {</span><span class="s3">\n    </span><span class="s1">return new JSAnimation(options);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { JSAnimation, animateValue };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3445</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/render/dom/is-css-var.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const isCSSVar = (name) =&gt; name.startsWith(</span><span class="s3">\&quot;</span><span class="s1">--</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export { isCSSVar };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,WAAW,CAAC,OAAS,KAAK,UAAU,CAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3455</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/render/dom/style-set.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { isCSSVar } from './is-css-var.mjs';</span><span class="s3">\n\n</span><span class="s1">function setStyle(element, name, value) {</span><span class="s3">\n    </span><span class="s1">isCSSVar(name)</span><span class="s3">\n        </span><span class="s1">? element.style.setProperty(name, value)</span><span class="s3">\n        </span><span class="s1">: (element.style[name] = value);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { setStyle };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,SAAS,SAAS,OAAO,EAAE,IAAI,EAAE,KAAK;IAClC,IAAA,gMAAQ,EAAC,QACH,QAAQ,KAAK,CAAC,WAAW,CAAC,MAAM,SAC/B,QAAQ,KAAK,CAAC,KAAK,GAAG;AACjC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3469</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/supports/scroll-timeline.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { memo } from 'motion-utils';</span><span class="s3">\n\n</span><span class="s1">const supportsScrollTimeline = /* @__PURE__ */ memo(() =&gt; window.ScrollTimeline !== undefined);</span><span class="s3">\n\n</span><span class="s1">export { supportsScrollTimeline };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,MAAM,yBAAyB,aAAa,GAAG,IAAA,iKAAI,EAAC,IAAM,OAAO,cAAc,KAAK&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3481</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/supports/flags.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Add the ability for test suites to manually set support flags</span><span class="s3">\n </span><span class="s1">* to better test more environments.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const supportsFlags = {};</span><span class="s3">\n\n</span><span class="s1">export { supportsFlags };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA;;;CAGC;;;;AACD,MAAM,gBAAgB,CAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3494</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/supports/memo.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { memo } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { supportsFlags } from './flags.mjs';</span><span class="s3">\n\n</span><span class="s1">function memoSupports(callback, supportsFlag) {</span><span class="s3">\n    </span><span class="s1">const memoized = memo(callback);</span><span class="s3">\n    </span><span class="s1">return () =&gt; supportsFlags[supportsFlag] ?? memoized();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { memoSupports };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA,SAAS,aAAa,QAAQ,EAAE,YAAY;IACxC,MAAM,WAAW,IAAA,iKAAI,EAAC;IACtB,OAAO;YAAM;eAAA,CAAA,8BAAA,8LAAa,CAAC,aAAa,cAA3B,yCAAA,8BAA+B;;AAChD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3514</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/supports/linear-easing.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { memoSupports } from './memo.mjs';</span><span class="s3">\n\n</span><span class="s1">const supportsLinearEasing = /*@__PURE__*/ memoSupports(() =&gt; {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">document</span><span class="s3">\n            </span><span class="s1">.createElement(</span><span class="s3">\&quot;</span><span class="s1">div</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">.animate({ opacity: 0 }, { easing: </span><span class="s3">\&quot;</span><span class="s1">linear(0, 1)</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">linearEasing</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export { supportsLinearEasing };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,MAAM,uBAAuB,WAAW,GAAG,IAAA,4LAAY,EAAC;IACpD,IAAI;QACA,SACK,aAAa,CAAC,OACd,OAAO,CAAC;YAAE,SAAS;QAAE,GAAG;YAAE,QAAQ;QAAe;IAC1D,EACA,OAAO,GAAG;QACN,OAAO;IACX;IACA,OAAO;AACX,GAAG&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3537</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/waapi/easing/cubic-bezier.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const cubicBezierAsString = ([a, b, c, d]) =&gt; `cubic-bezier(${a}, ${b}, ${c}, ${d})`;</span><span class="s3">\n\n</span><span class="s1">export { cubicBezierAsString };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,sBAAsB;QAAC,CAAC,GAAG,GAAG,GAAG,EAAE;WAAK,AAAC,gBAAqB,OAAN,GAAE,MAAU,OAAN,GAAE,MAAU,OAAN,GAAE,MAAM,OAAF,GAAE&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3550</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/waapi/easing/supported.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { cubicBezierAsString } from './cubic-bezier.mjs';</span><span class="s3">\n\n</span><span class="s1">const supportedWaapiEasing = {</span><span class="s3">\n    </span><span class="s1">linear: </span><span class="s3">\&quot;</span><span class="s1">linear</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">ease: </span><span class="s3">\&quot;</span><span class="s1">ease</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">easeIn: </span><span class="s3">\&quot;</span><span class="s1">ease-in</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">easeOut: </span><span class="s3">\&quot;</span><span class="s1">ease-out</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">easeInOut: </span><span class="s3">\&quot;</span><span class="s1">ease-in-out</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">circIn: /*@__PURE__*/ cubicBezierAsString([0, 0.65, 0.55, 1]),</span><span class="s3">\n    </span><span class="s1">circOut: /*@__PURE__*/ cubicBezierAsString([0.55, 0, 1, 0.45]),</span><span class="s3">\n    </span><span class="s1">backIn: /*@__PURE__*/ cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),</span><span class="s3">\n    </span><span class="s1">backOut: /*@__PURE__*/ cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { supportedWaapiEasing };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,MAAM,uBAAuB;IACzB,QAAQ;IACR,MAAM;IACN,QAAQ;IACR,SAAS;IACT,WAAW;IACX,QAAQ,WAAW,GAAG,IAAA,yNAAmB,EAAC;QAAC;QAAG;QAAM;QAAM;KAAE;IAC5D,SAAS,WAAW,GAAG,IAAA,yNAAmB,EAAC;QAAC;QAAM;QAAG;QAAG;KAAK;IAC7D,QAAQ,WAAW,GAAG,IAAA,yNAAmB,EAAC;QAAC;QAAM;QAAM;QAAM,CAAC;KAAK;IACnE,SAAS,WAAW,GAAG,IAAA,yNAAmB,EAAC;QAAC;QAAM;QAAM;QAAM;KAAK;AACvE&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3592</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/waapi/easing/map-easing.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { isBezierDefinition } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { supportsLinearEasing } from '../../../utils/supports/linear-easing.mjs';</span><span class="s3">\n</span><span class="s1">import { generateLinearEasing } from '../utils/linear.mjs';</span><span class="s3">\n</span><span class="s1">import { cubicBezierAsString } from './cubic-bezier.mjs';</span><span class="s3">\n</span><span class="s1">import { supportedWaapiEasing } from './supported.mjs';</span><span class="s3">\n\n</span><span class="s1">function mapEasingToNativeEasing(easing, duration) {</span><span class="s3">\n    </span><span class="s1">if (!easing) {</span><span class="s3">\n        </span><span class="s1">return undefined;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (typeof easing === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return supportsLinearEasing()</span><span class="s3">\n            </span><span class="s1">? generateLinearEasing(easing, duration)</span><span class="s3">\n            </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">ease-out</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (isBezierDefinition(easing)) {</span><span class="s3">\n        </span><span class="s1">return cubicBezierAsString(easing);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (Array.isArray(easing)) {</span><span class="s3">\n        </span><span class="s1">return easing.map((segmentEasing) =&gt; mapEasingToNativeEasing(segmentEasing, duration) ||</span><span class="s3">\n            </span><span class="s1">supportedWaapiEasing.easeOut);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">return supportedWaapiEasing[easing];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { mapEasingToNativeEasing };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,SAAS,wBAAwB,MAAM,EAAE,QAAQ;IAC7C,IAAI,CAAC,QAAQ;QACT,OAAO;IACX,OACK,IAAI,OAAO,WAAW,YAAY;QACnC,OAAO,IAAA,gNAAoB,MACrB,IAAA,gNAAoB,EAAC,QAAQ,YAC7B;IACV,OACK,IAAI,IAAA,wNAAkB,EAAC,SAAS;QACjC,OAAO,IAAA,yNAAmB,EAAC;IAC/B,OACK,IAAI,MAAM,OAAO,CAAC,SAAS;QAC5B,OAAO,OAAO,GAAG,CAAC,CAAC,gBAAkB,wBAAwB,eAAe,aACxE,oNAAoB,CAAC,OAAO;IACpC,OACK;QACD,OAAO,oNAAoB,CAAC,OAAO;IACvC;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3624</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/waapi/start-waapi-animation.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { activeAnimations } from '../../stats/animation-count.mjs';</span><span class="s3">\n</span><span class="s1">import { statsBuffer } from '../../stats/buffer.mjs';</span><span class="s3">\n</span><span class="s1">import { mapEasingToNativeEasing } from './easing/map-easing.mjs';</span><span class="s3">\n\n</span><span class="s1">function startWaapiAnimation(element, valueName, keyframes, { delay = 0, duration = 300, repeat = 0, repeatType = </span><span class="s3">\&quot;</span><span class="s1">loop</span><span class="s3">\&quot;</span><span class="s1">, ease = </span><span class="s3">\&quot;</span><span class="s1">easeOut</span><span class="s3">\&quot;</span><span class="s1">, times, } = {}, pseudoElement = undefined) {</span><span class="s3">\n    </span><span class="s1">const keyframeOptions = {</span><span class="s3">\n        </span><span class="s1">[valueName]: keyframes,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">if (times)</span><span class="s3">\n        </span><span class="s1">keyframeOptions.offset = times;</span><span class="s3">\n    </span><span class="s1">const easing = mapEasingToNativeEasing(ease, duration);</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* If this is an easing array, apply to keyframes, not animation as a whole</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">if (Array.isArray(easing))</span><span class="s3">\n        </span><span class="s1">keyframeOptions.easing = easing;</span><span class="s3">\n    </span><span class="s1">if (statsBuffer.value) {</span><span class="s3">\n        </span><span class="s1">activeAnimations.waapi++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const options = {</span><span class="s3">\n        </span><span class="s1">delay,</span><span class="s3">\n        </span><span class="s1">duration,</span><span class="s3">\n        </span><span class="s1">easing: !Array.isArray(easing) ? easing : </span><span class="s3">\&quot;</span><span class="s1">linear</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">fill: </span><span class="s3">\&quot;</span><span class="s1">both</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">iterations: repeat + 1,</span><span class="s3">\n        </span><span class="s1">direction: repeatType === </span><span class="s3">\&quot;</span><span class="s1">reverse</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">alternate</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">if (pseudoElement)</span><span class="s3">\n        </span><span class="s1">options.pseudoElement = pseudoElement;</span><span class="s3">\n    </span><span class="s1">const animation = element.animate(keyframeOptions, options);</span><span class="s3">\n    </span><span class="s1">if (statsBuffer.value) {</span><span class="s3">\n        </span><span class="s1">animation.finished.finally(() =&gt; {</span><span class="s3">\n            </span><span class="s1">activeAnimations.waapi--;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return animation;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { startWaapiAnimation };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;;;;AAEA,SAAS,oBAAoB,OAAO,EAAE,SAAS,EAAE,SAAS;QAAE,EAAE,QAAQ,CAAC,EAAE,WAAW,GAAG,EAAE,SAAS,CAAC,EAAE,aAAa,MAAM,EAAE,OAAO,SAAS,EAAE,KAAK,EAAG,GAAxF,iEAA2F,CAAC,GAAG,gBAAA,iEAAgB;IACvK,MAAM,kBAAkB;QACpB,CAAC,UAAU,EAAE;IACjB;IACA,IAAI,OACA,gBAAgB,MAAM,GAAG;IAC7B,MAAM,SAAS,IAAA,2NAAuB,EAAC,MAAM;IAC7C;;KAEC,GACD,IAAI,MAAM,OAAO,CAAC,SACd,gBAAgB,MAAM,GAAG;IAC7B,IAAI,iLAAW,CAAC,KAAK,EAAE;QACnB,kMAAgB,CAAC,KAAK;IAC1B;IACA,MAAM,UAAU;QACZ;QACA;QACA,QAAQ,CAAC,MAAM,OAAO,CAAC,UAAU,SAAS;QAC1C,MAAM;QACN,YAAY,SAAS;QACrB,WAAW,eAAe,YAAY,cAAc;IACxD;IACA,IAAI,eACA,QAAQ,aAAa,GAAG;IAC5B,MAAM,YAAY,QAAQ,OAAO,CAAC,iBAAiB;IACnD,IAAI,iLAAW,CAAC,KAAK,EAAE;QACnB,UAAU,QAAQ,CAAC,OAAO,CAAC;YACvB,kMAAgB,CAAC,KAAK;QAC1B;IACJ;IACA,OAAO;AACX&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3669</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/generators/utils/is-generator.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;function isGenerator(type) {</span><span class="s3">\n    </span><span class="s1">return typeof type === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">applyToOptions</span><span class="s3">\&quot; </span><span class="s1">in type;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { isGenerator };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,SAAS,YAAY,IAAI;IACrB,OAAO,OAAO,SAAS,cAAc,oBAAoB;AAC7D&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3681</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/waapi/utils/apply-generator.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { supportsLinearEasing } from '../../../utils/supports/linear-easing.mjs';</span><span class="s3">\n</span><span class="s1">import { isGenerator } from '../../generators/utils/is-generator.mjs';</span><span class="s3">\n\n</span><span class="s1">function applyGeneratorOptions({ type, ...options }) {</span><span class="s3">\n    </span><span class="s1">if (isGenerator(type) &amp;&amp; supportsLinearEasing()) {</span><span class="s3">\n        </span><span class="s1">return type.applyToOptions(options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">options.duration ?? (options.duration = 300);</span><span class="s3">\n        </span><span class="s1">options.ease ?? (options.ease = </span><span class="s3">\&quot;</span><span class="s1">easeOut</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return options;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { applyGeneratorOptions };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA,SAAS,sBAAsB,KAAoB;QAApB,EAAE,IAAI,EAAE,GAAG,SAAS,GAApB;IAC3B,IAAI,IAAA,qNAAW,EAAC,SAAS,IAAA,gNAAoB,KAAI;QAC7C,OAAO,KAAK,cAAc,CAAC;IAC/B,OACK;YACD;QAAA,CAAA,oBAAA,QAAQ,QAAQ,cAAhB,+BAAA,oBAAqB,QAAQ,QAAQ,GAAG;YACxC;QAAA,CAAA,gBAAA,QAAQ,IAAI,cAAZ,2BAAA,gBAAiB,QAAQ,IAAI,GAAG;IACpC;IACA,OAAO;AACX&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3706</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/NativeAnimation.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { invariant, millisecondsToSeconds, secondsToMilliseconds, noop } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { setStyle } from '../render/dom/style-set.mjs';</span><span class="s3">\n</span><span class="s1">import { supportsScrollTimeline } from '../utils/supports/scroll-timeline.mjs';</span><span class="s3">\n</span><span class="s1">import { getFinalKeyframe } from './keyframes/get-final.mjs';</span><span class="s3">\n</span><span class="s1">import { WithPromise } from './utils/WithPromise.mjs';</span><span class="s3">\n</span><span class="s1">import { startWaapiAnimation } from './waapi/start-waapi-animation.mjs';</span><span class="s3">\n</span><span class="s1">import { applyGeneratorOptions } from './waapi/utils/apply-generator.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* NativeAnimation implements AnimationPlaybackControls for the browser's Web Animations API.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class NativeAnimation extends WithPromise {</span><span class="s3">\n    </span><span class="s1">constructor(options) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this.finishedTime = null;</span><span class="s3">\n        </span><span class="s1">this.isStopped = false;</span><span class="s3">\n        </span><span class="s1">if (!options)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">const { element, name, keyframes, pseudoElement, allowFlatten = false, finalKeyframe, onComplete, } = options;</span><span class="s3">\n        </span><span class="s1">this.isPseudoElement = Boolean(pseudoElement);</span><span class="s3">\n        </span><span class="s1">this.allowFlatten = allowFlatten;</span><span class="s3">\n        </span><span class="s1">this.options = options;</span><span class="s3">\n        </span><span class="s1">invariant(typeof options.type !== </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">, `Mini animate() doesn't support </span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot; </span><span class="s1">as a string.`, </span><span class="s3">\&quot;</span><span class="s1">mini-spring</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const transition = applyGeneratorOptions(options);</span><span class="s3">\n        </span><span class="s1">this.animation = startWaapiAnimation(element, name, keyframes, transition, pseudoElement);</span><span class="s3">\n        </span><span class="s1">if (transition.autoplay === false) {</span><span class="s3">\n            </span><span class="s1">this.animation.pause();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.animation.onfinish = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.finishedTime = this.time;</span><span class="s3">\n            </span><span class="s1">if (!pseudoElement) {</span><span class="s3">\n                </span><span class="s1">const keyframe = getFinalKeyframe(keyframes, this.options, finalKeyframe, this.speed);</span><span class="s3">\n                </span><span class="s1">if (this.updateMotionValue) {</span><span class="s3">\n                    </span><span class="s1">this.updateMotionValue(keyframe);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">/**</span><span class="s3">\n                     </span><span class="s1">* If we can, we want to commit the final style as set by the user,</span><span class="s3">\n                     </span><span class="s1">* rather than the computed keyframe value supplied by the animation.</span><span class="s3">\n                     </span><span class="s1">*/</span><span class="s3">\n                    </span><span class="s1">setStyle(element, name, keyframe);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.animation.cancel();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">onComplete?.();</span><span class="s3">\n            </span><span class="s1">this.notifyFinished();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">play() {</span><span class="s3">\n        </span><span class="s1">if (this.isStopped)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">this.animation.play();</span><span class="s3">\n        </span><span class="s1">if (this.state === </span><span class="s3">\&quot;</span><span class="s1">finished</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.updateFinished();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">pause() {</span><span class="s3">\n        </span><span class="s1">this.animation.pause();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">complete() {</span><span class="s3">\n        </span><span class="s1">this.animation.finish?.();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">cancel() {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">this.animation.cancel();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e) { }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">stop() {</span><span class="s3">\n        </span><span class="s1">if (this.isStopped)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">this.isStopped = true;</span><span class="s3">\n        </span><span class="s1">const { state } = this;</span><span class="s3">\n        </span><span class="s1">if (state === </span><span class="s3">\&quot;</span><span class="s1">idle</span><span class="s3">\&quot; </span><span class="s1">|| state === </span><span class="s3">\&quot;</span><span class="s1">finished</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.updateMotionValue) {</span><span class="s3">\n            </span><span class="s1">this.updateMotionValue();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.commitStyles();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!this.isPseudoElement)</span><span class="s3">\n            </span><span class="s1">this.cancel();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* WAAPI doesn't natively have any interruption capabilities.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* In this method, we commit styles back to the DOM before cancelling</span><span class="s3">\n     </span><span class="s1">* the animation.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* This is designed to be overridden by NativeAnimationExtended, which</span><span class="s3">\n     </span><span class="s1">* will create a renderless JS animation and sample it twice to calculate</span><span class="s3">\n     </span><span class="s1">* its current value, </span><span class="s3">\&quot;</span><span class="s1">previous</span><span class="s3">\&quot; </span><span class="s1">value, and therefore allow</span><span class="s3">\n     </span><span class="s1">* Motion to also correctly calculate velocity for any subsequent animation</span><span class="s3">\n     </span><span class="s1">* while deferring the commit until the next animation frame.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">commitStyles() {</span><span class="s3">\n        </span><span class="s1">if (!this.isPseudoElement) {</span><span class="s3">\n            </span><span class="s1">this.animation.commitStyles?.();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get duration() {</span><span class="s3">\n        </span><span class="s1">const duration = this.animation.effect?.getComputedTiming?.().duration || 0;</span><span class="s3">\n        </span><span class="s1">return millisecondsToSeconds(Number(duration));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get iterationDuration() {</span><span class="s3">\n        </span><span class="s1">const { delay = 0 } = this.options || {};</span><span class="s3">\n        </span><span class="s1">return this.duration + millisecondsToSeconds(delay);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get time() {</span><span class="s3">\n        </span><span class="s1">return millisecondsToSeconds(Number(this.animation.currentTime) || 0);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set time(newTime) {</span><span class="s3">\n        </span><span class="s1">this.finishedTime = null;</span><span class="s3">\n        </span><span class="s1">this.animation.currentTime = secondsToMilliseconds(newTime);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The playback speed of the animation.</span><span class="s3">\n     </span><span class="s1">* 1 = normal speed, 2 = double speed, 0.5 = half speed.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get speed() {</span><span class="s3">\n        </span><span class="s1">return this.animation.playbackRate;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set speed(newSpeed) {</span><span class="s3">\n        </span><span class="s1">// Allow backwards playback after finishing</span><span class="s3">\n        </span><span class="s1">if (newSpeed &lt; 0)</span><span class="s3">\n            </span><span class="s1">this.finishedTime = null;</span><span class="s3">\n        </span><span class="s1">this.animation.playbackRate = newSpeed;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get state() {</span><span class="s3">\n        </span><span class="s1">return this.finishedTime !== null</span><span class="s3">\n            </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">finished</span><span class="s3">\&quot;\n            </span><span class="s1">: this.animation.playState;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get startTime() {</span><span class="s3">\n        </span><span class="s1">return Number(this.animation.startTime);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set startTime(newStartTime) {</span><span class="s3">\n        </span><span class="s1">this.animation.startTime = newStartTime;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Attaches a timeline to the animation, for instance the `ScrollTimeline`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">attachTimeline({ timeline, observe }) {</span><span class="s3">\n        </span><span class="s1">if (this.allowFlatten) {</span><span class="s3">\n            </span><span class="s1">this.animation.effect?.updateTiming({ easing: </span><span class="s3">\&quot;</span><span class="s1">linear</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.animation.onfinish = null;</span><span class="s3">\n        </span><span class="s1">if (timeline &amp;&amp; supportsScrollTimeline()) {</span><span class="s3">\n            </span><span class="s1">this.animation.timeline = timeline;</span><span class="s3">\n            </span><span class="s1">return noop;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">return observe(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { NativeAnimation };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3872</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/waapi/utils/unsupported-easing.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { anticipate, backInOut, circInOut } from 'motion-utils';</span><span class="s3">\n\n</span><span class="s1">const unsupportedEasingFunctions = {</span><span class="s3">\n    </span><span class="s1">anticipate,</span><span class="s3">\n    </span><span class="s1">backInOut,</span><span class="s3">\n    </span><span class="s1">circInOut,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function isUnsupportedEase(key) {</span><span class="s3">\n    </span><span class="s1">return key in unsupportedEasingFunctions;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function replaceStringEasing(transition) {</span><span class="s3">\n    </span><span class="s1">if (typeof transition.ease === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n        </span><span class="s1">isUnsupportedEase(transition.ease)) {</span><span class="s3">\n        </span><span class="s1">transition.ease = unsupportedEasingFunctions[transition.ease];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { replaceStringEasing };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AAAA;AAAA;;AAEA,MAAM,6BAA6B;IAC/B,YAAA,uLAAU;IACV,WAAA,gLAAS;IACT,WAAA,gLAAS;AACb;AACA,SAAS,kBAAkB,GAAG;IAC1B,OAAO,OAAO;AAClB;AACA,SAAS,oBAAoB,UAAU;IACnC,IAAI,OAAO,WAAW,IAAI,KAAK,YAC3B,kBAAkB,WAAW,IAAI,GAAG;QACpC,WAAW,IAAI,GAAG,0BAA0B,CAAC,WAAW,IAAI,CAAC;IACjE;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3898</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/NativeAnimationExtended.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { secondsToMilliseconds } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { JSAnimation } from './JSAnimation.mjs';</span><span class="s3">\n</span><span class="s1">import { NativeAnimation } from './NativeAnimation.mjs';</span><span class="s3">\n</span><span class="s1">import { replaceTransitionType } from './utils/replace-transition-type.mjs';</span><span class="s3">\n</span><span class="s1">import { replaceStringEasing } from './waapi/utils/unsupported-easing.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* 10ms is chosen here as it strikes a balance between smooth</span><span class="s3">\n </span><span class="s1">* results (more than one keyframe per frame at 60fps) and</span><span class="s3">\n </span><span class="s1">* keyframe quantity.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const sampleDelta = 10; //ms</span><span class="s3">\n</span><span class="s1">class NativeAnimationExtended extends NativeAnimation {</span><span class="s3">\n    </span><span class="s1">constructor(options) {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The base NativeAnimation function only supports a subset</span><span class="s3">\n         </span><span class="s1">* of Motion easings, and WAAPI also only supports some</span><span class="s3">\n         </span><span class="s1">* easing functions via string/cubic-bezier definitions.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* This function replaces those unsupported easing functions</span><span class="s3">\n         </span><span class="s1">* with a JS easing function. This will later get compiled</span><span class="s3">\n         </span><span class="s1">* to a linear() easing function.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">replaceStringEasing(options);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Ensure we replace the transition type with a generator function</span><span class="s3">\n         </span><span class="s1">* before passing to WAAPI.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* TODO: Does this have a better home? It could be shared with</span><span class="s3">\n         </span><span class="s1">* JSAnimation.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">replaceTransitionType(options);</span><span class="s3">\n        </span><span class="s1">super(options);</span><span class="s3">\n        </span><span class="s1">if (options.startTime) {</span><span class="s3">\n            </span><span class="s1">this.startTime = options.startTime;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.options = options;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* WAAPI doesn't natively have any interruption capabilities.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* Rather than read commited styles back out of the DOM, we can</span><span class="s3">\n     </span><span class="s1">* create a renderless JS animation and sample it twice to calculate</span><span class="s3">\n     </span><span class="s1">* its current value, </span><span class="s3">\&quot;</span><span class="s1">previous</span><span class="s3">\&quot; </span><span class="s1">value, and therefore allow</span><span class="s3">\n     </span><span class="s1">* Motion to calculate velocity for any subsequent animation.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateMotionValue(value) {</span><span class="s3">\n        </span><span class="s1">const { motionValue, onUpdate, onComplete, element, ...options } = this.options;</span><span class="s3">\n        </span><span class="s1">if (!motionValue)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">if (value !== undefined) {</span><span class="s3">\n            </span><span class="s1">motionValue.set(value);</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const sampleAnimation = new JSAnimation({</span><span class="s3">\n            </span><span class="s1">...options,</span><span class="s3">\n            </span><span class="s1">autoplay: false,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">const sampleTime = secondsToMilliseconds(this.finishedTime ?? this.time);</span><span class="s3">\n        </span><span class="s1">motionValue.setWithVelocity(sampleAnimation.sample(sampleTime - sampleDelta).value, sampleAnimation.sample(sampleTime).value, sampleDelta);</span><span class="s3">\n        </span><span class="s1">sampleAnimation.stop();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { NativeAnimationExtended };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA;;;;CAIC,GACD,MAAM,cAAc,IAAI,IAAI;AAC5B,MAAM,gCAAgC,kMAAe;IA0BjD;;;;;;;KAOC,GACD,kBAAkB,KAAK,EAAE;QACrB,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,UAAU,EAAE,OAAO,EAAE,GAAG,SAAS,GAAG,IAAI,CAAC,OAAO;QAC/E,IAAI,CAAC,aACD;QACJ,IAAI,UAAU,WAAW;YACrB,YAAY,GAAG,CAAC;YAChB;QACJ;QACA,MAAM,kBAAkB,IAAI,0LAAW,CAAC;YACpC,GAAG,OAAO;YACV,UAAU;QACd;YACyC;QAAzC,MAAM,aAAa,IAAA,gMAAqB,EAAC,CAAA,qBAAA,IAAI,CAAC,YAAY,cAAjB,gCAAA,qBAAqB,IAAI,CAAC,IAAI;QACvE,YAAY,eAAe,CAAC,gBAAgB,MAAM,CAAC,aAAa,aAAa,KAAK,EAAE,gBAAgB,MAAM,CAAC,YAAY,KAAK,EAAE;QAC9H,gBAAgB,IAAI;IACxB;IAhDA,YAAY,OAAO,CAAE;QACjB;;;;;;;;SAQC,GACD,IAAA,8NAAmB,EAAC;QACpB;;;;;;SAMC,GACD,IAAA,+NAAqB,EAAC;QACtB,KAAK,CAAC;QACN,IAAI,QAAQ,SAAS,EAAE;YACnB,IAAI,CAAC,SAAS,GAAG,QAAQ,SAAS;QACtC;QACA,IAAI,CAAC,OAAO,GAAG;IACnB;AAyBJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">3970</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/utils/is-animatable.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { complex } from '../../value/types/complex/index.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Check if a value is animatable. Examples:</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* : 100, </span><span class="s3">\&quot;</span><span class="s1">100px</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">#fff</span><span class="s3">\&quot;\n </span><span class="s1">* : </span><span class="s3">\&quot;</span><span class="s1">block</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">url(2.jpg)</span><span class="s3">\&quot;\n </span><span class="s1">* @param value</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const isAnimatable = (value, name) =&gt; {</span><span class="s3">\n    </span><span class="s1">// If the list of keys that might be non-animatable grows, replace with Set</span><span class="s3">\n    </span><span class="s1">if (name === </span><span class="s3">\&quot;</span><span class="s1">zIndex</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">// If it's a number or a keyframes array, we can animate it. We might at some point</span><span class="s3">\n    </span><span class="s1">// need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,</span><span class="s3">\n    </span><span class="s1">// but for now lets leave it like this for performance reasons</span><span class="s3">\n    </span><span class="s1">if (typeof value === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">|| Array.isArray(value))</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">if (typeof value === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; // It's animatable if we have a string</span><span class="s3">\n        </span><span class="s1">(complex.test(value) || value === </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp; // And it contains numbers and/or colors</span><span class="s3">\n        </span><span class="s1">!value.startsWith(</span><span class="s3">\&quot;</span><span class="s1">url(</span><span class="s3">\&quot;</span><span class="s1">) // Unless it starts with </span><span class="s3">\&quot;</span><span class="s1">url(</span><span class="s3">\&quot;\n    </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { isAnimatable };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA;;;;;;;;CAQC,GACD,MAAM,eAAe,CAAC,OAAO;IACzB,2EAA2E;IAC3E,IAAI,SAAS,UACT,OAAO;IACX,mFAAmF;IACnF,mFAAmF;IACnF,8DAA8D;IAC9D,IAAI,OAAO,UAAU,YAAY,MAAM,OAAO,CAAC,QAC3C,OAAO;IACX,IAAI,OAAO,UAAU,YAAY,sCAAsC;IACnE,CAAC,gMAAO,CAAC,IAAI,CAAC,UAAU,UAAU,GAAG,KAAK,wCAAwC;IAClF,CAAC,MAAM,UAAU,CAAC,QAAQ,+BAA+B;MAC3D;QACE,OAAO;IACX;IACA,OAAO;AACX&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4004</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/utils/can-animate.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { warning } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { isGenerator } from '../generators/utils/is-generator.mjs';</span><span class="s3">\n</span><span class="s1">import { isAnimatable } from './is-animatable.mjs';</span><span class="s3">\n\n</span><span class="s1">function hasKeyframesChanged(keyframes) {</span><span class="s3">\n    </span><span class="s1">const current = keyframes[0];</span><span class="s3">\n    </span><span class="s1">if (keyframes.length === 1)</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; keyframes.length; i++) {</span><span class="s3">\n        </span><span class="s1">if (keyframes[i] !== current)</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function canAnimate(keyframes, name, type, velocity) {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Check if we're able to animate between the start and end keyframes,</span><span class="s3">\n     </span><span class="s1">* and throw a warning if we're attempting to animate between one that's</span><span class="s3">\n     </span><span class="s1">* animatable and another that isn't.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">const originKeyframe = keyframes[0];</span><span class="s3">\n    </span><span class="s1">if (originKeyframe === null)</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* These aren't traditionally animatable but we do support them.</span><span class="s3">\n     </span><span class="s1">* In future we could look into making this more generic or replacing</span><span class="s3">\n     </span><span class="s1">* this function with mix() === mixImmediate</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">if (name === </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot; </span><span class="s1">|| name === </span><span class="s3">\&quot;</span><span class="s1">visibility</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">const targetKeyframe = keyframes[keyframes.length - 1];</span><span class="s3">\n    </span><span class="s1">const isOriginAnimatable = isAnimatable(originKeyframe, name);</span><span class="s3">\n    </span><span class="s1">const isTargetAnimatable = isAnimatable(targetKeyframe, name);</span><span class="s3">\n    </span><span class="s1">warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${name} from </span><span class="s3">\&quot;</span><span class="s1">${originKeyframe}</span><span class="s3">\&quot; </span><span class="s1">to </span><span class="s3">\&quot;</span><span class="s1">${targetKeyframe}</span><span class="s3">\&quot;</span><span class="s1">. </span><span class="s3">\&quot;</span><span class="s1">${isOriginAnimatable ? targetKeyframe : originKeyframe}</span><span class="s3">\&quot; </span><span class="s1">is not an animatable value.`, </span><span class="s3">\&quot;</span><span class="s1">value-not-animatable</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">// Always skip if any of these are true</span><span class="s3">\n    </span><span class="s1">if (!isOriginAnimatable || !isTargetAnimatable) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return (hasKeyframesChanged(keyframes) ||</span><span class="s3">\n        </span><span class="s1">((type === </span><span class="s3">\&quot;</span><span class="s1">spring</span><span class="s3">\&quot; </span><span class="s1">|| isGenerator(type)) &amp;&amp; velocity));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { canAnimate };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;;;;AAEA,SAAS,oBAAoB,SAAS;IAClC,MAAM,UAAU,SAAS,CAAC,EAAE;IAC5B,IAAI,UAAU,MAAM,KAAK,GACrB,OAAO;IACX,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAK;QACvC,IAAI,SAAS,CAAC,EAAE,KAAK,SACjB,OAAO;IACf;AACJ;AACA,SAAS,WAAW,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ;IAC/C;;;;KAIC,GACD,MAAM,iBAAiB,SAAS,CAAC,EAAE;IACnC,IAAI,mBAAmB,MACnB,OAAO;IACX;;;;KAIC,GACD,IAAI,SAAS,aAAa,SAAS,cAC/B,OAAO;IACX,MAAM,iBAAiB,SAAS,CAAC,UAAU,MAAM,GAAG,EAAE;IACtD,MAAM,qBAAqB,IAAA,yMAAY,EAAC,gBAAgB;IACxD,MAAM,qBAAqB,IAAA,yMAAY,EAAC,gBAAgB;IACxD,IAAA,sKAAO,EAAC,uBAAuB,oBAAoB,AAAC,6BAA0C,OAAd,MAAK,WAAgC,OAAvB,gBAAe,UAA6B,OAArB,gBAAe,QAA2D,OAArD,qBAAqB,iBAAiB,gBAAe,kCAAgC;IAC/N,uCAAuC;IACvC,IAAI,CAAC,sBAAsB,CAAC,oBAAoB;QAC5C,OAAO;IACX;IACA,OAAQ,oBAAoB,cACvB,CAAC,SAAS,YAAY,IAAA,qNAAW,EAAC,KAAK,KAAK;AACrD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4048</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/waapi/supports/waapi.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { memo } from 'motion-utils';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A list of values that can be hardware-accelerated.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const acceleratedValues = new Set([</span><span class="s3">\n    \&quot;</span><span class="s1">opacity</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">clipPath</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">filter</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">// TODO: Could be re-enabled now we have support for linear() easing</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">background-color</span><span class="s3">\&quot;\n</span><span class="s1">]);</span><span class="s3">\n</span><span class="s1">const supportsWaapi = /*@__PURE__*/ memo(() =&gt; Object.hasOwnProperty.call(Element.prototype, </span><span class="s3">\&quot;</span><span class="s1">animate</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">function supportsBrowserAnimation(options) {</span><span class="s3">\n    </span><span class="s1">const { motionValue, name, repeatDelay, repeatType, damping, type } = options;</span><span class="s3">\n    </span><span class="s1">const subject = motionValue?.owner?.current;</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* We use this check instead of isHTMLElement() because we explicitly</span><span class="s3">\n     </span><span class="s1">* **don't** want elements in different timing contexts (i.e. popups)</span><span class="s3">\n     </span><span class="s1">* to be accelerated, as it's not possible to sync these animations</span><span class="s3">\n     </span><span class="s1">* properly with those driven from the main window frameloop.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">if (!(subject instanceof HTMLElement)) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const { onUpdate, transformTemplate } = motionValue.owner.getProps();</span><span class="s3">\n    </span><span class="s1">return (supportsWaapi() &amp;&amp;</span><span class="s3">\n        </span><span class="s1">name &amp;&amp;</span><span class="s3">\n        </span><span class="s1">acceleratedValues.has(name) &amp;&amp;</span><span class="s3">\n        </span><span class="s1">(name !== </span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot; </span><span class="s1">|| !transformTemplate) &amp;&amp;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* If we're outputting values to onUpdate then we can't use WAAPI as there's</span><span class="s3">\n         </span><span class="s1">* no way to read the value from WAAPI every frame.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">!onUpdate &amp;&amp;</span><span class="s3">\n        </span><span class="s1">!repeatDelay &amp;&amp;</span><span class="s3">\n        </span><span class="s1">repeatType !== </span><span class="s3">\&quot;</span><span class="s1">mirror</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n        </span><span class="s1">damping !== 0 &amp;&amp;</span><span class="s3">\n        </span><span class="s1">type !== </span><span class="s3">\&quot;</span><span class="s1">inertia</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { supportsBrowserAnimation };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA;;CAEC,GACD,MAAM,oBAAoB,IAAI,IAAI;IAC9B;IACA;IACA;IACA;CAGH;AACD,MAAM,gBAAgB,WAAW,GAAG,IAAA,iKAAI,EAAC,IAAM,OAAO,cAAc,CAAC,IAAI,CAAC,QAAQ,SAAS,EAAE;AAC7F,SAAS,yBAAyB,OAAO;QAErB;IADhB,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,WAAW,EAAE,UAAU,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG;IACtE,MAAM,UAAU,wBAAA,mCAAA,qBAAA,YAAa,KAAK,cAAlB,yCAAA,mBAAoB,OAAO;IAC3C;;;;;KAKC,GACD,IAAI,CAAC,CAAC,mBAAmB,WAAW,GAAG;QACnC,OAAO;IACX;IACA,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,GAAG,YAAY,KAAK,CAAC,QAAQ;IAClE,OAAQ,mBACJ,QACA,kBAAkB,GAAG,CAAC,SACtB,CAAC,SAAS,eAAe,CAAC,iBAAiB,KAC3C;;;SAGC,GACD,CAAC,YACD,CAAC,eACD,eAAe,YACf,YAAY,KACZ,SAAS;AACjB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4086</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/animation/AsyncMotionValueAnimation.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { MotionGlobalConfig, noop } from 'motion-utils';</span><span class="s3">\n</span><span class="s1">import { time } from '../frameloop/sync-time.mjs';</span><span class="s3">\n</span><span class="s1">import { JSAnimation } from './JSAnimation.mjs';</span><span class="s3">\n</span><span class="s1">import { getFinalKeyframe } from './keyframes/get-final.mjs';</span><span class="s3">\n</span><span class="s1">import { KeyframeResolver, flushKeyframeResolvers } from './keyframes/KeyframesResolver.mjs';</span><span class="s3">\n</span><span class="s1">import { NativeAnimationExtended } from './NativeAnimationExtended.mjs';</span><span class="s3">\n</span><span class="s1">import { canAnimate } from './utils/can-animate.mjs';</span><span class="s3">\n</span><span class="s1">import { makeAnimationInstant } from './utils/make-animation-instant.mjs';</span><span class="s3">\n</span><span class="s1">import { WithPromise } from './utils/WithPromise.mjs';</span><span class="s3">\n</span><span class="s1">import { supportsBrowserAnimation } from './waapi/supports/waapi.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Maximum time allowed between an animation being created and it being</span><span class="s3">\n </span><span class="s1">* resolved for us to use the latter as the start time.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* This is to ensure that while we prefer to </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot; </span><span class="s1">an animation as soon</span><span class="s3">\n </span><span class="s1">* as it's triggered, we also want to avoid a visual jump if there's a big delay</span><span class="s3">\n </span><span class="s1">* between these two moments.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const MAX_RESOLVE_DELAY = 40;</span><span class="s3">\n</span><span class="s1">class AsyncMotionValueAnimation extends WithPromise {</span><span class="s3">\n    </span><span class="s1">constructor({ autoplay = true, delay = 0, type = </span><span class="s3">\&quot;</span><span class="s1">keyframes</span><span class="s3">\&quot;</span><span class="s1">, repeat = 0, repeatDelay = 0, repeatType = </span><span class="s3">\&quot;</span><span class="s1">loop</span><span class="s3">\&quot;</span><span class="s1">, keyframes, name, motionValue, element, ...options }) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Bound to support return animation.stop pattern</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.stop = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this._animation) {</span><span class="s3">\n                </span><span class="s1">this._animation.stop();</span><span class="s3">\n                </span><span class="s1">this.stopTimeline?.();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.keyframeResolver?.cancel();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.createdAt = time.now();</span><span class="s3">\n        </span><span class="s1">const optionsWithDefaults = {</span><span class="s3">\n            </span><span class="s1">autoplay,</span><span class="s3">\n            </span><span class="s1">delay,</span><span class="s3">\n            </span><span class="s1">type,</span><span class="s3">\n            </span><span class="s1">repeat,</span><span class="s3">\n            </span><span class="s1">repeatDelay,</span><span class="s3">\n            </span><span class="s1">repeatType,</span><span class="s3">\n            </span><span class="s1">name,</span><span class="s3">\n            </span><span class="s1">motionValue,</span><span class="s3">\n            </span><span class="s1">element,</span><span class="s3">\n            </span><span class="s1">...options,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">const KeyframeResolver$1 = element?.KeyframeResolver || KeyframeResolver;</span><span class="s3">\n        </span><span class="s1">this.keyframeResolver = new KeyframeResolver$1(keyframes, (resolvedKeyframes, finalKeyframe, forced) =&gt; this.onKeyframesResolved(resolvedKeyframes, finalKeyframe, optionsWithDefaults, !forced), name, motionValue, element);</span><span class="s3">\n        </span><span class="s1">this.keyframeResolver?.scheduleResolve();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">onKeyframesResolved(keyframes, finalKeyframe, options, sync) {</span><span class="s3">\n        </span><span class="s1">this.keyframeResolver = undefined;</span><span class="s3">\n        </span><span class="s1">const { name, type, velocity, delay, isHandoff, onUpdate } = options;</span><span class="s3">\n        </span><span class="s1">this.resolvedAt = time.now();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* If we can't animate this value with the resolved keyframes</span><span class="s3">\n         </span><span class="s1">* then we should complete it immediately.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">if (!canAnimate(keyframes, name, type, velocity)) {</span><span class="s3">\n            </span><span class="s1">if (MotionGlobalConfig.instantAnimations || !delay) {</span><span class="s3">\n                </span><span class="s1">onUpdate?.(getFinalKeyframe(keyframes, options, finalKeyframe));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">keyframes[0] = keyframes[keyframes.length - 1];</span><span class="s3">\n            </span><span class="s1">makeAnimationInstant(options);</span><span class="s3">\n            </span><span class="s1">options.repeat = 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Resolve startTime for the animation.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* This method uses the createdAt and resolvedAt to calculate the</span><span class="s3">\n         </span><span class="s1">* animation startTime. *Ideally*, we would use the createdAt time as t=0</span><span class="s3">\n         </span><span class="s1">* as the following frame would then be the first frame of the animation in</span><span class="s3">\n         </span><span class="s1">* progress, which would feel snappier.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* However, if there's a delay (main thread work) between the creation of</span><span class="s3">\n         </span><span class="s1">* the animation and the first commited frame, we prefer to use resolvedAt</span><span class="s3">\n         </span><span class="s1">* to avoid a sudden jump into the animation.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">const startTime = sync</span><span class="s3">\n            </span><span class="s1">? !this.resolvedAt</span><span class="s3">\n                </span><span class="s1">? this.createdAt</span><span class="s3">\n                </span><span class="s1">: this.resolvedAt - this.createdAt &gt; MAX_RESOLVE_DELAY</span><span class="s3">\n                    </span><span class="s1">? this.resolvedAt</span><span class="s3">\n                    </span><span class="s1">: this.createdAt</span><span class="s3">\n            </span><span class="s1">: undefined;</span><span class="s3">\n        </span><span class="s1">const resolvedOptions = {</span><span class="s3">\n            </span><span class="s1">startTime,</span><span class="s3">\n            </span><span class="s1">finalKeyframe,</span><span class="s3">\n            </span><span class="s1">...options,</span><span class="s3">\n            </span><span class="s1">keyframes,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Animate via WAAPI if possible. If this is a handoff animation, the optimised animation will be running via</span><span class="s3">\n         </span><span class="s1">* WAAPI. Therefore, this animation must be JS to ensure it runs </span><span class="s3">\&quot;</span><span class="s1">under</span><span class="s3">\&quot; </span><span class="s1">the</span><span class="s3">\n         </span><span class="s1">* optimised animation.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">const animation = !isHandoff &amp;&amp; supportsBrowserAnimation(resolvedOptions)</span><span class="s3">\n            </span><span class="s1">? new NativeAnimationExtended({</span><span class="s3">\n                </span><span class="s1">...resolvedOptions,</span><span class="s3">\n                </span><span class="s1">element: resolvedOptions.motionValue.owner.current,</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n            </span><span class="s1">: new JSAnimation(resolvedOptions);</span><span class="s3">\n        </span><span class="s1">animation.finished.then(() =&gt; this.notifyFinished()).catch(noop);</span><span class="s3">\n        </span><span class="s1">if (this.pendingTimeline) {</span><span class="s3">\n            </span><span class="s1">this.stopTimeline = animation.attachTimeline(this.pendingTimeline);</span><span class="s3">\n            </span><span class="s1">this.pendingTimeline = undefined;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this._animation = animation;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get finished() {</span><span class="s3">\n        </span><span class="s1">if (!this._animation) {</span><span class="s3">\n            </span><span class="s1">return this._finished;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">return this.animation.finished;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">then(onResolve, _onReject) {</span><span class="s3">\n        </span><span class="s1">return this.finished.finally(onResolve).then(() =&gt; { });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get animation() {</span><span class="s3">\n        </span><span class="s1">if (!this._animation) {</span><span class="s3">\n            </span><span class="s1">this.keyframeResolver?.resume();</span><span class="s3">\n            </span><span class="s1">flushKeyframeResolvers();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this._animation;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get duration() {</span><span class="s3">\n        </span><span class="s1">return this.animation.duration;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get iterationDuration() {</span><span class="s3">\n        </span><span class="s1">return this.animation.iterationDuration;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get time() {</span><span class="s3">\n        </span><span class="s1">return this.animation.time;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set time(newTime) {</span><span class="s3">\n        </span><span class="s1">this.animation.time = newTime;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get speed() {</span><span class="s3">\n        </span><span class="s1">return this.animation.speed;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get state() {</span><span class="s3">\n        </span><span class="s1">return this.animation.state;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set speed(newSpeed) {</span><span class="s3">\n        </span><span class="s1">this.animation.speed = newSpeed;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get startTime() {</span><span class="s3">\n        </span><span class="s1">return this.animation.startTime;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">attachTimeline(timeline) {</span><span class="s3">\n        </span><span class="s1">if (this._animation) {</span><span class="s3">\n            </span><span class="s1">this.stopTimeline = this.animation.attachTimeline(timeline);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.pendingTimeline = timeline;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return () =&gt; this.stop();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">play() {</span><span class="s3">\n        </span><span class="s1">this.animation.play();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">pause() {</span><span class="s3">\n        </span><span class="s1">this.animation.pause();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">complete() {</span><span class="s3">\n        </span><span class="s1">this.animation.complete();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">cancel() {</span><span class="s3">\n        </span><span class="s1">if (this._animation) {</span><span class="s3">\n            </span><span class="s1">this.animation.cancel();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.keyframeResolver?.cancel();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { AsyncMotionValueAnimation };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4271</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/gestures/drag/state/is-active.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const isDragging = {</span><span class="s3">\n    </span><span class="s1">x: false,</span><span class="s3">\n    </span><span class="s1">y: false,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function isDragActive() {</span><span class="s3">\n    </span><span class="s1">return isDragging.x || isDragging.y;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { isDragActive, isDragging };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA,MAAM,aAAa;IACf,GAAG;IACH,GAAG;AACP;AACA,SAAS;IACL,OAAO,WAAW,CAAC,IAAI,WAAW,CAAC;AACvC&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4289</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/gestures/drag/state/set-active.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { isDragging } from './is-active.mjs';</span><span class="s3">\n\n</span><span class="s1">function setDragLock(axis) {</span><span class="s3">\n    </span><span class="s1">if (axis === </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot; </span><span class="s1">|| axis === </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">if (isDragging[axis]) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">isDragging[axis] = true;</span><span class="s3">\n            </span><span class="s1">return () =&gt; {</span><span class="s3">\n                </span><span class="s1">isDragging[axis] = false;</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">if (isDragging.x || isDragging.y) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">isDragging.x = isDragging.y = true;</span><span class="s3">\n            </span><span class="s1">return () =&gt; {</span><span class="s3">\n                </span><span class="s1">isDragging.x = isDragging.y = false;</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { setDragLock };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,SAAS,YAAY,IAAI;IACrB,IAAI,SAAS,OAAO,SAAS,KAAK;QAC9B,IAAI,0MAAU,CAAC,KAAK,EAAE;YAClB,OAAO;QACX,OACK;YACD,0MAAU,CAAC,KAAK,GAAG;YACnB,OAAO;gBACH,0MAAU,CAAC,KAAK,GAAG;YACvB;QACJ;IACJ,OACK;QACD,IAAI,0MAAU,CAAC,CAAC,IAAI,0MAAU,CAAC,CAAC,EAAE;YAC9B,OAAO;QACX,OACK;YACD,0MAAU,CAAC,CAAC,GAAG,0MAAU,CAAC,CAAC,GAAG;YAC9B,OAAO;gBACH,0MAAU,CAAC,CAAC,GAAG,0MAAU,CAAC,CAAC,GAAG;YAClC;QACJ;IACJ;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4321</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/gestures/utils/is-primary-pointer.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const isPrimaryPointer = (event) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (event.pointerType === </span><span class="s3">\&quot;</span><span class="s1">mouse</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return typeof event.button !== </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">|| event.button &lt;= 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* isPrimary is true for all mice buttons, whereas every touch point</span><span class="s3">\n         </span><span class="s1">* is regarded as its own input. So subsequent concurrent touch points</span><span class="s3">\n         </span><span class="s1">* will be false.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* Specifically match against false here as incomplete versions of</span><span class="s3">\n         </span><span class="s1">* PointerEvents in very old browser might have it set as undefined.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">return event.isPrimary !== false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { isPrimaryPointer };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,mBAAmB,CAAC;IACtB,IAAI,MAAM,WAAW,KAAK,SAAS;QAC/B,OAAO,OAAO,MAAM,MAAM,KAAK,YAAY,MAAM,MAAM,IAAI;IAC/D,OACK;QACD;;;;;;;SAOC,GACD,OAAO,MAAM,SAAS,KAAK;IAC/B;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4344</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/is-svg-element.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { isObject } from 'motion-utils';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if an element is an SVG element in a way</span><span class="s3">\n </span><span class="s1">* that works across iframes</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isSVGElement(element) {</span><span class="s3">\n    </span><span class="s1">return isObject(element) &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">ownerSVGElement</span><span class="s3">\&quot; </span><span class="s1">in element;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { isSVGElement };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA;;;CAGC,GACD,SAAS,aAAa,OAAO;IACzB,OAAO,IAAA,6KAAQ,EAAC,YAAY,qBAAqB;AACrD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4361</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/is-svg-svg-element.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { isSVGElement } from './is-svg-element.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if an element is specifically an SVGSVGElement (the root SVG element)</span><span class="s3">\n </span><span class="s1">* in a way that works across iframes</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isSVGSVGElement(element) {</span><span class="s3">\n    </span><span class="s1">return isSVGElement(element) &amp;&amp; element.tagName === </span><span class="s3">\&quot;</span><span class="s1">svg</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { isSVGSVGElement };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA;;;CAGC,GACD,SAAS,gBAAgB,OAAO;IAC5B,OAAO,IAAA,gMAAY,EAAC,YAAY,QAAQ,OAAO,KAAK;AACxD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4378</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/resolve-elements.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;function resolveElements(elementOrSelector, scope, selectorCache) {</span><span class="s3">\n    </span><span class="s1">if (elementOrSelector instanceof EventTarget) {</span><span class="s3">\n        </span><span class="s1">return [elementOrSelector];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (typeof elementOrSelector === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">let root = document;</span><span class="s3">\n        </span><span class="s1">if (scope) {</span><span class="s3">\n            </span><span class="s1">root = scope.current;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const elements = selectorCache?.[elementOrSelector] ??</span><span class="s3">\n            </span><span class="s1">root.querySelectorAll(elementOrSelector);</span><span class="s3">\n        </span><span class="s1">return elements ? Array.from(elements) : [];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return Array.from(elementOrSelector);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { resolveElements };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,SAAS,gBAAgB,iBAAiB,EAAE,KAAK,EAAE,aAAa;IAC5D,IAAI,6BAA6B,aAAa;QAC1C,OAAO;YAAC;SAAkB;IAC9B,OACK,IAAI,OAAO,sBAAsB,UAAU;QAC5C,IAAI,OAAO;QACX,IAAI,OAAO;YACP,OAAO,MAAM,OAAO;QACxB;YACiB;QAAjB,MAAM,WAAW,CAAA,mCAAA,0BAAA,oCAAA,aAAe,CAAC,kBAAkB,cAAlC,8CAAA,mCACb,KAAK,gBAAgB,CAAC;QAC1B,OAAO,WAAW,MAAM,IAAI,CAAC,YAAY,EAAE;IAC/C;IACA,OAAO,MAAM,IAAI,CAAC;AACtB&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4403</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/gestures/utils/setup.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { resolveElements } from '../../utils/resolve-elements.mjs';</span><span class="s3">\n\n</span><span class="s1">function setupGesture(elementOrSelector, options) {</span><span class="s3">\n    </span><span class="s1">const elements = resolveElements(elementOrSelector);</span><span class="s3">\n    </span><span class="s1">const gestureAbortController = new AbortController();</span><span class="s3">\n    </span><span class="s1">const eventOptions = {</span><span class="s3">\n        </span><span class="s1">passive: true,</span><span class="s3">\n        </span><span class="s1">...options,</span><span class="s3">\n        </span><span class="s1">signal: gestureAbortController.signal,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">const cancel = () =&gt; gestureAbortController.abort();</span><span class="s3">\n    </span><span class="s1">return [elements, eventOptions, cancel];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { setupGesture };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA,SAAS,aAAa,iBAAiB,EAAE,OAAO;IAC5C,MAAM,WAAW,IAAA,kMAAe,EAAC;IACjC,MAAM,yBAAyB,IAAI;IACnC,MAAM,eAAe;QACjB,SAAS;QACT,GAAG,OAAO;QACV,QAAQ,uBAAuB,MAAM;IACzC;IACA,MAAM,SAAS,IAAM,uBAAuB,KAAK;IACjD,OAAO;QAAC;QAAU;QAAc;KAAO;AAC3C&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4429</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/gestures/hover.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { isDragActive } from './drag/state/is-active.mjs';</span><span class="s3">\n</span><span class="s1">import { setupGesture } from './utils/setup.mjs';</span><span class="s3">\n\n</span><span class="s1">function isValidHover(event) {</span><span class="s3">\n    </span><span class="s1">return !(event.pointerType === </span><span class="s3">\&quot;</span><span class="s1">touch</span><span class="s3">\&quot; </span><span class="s1">|| isDragActive());</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create a hover gesture. hover() is different to .addEventListener(</span><span class="s3">\&quot;</span><span class="s1">pointerenter</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n </span><span class="s1">* in that it has an easier syntax, filters out polyfilled touch events, interoperates</span><span class="s3">\n </span><span class="s1">* with drag gestures, and automatically removes the </span><span class="s3">\&quot;</span><span class="s1">pointerennd</span><span class="s3">\&quot; </span><span class="s1">event listener when the hover ends.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function hover(elementOrSelector, onHoverStart, options = {}) {</span><span class="s3">\n    </span><span class="s1">const [elements, eventOptions, cancel] = setupGesture(elementOrSelector, options);</span><span class="s3">\n    </span><span class="s1">const onPointerEnter = (enterEvent) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (!isValidHover(enterEvent))</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">const { target } = enterEvent;</span><span class="s3">\n        </span><span class="s1">const onHoverEnd = onHoverStart(target, enterEvent);</span><span class="s3">\n        </span><span class="s1">if (typeof onHoverEnd !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">|| !target)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">const onPointerLeave = (leaveEvent) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!isValidHover(leaveEvent))</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">onHoverEnd(leaveEvent);</span><span class="s3">\n            </span><span class="s1">target.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">pointerleave</span><span class="s3">\&quot;</span><span class="s1">, onPointerLeave);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">target.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">pointerleave</span><span class="s3">\&quot;</span><span class="s1">, onPointerLeave, eventOptions);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">elements.forEach((element) =&gt; {</span><span class="s3">\n        </span><span class="s1">element.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">pointerenter</span><span class="s3">\&quot;</span><span class="s1">, onPointerEnter, eventOptions);</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return cancel;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { hover };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;;;AAEA,SAAS,aAAa,KAAK;IACvB,OAAO,CAAC,CAAC,MAAM,WAAW,KAAK,WAAW,IAAA,4MAAY,GAAE;AAC5D;AACA;;;;;;CAMC,GACD,SAAS,MAAM,iBAAiB,EAAE,YAAY;QAAE,UAAA,iEAAU,CAAC;IACvD,MAAM,CAAC,UAAU,cAAc,OAAO,GAAG,IAAA,6LAAY,EAAC,mBAAmB;IACzE,MAAM,iBAAiB,CAAC;QACpB,IAAI,CAAC,aAAa,aACd;QACJ,MAAM,EAAE,MAAM,EAAE,GAAG;QACnB,MAAM,aAAa,aAAa,QAAQ;QACxC,IAAI,OAAO,eAAe,cAAc,CAAC,QACrC;QACJ,MAAM,iBAAiB,CAAC;YACpB,IAAI,CAAC,aAAa,aACd;YACJ,WAAW;YACX,OAAO,mBAAmB,CAAC,gBAAgB;QAC/C;QACA,OAAO,gBAAgB,CAAC,gBAAgB,gBAAgB;IAC5D;IACA,SAAS,OAAO,CAAC,CAAC;QACd,QAAQ,gBAAgB,CAAC,gBAAgB,gBAAgB;IAC7D;IACA,OAAO;AACX&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4471</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/utils/is-html-element.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { isObject } from 'motion-utils';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if an element is an HTML element in a way</span><span class="s3">\n </span><span class="s1">* that works across iframes</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isHTMLElement(element) {</span><span class="s3">\n    </span><span class="s1">return isObject(element) &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">offsetHeight</span><span class="s3">\&quot; </span><span class="s1">in element;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { isHTMLElement };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA;;;CAGC,GACD,SAAS,cAAc,OAAO;IAC1B,OAAO,IAAA,6KAAQ,EAAC,YAAY,kBAAkB;AAClD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4488</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/gestures/utils/is-node-or-child.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Recursively traverse up the tree to check whether the provided child node</span><span class="s3">\n </span><span class="s1">* is the parent or a descendant of it.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param parent - Element to find</span><span class="s3">\n </span><span class="s1">* @param child - Element to test against parent</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const isNodeOrChild = (parent, child) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (!child) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (parent === child) {</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">return isNodeOrChild(parent, child.parentElement);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { isNodeOrChild };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAAA;;;;;;CAMC;;;;AACD,MAAM,gBAAgB,CAAC,QAAQ;IAC3B,IAAI,CAAC,OAAO;QACR,OAAO;IACX,OACK,IAAI,WAAW,OAAO;QACvB,OAAO;IACX,OACK;QACD,OAAO,cAAc,QAAQ,MAAM,aAAa;IACpD;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4512</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/gestures/press/utils/is-keyboard-accessible.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const focusableElements = new Set([</span><span class="s3">\n    \&quot;</span><span class="s1">BUTTON</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">INPUT</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">SELECT</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">TEXTAREA</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">]);</span><span class="s3">\n</span><span class="s1">function isElementKeyboardAccessible(element) {</span><span class="s3">\n    </span><span class="s1">return (focusableElements.has(element.tagName) ||</span><span class="s3">\n        </span><span class="s1">element.tabIndex !== -1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { isElementKeyboardAccessible };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,oBAAoB,IAAI,IAAI;IAC9B;IACA;IACA;IACA;IACA;CACH;AACD,SAAS,4BAA4B,OAAO;IACxC,OAAQ,kBAAkB,GAAG,CAAC,QAAQ,OAAO,KACzC,QAAQ,QAAQ,KAAK,CAAC;AAC9B&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4531</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/gestures/press/utils/state.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const isPressing = new WeakSet();</span><span class="s3">\n\n</span><span class="s1">export { isPressing };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA,MAAM,aAAa,IAAI&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4541</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/gestures/press/utils/keyboard.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { isPressing } from './state.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Filter out events that are not </span><span class="s3">\&quot;</span><span class="s1">Enter</span><span class="s3">\&quot; </span><span class="s1">keys.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function filterEvents(callback) {</span><span class="s3">\n    </span><span class="s1">return (event) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (event.key !== </span><span class="s3">\&quot;</span><span class="s1">Enter</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">callback(event);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function firePointerEvent(target, type) {</span><span class="s3">\n    </span><span class="s1">target.dispatchEvent(new PointerEvent(</span><span class="s3">\&quot;</span><span class="s1">pointer</span><span class="s3">\&quot; </span><span class="s1">+ type, { isPrimary: true, bubbles: true }));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const enableKeyboardPress = (focusEvent, eventOptions) =&gt; {</span><span class="s3">\n    </span><span class="s1">const element = focusEvent.currentTarget;</span><span class="s3">\n    </span><span class="s1">if (!element)</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">const handleKeydown = filterEvents(() =&gt; {</span><span class="s3">\n        </span><span class="s1">if (isPressing.has(element))</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">firePointerEvent(element, </span><span class="s3">\&quot;</span><span class="s1">down</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const handleKeyup = filterEvents(() =&gt; {</span><span class="s3">\n            </span><span class="s1">firePointerEvent(element, </span><span class="s3">\&quot;</span><span class="s1">up</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">const handleBlur = () =&gt; firePointerEvent(element, </span><span class="s3">\&quot;</span><span class="s1">cancel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">element.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">keyup</span><span class="s3">\&quot;</span><span class="s1">, handleKeyup, eventOptions);</span><span class="s3">\n        </span><span class="s1">element.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">blur</span><span class="s3">\&quot;</span><span class="s1">, handleBlur, eventOptions);</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">element.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">, handleKeydown, eventOptions);</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Add an event listener that fires on blur to remove the keydown events.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">element.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">blur</span><span class="s3">\&quot;</span><span class="s1">, () =&gt; element.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">, handleKeydown), eventOptions);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { enableKeyboardPress };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;;AAEA;;CAEC,GACD,SAAS,aAAa,QAAQ;IAC1B,OAAO,CAAC;QACJ,IAAI,MAAM,GAAG,KAAK,SACd;QACJ,SAAS;IACb;AACJ;AACA,SAAS,iBAAiB,MAAM,EAAE,IAAI;IAClC,OAAO,aAAa,CAAC,IAAI,aAAa,YAAY,MAAM;QAAE,WAAW;QAAM,SAAS;IAAK;AAC7F;AACA,MAAM,sBAAsB,CAAC,YAAY;IACrC,MAAM,UAAU,WAAW,aAAa;IACxC,IAAI,CAAC,SACD;IACJ,MAAM,gBAAgB,aAAa;QAC/B,IAAI,oMAAU,CAAC,GAAG,CAAC,UACf;QACJ,iBAAiB,SAAS;QAC1B,MAAM,cAAc,aAAa;YAC7B,iBAAiB,SAAS;QAC9B;QACA,MAAM,aAAa,IAAM,iBAAiB,SAAS;QACnD,QAAQ,gBAAgB,CAAC,SAAS,aAAa;QAC/C,QAAQ,gBAAgB,CAAC,QAAQ,YAAY;IACjD;IACA,QAAQ,gBAAgB,CAAC,WAAW,eAAe;IACnD;;KAEC,GACD,QAAQ,gBAAgB,CAAC,QAAQ,IAAM,QAAQ,mBAAmB,CAAC,WAAW,gBAAgB;AAClG&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}},</span>
    <span class="s0">{</span><span class="s1">&quot;offset&quot;</span><span class="s0">: {</span><span class="s1">&quot;line&quot;</span><span class="s0">: </span><span class="s2">4584</span><span class="s0">, </span><span class="s1">&quot;column&quot;</span><span class="s0">: </span><span class="s2">0</span><span class="s0">}, </span><span class="s1">&quot;map&quot;</span><span class="s0">: {</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;file:///Users/dh/WebstormProjects/bluestag/node_modules/motion-dom/dist/es/gestures/press/index.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { isHTMLElement } from '../../utils/is-html-element.mjs';</span><span class="s3">\n</span><span class="s1">import { isDragActive } from '../drag/state/is-active.mjs';</span><span class="s3">\n</span><span class="s1">import { isNodeOrChild } from '../utils/is-node-or-child.mjs';</span><span class="s3">\n</span><span class="s1">import { isPrimaryPointer } from '../utils/is-primary-pointer.mjs';</span><span class="s3">\n</span><span class="s1">import { setupGesture } from '../utils/setup.mjs';</span><span class="s3">\n</span><span class="s1">import { isElementKeyboardAccessible } from './utils/is-keyboard-accessible.mjs';</span><span class="s3">\n</span><span class="s1">import { enableKeyboardPress } from './utils/keyboard.mjs';</span><span class="s3">\n</span><span class="s1">import { isPressing } from './utils/state.mjs';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Filter out events that are not primary pointer events, or are triggering</span><span class="s3">\n </span><span class="s1">* while a Motion gesture is active.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isValidPressEvent(event) {</span><span class="s3">\n    </span><span class="s1">return isPrimaryPointer(event) &amp;&amp; !isDragActive();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create a press gesture.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Press is different to `</span><span class="s3">\&quot;</span><span class="s1">pointerdown</span><span class="s3">\&quot;</span><span class="s1">`, `</span><span class="s3">\&quot;</span><span class="s1">pointerup</span><span class="s3">\&quot;</span><span class="s1">` in that it</span><span class="s3">\n </span><span class="s1">* automatically filters out secondary pointer events like right</span><span class="s3">\n </span><span class="s1">* click and multitouch.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* It also adds accessibility support for keyboards, where</span><span class="s3">\n </span><span class="s1">* an element with a press gesture will receive focus and</span><span class="s3">\n </span><span class="s1">*  trigger on Enter `</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">` and `</span><span class="s3">\&quot;</span><span class="s1">keyup</span><span class="s3">\&quot;</span><span class="s1">` events.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* This is different to a browser's `</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">` event, which does</span><span class="s3">\n </span><span class="s1">* respond to keyboards but only for the `</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">` itself, rather</span><span class="s3">\n </span><span class="s1">* than the press start and end/cancel. The element also needs</span><span class="s3">\n </span><span class="s1">* to be focusable for this to work, whereas a press gesture will</span><span class="s3">\n </span><span class="s1">* make an element focusable by default.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function press(targetOrSelector, onPressStart, options = {}) {</span><span class="s3">\n    </span><span class="s1">const [targets, eventOptions, cancelEvents] = setupGesture(targetOrSelector, options);</span><span class="s3">\n    </span><span class="s1">const startPress = (startEvent) =&gt; {</span><span class="s3">\n        </span><span class="s1">const target = startEvent.currentTarget;</span><span class="s3">\n        </span><span class="s1">if (!isValidPressEvent(startEvent))</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">isPressing.add(target);</span><span class="s3">\n        </span><span class="s1">const onPressEnd = onPressStart(target, startEvent);</span><span class="s3">\n        </span><span class="s1">const onPointerEnd = (endEvent, success) =&gt; {</span><span class="s3">\n            </span><span class="s1">window.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">pointerup</span><span class="s3">\&quot;</span><span class="s1">, onPointerUp);</span><span class="s3">\n            </span><span class="s1">window.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">pointercancel</span><span class="s3">\&quot;</span><span class="s1">, onPointerCancel);</span><span class="s3">\n            </span><span class="s1">if (isPressing.has(target)) {</span><span class="s3">\n                </span><span class="s1">isPressing.delete(target);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (!isValidPressEvent(endEvent)) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (typeof onPressEnd === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">onPressEnd(endEvent, { success });</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">const onPointerUp = (upEvent) =&gt; {</span><span class="s3">\n            </span><span class="s1">onPointerEnd(upEvent, target === window ||</span><span class="s3">\n                </span><span class="s1">target === document ||</span><span class="s3">\n                </span><span class="s1">options.useGlobalTarget ||</span><span class="s3">\n                </span><span class="s1">isNodeOrChild(target, upEvent.target));</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">const onPointerCancel = (cancelEvent) =&gt; {</span><span class="s3">\n            </span><span class="s1">onPointerEnd(cancelEvent, false);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">window.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">pointerup</span><span class="s3">\&quot;</span><span class="s1">, onPointerUp, eventOptions);</span><span class="s3">\n        </span><span class="s1">window.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">pointercancel</span><span class="s3">\&quot;</span><span class="s1">, onPointerCancel, eventOptions);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">targets.forEach((target) =&gt; {</span><span class="s3">\n        </span><span class="s1">const pointerDownTarget = options.useGlobalTarget ? window : target;</span><span class="s3">\n        </span><span class="s1">pointerDownTarget.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">pointerdown</span><span class="s3">\&quot;</span><span class="s1">, startPress, eventOptions);</span><span class="s3">\n        </span><span class="s1">if (isHTMLElement(target)) {</span><span class="s3">\n            </span><span class="s1">target.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">focus</span><span class="s3">\&quot;</span><span class="s1">, (event) =&gt; enableKeyboardPress(event, eventOptions));</span><span class="s3">\n            </span><span class="s1">if (!isElementKeyboardAccessible(target) &amp;&amp;</span><span class="s3">\n                </span><span class="s1">!target.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n                </span><span class="s1">target.tabIndex = 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return cancelEvents;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { press };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA;;;CAGC,GACD,SAAS,kBAAkB,KAAK;IAC5B,OAAO,IAAA,oNAAgB,EAAC,UAAU,CAAC,IAAA,4MAAY;AACnD;AACA;;;;;;;;;;;;;;;;;;CAkBC,GACD,SAAS,MAAM,gBAAgB,EAAE,YAAY;QAAE,UAAA,iEAAU,CAAC;IACtD,MAAM,CAAC,SAAS,cAAc,aAAa,GAAG,IAAA,6LAAY,EAAC,kBAAkB;IAC7E,MAAM,aAAa,CAAC;QAChB,MAAM,SAAS,WAAW,aAAa;QACvC,IAAI,CAAC,kBAAkB,aACnB;QACJ,oMAAU,CAAC,GAAG,CAAC;QACf,MAAM,aAAa,aAAa,QAAQ;QACxC,MAAM,eAAe,CAAC,UAAU;YAC5B,OAAO,mBAAmB,CAAC,aAAa;YACxC,OAAO,mBAAmB,CAAC,iBAAiB;YAC5C,IAAI,oMAAU,CAAC,GAAG,CAAC,SAAS;gBACxB,oMAAU,CAAC,MAAM,CAAC;YACtB;YACA,IAAI,CAAC,kBAAkB,WAAW;gBAC9B;YACJ;YACA,IAAI,OAAO,eAAe,YAAY;gBAClC,WAAW,UAAU;oBAAE;gBAAQ;YACnC;QACJ;QACA,MAAM,cAAc,CAAC;YACjB,aAAa,SAAS,WAAW,UAC7B,WAAW,YACX,QAAQ,eAAe,IACvB,IAAA,kNAAa,EAAC,QAAQ,QAAQ,MAAM;QAC5C;QACA,MAAM,kBAAkB,CAAC;YACrB,aAAa,aAAa;QAC9B;QACA,OAAO,gBAAgB,CAAC,aAAa,aAAa;QAClD,OAAO,gBAAgB,CAAC,iBAAiB,iBAAiB;IAC9D;IACA,QAAQ,OAAO,CAAC,CAAC;QACb,MAAM,oBAAoB,QAAQ,eAAe,GAAG,SAAS;QAC7D,kBAAkB,gBAAgB,CAAC,eAAe,YAAY;QAC9D,IAAI,IAAA,kMAAa,EAAC,SAAS;YACvB,OAAO,gBAAgB,CAAC,SAAS,CAAC,QAAU,IAAA,gNAAmB,EAAC,OAAO;YACvE,IAAI,CAAC,IAAA,4OAA2B,EAAC,WAC7B,CAAC,OAAO,YAAY,CAAC,aAAa;gBAClC,OAAO,QAAQ,GAAG;YACtB;QACJ;IACJ;IACA,OAAO;AACX&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">],</span><span class="s1">&quot;debugId&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}}]</span>
<span class="s0">}</span></pre>
</body>
</html>