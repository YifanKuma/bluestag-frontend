<html>
<head>
<title>namespace.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #067d17;}
.s1 { color: #080808;}
.s2 { color: #0033b3;}
.s3 { color: #1750eb;}
.s4 { color: #8c8c8c; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
namespace.js</font>
</center></td></tr></table>
<pre><span class="s0">'use strict'</span><span class="s1">;Object.defineProperty(exports, </span><span class="s0">&quot;__esModule&quot;</span><span class="s1">, { value: </span><span class="s2">true </span><span class="s1">});</span><span class="s2">var </span><span class="s1">_createClass = </span><span class="s2">function </span><span class="s1">() {</span><span class="s2">function </span><span class="s1">defineProperties(target, props) {</span><span class="s2">for </span><span class="s1">(</span><span class="s2">var </span><span class="s1">i = </span><span class="s3">0</span><span class="s1">; i &lt; props.length; i++) {</span><span class="s2">var </span><span class="s1">descriptor = props[i];descriptor.enumerable = descriptor.enumerable || </span><span class="s2">false</span><span class="s1">;descriptor.configurable = </span><span class="s2">true</span><span class="s1">;</span><span class="s2">if </span><span class="s1">(</span><span class="s0">&quot;value&quot; </span><span class="s2">in </span><span class="s1">descriptor) descriptor.writable = </span><span class="s2">true</span><span class="s1">;Object.defineProperty(target, descriptor.key, descriptor);}}</span><span class="s2">return function </span><span class="s1">(Constructor, protoProps, staticProps) {</span><span class="s2">if </span><span class="s1">(protoProps) defineProperties(Constructor.prototype, protoProps);</span><span class="s2">if </span><span class="s1">(staticProps) defineProperties(Constructor, staticProps);</span><span class="s2">return </span><span class="s1">Constructor;};}();</span><span class="s2">var </span><span class="s1">_childContext = require(</span><span class="s0">'./childContext'</span><span class="s1">);</span><span class="s2">var </span><span class="s1">_childContext2 = _interopRequireDefault(_childContext);</span>
<span class="s2">var </span><span class="s1">_remotePath = require(</span><span class="s0">'./remotePath'</span><span class="s1">);</span><span class="s2">function </span><span class="s1">_interopRequireDefault(obj) {</span><span class="s2">return </span><span class="s1">obj &amp;&amp; obj.__esModule ? obj : { </span><span class="s0">'default'</span><span class="s1">: obj };}</span><span class="s2">function </span><span class="s1">_classCallCheck(instance, Constructor) {</span><span class="s2">if </span><span class="s1">(!(instance </span><span class="s2">instanceof </span><span class="s1">Constructor)) {</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s0">&quot;Cannot call a class as a function&quot;</span><span class="s1">);}}</span><span class="s2">var</span>

<span class="s1">Namespace = </span><span class="s2">function </span><span class="s1">() {</span>
  <span class="s2">function </span><span class="s1">Namespace(</span>
  <span class="s1">path,</span>
  <span class="s1">context,</span>
  <span class="s1">ExportMapBuilder)</span>
  <span class="s1">{_classCallCheck(</span><span class="s2">this</span><span class="s1">, Namespace);</span>
    <span class="s2">this</span><span class="s1">.remotePathResolver = </span><span class="s2">new </span><span class="s1">_remotePath.RemotePath(path, context);</span>
    <span class="s2">this</span><span class="s1">.context = context;</span>
    <span class="s2">this</span><span class="s1">.ExportMapBuilder = ExportMapBuilder;</span>
    <span class="s2">this</span><span class="s1">.namespaces = </span><span class="s2">new </span><span class="s1">Map();</span>
  <span class="s1">}_createClass(Namespace, [{ key: </span><span class="s0">'resolveImport'</span><span class="s1">, value: </span><span class="s2">function </span><span class="s1">() {</span><span class="s2">function </span><span class="s1">resolveImport(</span>

      <span class="s1">value) {</span>
        <span class="s2">var </span><span class="s1">rp = </span><span class="s2">this</span><span class="s1">.remotePathResolver.resolve(value);</span>
        <span class="s2">if </span><span class="s1">(rp == </span><span class="s2">null</span><span class="s1">) {</span><span class="s2">return null</span><span class="s1">;}</span>
        <span class="s2">return this</span><span class="s1">.ExportMapBuilder[</span><span class="s0">'for'</span><span class="s1">]((</span><span class="s3">0</span><span class="s1">, _childContext2[</span><span class="s0">'default'</span><span class="s1">])(rp, </span><span class="s2">this</span><span class="s1">.context));</span>
      <span class="s1">}</span><span class="s2">return </span><span class="s1">resolveImport;}() }, { key: </span><span class="s0">'getNamespace'</span><span class="s1">, value: </span><span class="s2">function </span><span class="s1">() {</span><span class="s2">function </span><span class="s1">getNamespace(</span>

      <span class="s1">identifier) {</span><span class="s2">var </span><span class="s1">_this = </span><span class="s2">this</span><span class="s1">;</span>
        <span class="s2">if </span><span class="s1">(!</span><span class="s2">this</span><span class="s1">.namespaces.has(identifier.name)) {</span><span class="s2">return</span><span class="s1">;}</span>
        <span class="s2">return function </span><span class="s1">() {</span><span class="s2">return </span><span class="s1">_this.resolveImport(_this.namespaces.get(identifier.name));};</span>
      <span class="s1">}</span><span class="s2">return </span><span class="s1">getNamespace;}() }, { key: </span><span class="s0">'add'</span><span class="s1">, value: </span><span class="s2">function </span><span class="s1">() {</span><span class="s2">function </span><span class="s1">add(</span>

      <span class="s1">object, identifier) {</span>
        <span class="s2">var </span><span class="s1">nsfn = </span><span class="s2">this</span><span class="s1">.getNamespace(identifier);</span>
        <span class="s2">if </span><span class="s1">(nsfn) {</span>
          <span class="s1">Object.defineProperty(object, </span><span class="s0">'namespace'</span><span class="s1">, { get: nsfn });</span>
        <span class="s1">}</span>

        <span class="s2">return </span><span class="s1">object;</span>
      <span class="s1">}</span><span class="s2">return </span><span class="s1">add;}() }, { key: </span><span class="s0">'rawSet'</span><span class="s1">, value: </span><span class="s2">function </span><span class="s1">() {</span><span class="s2">function </span><span class="s1">rawSet(</span>

      <span class="s1">name, value) {</span>
        <span class="s2">this</span><span class="s1">.namespaces.set(name, value);</span>
      <span class="s1">}</span><span class="s2">return </span><span class="s1">rawSet;}() }]);</span><span class="s2">return </span><span class="s1">Namespace;}();exports[</span><span class="s0">'default'</span><span class="s1">] = Namespace;</span>
<span class="s4">//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leHBvcnRNYXAvbmFtZXNwYWNlLmpzIl0sIm5hbWVzIjpbIk5hbWVzcGFjZSIsInBhdGgiLCJjb250ZXh0IiwiRXhwb3J0TWFwQnVpbGRlciIsInJlbW90ZVBhdGhSZXNvbHZlciIsIlJlbW90ZVBhdGgiLCJuYW1lc3BhY2VzIiwiTWFwIiwidmFsdWUiLCJycCIsInJlc29sdmUiLCJpZGVudGlmaWVyIiwiaGFzIiwibmFtZSIsInJlc29sdmVJbXBvcnQiLCJnZXQiLCJvYmplY3QiLCJuc2ZuIiwiZ2V0TmFtZXNwYWNlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJzZXQiXSwibWFwcGluZ3MiOiJnbkJBQUEsOEM7QUFDQSwwQzs7QUFFcUJBLFM7QUFDbkI7QUFDRUMsTUFERjtBQUVFQyxTQUZGO0FBR0VDLGtCQUhGO0FBSUU7QUFDQSxTQUFLQyxrQkFBTCxHQUEwQixJQUFJQyxzQkFBSixDQUFlSixJQUFmLEVBQXFCQyxPQUFyQixDQUExQjtBQUNBLFNBQUtBLE9BQUwsR0FBZUEsT0FBZjtBQUNBLFNBQUtDLGdCQUFMLEdBQXdCQSxnQkFBeEI7QUFDQSxTQUFLRyxVQUFMLEdBQWtCLElBQUlDLEdBQUosRUFBbEI7QUFDRCxHOztBQUVhQyxXLEVBQU87QUFDbkIsWUFBTUMsS0FBSyxLQUFLTCxrQkFBTCxDQUF3Qk0sT0FBeEIsQ0FBZ0NGLEtBQWhDLENBQVg7QUFDQSxZQUFJQyxNQUFNLElBQVYsRUFBZ0IsQ0FBRSxPQUFPLElBQVAsQ0FBYztBQUNoQyxlQUFPLEtBQUtOLGdCQUFMLFFBQTBCLCtCQUFhTSxFQUFiLEVBQWlCLEtBQUtQLE9BQXRCLENBQTFCLENBQVA7QUFDRCxPOztBQUVZUyxnQixFQUFZO0FBQ3ZCLFlBQUksQ0FBQyxLQUFLTCxVQUFMLENBQWdCTSxHQUFoQixDQUFvQkQsV0FBV0UsSUFBL0IsQ0FBTCxFQUEyQyxDQUFFLE9BQVM7QUFDdEQsZUFBTyxvQkFBTSxNQUFLQyxhQUFMLENBQW1CLE1BQUtSLFVBQUwsQ0FBZ0JTLEdBQWhCLENBQW9CSixXQUFXRSxJQUEvQixDQUFuQixDQUFOLEVBQVA7QUFDRCxPOztBQUVHRyxZLEVBQVFMLFUsRUFBWTtBQUN0QixZQUFNTSxPQUFPLEtBQUtDLFlBQUwsQ0FBa0JQLFVBQWxCLENBQWI7QUFDQSxZQUFJTSxJQUFKLEVBQVU7QUFDUkUsaUJBQU9DLGNBQVAsQ0FBc0JKLE1BQXRCLEVBQThCLFdBQTlCLEVBQTJDLEVBQUVELEtBQUtFLElBQVAsRUFBM0M7QUFDRDs7QUFFRCxlQUFPRCxNQUFQO0FBQ0QsTzs7QUFFTUgsVSxFQUFNTCxLLEVBQU87QUFDbEIsYUFBS0YsVUFBTCxDQUFnQmUsR0FBaEIsQ0FBb0JSLElBQXBCLEVBQTBCTCxLQUExQjtBQUNELE8sZ0VBbENrQlIsUyIsImZpbGUiOiJuYW1lc3BhY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2hpbGRDb250ZXh0IGZyb20gJy4vY2hpbGRDb250ZXh0JztcbmltcG9ydCB7IFJlbW90ZVBhdGggfSBmcm9tICcuL3JlbW90ZVBhdGgnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYW1lc3BhY2Uge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwYXRoLFxuICAgIGNvbnRleHQsXG4gICAgRXhwb3J0TWFwQnVpbGRlcixcbiAgKSB7XG4gICAgdGhpcy5yZW1vdGVQYXRoUmVzb2x2ZXIgPSBuZXcgUmVtb3RlUGF0aChwYXRoLCBjb250ZXh0KTtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuRXhwb3J0TWFwQnVpbGRlciA9IEV4cG9ydE1hcEJ1aWxkZXI7XG4gICAgdGhpcy5uYW1lc3BhY2VzID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgcmVzb2x2ZUltcG9ydCh2YWx1ZSkge1xuICAgIGNvbnN0IHJwID0gdGhpcy5yZW1vdGVQYXRoUmVzb2x2ZXIucmVzb2x2ZSh2YWx1ZSk7XG4gICAgaWYgKHJwID09IG51bGwpIHsgcmV0dXJuIG51bGw7IH1cbiAgICByZXR1cm4gdGhpcy5FeHBvcnRNYXBCdWlsZGVyLmZvcihjaGlsZENvbnRleHQocnAsIHRoaXMuY29udGV4dCkpO1xuICB9XG5cbiAgZ2V0TmFtZXNwYWNlKGlkZW50aWZpZXIpIHtcbiAgICBpZiAoIXRoaXMubmFtZXNwYWNlcy5oYXMoaWRlbnRpZmllci5uYW1lKSkgeyByZXR1cm47IH1cbiAgICByZXR1cm4gKCkgPT4gdGhpcy5yZXNvbHZlSW1wb3J0KHRoaXMubmFtZXNwYWNlcy5nZXQoaWRlbnRpZmllci5uYW1lKSk7XG4gIH1cblxuICBhZGQob2JqZWN0LCBpZGVudGlmaWVyKSB7XG4gICAgY29uc3QgbnNmbiA9IHRoaXMuZ2V0TmFtZXNwYWNlKGlkZW50aWZpZXIpO1xuICAgIGlmIChuc2ZuKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCAnbmFtZXNwYWNlJywgeyBnZXQ6IG5zZm4gfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIHJhd1NldChuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubmFtZXNwYWNlcy5zZXQobmFtZSwgdmFsdWUpO1xuICB9XG59XG4iXX0=</span></pre>
</body>
</html>