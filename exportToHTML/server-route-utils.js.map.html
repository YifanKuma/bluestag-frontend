<html>
<head>
<title>server-route-utils.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
server-route-utils.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/server/server-route-utils.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { BaseNextRequest } from './base-http'</span><span class="s3">\n</span><span class="s1">import type { ParsedUrlQuery } from 'querystring'</span><span class="s3">\n\n</span><span class="s1">import { getRequestMeta } from './request-meta'</span><span class="s3">\n</span><span class="s1">import { stringify as stringifyQs } from 'querystring'</span><span class="s3">\n\n</span><span class="s1">// since initial query values are decoded by querystring.parse</span><span class="s3">\n</span><span class="s1">// we need to re-encode them here but still allow passing through</span><span class="s3">\n</span><span class="s1">// values from rewrites/redirects</span><span class="s3">\n</span><span class="s1">export const stringifyQuery = (req: BaseNextRequest, query: ParsedUrlQuery) =&gt; {</span><span class="s3">\n  </span><span class="s1">const initialQuery = getRequestMeta(req, 'initQuery') || {}</span><span class="s3">\n  </span><span class="s1">const initialQueryValues = Object.values(initialQuery)</span><span class="s3">\n\n  </span><span class="s1">return stringifyQs(query, undefined, undefined, {</span><span class="s3">\n    </span><span class="s1">encodeURIComponent(value) {</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\n        </span><span class="s1">value in initialQuery ||</span><span class="s3">\n        </span><span class="s1">initialQueryValues.some((initialQueryVal) =&gt; {</span><span class="s3">\n          </span><span class="s1">// `value` always refers to a query value, even if it's nested in an array</span><span class="s3">\n          </span><span class="s1">return Array.isArray(initialQueryVal)</span><span class="s3">\n            </span><span class="s1">? initialQueryVal.includes(value)</span><span class="s3">\n            </span><span class="s1">: initialQueryVal === value</span><span class="s3">\n        </span><span class="s1">})</span><span class="s3">\n      </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// Encode keys and values from initial query</span><span class="s3">\n        </span><span class="s1">return encodeURIComponent(value)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return value</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;stringifyQuery&quot;</span><span class="s0">,</span><span class="s1">&quot;req&quot;</span><span class="s0">,</span><span class="s1">&quot;query&quot;</span><span class="s0">,</span><span class="s1">&quot;initialQuery&quot;</span><span class="s0">,</span><span class="s1">&quot;getRequestMeta&quot;</span><span class="s0">,</span><span class="s1">&quot;initialQueryValues&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;values&quot;</span><span class="s0">,</span><span class="s1">&quot;stringifyQs&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;encodeURIComponent&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;some&quot;</span><span class="s0">,</span><span class="s1">&quot;initialQueryVal&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;+BASaA;;;eAAAA;;;6BANkB;6BACU;AAKlC,MAAMA,iBAAiB,CAACC,KAAsBC;IACnD,MAAMC,eAAeC,IAAAA,2BAAc,EAACH,KAAK,gBAAgB,CAAC;IAC1D,MAAMI,qBAAqBC,OAAOC,MAAM,CAACJ;IAEzC,OAAOK,IAAAA,sBAAW,EAACN,OAAOO,WAAWA,WAAW;QAC9CC,oBAAmBC,KAAK;YACtB,IACEA,SAASR,gBACTE,mBAAmBO,IAAI,CAAC,CAACC;gBACvB,0EAA0E;gBAC1E,OAAOC,MAAMC,OAAO,CAACF,mBACjBA,gBAAgBG,QAAQ,CAACL,SACzBE,oBAAoBF;YAC1B,IACA;gBACA,4CAA4C;gBAC5C,OAAOD,mBAAmBC;YAC5B;YAEA,OAAOA;QACT;IACF;AACF&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[</span><span class="s2">0</span><span class="s0">]}</span></pre>
</body>
</html>