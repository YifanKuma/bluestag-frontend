<html>
<head>
<title>extractPhoneContext.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #080808;}
.s1 { color: #067d17;}
.s2 { color: #1750eb;}
.s3 { color: #0037a6;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
extractPhoneContext.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;extractPhoneContext.js&quot;</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_constants&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;PLUS_SIGN&quot;</span><span class="s0">,</span><span class="s1">&quot;exports&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_VISUAL_SEPARATOR_&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_PHONE_DIGIT_&quot;</span><span class="s0">,</span><span class="s1">&quot;VALID_DIGITS&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_GLOBAL_NUMBER_DIGITS_&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_&quot;</span><span class="s0">,</span><span class="s1">&quot;RegExp&quot;</span><span class="s0">,</span><span class="s1">&quot;ALPHANUM_&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_DOMAINLABEL_&quot;</span><span class="s0">,</span><span class="s1">&quot;VALID_ALPHA_&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_TOPLABEL_&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_DOMAINNAME_&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_DOMAINNAME_PATTERN_&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_PREFIX_&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_PHONE_CONTEXT_&quot;</span><span class="s0">,</span><span class="s1">&quot;RFC3966_ISDN_SUBADDRESS_&quot;</span><span class="s0">,</span><span class="s1">&quot;extractPhoneContext&quot;</span><span class="s0">,</span><span class="s1">&quot;numberToExtractFrom&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOfPhoneContext&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOf&quot;</span><span class="s0">,</span><span class="s1">&quot;phoneContextStart&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;phoneContextEnd&quot;</span><span class="s0">,</span><span class="s1">&quot;substring&quot;</span><span class="s0">,</span><span class="s1">&quot;isPhoneContextValid&quot;</span><span class="s0">,</span><span class="s1">&quot;phoneContext&quot;</span><span class="s0">,</span><span class="s1">&quot;test&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../source/helpers/extractPhoneContext.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// When phone numbers are written in `RFC3966` format — `</span><span class="s3">\&quot;</span><span class="s1">tel:+12133734253</span><span class="s3">\&quot;</span><span class="s1">` —</span><span class="s3">\r\n</span><span class="s1">// they can have their </span><span class="s3">\&quot;</span><span class="s1">calling code</span><span class="s3">\&quot; </span><span class="s1">part written separately in a `phone-context` parameter.</span><span class="s3">\r\n</span><span class="s1">// Example: `</span><span class="s3">\&quot;</span><span class="s1">tel:12133734253;phone-context=+1</span><span class="s3">\&quot;</span><span class="s1">`.</span><span class="s3">\r\n</span><span class="s1">// This function parses the full phone number from the local number and the `phone-context`</span><span class="s3">\r\n</span><span class="s1">// when the `phone-context` contains a `+` sign.</span><span class="s3">\r\n\r\n</span><span class="s1">import {</span><span class="s3">\r\n  </span><span class="s1">VALID_DIGITS,</span><span class="s3">\r\n  </span><span class="s1">// PLUS_CHARS</span><span class="s3">\r\n</span><span class="s1">} from '../constants.js'</span><span class="s3">\r\n\r\n</span><span class="s1">export const PLUS_SIGN = '+'</span><span class="s3">\r\n\r\n</span><span class="s1">const RFC3966_VISUAL_SEPARATOR_ = '[</span><span class="s3">\\\\</span><span class="s1">-</span><span class="s3">\\\\</span><span class="s1">.</span><span class="s3">\\\\</span><span class="s1">(</span><span class="s3">\\\\</span><span class="s1">)]?'</span><span class="s3">\r\n\r\n</span><span class="s1">const RFC3966_PHONE_DIGIT_ = '(' + '[' + VALID_DIGITS + ']' + '|' + RFC3966_VISUAL_SEPARATOR_ + ')'</span><span class="s3">\r\n\r\n</span><span class="s1">const RFC3966_GLOBAL_NUMBER_DIGITS_ =</span><span class="s3">\r\n\t</span><span class="s1">'^' +</span><span class="s3">\r\n\t</span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">' +</span><span class="s3">\r\n\t</span><span class="s1">PLUS_SIGN +</span><span class="s3">\r\n\t</span><span class="s1">RFC3966_PHONE_DIGIT_ +</span><span class="s3">\r\n\t</span><span class="s1">'*' +</span><span class="s3">\r\n\t</span><span class="s1">'[' + VALID_DIGITS +  ']' +</span><span class="s3">\r\n\t</span><span class="s1">RFC3966_PHONE_DIGIT_ +</span><span class="s3">\r\n\t</span><span class="s1">'*' +</span><span class="s3">\r\n\t</span><span class="s1">'$'</span><span class="s3">\r\n\r\n</span><span class="s1">/**</span><span class="s3">\r\n </span><span class="s1">* Regular expression of valid global-number-digits for the phone-context</span><span class="s3">\r\n </span><span class="s1">* parameter, following the syntax defined in RFC3966.</span><span class="s3">\r\n </span><span class="s1">*/</span><span class="s3">\r\n</span><span class="s1">const RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_ = new RegExp(RFC3966_GLOBAL_NUMBER_DIGITS_, 'g')</span><span class="s3">\r\n\r\n</span><span class="s1">// In this port of Google's library, we don't accept alpha characters in phone numbers.</span><span class="s3">\r\n</span><span class="s1">// const ALPHANUM_ = VALID_ALPHA_ + VALID_DIGITS</span><span class="s3">\r\n</span><span class="s1">const ALPHANUM_ = VALID_DIGITS</span><span class="s3">\r\n\r\n</span><span class="s1">const RFC3966_DOMAINLABEL_ = '[' + ALPHANUM_ + ']+((</span><span class="s3">\\\\</span><span class="s1">-)*[' + ALPHANUM_ + '])*'</span><span class="s3">\r\n\r\n</span><span class="s1">const VALID_ALPHA_ = 'a-zA-Z'</span><span class="s3">\r\n</span><span class="s1">const RFC3966_TOPLABEL_ = '[' + VALID_ALPHA_ + ']+((</span><span class="s3">\\\\</span><span class="s1">-)*[' + ALPHANUM_ + '])*'</span><span class="s3">\r\n\r\n</span><span class="s1">const RFC3966_DOMAINNAME_ = '^(' + RFC3966_DOMAINLABEL_ + '</span><span class="s3">\\\\</span><span class="s1">.)*' + RFC3966_TOPLABEL_ + '</span><span class="s3">\\\\</span><span class="s1">.?$'</span><span class="s3">\r\n\r\n</span><span class="s1">/**</span><span class="s3">\r\n </span><span class="s1">* Regular expression of valid domainname for the phone-context parameter,</span><span class="s3">\r\n </span><span class="s1">* following the syntax defined in RFC3966.</span><span class="s3">\r\n </span><span class="s1">*/</span><span class="s3">\r\n</span><span class="s1">const RFC3966_DOMAINNAME_PATTERN_ = new RegExp(RFC3966_DOMAINNAME_, 'g')</span><span class="s3">\r\n\r\n</span><span class="s1">export const RFC3966_PREFIX_ = 'tel:'</span><span class="s3">\r\n</span><span class="s1">export const RFC3966_PHONE_CONTEXT_ = ';phone-context='</span><span class="s3">\r\n</span><span class="s1">export const RFC3966_ISDN_SUBADDRESS_ = ';isub='</span><span class="s3">\r\n\r\n</span><span class="s1">/**</span><span class="s3">\r\n </span><span class="s1">* Extracts the value of the phone-context parameter of `numberToExtractFrom`,</span><span class="s3">\r\n </span><span class="s1">* following the syntax defined in RFC3966.</span><span class="s3">\r\n </span><span class="s1">*</span><span class="s3">\r\n </span><span class="s1">* @param {string} numberToExtractFrom</span><span class="s3">\r\n </span><span class="s1">* @return {string|null} the extracted string (possibly empty), or `null` if no phone-context parameter is found.</span><span class="s3">\r\n </span><span class="s1">*/</span><span class="s3">\r\n</span><span class="s1">export default function extractPhoneContext(numberToExtractFrom) {</span><span class="s3">\r\n\t</span><span class="s1">const indexOfPhoneContext = numberToExtractFrom.indexOf(RFC3966_PHONE_CONTEXT_)</span><span class="s3">\r\n\t</span><span class="s1">// If no phone-context parameter is present</span><span class="s3">\r\n\t</span><span class="s1">if (indexOfPhoneContext &lt; 0) {</span><span class="s3">\r\n\t\t</span><span class="s1">return null</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">const phoneContextStart = indexOfPhoneContext + RFC3966_PHONE_CONTEXT_.length</span><span class="s3">\r\n\t</span><span class="s1">// If phone-context parameter is empty</span><span class="s3">\r\n\t</span><span class="s1">if (phoneContextStart &gt;= numberToExtractFrom.length) {</span><span class="s3">\r\n\t\t</span><span class="s1">return ''</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">const phoneContextEnd = numberToExtractFrom.indexOf(';', phoneContextStart)</span><span class="s3">\r\n\t</span><span class="s1">// If phone-context is not the last parameter</span><span class="s3">\r\n\t</span><span class="s1">if (phoneContextEnd &gt;= 0) {</span><span class="s3">\r\n\t\t</span><span class="s1">return numberToExtractFrom.substring(phoneContextStart, phoneContextEnd)</span><span class="s3">\r\n\t</span><span class="s1">} else {</span><span class="s3">\r\n\t\t</span><span class="s1">return numberToExtractFrom.substring(phoneContextStart)</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">/**</span><span class="s3">\r\n </span><span class="s1">* Returns whether the value of phoneContext follows the syntax defined in RFC3966.</span><span class="s3">\r\n </span><span class="s1">*</span><span class="s3">\r\n </span><span class="s1">* @param {string|null} phoneContext</span><span class="s3">\r\n </span><span class="s1">* @return {boolean}</span><span class="s3">\r\n </span><span class="s1">*/</span><span class="s3">\r\n</span><span class="s1">export function isPhoneContextValid(phoneContext) {</span><span class="s3">\r\n\t</span><span class="s1">if (phoneContext === null) {</span><span class="s3">\r\n\t\t</span><span class="s1">return true</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">if (phoneContext.length === 0) {</span><span class="s3">\r\n\t\t</span><span class="s1">return false</span><span class="s3">\r\n\t</span><span class="s1">}</span><span class="s3">\r\n\r\n\t</span><span class="s1">// Does phone-context value match pattern of global-number-digits or domainname.</span><span class="s3">\r\n\t</span><span class="s1">return RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_.test(phoneContext) ||</span><span class="s3">\r\n\t\t</span><span class="s1">RFC3966_DOMAINNAME_PATTERN_.test(phoneContext)</span><span class="s3">\r\n</span><span class="s1">}&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;AAMA,IAAAA,UAAA,GAAAC,OAAA;AANA;AACA;AACA;AACA;AACA;;AAOO,IAAMC,SAAS,GAAAC,OAAA,CAAAD,SAAA,GAAG,GAAG;AAE5B,IAAME,yBAAyB,GAAG,iBAAiB;AAEnD,IAAMC,oBAAoB,GAAG,GAAG,GAAG,GAAG,GAAGC,uBAAY,GAAG,GAAG,GAAG,GAAG,GAAGF,yBAAyB,GAAG,GAAG;AAEnG,IAAMG,6BAA6B,GAClC,GAAG,GACH,IAAI,GACJL,SAAS,GACTG,oBAAoB,GACpB,GAAG,GACH,GAAG,GAAGC,uBAAY,GAAI,GAAG,GACzBD,oBAAoB,GACpB,GAAG,GACH,GAAG;;AAEJ;AACA;AACA;AACA;AACA,IAAMG,qCAAqC,GAAG,IAAIC,MAAM,CAACF,6BAA6B,EAAE,GAAG,CAAC;;AAE5F;AACA;AACA,IAAMG,SAAS,GAAGJ,uBAAY;AAE9B,IAAMK,oBAAoB,GAAG,GAAG,GAAGD,SAAS,GAAG,YAAY,GAAGA,SAAS,GAAG,KAAK;AAE/E,IAAME,YAAY,GAAG,QAAQ;AAC7B,IAAMC,iBAAiB,GAAG,GAAG,GAAGD,YAAY,GAAG,YAAY,GAAGF,SAAS,GAAG,KAAK;AAE/E,IAAMI,mBAAmB,GAAG,IAAI,GAAGH,oBAAoB,GAAG,OAAO,GAAGE,iBAAiB,GAAG,OAAO;;AAE/F;AACA;AACA;AACA;AACA,IAAME,2BAA2B,GAAG,IAAIN,MAAM,CAACK,mBAAmB,EAAE,GAAG,CAAC;AAEjE,IAAME,eAAe,GAAAb,OAAA,CAAAa,eAAA,GAAG,MAAM;AAC9B,IAAMC,sBAAsB,GAAAd,OAAA,CAAAc,sBAAA,GAAG,iBAAiB;AAChD,IAAMC,wBAAwB,GAAAf,OAAA,CAAAe,wBAAA,GAAG,QAAQ;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASC,mBAAmBA,CAACC,mBAAmB,EAAE;EAChE,IAAMC,mBAAmB,GAAGD,mBAAmB,CAACE,OAAO,CAACL,sBAAsB,CAAC;EAC/E;EACA,IAAII,mBAAmB,GAAG,CAAC,EAAE;IAC5B,OAAO,IAAI;EACZ;EAEA,IAAME,iBAAiB,GAAGF,mBAAmB,GAAGJ,sBAAsB,CAACO,MAAM;EAC7E;EACA,IAAID,iBAAiB,IAAIH,mBAAmB,CAACI,MAAM,EAAE;IACpD,OAAO,EAAE;EACV;EAEA,IAAMC,eAAe,GAAGL,mBAAmB,CAACE,OAAO,CAAC,GAAG,EAAEC,iBAAiB,CAAC;EAC3E;EACA,IAAIE,eAAe,IAAI,CAAC,EAAE;IACzB,OAAOL,mBAAmB,CAACM,SAAS,CAACH,iBAAiB,EAAEE,eAAe,CAAC;EACzE,CAAC,MAAM;IACN,OAAOL,mBAAmB,CAACM,SAAS,CAACH,iBAAiB,CAAC;EACxD;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASI,mBAAmBA,CAACC,YAAY,EAAE;EACjD,IAAIA,YAAY,KAAK,IAAI,EAAE;IAC1B,OAAO,IAAI;EACZ;EAEA,IAAIA,YAAY,CAACJ,MAAM,KAAK,CAAC,EAAE;IAC9B,OAAO,KAAK;EACb;;EAEA;EACA,OAAOhB,qCAAqC,CAACqB,IAAI,CAACD,YAAY,CAAC,IAC9Db,2BAA2B,CAACc,IAAI,CAACD,YAAY,CAAC;AAChD&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>